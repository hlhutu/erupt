(self.webpackChunkerupt=self.webpackChunkerupt||[]).push([[364],{378:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>ve});var ae="*";const ve=function(){function Zt(){this._events={}}return Zt.prototype.on=function(Qt,zt,Bt){return this._events[Qt]||(this._events[Qt]=[]),this._events[Qt].push({callback:zt,once:!!Bt}),this},Zt.prototype.once=function(Qt,zt){return this.on(Qt,zt,!0)},Zt.prototype.emit=function(Qt){for(var zt=this,Bt=[],Mt=1;Mt<arguments.length;Mt++)Bt[Mt-1]=arguments[Mt];var se=this._events[ae]||[],ne=function(me){for(var Dt=me.length,Ct=0;Ct<Dt;Ct++)if(me[Ct]){var ut=me[Ct],dt=ut.callback;ut.once&&(me.splice(Ct,1),0===me.length&&delete zt._events[Qt],Dt--,Ct--),dt.apply(zt,Bt)}};ne(this._events[Qt]||[]),ne(se)},Zt.prototype.off=function(Qt,zt){if(Qt)if(zt){for(var Bt=this._events[Qt]||[],Mt=Bt.length,Vt=0;Vt<Mt;Vt++)Bt[Vt].callback===zt&&(Bt.splice(Vt,1),Mt--,Vt--);0===Bt.length&&delete this._events[Qt]}else delete this._events[Qt];else this._events={};return this},Zt.prototype.getEvents=function(){return this._events},Zt}()},9456:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Qt});var ae=ct(655),Nt=ct(378),ve=ct(8126);const Qt=function(zt){function Bt(Mt){var Vt=zt.call(this)||this;Vt.destroyed=!1;var se=Vt.getDefaultCfg();return Vt.cfg=(0,ve.CD)(se,Mt),Vt}return(0,ae.ZT)(Bt,zt),Bt.prototype.getDefaultCfg=function(){return{}},Bt.prototype.get=function(Mt){return this.cfg[Mt]},Bt.prototype.set=function(Mt,Vt){this.cfg[Mt]=Vt},Bt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Bt}(Nt.Z)},4967:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Re});var ae=ct(655),Nt=ct(2260),ve=ct(1655),Zt=ct(8126),Qt=ct(8250),zt=ct(9194),Bt=ct(4943);function Mt(it,z,R,N,V){var lt=it*it,_t=lt*it;return((1-3*it+3*lt-_t)*z+(4-6*lt+3*_t)*R+(1+3*it+3*lt-3*_t)*N+_t*V)/6}const ne=it=>()=>it;function dt(it,z){var R=z-it;return R?function me(it,z){return function(R){return it+R*z}}(it,R):ne(isNaN(it)?z:it)}const Yt=function it(z){var R=function ut(it){return 1==(it=+it)?dt:function(z,R){return R-z?function Dt(it,z,R){return it=Math.pow(it,R),z=Math.pow(z,R)-it,R=1/R,function(N){return Math.pow(it+N*z,R)}}(z,R,it):ne(isNaN(z)?R:z)}}(z);function N(V,lt){var _t=R((V=(0,Bt.B8)(V)).r,(lt=(0,Bt.B8)(lt)).r),St=R(V.g,lt.g),Gt=R(V.b,lt.b),ee=dt(V.opacity,lt.opacity);return function(ie){return V.r=_t(ie),V.g=St(ie),V.b=Gt(ie),V.opacity=ee(ie),V+""}}return N.gamma=it,N}(1);function Ut(it){return function(z){var _t,St,R=z.length,N=new Array(R),V=new Array(R),lt=new Array(R);for(_t=0;_t<R;++_t)St=(0,Bt.B8)(z[_t]),N[_t]=St.r||0,V[_t]=St.g||0,lt[_t]=St.b||0;return N=it(N),V=it(V),lt=it(lt),St.opacity=1,function(Gt){return St.r=N(Gt),St.g=V(Gt),St.b=lt(Gt),St+""}}}function $(it,z){z||(z=[]);var V,R=it?Math.min(z.length,it.length):0,N=z.slice();return function(lt){for(V=0;V<R;++V)N[V]=it[V]*(1-lt)+z[V]*lt;return N}}function C(it){return ArrayBuffer.isView(it)&&!(it instanceof DataView)}function gt(it,z){return(C(z)?$:At)(it,z)}function At(it,z){var _t,R=z?z.length:0,N=it?Math.min(R,it.length):0,V=new Array(N),lt=new Array(R);for(_t=0;_t<N;++_t)V[_t]=Q(it[_t],z[_t]);for(;_t<R;++_t)lt[_t]=z[_t];return function(St){for(_t=0;_t<N;++_t)lt[_t]=V[_t](St);return lt}}function Kt(it,z){var R=new Date;return it=+it,z=+z,function(N){return R.setTime(it*(1-N)+z*N),R}}function oe(it,z){return it=+it,z=+z,function(R){return it*(1-R)+z*R}}function Rt(it,z){var V,R={},N={};for(V in(null===it||"object"!=typeof it)&&(it={}),(null===z||"object"!=typeof z)&&(z={}),z)V in it?R[V]=Q(it[V],z[V]):N[V]=z[V];return function(lt){for(V in R)N[V]=R[V](lt);return N}}Ut(function Vt(it){var z=it.length-1;return function(R){var N=R<=0?R=0:R>=1?(R=1,z-1):Math.floor(R*z),V=it[N],lt=it[N+1];return Mt((R-N/z)*z,N>0?it[N-1]:2*V-lt,V,lt,N<z-1?it[N+2]:2*lt-V)}}),Ut(function se(it){var z=it.length;return function(R){var N=Math.floor(((R%=1)<0?++R:R)*z);return Mt((R-N/z)*z,it[(N+z-1)%z],it[N%z],it[(N+1)%z],it[(N+2)%z])}});var Ht=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(Ht.source,"g");function kt(it,z){var N,V,lt,R=Ht.lastIndex=ye.lastIndex=0,_t=-1,St=[],Gt=[];for(it+="",z+="";(N=Ht.exec(it))&&(V=ye.exec(z));)(lt=V.index)>R&&(lt=z.slice(R,lt),St[_t]?St[_t]+=lt:St[++_t]=lt),(N=N[0])===(V=V[0])?St[_t]?St[_t]+=V:St[++_t]=V:(St[++_t]=null,Gt.push({i:_t,x:oe(N,V)})),R=ye.lastIndex;return R<z.length&&(lt=z.slice(R),St[_t]?St[_t]+=lt:St[++_t]=lt),St.length<2?Gt[0]?function Jt(it){return function(z){return it(z)+""}}(Gt[0].x):function qt(it){return function(){return it}}(z):(z=Gt.length,function(ee){for(var Ee,ie=0;ie<z;++ie)St[(Ee=Gt[ie]).i]=Ee.x(ee);return St.join("")})}function Q(it,z){var N,R=typeof z;return null==z||"boolean"===R?ne(z):("number"===R?oe:"string"===R?(N=(0,Bt.ZP)(z))?(z=N,Yt):kt:z instanceof Bt.ZP?Yt:z instanceof Date?Kt:C(z)?$:Array.isArray(z)?At:"function"!=typeof z.valueOf&&"function"!=typeof z.toString||isNaN(z)?Rt:oe)(it,z)}var nt=ct(2021),Et=ct(8145),te=function(it){return["fill","stroke","fillStyle","strokeStyle"].includes(it)},he=function(it){return/^[r,R,L,l]{1}[\s]*\(/.test(it)},Fe=[1,0,0,0,1,0,0,0,1];function K(it,z,R){var N=z.startTime;if(R<N+z.delay||z._paused)return!1;var lt,_t=z.duration,Gt=(0,nt._)(z.easing);if(R=R-N-z.delay,z.repeat)lt=Gt(lt=R%_t/_t);else{if(!((lt=R/_t)<1))return it.attr(z.onFrame?z.onFrame(1):z.toAttrs),!0;lt=Gt(lt)}if(z.onFrame){var ee=z.onFrame(lt);it.attr(ee)}else!function W(it,z,R){var N={},V=z.fromAttrs,lt=z.toAttrs;if(!it.destroyed){var _t;for(var St in lt)if(!(0,Qt.Xy)(V[St],lt[St]))if("path"===St){var Gt=lt[St],ee=V[St];Gt.length>ee.length?(Gt=Et.parsePathString(lt[St]),ee=Et.parsePathString(V[St]),ee=Et.fillPathByDiff(ee,Gt),ee=Et.formatPath(ee,Gt),z.fromAttrs.path=ee,z.toAttrs.path=Gt):z.pathFormatted||(Gt=Et.parsePathString(lt[St]),ee=Et.parsePathString(V[St]),ee=Et.formatPath(ee,Gt),z.fromAttrs.path=ee,z.toAttrs.path=Gt,z.pathFormatted=!0),N[St]=[];for(var ie=0;ie<Gt.length;ie++){for(var Ee=Gt[ie],Te=ee[ie],He=[],Xe=0;Xe<Ee.length;Xe++)(0,Qt.hj)(Ee[Xe])&&Te&&(0,Qt.hj)(Te[Xe])?(_t=Q(Te[Xe],Ee[Xe]),He.push(_t(R))):He.push(Ee[Xe]);N[St].push(He)}}else if("matrix"===St){var qe=gt(V[St]||Fe,lt[St]||Fe)(R);N[St]=qe}else te(St)&&he(lt[St])?N[St]=lt[St]:(0,Qt.mf)(lt[St])||(_t=Q(V[St],lt[St]),N[St]=_t(R));it.attr(N)}}(it,z,lt);return!1}const U=function(){function it(z){this.animators=[],this.current=0,this.timer=null,this.canvas=z}return it.prototype.initTimer=function(){var N,V,lt,z=this;this.timer=zt.HT(function(_t){if(z.current=_t,z.animators.length>0){for(var St=z.animators.length-1;St>=0;St--)if((N=z.animators[St]).destroyed)z.removeAnimator(St);else{if(!N.isAnimatePaused())for(var Gt=(V=N.get("animations")).length-1;Gt>=0;Gt--)K(N,lt=V[Gt],_t)&&(V.splice(Gt,1),lt.callback&&lt.callback());0===V.length&&z.removeAnimator(St)}z.canvas.get("autoDraw")||z.canvas.draw()}})},it.prototype.addAnimator=function(z){this.animators.push(z)},it.prototype.removeAnimator=function(z){this.animators.splice(z,1)},it.prototype.isAnimating=function(){return!!this.animators.length},it.prototype.stop=function(){this.timer&&this.timer.stop()},it.prototype.stopAllAnimations=function(z){void 0===z&&(z=!0),this.animators.forEach(function(R){R.stopAnimate(z)}),this.animators=[],this.canvas.draw()},it.prototype.getTime=function(){return this.current},it}();var vt=ct(8833),P=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function q(it,z,R){R.name=z,R.target=it,R.currentTarget=it,R.delegateTarget=it,it.emit(z,R)}function at(it,z,R){if(R.bubbles){var N=void 0,V=!1;if("mouseenter"===z?(N=R.fromShape,V=!0):"mouseleave"===z&&(V=!0,N=R.toShape),it.isCanvas()&&V)return;if(N&&(0,Zt.UY)(it,N))return void(R.bubbles=!1);R.name=z,R.currentTarget=it,R.delegateTarget=it,it.emit(z,R)}}const Lt=function(){function it(z){var R=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(N){R._triggerEvent(N.type,N)},this._onDocumentMove=function(N){if(R.canvas.get("el")!==N.target&&(R.dragging||R.currentShape)){var _t=R._getPointInfo(N);R.dragging&&R._emitEvent("drag",N,_t,R.draggingShape)}},this._onDocumentMouseUp=function(N){if(R.canvas.get("el")!==N.target&&R.dragging){var _t=R._getPointInfo(N);R.draggingShape&&R._emitEvent("drop",N,_t,null),R._emitEvent("dragend",N,_t,R.draggingShape),R._afterDrag(R.draggingShape,_t,N)}},this.canvas=z.canvas}return it.prototype.init=function(){this._bindEvents()},it.prototype._bindEvents=function(){var z=this,R=this.canvas.get("el");(0,Zt.S6)(P,function(N){R.addEventListener(N,z._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},it.prototype._clearEvents=function(){var z=this,R=this.canvas.get("el");(0,Zt.S6)(P,function(N){R.removeEventListener(N,z._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},it.prototype._getEventObj=function(z,R,N,V,lt,_t){var St=new vt.Z(z,R);return St.fromShape=lt,St.toShape=_t,St.x=N.x,St.y=N.y,St.clientX=N.clientX,St.clientY=N.clientY,St.propagationPath.push(V),St},it.prototype._getShape=function(z,R){return this.canvas.getShape(z.x,z.y,R)},it.prototype._getPointInfo=function(z){var R=this.canvas,N=R.getClientByEvent(z),V=R.getPointByEvent(z);return{x:V.x,y:V.y,clientX:N.x,clientY:N.y}},it.prototype._triggerEvent=function(z,R){var N=this._getPointInfo(R),V=this._getShape(N,R),lt=this["_on"+z],_t=!1;if(lt)lt.call(this,N,V,R);else{var St=this.currentShape;"mouseenter"===z||"dragenter"===z||"mouseover"===z?(this._emitEvent(z,R,N,null,null,V),V&&this._emitEvent(z,R,N,V,null,V),"mouseenter"===z&&this.draggingShape&&this._emitEvent("dragenter",R,N,null)):"mouseleave"===z||"dragleave"===z||"mouseout"===z?(_t=!0,St&&this._emitEvent(z,R,N,St,St,null),this._emitEvent(z,R,N,null,St,null),"mouseleave"===z&&this.draggingShape&&this._emitEvent("dragleave",R,N,null)):this._emitEvent(z,R,N,V,null,null)}if(_t||(this.currentShape=V),V&&!V.get("destroyed")){var Gt=this.canvas;Gt.get("el").style.cursor=V.attr("cursor")||Gt.get("cursor")}},it.prototype._onmousedown=function(z,R,N){0===N.button&&(this.mousedownShape=R,this.mousedownPoint=z,this.mousedownTimeStamp=N.timeStamp),this._emitEvent("mousedown",N,z,R,null,null)},it.prototype._emitMouseoverEvents=function(z,R,N,V){var lt=this.canvas.get("el");N!==V&&(N&&(this._emitEvent("mouseout",z,R,N,N,V),this._emitEvent("mouseleave",z,R,N,N,V),(!V||V.get("destroyed"))&&(lt.style.cursor=this.canvas.get("cursor"))),V&&(this._emitEvent("mouseover",z,R,V,N,V),this._emitEvent("mouseenter",z,R,V,N,V)))},it.prototype._emitDragoverEvents=function(z,R,N,V,lt){V?(V!==N&&(N&&this._emitEvent("dragleave",z,R,N,N,V),this._emitEvent("dragenter",z,R,V,N,V)),lt||this._emitEvent("dragover",z,R,V)):N&&this._emitEvent("dragleave",z,R,N,N,V),lt&&this._emitEvent("dragover",z,R,V)},it.prototype._afterDrag=function(z,R,N){z&&(z.set("capture",!0),this.draggingShape=null),this.dragging=!1;var V=this._getShape(R,N);V!==z&&this._emitMouseoverEvents(N,R,z,V),this.currentShape=V},it.prototype._onmouseup=function(z,R,N){if(0===N.button){var V=this.draggingShape;this.dragging?(V&&this._emitEvent("drop",N,z,R),this._emitEvent("dragend",N,z,V),this._afterDrag(V,z,N)):(this._emitEvent("mouseup",N,z,R),R===this.mousedownShape&&this._emitEvent("click",N,z,R),this.mousedownShape=null,this.mousedownPoint=null)}},it.prototype._ondragover=function(z,R,N){N.preventDefault(),this._emitDragoverEvents(N,z,this.currentShape,R,!0)},it.prototype._onmousemove=function(z,R,N){var V=this.canvas,lt=this.currentShape,_t=this.draggingShape;if(this.dragging)_t&&this._emitDragoverEvents(N,z,lt,R,!1),this._emitEvent("drag",N,z,_t);else{var St=this.mousedownPoint;if(St){var Gt=this.mousedownShape,Ee=St.clientX-z.clientX,Te=St.clientY-z.clientY;N.timeStamp-this.mousedownTimeStamp>120||Ee*Ee+Te*Te>40?Gt&&Gt.get("draggable")?((_t=this.mousedownShape).set("capture",!1),this.draggingShape=_t,this.dragging=!0,this._emitEvent("dragstart",N,z,_t),this.mousedownShape=null,this.mousedownPoint=null):!Gt&&V.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",N,z,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R)):(this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R))}else this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R)}},it.prototype._emitEvent=function(z,R,N,V,lt,_t){var St=this._getEventObj(z,R,N,V,lt,_t);if(V){St.shape=V,q(V,z,St);for(var Gt=V.getParent();Gt;)Gt.emitDelegation(z,St),St.propagationStopped||at(Gt,z,St),St.propagationPath.push(Gt),Gt=Gt.getParent()}else q(this.canvas,z,St)},it.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},it}();var re=(0,Nt.qY)(),Ce=re&&"firefox"===re.name;const Re=function(it){function z(R){var N=it.call(this,R)||this;return N.initContainer(),N.initDom(),N.initEvents(),N.initTimeline(),N}return(0,ae.ZT)(z,it),z.prototype.getDefaultCfg=function(){var R=it.prototype.getDefaultCfg.call(this);return R.cursor="default",R.supportCSSTransform=!1,R},z.prototype.initContainer=function(){var R=this.get("container");(0,Zt.HD)(R)&&(R=document.getElementById(R),this.set("container",R))},z.prototype.initDom=function(){var R=this.createDom();this.set("el",R),this.get("container").appendChild(R),this.setDOMSize(this.get("width"),this.get("height"))},z.prototype.initEvents=function(){var R=new Lt({canvas:this});R.init(),this.set("eventController",R)},z.prototype.initTimeline=function(){var R=new U(this);this.set("timeline",R)},z.prototype.setDOMSize=function(R,N){var V=this.get("el");Zt.jU&&(V.style.width=R+"px",V.style.height=N+"px")},z.prototype.changeSize=function(R,N){this.setDOMSize(R,N),this.set("width",R),this.set("height",N),this.onCanvasChange("changeSize")},z.prototype.getRenderer=function(){return this.get("renderer")},z.prototype.getCursor=function(){return this.get("cursor")},z.prototype.setCursor=function(R){this.set("cursor",R);var N=this.get("el");Zt.jU&&N&&(N.style.cursor=R)},z.prototype.getPointByEvent=function(R){if(this.get("supportCSSTransform")){if(Ce&&!(0,Zt.kK)(R.layerX)&&R.layerX!==R.offsetX)return{x:R.layerX,y:R.layerY};if(!(0,Zt.kK)(R.offsetX))return{x:R.offsetX,y:R.offsetY}}var V=this.getClientByEvent(R);return this.getPointByClient(V.x,V.y)},z.prototype.getClientByEvent=function(R){var N=R;return R.touches&&(N="touchend"===R.type?R.changedTouches[0]:R.touches[0]),{x:N.clientX,y:N.clientY}},z.prototype.getPointByClient=function(R,N){var lt=this.get("el").getBoundingClientRect();return{x:R-lt.left,y:N-lt.top}},z.prototype.getClientByPoint=function(R,N){var lt=this.get("el").getBoundingClientRect();return{x:R+lt.left,y:N+lt.top}},z.prototype.draw=function(){},z.prototype.removeDom=function(){var R=this.get("el");R.parentNode.removeChild(R)},z.prototype.clearEvents=function(){this.get("eventController").destroy()},z.prototype.isCanvas=function(){return!0},z.prototype.getParent=function(){return null},z.prototype.destroy=function(){var R=this.get("timeline");this.get("destroyed")||(this.clear(),R&&R.stop(),this.clearEvents(),this.removeDom(),it.prototype.destroy.call(this))},z}(ve.Z)},1655:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>me});var ae=ct(655),Nt=ct(1395),ve=ct(8126),Zt={},Qt="_INDEX";function zt(Dt,Ct){if(Dt.set("canvas",Ct),Dt.isGroup()){var ut=Dt.get("children");ut.length&&ut.forEach(function(dt){zt(dt,Ct)})}}function Bt(Dt,Ct){if(Dt.set("timeline",Ct),Dt.isGroup()){var ut=Dt.get("children");ut.length&&ut.forEach(function(dt){Bt(dt,Ct)})}}const me=function(Dt){function Ct(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,ae.ZT)(Ct,Dt),Ct.prototype.isCanvas=function(){return!1},Ct.prototype.getBBox=function(){var ut=1/0,dt=-1/0,Yt=1/0,Ut=-1/0,Xt=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});return Xt.length>0?(0,ve.S6)(Xt,function($){var C=$.getBBox(),gt=C.minX,At=C.maxX,Kt=C.minY,oe=C.maxY;gt<ut&&(ut=gt),At>dt&&(dt=At),Kt<Yt&&(Yt=Kt),oe>Ut&&(Ut=oe)}):(ut=0,dt=0,Yt=0,Ut=0),{x:ut,y:Yt,minX:ut,minY:Yt,maxX:dt,maxY:Ut,width:dt-ut,height:Ut-Yt}},Ct.prototype.getCanvasBBox=function(){var ut=1/0,dt=-1/0,Yt=1/0,Ut=-1/0,Xt=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});return Xt.length>0?(0,ve.S6)(Xt,function($){var C=$.getCanvasBBox(),gt=C.minX,At=C.maxX,Kt=C.minY,oe=C.maxY;gt<ut&&(ut=gt),At>dt&&(dt=At),Kt<Yt&&(Yt=Kt),oe>Ut&&(Ut=oe)}):(ut=0,dt=0,Yt=0,Ut=0),{x:ut,y:Yt,minX:ut,minY:Yt,maxX:dt,maxY:Ut,width:dt-ut,height:Ut-Yt}},Ct.prototype.getDefaultCfg=function(){var ut=Dt.prototype.getDefaultCfg.call(this);return ut.children=[],ut},Ct.prototype.onAttrChange=function(ut,dt,Yt){if(Dt.prototype.onAttrChange.call(this,ut,dt,Yt),"matrix"===ut){var Ut=this.getTotalMatrix();this._applyChildrenMarix(Ut)}},Ct.prototype.applyMatrix=function(ut){var dt=this.getTotalMatrix();Dt.prototype.applyMatrix.call(this,ut);var Yt=this.getTotalMatrix();Yt!==dt&&this._applyChildrenMarix(Yt)},Ct.prototype._applyChildrenMarix=function(ut){var dt=this.getChildren();(0,ve.S6)(dt,function(Yt){Yt.applyMatrix(ut)})},Ct.prototype.addShape=function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];var Yt=ut[0],Ut=ut[1];(0,ve.Kn)(Yt)?Ut=Yt:Ut.type=Yt;var Xt=Zt[Ut.type];Xt||(Xt=(0,ve.jC)(Ut.type),Zt[Ut.type]=Xt);var $=new(this.getShapeBase()[Xt])(Ut);return this.add($),$},Ct.prototype.addGroup=function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];var Xt,Yt=ut[0],Ut=ut[1];if((0,ve.mf)(Yt))Xt=new Yt(Ut||{parent:this});else{var yt=Yt||{};Xt=new(this.getGroupBase())(yt)}return this.add(Xt),Xt},Ct.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},Ct.prototype.getShape=function(ut,dt,Yt){if(!(0,ve.pP)(this))return null;var Xt,Ut=this.getChildren();if(this.isCanvas())Xt=this._findShape(Ut,ut,dt,Yt);else{var yt=[ut,dt,1];yt=this.invertFromMatrix(yt),this.isClipped(yt[0],yt[1])||(Xt=this._findShape(Ut,yt[0],yt[1],Yt))}return Xt},Ct.prototype._findShape=function(ut,dt,Yt,Ut){for(var Xt=null,yt=ut.length-1;yt>=0;yt--){var $=ut[yt];if((0,ve.pP)($)&&($.isGroup()?Xt=$.getShape(dt,Yt,Ut):$.isHit(dt,Yt)&&(Xt=$)),Xt)break}return Xt},Ct.prototype.add=function(ut){var dt=this.getCanvas(),Yt=this.getChildren(),Ut=this.get("timeline"),Xt=ut.getParent();Xt&&function Vt(Dt,Ct,ut){void 0===ut&&(ut=!0),ut?Ct.destroy():(Ct.set("parent",null),Ct.set("canvas",null)),(0,ve.As)(Dt.getChildren(),Ct)}(Xt,ut,!1),ut.set("parent",this),dt&&zt(ut,dt),Ut&&Bt(ut,Ut),Yt.push(ut),ut.onCanvasChange("add"),this._applyElementMatrix(ut)},Ct.prototype._applyElementMatrix=function(ut){var dt=this.getTotalMatrix();dt&&ut.applyMatrix(dt)},Ct.prototype.getChildren=function(){return this.get("children")},Ct.prototype.sort=function(){var ut=this.getChildren();(0,ve.S6)(ut,function(dt,Yt){return dt[Qt]=Yt,dt}),ut.sort(function se(Dt){return function(Ct,ut){var dt=Dt(Ct,ut);return 0===dt?Ct[Qt]-ut[Qt]:dt}}(function(dt,Yt){return dt.get("zIndex")-Yt.get("zIndex")})),this.onCanvasChange("sort")},Ct.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ut=this.getChildren(),dt=ut.length-1;dt>=0;dt--)ut[dt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Ct.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Dt.prototype.destroy.call(this))},Ct.prototype.getFirst=function(){return this.getChildByIndex(0)},Ct.prototype.getLast=function(){var ut=this.getChildren();return this.getChildByIndex(ut.length-1)},Ct.prototype.getChildByIndex=function(ut){return this.getChildren()[ut]},Ct.prototype.getCount=function(){return this.getChildren().length},Ct.prototype.contain=function(ut){return this.getChildren().indexOf(ut)>-1},Ct.prototype.removeChild=function(ut,dt){void 0===dt&&(dt=!0),this.contain(ut)&&ut.remove(dt)},Ct.prototype.findAll=function(ut){var dt=[],Yt=this.getChildren();return(0,ve.S6)(Yt,function(Ut){ut(Ut)&&dt.push(Ut),Ut.isGroup()&&(dt=dt.concat(Ut.findAll(ut)))}),dt},Ct.prototype.find=function(ut){var dt=null,Yt=this.getChildren();return(0,ve.S6)(Yt,function(Ut){if(ut(Ut)?dt=Ut:Ut.isGroup()&&(dt=Ut.find(ut)),dt)return!1}),dt},Ct.prototype.findById=function(ut){return this.find(function(dt){return dt.get("id")===ut})},Ct.prototype.findByClassName=function(ut){return this.find(function(dt){return dt.get("className")===ut})},Ct.prototype.findAllByName=function(ut){return this.findAll(function(dt){return dt.get("name")===ut})},Ct}(Nt.Z)},1395:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Ut});var ae=ct(655),Nt=ct(8250),ve=ct(3882),Zt=ct(8126),Qt=ct(1415),zt=ct(9456),Bt=ve.vs,Mt="matrix",Vt=["zIndex","capture","visible","type"],se=["repeat"];function Ct(Xt,yt){var $={},C=yt.attrs;for(var gt in Xt)$[gt]=C[gt];return $}const Ut=function(Xt){function yt($){var C=Xt.call(this,$)||this;C.attrs={};var gt=C.getDefaultAttrs();return(0,Nt.CD)(gt,$.attrs),C.attrs=gt,C.initAttrs(gt),C.initAnimate(),C}return(0,ae.ZT)(yt,Xt),yt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},yt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},yt.prototype.onCanvasChange=function($){},yt.prototype.initAttrs=function($){},yt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},yt.prototype.isGroup=function(){return!1},yt.prototype.getParent=function(){return this.get("parent")},yt.prototype.getCanvas=function(){return this.get("canvas")},yt.prototype.attr=function(){for(var $,C=[],gt=0;gt<arguments.length;gt++)C[gt]=arguments[gt];var At=C[0],Kt=C[1];if(!At)return this.attrs;if((0,Nt.Kn)(At)){for(var oe in At)this.setAttr(oe,At[oe]);return this.afterAttrsChange(At),this}return 2===C.length?(this.setAttr(At,Kt),this.afterAttrsChange((($={})[At]=Kt,$)),this):this.attrs[At]},yt.prototype.isClipped=function($,C){var gt=this.getClip();return gt&&!gt.isHit($,C)},yt.prototype.setAttr=function($,C){var gt=this.attrs[$];gt!==C&&(this.attrs[$]=C,this.onAttrChange($,C,gt))},yt.prototype.onAttrChange=function($,C,gt){"matrix"===$&&this.set("totalMatrix",null)},yt.prototype.afterAttrsChange=function($){if(this.cfg.isClipShape){var C=this.cfg.applyTo;C&&C.onCanvasChange("clip")}else this.onCanvasChange("attr")},yt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},yt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},yt.prototype.setZIndex=function($){this.set("zIndex",$);var C=this.getParent();return C&&C.sort(),this},yt.prototype.toFront=function(){var $=this.getParent();if($){var C=$.getChildren(),At=(this.get("el"),C.indexOf(this));C.splice(At,1),C.push(this),this.onCanvasChange("zIndex")}},yt.prototype.toBack=function(){var $=this.getParent();if($){var C=$.getChildren(),At=(this.get("el"),C.indexOf(this));C.splice(At,1),C.unshift(this),this.onCanvasChange("zIndex")}},yt.prototype.remove=function($){void 0===$&&($=!0);var C=this.getParent();C?((0,Zt.As)(C.getChildren(),this),C.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),$&&this.destroy()},yt.prototype.resetMatrix=function(){this.attr(Mt,this.getDefaultMatrix()),this.onCanvasChange("matrix")},yt.prototype.getMatrix=function(){return this.attr(Mt)},yt.prototype.setMatrix=function($){this.attr(Mt,$),this.onCanvasChange("matrix")},yt.prototype.getTotalMatrix=function(){var $=this.cfg.totalMatrix;if(!$){var C=this.attr("matrix"),gt=this.cfg.parentMatrix;$=gt&&C?(0,Qt.xq)(gt,C):C||gt,this.set("totalMatrix",$)}return $},yt.prototype.applyMatrix=function($){var gt,C=this.attr("matrix");gt=$&&C?(0,Qt.xq)($,C):C||$,this.set("totalMatrix",gt),this.set("parentMatrix",$)},yt.prototype.getDefaultMatrix=function(){return null},yt.prototype.applyToMatrix=function($){var C=this.attr("matrix");return C?(0,Qt.rG)(C,$):$},yt.prototype.invertFromMatrix=function($){var C=this.attr("matrix");if(C){var gt=(0,Qt.U_)(C);if(gt)return(0,Qt.rG)(gt,$)}return $},yt.prototype.setClip=function($){var C=this.getCanvas(),gt=null;if($){var oe=this.getShapeBase()[(0,Nt.jC)($.type)];oe&&(gt=new oe({type:$.type,isClipShape:!0,applyTo:this,attrs:$.attrs,canvas:C}))}return this.set("clipShape",gt),this.onCanvasChange("clip"),gt},yt.prototype.getClip=function(){return this.cfg.clipShape||null},yt.prototype.clone=function(){var $=this,C=this.attrs,gt={};(0,Nt.S6)(C,function(oe,Rt){gt[Rt]=(0,Nt.kJ)(C[Rt])?function Dt(Xt){for(var yt=[],$=0;$<Xt.length;$++)(0,Nt.kJ)(Xt[$])?yt.push([].concat(Xt[$])):yt.push(Xt[$]);return yt}(C[Rt]):C[Rt]});var Kt=new(0,this.constructor)({attrs:gt});return(0,Nt.S6)(Vt,function(oe){Kt.set(oe,$.get(oe))}),Kt},yt.prototype.destroy=function(){this.destroyed||(this.attrs={},Xt.prototype.destroy.call(this))},yt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},yt.prototype.animate=function(){for(var $=[],C=0;C<arguments.length;C++)$[C]=arguments[C];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var gt=this.get("timeline");gt||(gt=this.get("canvas").get("timeline"),this.set("timeline",gt));var At=this.get("animations")||[];gt.timer||gt.initTimer();var Q,nt,Et,te,he,Kt=$[0],oe=$[1],Rt=$[2],Ht=void 0===Rt?"easeLinear":Rt,ye=$[3],qt=void 0===ye?Nt.ZT:ye,Jt=$[4],kt=void 0===Jt?0:Jt;(0,Nt.mf)(Kt)?(Q=Kt,Kt={}):(0,Nt.Kn)(Kt)&&Kt.onFrame&&(Q=Kt.onFrame,nt=Kt.repeat),(0,Nt.Kn)(oe)?(oe=(he=oe).duration,Ht=he.easing||"easeLinear",kt=he.delay||0,nt=he.repeat||nt||!1,qt=he.callback||Nt.ZT,Et=he.pauseCallback||Nt.ZT,te=he.resumeCallback||Nt.ZT):((0,Nt.hj)(qt)&&(kt=qt,qt=null),(0,Nt.mf)(Ht)?(qt=Ht,Ht="easeLinear"):Ht=Ht||"easeLinear");var Fe=function ut(Xt,yt){var $={},C=yt.attr();return(0,Nt.S6)(Xt,function(gt,At){-1===se.indexOf(At)&&!(0,Nt.Xy)(C[At],gt)&&($[At]=gt)}),$}(Kt,this),W={fromAttrs:Ct(Fe,this),toAttrs:Fe,duration:oe,easing:Ht,repeat:nt,callback:qt,pauseCallback:Et,resumeCallback:te,delay:kt,startTime:gt.getTime(),id:(0,Nt.EL)(),onFrame:Q,pathFormatted:!1};At.length>0?At=function dt(Xt,yt){if(yt.onFrame)return Xt;var $=yt.startTime,C=yt.delay,gt=yt.duration,At=Object.prototype.hasOwnProperty;return(0,Nt.S6)(Xt,function(Kt){$+C<Kt.startTime+Kt.delay+Kt.duration&&gt>Kt.delay&&(0,Nt.S6)(yt.toAttrs,function(oe,Rt){At.call(Kt.toAttrs,Rt)&&(delete Kt.toAttrs[Rt],delete Kt.fromAttrs[Rt])})}),Xt}(At,W):gt.addAnimator(this),At.push(W),this.set("animations",At),this.set("_pause",{isPaused:!1})}},yt.prototype.stopAnimate=function($){var C=this;void 0===$&&($=!0);var gt=this.get("animations");(0,Nt.S6)(gt,function(At){$&&C.attr(At.onFrame?At.onFrame(1):At.toAttrs),At.callback&&At.callback()}),this.set("animating",!1),this.set("animations",[])},yt.prototype.pauseAnimate=function(){var $=this.get("timeline"),C=this.get("animations"),gt=$.getTime();return(0,Nt.S6)(C,function(At){At._paused=!0,At._pauseTime=gt,At.pauseCallback&&At.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:gt}),this},yt.prototype.resumeAnimate=function(){var C=this.get("timeline").getTime(),gt=this.get("animations"),At=this.get("_pause").pauseTime;return(0,Nt.S6)(gt,function(Kt){Kt.startTime=Kt.startTime+(C-At),Kt._paused=!1,Kt._pauseTime=null,Kt.resumeCallback&&Kt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",gt),this},yt.prototype.emitDelegation=function($,C){var oe,gt=this,At=C.propagationPath;this.getEvents(),"mouseenter"===$?oe=C.fromShape:"mouseleave"===$&&(oe=C.toShape);for(var Rt=function(Jt){var kt=At[Jt],Q=kt.get("name");if(Q){if((kt.isGroup()||kt.isCanvas&&kt.isCanvas())&&oe&&(0,Zt.UY)(kt,oe))return"break";(0,Nt.kJ)(Q)?(0,Nt.S6)(Q,function(nt){gt.emitDelegateEvent(kt,nt,C)}):Ht.emitDelegateEvent(kt,Q,C)}},Ht=this,ye=0;ye<At.length&&"break"!==Rt(ye);ye++);},yt.prototype.emitDelegateEvent=function($,C,gt){var At=this.getEvents(),Kt=C+":"+gt.type;(At[Kt]||At["*"])&&(gt.name=Kt,gt.currentTarget=$,gt.delegateTarget=this,gt.delegateObject=$.get("delegateObject"),this.emit(Kt,gt))},yt.prototype.translate=function($,C){void 0===$&&($=0),void 0===C&&(C=0);var gt=this.getMatrix(),At=Bt(gt,[["t",$,C]]);return this.setMatrix(At),this},yt.prototype.move=function($,C){var gt=this.attr("x")||0,At=this.attr("y")||0;return this.translate($-gt,C-At),this},yt.prototype.moveTo=function($,C){return this.move($,C)},yt.prototype.scale=function($,C){var gt=this.getMatrix(),At=Bt(gt,[["s",$,C||$]]);return this.setMatrix(At),this},yt.prototype.rotate=function($){var C=this.getMatrix(),gt=Bt(C,[["r",$]]);return this.setMatrix(gt),this},yt.prototype.rotateAtStart=function($){var C=this.attr(),gt=C.x,At=C.y,Kt=this.getMatrix(),oe=Bt(Kt,[["t",-gt,-At],["r",$],["t",gt,At]]);return this.setMatrix(oe),this},yt.prototype.rotateAtPoint=function($,C,gt){var At=this.getMatrix(),Kt=Bt(At,[["t",-$,-C],["r",gt],["t",$,C]]);return this.setMatrix(Kt),this},yt}(zt.Z)},7424:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Zt});var ae=ct(655);const Zt=function(Qt){function zt(){return null!==Qt&&Qt.apply(this,arguments)||this}return(0,ae.ZT)(zt,Qt),zt.prototype.isGroup=function(){return!0},zt.prototype.isEntityGroup=function(){return!1},zt.prototype.clone=function(){for(var Bt=Qt.prototype.clone.call(this),Mt=this.getChildren(),Vt=0;Vt<Mt.length;Vt++)Bt.add(Mt[Vt].clone());return Bt},zt}(ct(1655).Z)},837:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Qt});var ae=ct(655),Nt=ct(1395),ve=ct(1415);const Qt=function(zt){function Bt(Mt){return zt.call(this,Mt)||this}return(0,ae.ZT)(Bt,zt),Bt.prototype._isInBBox=function(Mt,Vt){var se=this.getBBox();return se.minX<=Mt&&se.maxX>=Mt&&se.minY<=Vt&&se.maxY>=Vt},Bt.prototype.afterAttrsChange=function(Mt){zt.prototype.afterAttrsChange.call(this,Mt),this.clearCacheBBox()},Bt.prototype.getBBox=function(){var Mt=this.cfg.bbox;return Mt||(Mt=this.calculateBBox(),this.set("bbox",Mt)),Mt},Bt.prototype.getCanvasBBox=function(){var Mt=this.cfg.canvasBBox;return Mt||(Mt=this.calculateCanvasBBox(),this.set("canvasBBox",Mt)),Mt},Bt.prototype.applyMatrix=function(Mt){zt.prototype.applyMatrix.call(this,Mt),this.set("canvasBBox",null)},Bt.prototype.calculateCanvasBBox=function(){var Mt=this.getBBox(),Vt=this.getTotalMatrix(),se=Mt.minX,ne=Mt.minY,me=Mt.maxX,Dt=Mt.maxY;if(Vt){var Ct=(0,ve.rG)(Vt,[Mt.minX,Mt.minY]),ut=(0,ve.rG)(Vt,[Mt.maxX,Mt.minY]),dt=(0,ve.rG)(Vt,[Mt.minX,Mt.maxY]),Yt=(0,ve.rG)(Vt,[Mt.maxX,Mt.maxY]);se=Math.min(Ct[0],ut[0],dt[0],Yt[0]),me=Math.max(Ct[0],ut[0],dt[0],Yt[0]),ne=Math.min(Ct[1],ut[1],dt[1],Yt[1]),Dt=Math.max(Ct[1],ut[1],dt[1],Yt[1])}var Ut=this.attrs;if(Ut.shadowColor){var Xt=Ut.shadowBlur,yt=void 0===Xt?0:Xt,$=Ut.shadowOffsetX,C=void 0===$?0:$,gt=Ut.shadowOffsetY,At=void 0===gt?0:gt,oe=me+yt+C,Rt=ne-yt+At,Ht=Dt+yt+At;se=Math.min(se,se-yt+C),me=Math.max(me,oe),ne=Math.min(ne,Rt),Dt=Math.max(Dt,Ht)}return{x:se,y:ne,minX:se,minY:ne,maxX:me,maxY:Dt,width:me-se,height:Dt-ne}},Bt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},Bt.prototype.isClipShape=function(){return this.get("isClipShape")},Bt.prototype.isInShape=function(Mt,Vt){return!1},Bt.prototype.isOnlyHitBox=function(){return!1},Bt.prototype.isHit=function(Mt,Vt){var se=this.get("startArrowShape"),ne=this.get("endArrowShape"),me=[Mt,Vt,1],Dt=(me=this.invertFromMatrix(me))[0],Ct=me[1],ut=this._isInBBox(Dt,Ct);return this.isOnlyHitBox()?ut:!(!ut||this.isClipped(Dt,Ct)||!(this.isInShape(Dt,Ct)||se&&se.isHit(Dt,Ct)||ne&&ne.isHit(Dt,Ct)))},Bt}(Nt.Z)},2021:(rr,be,ct)=>{"use strict";ct.d(be,{C:()=>Zt,_:()=>ve});var ae=ct(6399),Nt={};function ve(Qt){return Nt[Qt.toLowerCase()]||ae[Qt]}function Zt(Qt,zt){Nt[Qt.toLowerCase()]=zt}},4860:(rr,be,ct)=>{"use strict";ct.d(be,{b:()=>ve,W:()=>Nt});var ae=new Map;function Nt(yt,$){ae.set(yt,$)}function ve(yt){return ae.get(yt)}function Zt(yt){var $=yt.attr();return{x:$.x,y:$.y,width:$.width,height:$.height}}function Qt(yt){var $=yt.attr(),At=$.r;return{x:$.x-At,y:$.y-At,width:2*At,height:2*At}}var zt=ct(9174);function Bt(yt,$){return yt&&$?{minX:Math.min(yt.minX,$.minX),minY:Math.min(yt.minY,$.minY),maxX:Math.max(yt.maxX,$.maxX),maxY:Math.max(yt.maxY,$.maxY)}:yt||$}function Mt(yt,$){var C=yt.get("startArrowShape"),gt=yt.get("endArrowShape");return C&&($=Bt($,C.getCanvasBBox())),gt&&($=Bt($,gt.getCanvasBBox())),$}var ne=ct(321),Dt=ct(2759),Ct=ct(8250);function dt(yt,$){var C=yt.prePoint,gt=yt.currentPoint,At=yt.nextPoint,Kt=Math.pow(gt[0]-C[0],2)+Math.pow(gt[1]-C[1],2),oe=Math.pow(gt[0]-At[0],2)+Math.pow(gt[1]-At[1],2),Rt=Math.pow(C[0]-At[0],2)+Math.pow(C[1]-At[1],2),Ht=Math.acos((Kt+oe-Rt)/(2*Math.sqrt(Kt)*Math.sqrt(oe)));if(!Ht||0===Math.sin(Ht)||(0,Ct.vQ)(Ht,0))return{xExtra:0,yExtra:0};var ye=Math.abs(Math.atan2(At[1]-gt[1],At[0]-gt[0])),qt=Math.abs(Math.atan2(At[0]-gt[0],At[1]-gt[1]));return ye=ye>Math.PI/2?Math.PI-ye:ye,qt=qt>Math.PI/2?Math.PI-qt:qt,{xExtra:Math.cos(Ht/2-ye)*($/2*(1/Math.sin(Ht/2)))-$/2||0,yExtra:Math.cos(qt-Ht/2)*($/2*(1/Math.sin(Ht/2)))-$/2||0}}Nt("rect",Zt),Nt("image",Zt),Nt("circle",Qt),Nt("marker",Qt),Nt("polyline",function Vt(yt){for(var C=yt.attr().points,gt=[],At=[],Kt=0;Kt<C.length;Kt++){var oe=C[Kt];gt.push(oe[0]),At.push(oe[1])}var Rt=zt.Zr.getBBoxByArray(gt,At),Ht=Rt.x,ye=Rt.y,kt={minX:Ht,minY:ye,maxX:Ht+Rt.width,maxY:ye+Rt.height};return{x:(kt=Mt(yt,kt)).minX,y:kt.minY,width:kt.maxX-kt.minX,height:kt.maxY-kt.minY}}),Nt("polygon",function se(yt){for(var C=yt.attr().points,gt=[],At=[],Kt=0;Kt<C.length;Kt++){var oe=C[Kt];gt.push(oe[0]),At.push(oe[1])}return zt.Zr.getBBoxByArray(gt,At)}),Nt("text",function me(yt){var $=yt.attr(),C=$.x,gt=$.y,At=$.text,Kt=$.fontSize,oe=$.lineHeight,Rt=$.font;Rt||(Rt=(0,ne.$O)($));var ye,Ht=(0,ne.mY)(At,Rt);if(Ht){var qt=$.textAlign,Jt=$.textBaseline,kt=(0,ne.FE)(At,Kt,oe),Q={x:C,y:gt-kt};qt&&("end"===qt||"right"===qt?Q.x-=Ht:"center"===qt&&(Q.x-=Ht/2)),Jt&&("top"===Jt?Q.y+=kt:"middle"===Jt&&(Q.y+=kt/2)),ye={x:Q.x,y:Q.y,width:Ht,height:kt}}else ye={x:C,y:gt,width:0,height:0};return ye}),Nt("path",function Yt(yt){var $=yt.attr(),C=$.path,At=$.stroke?$.lineWidth:0,oe=function ut(yt,$){for(var C=[],gt=[],At=[],Kt=0;Kt<yt.length;Kt++){var Rt=(oe=yt[Kt]).currentPoint,Ht=oe.params,ye=oe.prePoint,qt=void 0;switch(oe.command){case"Q":qt=zt.lD.box(ye[0],ye[1],Ht[1],Ht[2],Ht[3],Ht[4]);break;case"C":qt=zt.Ll.box(ye[0],ye[1],Ht[1],Ht[2],Ht[3],Ht[4],Ht[5],Ht[6]);break;case"A":var Jt=oe.arcParams;qt=zt.wN.box(Jt.cx,Jt.cy,Jt.rx,Jt.ry,Jt.xRotation,Jt.startAngle,Jt.endAngle);break;default:C.push(Rt[0]),gt.push(Rt[1])}qt&&(oe.box=qt,C.push(qt.x,qt.x+qt.width),gt.push(qt.y,qt.y+qt.height)),$&&("L"===oe.command||"M"===oe.command)&&oe.prePoint&&oe.nextPoint&&At.push(oe)}C=C.filter(function(he){return!Number.isNaN(he)&&he!==1/0&&he!==-1/0}),gt=gt.filter(function(he){return!Number.isNaN(he)&&he!==1/0&&he!==-1/0});var kt=(0,Ct.VV)(C),Q=(0,Ct.VV)(gt),nt=(0,Ct.Fp)(C),Et=(0,Ct.Fp)(gt);if(0===At.length)return{x:kt,y:Q,width:nt-kt,height:Et-Q};for(Kt=0;Kt<At.length;Kt++){var oe;(Rt=(oe=At[Kt]).currentPoint)[0]===kt?kt-=dt(oe,$).xExtra:Rt[0]===nt&&(nt+=dt(oe,$).xExtra),Rt[1]===Q?Q-=dt(oe,$).yExtra:Rt[1]===Et&&(Et+=dt(oe,$).yExtra)}return{x:kt,y:Q,width:nt-kt,height:Et-Q}}(yt.get("segments")||(0,Dt.zx)(C),At),Rt=oe.x,Ht=oe.y,Jt={minX:Rt,minY:Ht,maxX:Rt+oe.width,maxY:Ht+oe.height};return{x:(Jt=Mt(yt,Jt)).minX,y:Jt.minY,width:Jt.maxX-Jt.minX,height:Jt.maxY-Jt.minY}}),Nt("line",function Ut(yt){var $=yt.attr(),C=$.x1,gt=$.y1,At=$.x2,Kt=$.y2,qt={minX:Math.min(C,At),maxX:Math.max(C,At),minY:Math.min(gt,Kt),maxY:Math.max(gt,Kt)};return{x:(qt=Mt(yt,qt)).minX,y:qt.minY,width:qt.maxX-qt.minX,height:qt.maxY-qt.minY}}),Nt("ellipse",function Xt(yt){var $=yt.attr(),At=$.rx,Kt=$.ry;return{x:$.x-At,y:$.y-Kt,width:2*At,height:2*Kt}})},8833:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Nt});const Nt=function(){function ve(Zt,Qt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=Zt,this.name=Zt,this.originalEvent=Qt,this.timeStamp=Qt.timeStamp}return ve.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},ve.prototype.stopPropagation=function(){this.propagationStopped=!0},ve.prototype.toString=function(){return"[Event (type="+this.type+")]"},ve.prototype.save=function(){},ve.prototype.restore=function(){},ve}()},2185:(rr,be,ct)=>{"use strict";ct.r(be),ct.d(be,{AbstractCanvas:()=>Vt.Z,AbstractGroup:()=>se.Z,AbstractShape:()=>ne.Z,Base:()=>Mt.Z,Event:()=>Bt.Z,PathUtil:()=>ae,assembleFont:()=>Dt.$O,getBBoxMethod:()=>me.b,getOffScreenContext:()=>dt.L,getTextHeight:()=>Dt.FE,invert:()=>ut.U_,isAllowCapture:()=>Ct.pP,multiplyVec2:()=>ut.rG,registerBBox:()=>me.W,registerEasing:()=>Yt.C,version:()=>Ut});var ae=ct(8145),Nt=ct(5511),zt={};for(const Xt in Nt)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Xt)<0&&(zt[Xt]=()=>Nt[Xt]);ct.d(be,zt);var Zt=ct(5799);zt={};for(const Xt in Zt)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Xt)<0&&(zt[Xt]=()=>Zt[Xt]);ct.d(be,zt);var Bt=ct(8833),Mt=ct(9456),Vt=ct(4967),se=ct(7424),ne=ct(837),me=ct(4860),Dt=ct(321),Ct=ct(8126),ut=ct(1415),dt=ct(4085),Yt=ct(2021),Ut="0.5.11"},5799:()=>{},5511:()=>{},1415:(rr,be,ct)=>{"use strict";function ae(Zt,Qt){var zt=[],Bt=Zt[0],Mt=Zt[1],Vt=Zt[2],se=Zt[3],ne=Zt[4],me=Zt[5],Dt=Zt[6],Ct=Zt[7],ut=Zt[8],dt=Qt[0],Yt=Qt[1],Ut=Qt[2],Xt=Qt[3],yt=Qt[4],$=Qt[5],C=Qt[6],gt=Qt[7],At=Qt[8];return zt[0]=dt*Bt+Yt*se+Ut*Dt,zt[1]=dt*Mt+Yt*ne+Ut*Ct,zt[2]=dt*Vt+Yt*me+Ut*ut,zt[3]=Xt*Bt+yt*se+$*Dt,zt[4]=Xt*Mt+yt*ne+$*Ct,zt[5]=Xt*Vt+yt*me+$*ut,zt[6]=C*Bt+gt*se+At*Dt,zt[7]=C*Mt+gt*ne+At*Ct,zt[8]=C*Vt+gt*me+At*ut,zt}function Nt(Zt,Qt){var zt=[],Bt=Qt[0],Mt=Qt[1];return zt[0]=Zt[0]*Bt+Zt[3]*Mt+Zt[6],zt[1]=Zt[1]*Bt+Zt[4]*Mt+Zt[7],zt}function ve(Zt){var Qt=[],zt=Zt[0],Bt=Zt[1],Mt=Zt[2],Vt=Zt[3],se=Zt[4],ne=Zt[5],me=Zt[6],Dt=Zt[7],Ct=Zt[8],ut=Ct*se-ne*Dt,dt=-Ct*Vt+ne*me,Yt=Dt*Vt-se*me,Ut=zt*ut+Bt*dt+Mt*Yt;return Ut?(Qt[0]=ut*(Ut=1/Ut),Qt[1]=(-Ct*Bt+Mt*Dt)*Ut,Qt[2]=(ne*Bt-Mt*se)*Ut,Qt[3]=dt*Ut,Qt[4]=(Ct*zt-Mt*me)*Ut,Qt[5]=(-ne*zt+Mt*Vt)*Ut,Qt[6]=Yt*Ut,Qt[7]=(-Dt*zt+Bt*me)*Ut,Qt[8]=(se*zt-Bt*Vt)*Ut,Qt):null}ct.d(be,{U_:()=>ve,rG:()=>Nt,xq:()=>ae})},4085:(rr,be,ct)=>{"use strict";ct.d(be,{L:()=>Nt});var ae=null;function Nt(){if(!ae){var ve=document.createElement("canvas");ve.width=1,ve.height=1,ae=ve.getContext("2d")}return ae}},8145:(rr,be,ct)=>{"use strict";ct.r(be),ct.d(be,{catmullRomToBezier:()=>zt,fillPath:()=>Jt,fillPathByDiff:()=>Et,formatPath:()=>Fe,intersection:()=>Rt,parsePathArray:()=>Ct,parsePathString:()=>Qt,pathToAbsolute:()=>Mt,pathToCurve:()=>me,rectPath:()=>yt});var ae=ct(8250),Nt="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",ve=new RegExp("([a-z])["+Nt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Nt+"]*,?["+Nt+"]*)+)","ig"),Zt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Nt+"]*,?["+Nt+"]*","ig"),Qt=function(W){if(!W)return null;if((0,ae.kJ)(W))return W;var K={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},J=[];return String(W).replace(ve,function(U,vt,mt){var j=[],rt=vt.toLowerCase();if(mt.replace(Zt,function(P,Z){Z&&j.push(+Z)}),"m"===rt&&j.length>2&&(J.push([vt].concat(j.splice(0,2))),rt="l",vt="m"===vt?"l":"L"),"o"===rt&&1===j.length&&J.push([vt,j[0]]),"r"===rt)J.push([vt].concat(j));else for(;j.length>=K[rt]&&(J.push([vt].concat(j.splice(0,K[rt]))),K[rt]););return W}),J},zt=function(W,K){for(var J=[],U=0,vt=W.length;vt-2*!K>U;U+=2){var mt=[{x:+W[U-2],y:+W[U-1]},{x:+W[U],y:+W[U+1]},{x:+W[U+2],y:+W[U+3]},{x:+W[U+4],y:+W[U+5]}];K?U?vt-4===U?mt[3]={x:+W[0],y:+W[1]}:vt-2===U&&(mt[2]={x:+W[0],y:+W[1]},mt[3]={x:+W[2],y:+W[3]}):mt[0]={x:+W[vt-2],y:+W[vt-1]}:vt-4===U?mt[3]=mt[2]:U||(mt[0]={x:+W[U],y:+W[U+1]}),J.push(["C",(6*mt[1].x-mt[0].x+mt[2].x)/6,(6*mt[1].y-mt[0].y+mt[2].y)/6,(mt[1].x+6*mt[2].x-mt[3].x)/6,(mt[1].y+6*mt[2].y-mt[3].y)/6,mt[2].x,mt[2].y])}return J},Bt=function(W,K,J,U,vt){var mt=[];if(null===vt&&null===U&&(U=J),W=+W,K=+K,J=+J,U=+U,null!==vt){var j=Math.PI/180,rt=W+J*Math.cos(-U*j),P=W+J*Math.cos(-vt*j);mt=[["M",rt,K+J*Math.sin(-U*j)],["A",J,J,0,+(vt-U>180),0,P,K+J*Math.sin(-vt*j)]]}else mt=[["M",W,K],["m",0,-U],["a",J,U,0,1,1,0,2*U],["a",J,U,0,1,1,0,-2*U],["z"]];return mt},Mt=function(W){if(!(W=Qt(W))||!W.length)return[["M",0,0]];var rt,P,K=[],J=0,U=0,vt=0,mt=0,j=0;"M"===W[0][0]&&(vt=J=+W[0][1],mt=U=+W[0][2],j++,K[0]=["M",J,U]);for(var Z=3===W.length&&"M"===W[0][0]&&"R"===W[1][0].toUpperCase()&&"Z"===W[2][0].toUpperCase(),q=void 0,at=void 0,Tt=j,Lt=W.length;Tt<Lt;Tt++){if(K.push(q=[]),(rt=(at=W[Tt])[0])!==rt.toUpperCase())switch(q[0]=rt.toUpperCase(),q[0]){case"A":q[1]=at[1],q[2]=at[2],q[3]=at[3],q[4]=at[4],q[5]=at[5],q[6]=+at[6]+J,q[7]=+at[7]+U;break;case"V":q[1]=+at[1]+U;break;case"H":q[1]=+at[1]+J;break;case"R":for(var bt=2,re=(P=[J,U].concat(at.slice(1))).length;bt<re;bt++)P[bt]=+P[bt]+J,P[++bt]=+P[bt]+U;K.pop(),K=K.concat(zt(P,Z));break;case"O":K.pop(),(P=Bt(J,U,at[1],at[2])).push(P[0]),K=K.concat(P);break;case"U":K.pop(),K=K.concat(Bt(J,U,at[1],at[2],at[3])),q=["U"].concat(K[K.length-1].slice(-2));break;case"M":vt=+at[1]+J,mt=+at[2]+U;break;default:for(bt=1,re=at.length;bt<re;bt++)q[bt]=+at[bt]+(bt%2?J:U)}else if("R"===rt)P=[J,U].concat(at.slice(1)),K.pop(),K=K.concat(zt(P,Z)),q=["R"].concat(at.slice(-2));else if("O"===rt)K.pop(),(P=Bt(J,U,at[1],at[2])).push(P[0]),K=K.concat(P);else if("U"===rt)K.pop(),K=K.concat(Bt(J,U,at[1],at[2],at[3])),q=["U"].concat(K[K.length-1].slice(-2));else for(var Ce=0,we=at.length;Ce<we;Ce++)q[Ce]=at[Ce];if("O"!==(rt=rt.toUpperCase()))switch(q[0]){case"Z":J=+vt,U=+mt;break;case"H":J=q[1];break;case"V":U=q[1];break;case"M":vt=q[q.length-2],mt=q[q.length-1];break;default:J=q[q.length-2],U=q[q.length-1]}}return K},Vt=function(W,K,J,U){return[W,K,J,U,J,U]},se=function(W,K,J,U,vt,mt){var j=.3333333333333333,rt=2/3;return[j*W+rt*J,j*K+rt*U,j*vt+rt*J,j*mt+rt*U,vt,mt]},ne=function(W,K,J,U,vt,mt,j,rt,P,Z){J===U&&(J+=1);var Lt,bt,re,Ce,we,q=120*Math.PI/180,at=Math.PI/180*(+vt||0),Tt=[],Re=function(Hr,zr,xn){return{x:Hr*Math.cos(xn)-zr*Math.sin(xn),y:Hr*Math.sin(xn)+zr*Math.cos(xn)}};if(Z)bt=Z[0],re=Z[1],Ce=Z[2],we=Z[3];else{W=(Lt=Re(W,K,-at)).x,K=Lt.y,P=(Lt=Re(rt,P,-at)).y,W===(rt=Lt.x)&&K===P&&(rt+=1,P+=1);var it=(W-rt)/2,z=(K-P)/2,R=it*it/(J*J)+z*z/(U*U);R>1&&(J*=R=Math.sqrt(R),U*=R);var N=J*J,V=U*U,lt=(mt===j?-1:1)*Math.sqrt(Math.abs((N*V-N*z*z-V*it*it)/(N*z*z+V*it*it)));Ce=lt*J*z/U+(W+rt)/2,we=lt*-U*it/J+(K+P)/2,bt=Math.asin(((K-we)/U).toFixed(9)),re=Math.asin(((P-we)/U).toFixed(9)),bt=W<Ce?Math.PI-bt:bt,re=rt<Ce?Math.PI-re:re,bt<0&&(bt=2*Math.PI+bt),re<0&&(re=2*Math.PI+re),j&&bt>re&&(bt-=2*Math.PI),!j&&re>bt&&(re-=2*Math.PI)}var _t=re-bt;if(Math.abs(_t)>q){var St=re,Gt=rt,ee=P;re=bt+q*(j&&re>bt?1:-1),rt=Ce+J*Math.cos(re),P=we+U*Math.sin(re),Tt=ne(rt,P,J,U,vt,0,j,Gt,ee,[re,St,Ce,we])}_t=re-bt;var ie=Math.cos(bt),Ee=Math.sin(bt),Te=Math.cos(re),He=Math.sin(re),Xe=Math.tan(_t/4),ke=4/3*J*Xe,qe=4/3*U*Xe,Qe=[W,K],er=[W+ke*Ee,K-qe*ie],Ye=[rt+ke*He,P-qe*Te],sr=[rt,P];if(er[0]=2*Qe[0]-er[0],er[1]=2*Qe[1]-er[1],Z)return[er,Ye,sr].concat(Tt);for(var _r=[],lr=0,Sr=(Tt=[er,Ye,sr].concat(Tt).join().split(",")).length;lr<Sr;lr++)_r[lr]=lr%2?Re(Tt[lr-1],Tt[lr],at).y:Re(Tt[lr],Tt[lr+1],at).x;return _r},me=function(W,K){var q,J=Mt(W),U=K&&Mt(K),vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},mt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=[],rt=[],P="",Z="",at=function(it,z,R){var N,V;if(!it)return["C",z.x,z.y,z.x,z.y,z.x,z.y];switch(!(it[0]in{T:1,Q:1})&&(z.qx=z.qy=null),it[0]){case"M":z.X=it[1],z.Y=it[2];break;case"A":it=["C"].concat(ne.apply(0,[z.x,z.y].concat(it.slice(1))));break;case"S":"C"===R||"S"===R?(N=2*z.x-z.bx,V=2*z.y-z.by):(N=z.x,V=z.y),it=["C",N,V].concat(it.slice(1));break;case"T":"Q"===R||"T"===R?(z.qx=2*z.x-z.qx,z.qy=2*z.y-z.qy):(z.qx=z.x,z.qy=z.y),it=["C"].concat(se(z.x,z.y,z.qx,z.qy,it[1],it[2]));break;case"Q":z.qx=it[1],z.qy=it[2],it=["C"].concat(se(z.x,z.y,it[1],it[2],it[3],it[4]));break;case"L":it=["C"].concat(Vt(z.x,z.y,it[1],it[2]));break;case"H":it=["C"].concat(Vt(z.x,z.y,it[1],z.y));break;case"V":it=["C"].concat(Vt(z.x,z.y,z.x,it[1]));break;case"Z":it=["C"].concat(Vt(z.x,z.y,z.X,z.Y))}return it},Tt=function(it,z){if(it[z].length>7){it[z].shift();for(var R=it[z];R.length;)j[z]="A",U&&(rt[z]="A"),it.splice(z++,0,["C"].concat(R.splice(0,6)));it.splice(z,1),q=Math.max(J.length,U&&U.length||0)}},Lt=function(it,z,R,N,V){it&&z&&"M"===it[V][0]&&"M"!==z[V][0]&&(z.splice(V,0,["M",N.x,N.y]),R.bx=0,R.by=0,R.x=it[V][1],R.y=it[V][2],q=Math.max(J.length,U&&U.length||0))};q=Math.max(J.length,U&&U.length||0);for(var bt=0;bt<q;bt++){J[bt]&&(P=J[bt][0]),"C"!==P&&(j[bt]=P,bt&&(Z=j[bt-1])),J[bt]=at(J[bt],vt,Z),"A"!==j[bt]&&"C"===P&&(j[bt]="C"),Tt(J,bt),U&&(U[bt]&&(P=U[bt][0]),"C"!==P&&(rt[bt]=P,bt&&(Z=rt[bt-1])),U[bt]=at(U[bt],mt,Z),"A"!==rt[bt]&&"C"===P&&(rt[bt]="C"),Tt(U,bt)),Lt(J,U,vt,mt,bt),Lt(U,J,mt,vt,bt);var re=J[bt],Ce=U&&U[bt],we=re.length,Re=U&&Ce.length;vt.x=re[we-2],vt.y=re[we-1],vt.bx=parseFloat(re[we-4])||vt.x,vt.by=parseFloat(re[we-3])||vt.y,mt.bx=U&&(parseFloat(Ce[Re-4])||mt.x),mt.by=U&&(parseFloat(Ce[Re-3])||mt.y),mt.x=U&&Ce[Re-2],mt.y=U&&Ce[Re-1]}return U?[J,U]:J},Dt=/,?([a-z]),?/gi,Ct=function(W){return W.join(",").replace(Dt,"$1")},ut=function(W,K,J,U,vt){return W*(W*(-3*K+9*J-9*U+3*vt)+6*K-12*J+6*U)-3*K+3*J},dt=function(W,K,J,U,vt,mt,j,rt,P){null===P&&(P=1);for(var Z=(P=P>1?1:P<0?0:P)/2,at=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Tt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Lt=0,bt=0;bt<12;bt++){var re=Z*at[bt]+Z,Ce=ut(re,W,J,vt,j),we=ut(re,K,U,mt,rt);Lt+=Tt[bt]*Math.sqrt(Ce*Ce+we*we)}return Z*Lt},Yt=function(W,K,J,U,vt,mt,j,rt){for(var q,at,Tt,Lt,P=[],Z=[[],[]],bt=0;bt<2;++bt)if(0===bt?(at=6*W-12*J+6*vt,q=-3*W+9*J-9*vt+3*j,Tt=3*J-3*W):(at=6*K-12*U+6*mt,q=-3*K+9*U-9*mt+3*rt,Tt=3*U-3*K),Math.abs(q)<1e-12){if(Math.abs(at)<1e-12)continue;(Lt=-Tt/at)>0&&Lt<1&&P.push(Lt)}else{var re=at*at-4*Tt*q,Ce=Math.sqrt(re);if(!(re<0)){var we=(-at+Ce)/(2*q);we>0&&we<1&&P.push(we);var Re=(-at-Ce)/(2*q);Re>0&&Re<1&&P.push(Re)}}for(var R,it=P.length,z=it;it--;)Z[0][it]=(R=1-(Lt=P[it]))*R*R*W+3*R*R*Lt*J+3*R*Lt*Lt*vt+Lt*Lt*Lt*j,Z[1][it]=R*R*R*K+3*R*R*Lt*U+3*R*Lt*Lt*mt+Lt*Lt*Lt*rt;return Z[0][z]=W,Z[1][z]=K,Z[0][z+1]=j,Z[1][z+1]=rt,Z[0].length=Z[1].length=z+2,{min:{x:Math.min.apply(0,Z[0]),y:Math.min.apply(0,Z[1])},max:{x:Math.max.apply(0,Z[0]),y:Math.max.apply(0,Z[1])}}},Ut=function(W,K,J,U,vt,mt,j,rt){if(!(Math.max(W,J)<Math.min(vt,j)||Math.min(W,J)>Math.max(vt,j)||Math.max(K,U)<Math.min(mt,rt)||Math.min(K,U)>Math.max(mt,rt))){var q=(W-J)*(mt-rt)-(K-U)*(vt-j);if(q){var at=((W*U-K*J)*(vt-j)-(W-J)*(vt*rt-mt*j))/q,Tt=((W*U-K*J)*(mt-rt)-(K-U)*(vt*rt-mt*j))/q,Lt=+at.toFixed(2),bt=+Tt.toFixed(2);if(!(Lt<+Math.min(W,J).toFixed(2)||Lt>+Math.max(W,J).toFixed(2)||Lt<+Math.min(vt,j).toFixed(2)||Lt>+Math.max(vt,j).toFixed(2)||bt<+Math.min(K,U).toFixed(2)||bt>+Math.max(K,U).toFixed(2)||bt<+Math.min(mt,rt).toFixed(2)||bt>+Math.max(mt,rt).toFixed(2)))return{x:at,y:Tt}}}},Xt=function(W,K,J){return K>=W.x&&K<=W.x+W.width&&J>=W.y&&J<=W.y+W.height},yt=function(W,K,J,U,vt){if(vt)return[["M",+W+ +vt,K],["l",J-2*vt,0],["a",vt,vt,0,0,1,vt,vt],["l",0,U-2*vt],["a",vt,vt,0,0,1,-vt,vt],["l",2*vt-J,0],["a",vt,vt,0,0,1,-vt,-vt],["l",0,2*vt-U],["a",vt,vt,0,0,1,vt,-vt],["z"]];var mt=[["M",W,K],["l",J,0],["l",0,U],["l",-J,0],["z"]];return mt.parsePathArray=Ct,mt},$=function(W,K,J,U){return null===W&&(W=K=J=U=0),null===K&&(K=W.y,J=W.width,U=W.height,W=W.x),{x:W,y:K,width:J,w:J,height:U,h:U,x2:W+J,y2:K+U,cx:W+J/2,cy:K+U/2,r1:Math.min(J,U)/2,r2:Math.max(J,U)/2,r0:Math.sqrt(J*J+U*U)/2,path:yt(W,K,J,U),vb:[W,K,J,U].join(" ")}},gt=function(W,K,J,U,vt,mt,j,rt){(0,ae.kJ)(W)||(W=[W,K,J,U,vt,mt,j,rt]);var P=Yt.apply(null,W);return $(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y)},At=function(W,K,J,U,vt,mt,j,rt,P){var Z=1-P,q=Math.pow(Z,3),at=Math.pow(Z,2),Tt=P*P,Lt=Tt*P,Ce=W+2*P*(J-W)+Tt*(vt-2*J+W),we=K+2*P*(U-K)+Tt*(mt-2*U+K),Re=J+2*P*(vt-J)+Tt*(j-2*vt+J),it=U+2*P*(mt-U)+Tt*(rt-2*mt+U);return{x:q*W+3*at*P*J+3*Z*P*P*vt+Lt*j,y:q*K+3*at*P*U+3*Z*P*P*mt+Lt*rt,m:{x:Ce,y:we},n:{x:Re,y:it},start:{x:Z*W+P*J,y:Z*K+P*U},end:{x:Z*vt+P*j,y:Z*mt+P*rt},alpha:90-180*Math.atan2(Ce-Re,we-it)/Math.PI}},Kt=function(W,K,J){if(!function(W,K){return W=$(W),K=$(K),Xt(K,W.x,W.y)||Xt(K,W.x2,W.y)||Xt(K,W.x,W.y2)||Xt(K,W.x2,W.y2)||Xt(W,K.x,K.y)||Xt(W,K.x2,K.y)||Xt(W,K.x,K.y2)||Xt(W,K.x2,K.y2)||(W.x<K.x2&&W.x>K.x||K.x<W.x2&&K.x>W.x)&&(W.y<K.y2&&W.y>K.y||K.y<W.y2&&K.y>W.y)}(gt(W),gt(K)))return J?0:[];for(var rt=~~(dt.apply(0,W)/8),P=~~(dt.apply(0,K)/8),Z=[],q=[],at={},Tt=J?0:[],Lt=0;Lt<rt+1;Lt++){var bt=At.apply(0,W.concat(Lt/rt));Z.push({x:bt.x,y:bt.y,t:Lt/rt})}for(Lt=0;Lt<P+1;Lt++)bt=At.apply(0,K.concat(Lt/P)),q.push({x:bt.x,y:bt.y,t:Lt/P});for(Lt=0;Lt<rt;Lt++)for(var re=0;re<P;re++){var Ce=Z[Lt],we=Z[Lt+1],Re=q[re],it=q[re+1],z=Math.abs(we.x-Ce.x)<.001?"y":"x",R=Math.abs(it.x-Re.x)<.001?"y":"x",N=Ut(Ce.x,Ce.y,we.x,we.y,Re.x,Re.y,it.x,it.y);if(N){if(at[N.x.toFixed(4)]===N.y.toFixed(4))continue;at[N.x.toFixed(4)]=N.y.toFixed(4);var V=Ce.t+Math.abs((N[z]-Ce[z])/(we[z]-Ce[z]))*(we.t-Ce.t),lt=Re.t+Math.abs((N[R]-Re[R])/(it[R]-Re[R]))*(it.t-Re.t);V>=0&&V<=1&&lt>=0&&lt<=1&&(J?Tt+=1:Tt.push({x:N.x,y:N.y,t1:V,t2:lt}))}}return Tt},Rt=function(W,K){return function(W,K,J){W=me(W),K=me(K);for(var U,vt,mt,j,rt,P,Z,q,at,Tt,Lt=[],bt=0,re=W.length;bt<re;bt++){var Ce=W[bt];if("M"===Ce[0])U=rt=Ce[1],vt=P=Ce[2];else{"C"===Ce[0]?(at=[U,vt].concat(Ce.slice(1)),U=at[6],vt=at[7]):(at=[U,vt,U,vt,rt,P,rt,P],U=rt,vt=P);for(var we=0,Re=K.length;we<Re;we++){var it=K[we];if("M"===it[0])mt=Z=it[1],j=q=it[2];else{"C"===it[0]?(Tt=[mt,j].concat(it.slice(1)),mt=Tt[6],j=Tt[7]):(Tt=[mt,j,mt,j,Z,q,Z,q],mt=Z,j=q);for(var z=Kt(at,Tt,J),R=0,N=z.length;R<N;R++)z[R].segment1=bt,z[R].segment2=we,z[R].bez1=at,z[R].bez2=Tt;Lt=Lt.concat(z)}}}}return Lt}(W,K)};function Ht(W,K){var J=[],U=[];return W.length&&function vt(mt,j){if(1===mt.length)J.push(mt[0]),U.push(mt[0]);else{for(var rt=[],P=0;P<mt.length-1;P++)0===P&&J.push(mt[0]),P===mt.length-2&&U.push(mt[P+1]),rt[P]=[(1-j)*mt[P][0]+j*mt[P+1][0],(1-j)*mt[P][1]+j*mt[P+1][1]];vt(rt,j)}}(W,K),{left:J,right:U.reverse()}}var Jt=function(W,K){if(1===W.length)return W;var J=W.length-1,U=K.length-1,vt=J/U,mt=[];if(1===W.length&&"M"===W[0][0]){for(var j=0;j<U-J;j++)W.push(W[0]);return W}for(j=0;j<U;j++){var rt=Math.floor(vt*j);mt[rt]=(mt[rt]||0)+1}var P=mt.reduce(function(Z,q,at){return Z.concat(at===J?W[J]:function(W,K,J){if(1===J)return[[].concat(W)];var U=[];if("L"===K[0]||"C"===K[0]||"Q"===K[0])U=U.concat(function ye(W,K,J){var U=[[W[1],W[2]]];J=J||2;var vt=[];"A"===K[0]?(U.push(K[6]),U.push(K[7])):"C"===K[0]?(U.push([K[1],K[2]]),U.push([K[3],K[4]]),U.push([K[5],K[6]])):"S"===K[0]||"Q"===K[0]?(U.push([K[1],K[2]]),U.push([K[3],K[4]])):U.push([K[1],K[2]]);for(var mt=U,j=1/J,rt=0;rt<J-1;rt++){var Z=Ht(mt,j/(1-j*rt));vt.push(Z.left),mt=Z.right}return vt.push(mt),vt.map(function(at){var Tt=[];return 4===at.length&&(Tt.push("C"),Tt=Tt.concat(at[2])),at.length>=3&&(3===at.length&&Tt.push("Q"),Tt=Tt.concat(at[1])),2===at.length&&Tt.push("L"),Tt.concat(at[at.length-1])})}(W,K,J));else{var vt=[].concat(W);"M"===vt[0]&&(vt[0]="L");for(var mt=0;mt<=J-1;mt++)U.push(vt)}return U}(W[at],W[at+1],q))},[]);return P.unshift(W[0]),("Z"===K[U]||"z"===K[U])&&P.push("Z"),P},kt=function(W,K){if(W.length!==K.length)return!1;var J=!0;return(0,ae.S6)(W,function(U,vt){if(U!==K[vt])return J=!1,!1}),J};function Q(W,K,J){var U=null,vt=J;return K<vt&&(vt=K,U="add"),W<vt&&(vt=W,U="del"),{type:U,min:vt}}var Et=function(W,K){var J=function(W,K){var vt,J=W.length,U=K.length,j=0;if(0===J||0===U)return null;for(var rt=[],P=0;P<=J;P++)rt[P]=[],rt[P][0]={min:P};for(var Z=0;Z<=U;Z++)rt[0][Z]={min:Z};for(P=1;P<=J;P++)for(vt=W[P-1],Z=1;Z<=U;Z++)j=kt(vt,K[Z-1])?0:1,rt[P][Z]=Q(rt[P-1][Z].min+1,rt[P][Z-1].min+1,rt[P-1][Z-1].min+j);return rt}(W,K),U=W.length,vt=K.length,mt=[],j=1,rt=1;if(J[U][vt].min!==U){for(var P=1;P<=U;P++){var Z=J[P][P].min;rt=P;for(var q=j;q<=vt;q++)J[P][q].min<Z&&(Z=J[P][q].min,rt=q);J[P][j=rt].type&&mt.push({index:P-1,type:J[P][j].type})}for(P=mt.length-1;P>=0;P--)j=mt[P].index,"add"===mt[P].type?W.splice(j,0,[].concat(W[j])):W.splice(j,1)}var at=vt-(U=W.length);if(U<vt)for(P=0;P<at;P++)"z"===W[U-1][0]||"Z"===W[U-1][0]?W.splice(U-2,0,W[U-2]):W.push(W[U-1]),U+=1;return W};function te(W,K,J){for(var vt,U=[].concat(W),mt=1/(J+1),j=he(K)[0],rt=1;rt<=J;rt++)mt*=rt,0===(vt=Math.floor(W.length*mt))?U.unshift([j[0]*mt+W[vt][0]*(1-mt),j[1]*mt+W[vt][1]*(1-mt)]):U.splice(vt,0,[j[0]*mt+W[vt][0]*(1-mt),j[1]*mt+W[vt][1]*(1-mt)]);return U}function he(W){var K=[];switch(W[0]){case"M":case"L":case"T":K.push([W[1],W[2]]);break;case"A":K.push([W[6],W[7]]);break;case"Q":case"S":K.push([W[3],W[4]]),K.push([W[1],W[2]]);break;case"C":K.push([W[5],W[6]]),K.push([W[1],W[2]]),K.push([W[3],W[4]]);break;case"H":case"V":K.push([W[1],W[1]])}return K}var Fe=function(W,K){if(W.length<=1)return W;for(var J,U=0;U<K.length;U++)if(W[U][0]!==K[U][0])switch(J=he(W[U]),K[U][0]){case"M":W[U]=["M"].concat(J[0]);break;case"L":W[U]=["L"].concat(J[0]);break;case"A":W[U]=[].concat(K[U]),W[U][6]=J[0][0],W[U][7]=J[0][1];break;case"Q":if(J.length<2){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],1)}W[U]=["Q"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;case"T":W[U]=["T"].concat(J[0]);break;case"C":if(J.length<3){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],2)}W[U]=["C"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;case"S":if(J.length<2){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],1)}W[U]=["S"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;default:W[U]=K[U]}return W}},321:(rr,be,ct)=>{"use strict";ct.d(be,{$O:()=>zt,FE:()=>ve,mY:()=>Qt});var ae=ct(8126),Nt=ct(4085);function ve(Bt,Mt,Vt){var se=1;if((0,ae.HD)(Bt)&&(se=Bt.split("\n").length),se>1){var ne=function Zt(Bt,Mt){return Mt?Mt-Bt:.14*Bt}(Mt,Vt);return Mt*se+ne*(se-1)}return Mt}function Qt(Bt,Mt){var Vt=(0,Nt.L)(),se=0;if((0,ae.kK)(Bt)||""===Bt)return se;if(Vt.save(),Vt.font=Mt,(0,ae.HD)(Bt)&&Bt.includes("\n")){var ne=Bt.split("\n");(0,ae.S6)(ne,function(me){var Dt=Vt.measureText(me).width;se<Dt&&(se=Dt)})}else se=Vt.measureText(Bt).width;return Vt.restore(),se}function zt(Bt){return[Bt.fontStyle,Bt.fontVariant,Bt.fontWeight,Bt.fontSize+"px",Bt.fontFamily].join(" ").trim()}},8126:(rr,be,ct)=>{"use strict";ct.d(be,{As:()=>Nt,CD:()=>ae.CD,HD:()=>ae.HD,Kn:()=>ae.Kn,S6:()=>ae.S6,UY:()=>Zt,jC:()=>ae.jC,jU:()=>ve,kK:()=>ae.UM,mf:()=>ae.mf,pP:()=>Qt});var ae=ct(8250);function Nt(zt,Bt){var Mt=zt.indexOf(Bt);-1!==Mt&&zt.splice(Mt,1)}var ve=typeof window<"u"&&typeof window.document<"u";function Zt(zt,Bt){if(zt.isCanvas())return!0;for(var Mt=Bt.getParent(),Vt=!1;Mt;){if(Mt===zt){Vt=!0;break}Mt=Mt.getParent()}return Vt}function Qt(zt){return zt.cfg.visible&&zt.cfg.capture}},9174:(rr,be,ct)=>{"use strict";ct.d(be,{wN:()=>te,Ll:()=>At,x1:()=>Vt,aH:()=>U,lD:()=>Ut,Zr:()=>ae});var ae={};ct.r(ae),ct.d(ae,{distance:()=>ve,getBBoxByArray:()=>Qt,getBBoxRange:()=>zt,isNumberEqual:()=>Zt,piMod:()=>Bt});var Nt=ct(8250);function ve(j,rt,P,Z){var q=j-P,at=rt-Z;return Math.sqrt(q*q+at*at)}function Zt(j,rt){return Math.abs(j-rt)<.001}function Qt(j,rt){var P=(0,Nt.VV)(j),Z=(0,Nt.VV)(rt);return{x:P,y:Z,width:(0,Nt.Fp)(j)-P,height:(0,Nt.Fp)(rt)-Z}}function zt(j,rt,P,Z){return{minX:(0,Nt.VV)([j,P]),maxX:(0,Nt.Fp)([j,P]),minY:(0,Nt.VV)([rt,Z]),maxY:(0,Nt.Fp)([rt,Z])}}function Bt(j){return(j+2*Math.PI)%(2*Math.PI)}var Mt=ct(8235);const Vt={box:function(j,rt,P,Z){return Qt([j,P],[rt,Z])},length:function(j,rt,P,Z){return ve(j,rt,P,Z)},pointAt:function(j,rt,P,Z,q){return{x:(1-q)*j+q*P,y:(1-q)*rt+q*Z}},pointDistance:function(j,rt,P,Z,q,at){var Tt=(P-j)*(q-j)+(Z-rt)*(at-rt);return Tt<0?ve(j,rt,q,at):Tt>(P-j)*(P-j)+(Z-rt)*(Z-rt)?ve(P,Z,q,at):this.pointToLine(j,rt,P,Z,q,at)},pointToLine:function(j,rt,P,Z,q,at){var Tt=[P-j,Z-rt];if(Mt.I6(Tt,[0,0]))return Math.sqrt((q-j)*(q-j)+(at-rt)*(at-rt));var Lt=[-Tt[1],Tt[0]];return Mt.Fv(Lt,Lt),Math.abs(Mt.AK([q-j,at-rt],Lt))},tangentAngle:function(j,rt,P,Z){return Math.atan2(Z-rt,P-j)}};var se=1e-4;function ne(j,rt,P,Z,q,at){var Tt,Lt=1/0,bt=[P,Z],re=20;at&&at>200&&(re=at/10);for(var Ce=1/re,we=Ce/10,Re=0;Re<=re;Re++){var it=Re*Ce,z=[q.apply(null,j.concat([it])),q.apply(null,rt.concat([it]))];(R=ve(bt[0],bt[1],z[0],z[1]))<Lt&&(Tt=it,Lt=R)}if(0===Tt)return{x:j[0],y:rt[0]};if(1===Tt){var N=j.length;return{x:j[N-1],y:rt[N-1]}}for(Lt=1/0,Re=0;Re<32&&!(we<se);Re++){var V=Tt-we,lt=Tt+we,R=(z=[q.apply(null,j.concat([V])),q.apply(null,rt.concat([V]))],ve(bt[0],bt[1],z[0],z[1]));if(V>=0&&R<Lt)Tt=V,Lt=R;else{var _t=[q.apply(null,j.concat([lt])),q.apply(null,rt.concat([lt]))],St=ve(bt[0],bt[1],_t[0],_t[1]);lt<=1&&St<Lt?(Tt=lt,Lt=St):we*=.5}}return{x:q.apply(null,j.concat([Tt])),y:q.apply(null,rt.concat([Tt]))}}function Dt(j,rt,P,Z){var q=1-Z;return q*q*j+2*Z*q*rt+Z*Z*P}function Ct(j,rt,P){var Z=j+P-2*rt;if(Zt(Z,0))return[.5];var q=(j-rt)/Z;return q<=1&&q>=0?[q]:[]}function ut(j,rt,P,Z){return 2*(1-Z)*(rt-j)+2*Z*(P-rt)}function dt(j,rt,P,Z,q,at,Tt){var Lt=Dt(j,P,q,Tt),bt=Dt(rt,Z,at,Tt),re=Vt.pointAt(j,rt,P,Z,Tt),Ce=Vt.pointAt(P,Z,q,at,Tt);return[[j,rt,re.x,re.y,Lt,bt],[Lt,bt,Ce.x,Ce.y,q,at]]}function Yt(j,rt,P,Z,q,at,Tt){if(0===Tt)return(ve(j,rt,P,Z)+ve(P,Z,q,at)+ve(j,rt,q,at))/2;var Lt=dt(j,rt,P,Z,q,at,.5),bt=Lt[0],re=Lt[1];return bt.push(Tt-1),re.push(Tt-1),Yt.apply(null,bt)+Yt.apply(null,re)}const Ut={box:function(j,rt,P,Z,q,at){var Tt=Ct(j,P,q)[0],Lt=Ct(rt,Z,at)[0],bt=[j,q],re=[rt,at];return void 0!==Tt&&bt.push(Dt(j,P,q,Tt)),void 0!==Lt&&re.push(Dt(rt,Z,at,Lt)),Qt(bt,re)},length:function(j,rt,P,Z,q,at){return Yt(j,rt,P,Z,q,at,3)},nearestPoint:function(j,rt,P,Z,q,at,Tt,Lt){return ne([j,P,q],[rt,Z,at],Tt,Lt,Dt)},pointDistance:function(j,rt,P,Z,q,at,Tt,Lt){var bt=this.nearestPoint(j,rt,P,Z,q,at,Tt,Lt);return ve(bt.x,bt.y,Tt,Lt)},interpolationAt:Dt,pointAt:function(j,rt,P,Z,q,at,Tt){return{x:Dt(j,P,q,Tt),y:Dt(rt,Z,at,Tt)}},divide:function(j,rt,P,Z,q,at,Tt){return dt(j,rt,P,Z,q,at,Tt)},tangentAngle:function(j,rt,P,Z,q,at,Tt){var Lt=ut(j,P,q,Tt),bt=ut(rt,Z,at,Tt);return Bt(Math.atan2(bt,Lt))}};function Xt(j,rt,P,Z,q){var at=1-q;return at*at*at*j+3*rt*q*at*at+3*P*q*q*at+Z*q*q*q}function yt(j,rt,P,Z,q){var at=1-q;return 3*(at*at*(rt-j)+2*at*q*(P-rt)+q*q*(Z-P))}function $(j,rt,P,Z){var bt,re,Ce,q=-3*j+9*rt-9*P+3*Z,at=6*j-12*rt+6*P,Tt=3*rt-3*j,Lt=[];if(Zt(q,0))Zt(at,0)||(bt=-Tt/at)>=0&&bt<=1&&Lt.push(bt);else{var we=at*at-4*q*Tt;Zt(we,0)?Lt.push(-at/(2*q)):we>0&&(re=(-at-(Ce=Math.sqrt(we)))/(2*q),(bt=(-at+Ce)/(2*q))>=0&&bt<=1&&Lt.push(bt),re>=0&&re<=1&&Lt.push(re))}return Lt}function C(j,rt,P,Z,q,at,Tt,Lt,bt){var re=Xt(j,P,q,Tt,bt),Ce=Xt(rt,Z,at,Lt,bt),we=Vt.pointAt(j,rt,P,Z,bt),Re=Vt.pointAt(P,Z,q,at,bt),it=Vt.pointAt(q,at,Tt,Lt,bt),z=Vt.pointAt(we.x,we.y,Re.x,Re.y,bt),R=Vt.pointAt(Re.x,Re.y,it.x,it.y,bt);return[[j,rt,we.x,we.y,z.x,z.y,re,Ce],[re,Ce,R.x,R.y,it.x,it.y,Tt,Lt]]}function gt(j,rt,P,Z,q,at,Tt,Lt,bt){if(0===bt)return function me(j,rt){for(var P=0,Z=j.length,q=0;q<Z;q++)P+=ve(j[q],rt[q],j[(q+1)%Z],rt[(q+1)%Z]);return P/2}([j,P,q,Tt],[rt,Z,at,Lt]);var re=C(j,rt,P,Z,q,at,Tt,Lt,.5),Ce=re[0],we=re[1];return Ce.push(bt-1),we.push(bt-1),gt.apply(null,Ce)+gt.apply(null,we)}const At={extrema:$,box:function(j,rt,P,Z,q,at,Tt,Lt){for(var bt=[j,Tt],re=[rt,Lt],Ce=$(j,P,q,Tt),we=$(rt,Z,at,Lt),Re=0;Re<Ce.length;Re++)bt.push(Xt(j,P,q,Tt,Ce[Re]));for(Re=0;Re<we.length;Re++)re.push(Xt(rt,Z,at,Lt,we[Re]));return Qt(bt,re)},length:function(j,rt,P,Z,q,at,Tt,Lt){return gt(j,rt,P,Z,q,at,Tt,Lt,3)},nearestPoint:function(j,rt,P,Z,q,at,Tt,Lt,bt,re,Ce){return ne([j,P,q,Tt],[rt,Z,at,Lt],bt,re,Xt,Ce)},pointDistance:function(j,rt,P,Z,q,at,Tt,Lt,bt,re,Ce){var we=this.nearestPoint(j,rt,P,Z,q,at,Tt,Lt,bt,re,Ce);return ve(we.x,we.y,bt,re)},interpolationAt:Xt,pointAt:function(j,rt,P,Z,q,at,Tt,Lt,bt){return{x:Xt(j,P,q,Tt,bt),y:Xt(rt,Z,at,Lt,bt)}},divide:function(j,rt,P,Z,q,at,Tt,Lt,bt){return C(j,rt,P,Z,q,at,Tt,Lt,bt)},tangentAngle:function(j,rt,P,Z,q,at,Tt,Lt,bt){var re=yt(j,P,q,Tt,bt),Ce=yt(rt,Z,at,Lt,bt);return Bt(Math.atan2(Ce,re))}};function Kt(j,rt){var P=Math.abs(j);return rt>0?P:-1*P}function Jt(j,rt,P,Z,q,at){return P*Math.cos(q)*Math.cos(at)-Z*Math.sin(q)*Math.sin(at)+j}function kt(j,rt,P,Z,q,at){return P*Math.sin(q)*Math.cos(at)+Z*Math.cos(q)*Math.sin(at)+rt}function nt(j,rt,P){return{x:j*Math.cos(P),y:rt*Math.sin(P)}}function Et(j,rt,P){var Z=Math.cos(P),q=Math.sin(P);return[j*Z-rt*q,j*q+rt*Z]}const te={box:function(j,rt,P,Z,q,at,Tt){for(var Lt=function ye(j,rt,P){return Math.atan(-rt/j*Math.tan(P))}(P,Z,q),bt=1/0,re=-1/0,Ce=[at,Tt],we=2*-Math.PI;we<=2*Math.PI;we+=Math.PI){var Re=Lt+we;at<Tt?at<Re&&Re<Tt&&Ce.push(Re):Tt<Re&&Re<at&&Ce.push(Re)}for(we=0;we<Ce.length;we++){var it=Jt(j,0,P,Z,q,Ce[we]);it<bt&&(bt=it),it>re&&(re=it)}var z=function qt(j,rt,P){return Math.atan(rt/(j*Math.tan(P)))}(P,Z,q),R=1/0,N=-1/0,V=[at,Tt];for(we=2*-Math.PI;we<=2*Math.PI;we+=Math.PI){var lt=z+we;at<Tt?at<lt&&lt<Tt&&V.push(lt):Tt<lt&&lt<at&&V.push(lt)}for(we=0;we<V.length;we++){var _t=kt(0,rt,P,Z,q,V[we]);_t<R&&(R=_t),_t>N&&(N=_t)}return{x:bt,y:R,width:re-bt,height:N-R}},length:function(j,rt,P,Z,q,at,Tt){},nearestPoint:function(j,rt,P,Z,q,at,Tt,Lt,bt){var re=Et(Lt-j,bt-rt,-q),Re=function(j,rt,P,Z,q,at){var Tt=P,Lt=Z;if(0===Tt||0===Lt)return{x:j,y:rt};for(var R,N,bt=q-j,re=at-rt,Ce=Math.abs(bt),we=Math.abs(re),Re=Tt*Tt,it=Lt*Lt,z=Math.PI/4,V=0;V<4;V++){R=Tt*Math.cos(z),N=Lt*Math.sin(z);var lt=(Re-it)*Math.pow(Math.cos(z),3)/Tt,_t=(it-Re)*Math.pow(Math.sin(z),3)/Lt,St=R-lt,Gt=N-_t,ee=Ce-lt,ie=we-_t,Ee=Math.hypot(Gt,St),Te=Math.hypot(ie,ee);z+=Ee*Math.asin((St*ie-Gt*ee)/(Ee*Te))/Math.sqrt(Re+it-R*R-N*N),z=Math.min(Math.PI/2,Math.max(0,z))}return{x:j+Kt(R,bt),y:rt+Kt(N,re)}}(0,0,P,Z,re[0],re[1]),it=function Q(j,rt,P,Z){return(Math.atan2(Z*j,P*rt)+2*Math.PI)%(2*Math.PI)}(P,Z,Re.x,Re.y);it<at?Re=nt(P,Z,at):it>Tt&&(Re=nt(P,Z,Tt));var z=Et(Re.x,Re.y,q);return{x:z[0]+j,y:z[1]+rt}},pointDistance:function(j,rt,P,Z,q,at,Tt,Lt,bt){var re=this.nearestPoint(j,rt,P,Z,Lt,bt);return ve(re.x,re.y,Lt,bt)},pointAt:function(j,rt,P,Z,q,at,Tt,Lt){var bt=(Tt-at)*Lt+at;return{x:Jt(j,0,P,Z,q,bt),y:kt(0,rt,P,Z,q,bt)}},tangentAngle:function(j,rt,P,Z,q,at,Tt,Lt){var bt=(Tt-at)*Lt+at,re=function Rt(j,rt,P,Z,q,at,Tt,Lt){return-1*P*Math.cos(q)*Math.sin(Lt)-Z*Math.sin(q)*Math.cos(Lt)}(0,0,P,Z,q,0,0,bt),Ce=function Ht(j,rt,P,Z,q,at,Tt,Lt){return-1*P*Math.sin(q)*Math.sin(Lt)+Z*Math.cos(q)*Math.cos(Lt)}(0,0,P,Z,q,0,0,bt);return Bt(Math.atan2(Ce,re))}};function he(j){for(var rt=0,P=[],Z=0;Z<j.length-1;Z++){var q=j[Z],at=j[Z+1],Tt=ve(q[0],q[1],at[0],at[1]);P.push({from:q,to:at,length:Tt}),rt+=Tt}return{segments:P,totalLength:rt}}const U={box:function(j){for(var rt=[],P=[],Z=0;Z<j.length;Z++){var q=j[Z];rt.push(q[0]),P.push(q[1])}return Qt(rt,P)},length:function(j){return function Fe(j){if(j.length<2)return 0;for(var rt=0,P=0;P<j.length-1;P++){var Z=j[P],q=j[P+1];rt+=ve(Z[0],Z[1],q[0],q[1])}return rt}(j)},pointAt:function(j,rt){return function W(j,rt){if(rt>1||rt<0||j.length<2)return null;var P=he(j),Z=P.segments,q=P.totalLength;if(0===q)return{x:j[0][0],y:j[0][1]};for(var at=0,Tt=null,Lt=0;Lt<Z.length;Lt++){var bt=Z[Lt],re=bt.from,Ce=bt.to,we=bt.length/q;if(rt>=at&&rt<=at+we){Tt=Vt.pointAt(re[0],re[1],Ce[0],Ce[1],(rt-at)/we);break}at+=we}return Tt}(j,rt)},pointDistance:function(j,rt,P){return function J(j,rt,P){for(var Z=1/0,q=0;q<j.length-1;q++){var at=j[q],Tt=j[q+1],Lt=Vt.pointDistance(at[0],at[1],Tt[0],Tt[1],rt,P);Lt<Z&&(Z=Lt)}return Z}(j,rt,P)},tangentAngle:function(j,rt){return function K(j,rt){if(rt>1||rt<0||j.length<2)return 0;for(var P=he(j),Z=P.segments,q=P.totalLength,at=0,Tt=0,Lt=0;Lt<Z.length;Lt++){var bt=Z[Lt],re=bt.from,Ce=bt.to,we=bt.length/q;if(rt>=at&&rt<=at+we){Tt=Math.atan2(Ce[1]-re[1],Ce[0]-re[0]);break}at+=we}return Tt}(j,rt)}}},1946:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Qt});var ae=ct(655),Nt=ct(378),ve=ct(6610);const Qt=function(zt){function Bt(Mt){var Vt=zt.call(this)||this;Vt.destroyed=!1;var se=Vt.getDefaultCfg();return Vt.cfg=(0,ve.CD)(se,Mt),Vt}return(0,ae.ZT)(Bt,zt),Bt.prototype.getDefaultCfg=function(){return{}},Bt.prototype.get=function(Mt){return this.cfg[Mt]},Bt.prototype.set=function(Mt,Vt){this.cfg[Mt]=Vt},Bt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Bt}(Nt.Z)},1512:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Re});var ae=ct(655),Nt=ct(2260),ve=ct(2573),Zt=ct(6610),Qt=ct(8250),zt=ct(9194),Bt=ct(4943);function Mt(it,z,R,N,V){var lt=it*it,_t=lt*it;return((1-3*it+3*lt-_t)*z+(4-6*lt+3*_t)*R+(1+3*it+3*lt-3*_t)*N+_t*V)/6}const ne=it=>()=>it;function dt(it,z){var R=z-it;return R?function me(it,z){return function(R){return it+R*z}}(it,R):ne(isNaN(it)?z:it)}const Yt=function it(z){var R=function ut(it){return 1==(it=+it)?dt:function(z,R){return R-z?function Dt(it,z,R){return it=Math.pow(it,R),z=Math.pow(z,R)-it,R=1/R,function(N){return Math.pow(it+N*z,R)}}(z,R,it):ne(isNaN(z)?R:z)}}(z);function N(V,lt){var _t=R((V=(0,Bt.B8)(V)).r,(lt=(0,Bt.B8)(lt)).r),St=R(V.g,lt.g),Gt=R(V.b,lt.b),ee=dt(V.opacity,lt.opacity);return function(ie){return V.r=_t(ie),V.g=St(ie),V.b=Gt(ie),V.opacity=ee(ie),V+""}}return N.gamma=it,N}(1);function Ut(it){return function(z){var _t,St,R=z.length,N=new Array(R),V=new Array(R),lt=new Array(R);for(_t=0;_t<R;++_t)St=(0,Bt.B8)(z[_t]),N[_t]=St.r||0,V[_t]=St.g||0,lt[_t]=St.b||0;return N=it(N),V=it(V),lt=it(lt),St.opacity=1,function(Gt){return St.r=N(Gt),St.g=V(Gt),St.b=lt(Gt),St+""}}}function $(it,z){z||(z=[]);var V,R=it?Math.min(z.length,it.length):0,N=z.slice();return function(lt){for(V=0;V<R;++V)N[V]=it[V]*(1-lt)+z[V]*lt;return N}}function C(it){return ArrayBuffer.isView(it)&&!(it instanceof DataView)}function gt(it,z){return(C(z)?$:At)(it,z)}function At(it,z){var _t,R=z?z.length:0,N=it?Math.min(R,it.length):0,V=new Array(N),lt=new Array(R);for(_t=0;_t<N;++_t)V[_t]=Q(it[_t],z[_t]);for(;_t<R;++_t)lt[_t]=z[_t];return function(St){for(_t=0;_t<N;++_t)lt[_t]=V[_t](St);return lt}}function Kt(it,z){var R=new Date;return it=+it,z=+z,function(N){return R.setTime(it*(1-N)+z*N),R}}function oe(it,z){return it=+it,z=+z,function(R){return it*(1-R)+z*R}}function Rt(it,z){var V,R={},N={};for(V in(null===it||"object"!=typeof it)&&(it={}),(null===z||"object"!=typeof z)&&(z={}),z)V in it?R[V]=Q(it[V],z[V]):N[V]=z[V];return function(lt){for(V in R)N[V]=R[V](lt);return N}}Ut(function Vt(it){var z=it.length-1;return function(R){var N=R<=0?R=0:R>=1?(R=1,z-1):Math.floor(R*z),V=it[N],lt=it[N+1];return Mt((R-N/z)*z,N>0?it[N-1]:2*V-lt,V,lt,N<z-1?it[N+2]:2*lt-V)}}),Ut(function se(it){var z=it.length;return function(R){var N=Math.floor(((R%=1)<0?++R:R)*z);return Mt((R-N/z)*z,it[(N+z-1)%z],it[N%z],it[(N+1)%z],it[(N+2)%z])}});var Ht=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(Ht.source,"g");function kt(it,z){var N,V,lt,R=Ht.lastIndex=ye.lastIndex=0,_t=-1,St=[],Gt=[];for(it+="",z+="";(N=Ht.exec(it))&&(V=ye.exec(z));)(lt=V.index)>R&&(lt=z.slice(R,lt),St[_t]?St[_t]+=lt:St[++_t]=lt),(N=N[0])===(V=V[0])?St[_t]?St[_t]+=V:St[++_t]=V:(St[++_t]=null,Gt.push({i:_t,x:oe(N,V)})),R=ye.lastIndex;return R<z.length&&(lt=z.slice(R),St[_t]?St[_t]+=lt:St[++_t]=lt),St.length<2?Gt[0]?function Jt(it){return function(z){return it(z)+""}}(Gt[0].x):function qt(it){return function(){return it}}(z):(z=Gt.length,function(ee){for(var Ee,ie=0;ie<z;++ie)St[(Ee=Gt[ie]).i]=Ee.x(ee);return St.join("")})}function Q(it,z){var N,R=typeof z;return null==z||"boolean"===R?ne(z):("number"===R?oe:"string"===R?(N=(0,Bt.ZP)(z))?(z=N,Yt):kt:z instanceof Bt.ZP?Yt:z instanceof Date?Kt:C(z)?$:Array.isArray(z)?At:"function"!=typeof z.valueOf&&"function"!=typeof z.toString||isNaN(z)?Rt:oe)(it,z)}var nt=ct(7407),Et=ct(2144),te=function(it){return["fill","stroke","fillStyle","strokeStyle"].includes(it)},he=function(it){return/^[r,R,L,l]{1}[\s]*\(/.test(it)},Fe=[1,0,0,0,1,0,0,0,1];function K(it,z,R){var N=z.startTime;if(R<N+z.delay||z._paused)return!1;var lt,_t=z.duration,Gt=(0,nt._)(z.easing);if(R=R-N-z.delay,z.repeat)lt=Gt(lt=R%_t/_t);else{if(!((lt=R/_t)<1))return it.attr(z.onFrame?z.onFrame(1):z.toAttrs),!0;lt=Gt(lt)}if(z.onFrame){var ee=z.onFrame(lt);it.attr(ee)}else!function W(it,z,R){var N={},V=z.fromAttrs,lt=z.toAttrs;if(!it.destroyed){var _t;for(var St in lt)if(!(0,Qt.Xy)(V[St],lt[St]))if("path"===St){var Gt=lt[St],ee=V[St];Gt.length>ee.length?(Gt=Et.parsePathString(lt[St]),ee=Et.parsePathString(V[St]),ee=Et.fillPathByDiff(ee,Gt),ee=Et.formatPath(ee,Gt),z.fromAttrs.path=ee,z.toAttrs.path=Gt):z.pathFormatted||(Gt=Et.parsePathString(lt[St]),ee=Et.parsePathString(V[St]),ee=Et.formatPath(ee,Gt),z.fromAttrs.path=ee,z.toAttrs.path=Gt,z.pathFormatted=!0),N[St]=[];for(var ie=0;ie<Gt.length;ie++){for(var Ee=Gt[ie],Te=ee[ie],He=[],Xe=0;Xe<Ee.length;Xe++)(0,Qt.hj)(Ee[Xe])&&Te&&(0,Qt.hj)(Te[Xe])?(_t=Q(Te[Xe],Ee[Xe]),He.push(_t(R))):He.push(Ee[Xe]);N[St].push(He)}}else if("matrix"===St){var qe=gt(V[St]||Fe,lt[St]||Fe)(R);N[St]=qe}else te(St)&&he(lt[St])?N[St]=lt[St]:(0,Qt.mf)(lt[St])||(_t=Q(V[St],lt[St]),N[St]=_t(R));it.attr(N)}}(it,z,lt);return!1}const U=function(){function it(z){this.animators=[],this.current=0,this.timer=null,this.canvas=z}return it.prototype.initTimer=function(){var N,V,lt,z=this;this.timer=zt.HT(function(_t){if(z.current=_t,z.animators.length>0){for(var St=z.animators.length-1;St>=0;St--)if((N=z.animators[St]).destroyed)z.removeAnimator(St);else{if(!N.isAnimatePaused())for(var Gt=(V=N.get("animations")).length-1;Gt>=0;Gt--)K(N,lt=V[Gt],_t)&&(V.splice(Gt,1),lt.callback&&lt.callback());0===V.length&&z.removeAnimator(St)}z.canvas.get("autoDraw")||z.canvas.draw()}})},it.prototype.addAnimator=function(z){this.animators.push(z)},it.prototype.removeAnimator=function(z){this.animators.splice(z,1)},it.prototype.isAnimating=function(){return!!this.animators.length},it.prototype.stop=function(){this.timer&&this.timer.stop()},it.prototype.stopAllAnimations=function(z){void 0===z&&(z=!0),this.animators.forEach(function(R){R.stopAnimate(z)}),this.animators=[],this.canvas.draw()},it.prototype.getTime=function(){return this.current},it}();var vt=ct(1069),P=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function q(it,z,R){R.name=z,R.target=it,R.currentTarget=it,R.delegateTarget=it,it.emit(z,R)}function at(it,z,R){if(R.bubbles){var N=void 0,V=!1;if("mouseenter"===z?(N=R.fromShape,V=!0):"mouseleave"===z&&(V=!0,N=R.toShape),it.isCanvas()&&V)return;if(N&&(0,Zt.UY)(it,N))return void(R.bubbles=!1);R.name=z,R.currentTarget=it,R.delegateTarget=it,it.emit(z,R)}}const Lt=function(){function it(z){var R=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(N){R._triggerEvent(N.type,N)},this._onDocumentMove=function(N){if(R.canvas.get("el")!==N.target&&(R.dragging||R.currentShape)){var _t=R._getPointInfo(N);R.dragging&&R._emitEvent("drag",N,_t,R.draggingShape)}},this._onDocumentMouseUp=function(N){if(R.canvas.get("el")!==N.target&&R.dragging){var _t=R._getPointInfo(N);R.draggingShape&&R._emitEvent("drop",N,_t,null),R._emitEvent("dragend",N,_t,R.draggingShape),R._afterDrag(R.draggingShape,_t,N)}},this.canvas=z.canvas}return it.prototype.init=function(){this._bindEvents()},it.prototype._bindEvents=function(){var z=this,R=this.canvas.get("el");(0,Zt.S6)(P,function(N){R.addEventListener(N,z._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},it.prototype._clearEvents=function(){var z=this,R=this.canvas.get("el");(0,Zt.S6)(P,function(N){R.removeEventListener(N,z._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},it.prototype._getEventObj=function(z,R,N,V,lt,_t){var St=new vt.Z(z,R);return St.fromShape=lt,St.toShape=_t,St.x=N.x,St.y=N.y,St.clientX=N.clientX,St.clientY=N.clientY,St.propagationPath.push(V),St},it.prototype._getShape=function(z,R){return this.canvas.getShape(z.x,z.y,R)},it.prototype._getPointInfo=function(z){var R=this.canvas,N=R.getClientByEvent(z),V=R.getPointByEvent(z);return{x:V.x,y:V.y,clientX:N.x,clientY:N.y}},it.prototype._triggerEvent=function(z,R){var N=this._getPointInfo(R),V=this._getShape(N,R),lt=this["_on"+z],_t=!1;if(lt)lt.call(this,N,V,R);else{var St=this.currentShape;"mouseenter"===z||"dragenter"===z||"mouseover"===z?(this._emitEvent(z,R,N,null,null,V),V&&this._emitEvent(z,R,N,V,null,V),"mouseenter"===z&&this.draggingShape&&this._emitEvent("dragenter",R,N,null)):"mouseleave"===z||"dragleave"===z||"mouseout"===z?(_t=!0,St&&this._emitEvent(z,R,N,St,St,null),this._emitEvent(z,R,N,null,St,null),"mouseleave"===z&&this.draggingShape&&this._emitEvent("dragleave",R,N,null)):this._emitEvent(z,R,N,V,null,null)}if(_t||(this.currentShape=V),V&&!V.get("destroyed")){var Gt=this.canvas;Gt.get("el").style.cursor=V.attr("cursor")||Gt.get("cursor")}},it.prototype._onmousedown=function(z,R,N){0===N.button&&(this.mousedownShape=R,this.mousedownPoint=z,this.mousedownTimeStamp=N.timeStamp),this._emitEvent("mousedown",N,z,R,null,null)},it.prototype._emitMouseoverEvents=function(z,R,N,V){var lt=this.canvas.get("el");N!==V&&(N&&(this._emitEvent("mouseout",z,R,N,N,V),this._emitEvent("mouseleave",z,R,N,N,V),(!V||V.get("destroyed"))&&(lt.style.cursor=this.canvas.get("cursor"))),V&&(this._emitEvent("mouseover",z,R,V,N,V),this._emitEvent("mouseenter",z,R,V,N,V)))},it.prototype._emitDragoverEvents=function(z,R,N,V,lt){V?(V!==N&&(N&&this._emitEvent("dragleave",z,R,N,N,V),this._emitEvent("dragenter",z,R,V,N,V)),lt||this._emitEvent("dragover",z,R,V)):N&&this._emitEvent("dragleave",z,R,N,N,V),lt&&this._emitEvent("dragover",z,R,V)},it.prototype._afterDrag=function(z,R,N){z&&(z.set("capture",!0),this.draggingShape=null),this.dragging=!1;var V=this._getShape(R,N);V!==z&&this._emitMouseoverEvents(N,R,z,V),this.currentShape=V},it.prototype._onmouseup=function(z,R,N){if(0===N.button){var V=this.draggingShape;this.dragging?(V&&this._emitEvent("drop",N,z,R),this._emitEvent("dragend",N,z,V),this._afterDrag(V,z,N)):(this._emitEvent("mouseup",N,z,R),R===this.mousedownShape&&this._emitEvent("click",N,z,R),this.mousedownShape=null,this.mousedownPoint=null)}},it.prototype._ondragover=function(z,R,N){N.preventDefault(),this._emitDragoverEvents(N,z,this.currentShape,R,!0)},it.prototype._onmousemove=function(z,R,N){var V=this.canvas,lt=this.currentShape,_t=this.draggingShape;if(this.dragging)_t&&this._emitDragoverEvents(N,z,lt,R,!1),this._emitEvent("drag",N,z,_t);else{var St=this.mousedownPoint;if(St){var Gt=this.mousedownShape,Ee=St.clientX-z.clientX,Te=St.clientY-z.clientY;N.timeStamp-this.mousedownTimeStamp>120||Ee*Ee+Te*Te>40?Gt&&Gt.get("draggable")?((_t=this.mousedownShape).set("capture",!1),this.draggingShape=_t,this.dragging=!0,this._emitEvent("dragstart",N,z,_t),this.mousedownShape=null,this.mousedownPoint=null):!Gt&&V.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",N,z,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R)):(this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R))}else this._emitMouseoverEvents(N,z,lt,R),this._emitEvent("mousemove",N,z,R)}},it.prototype._emitEvent=function(z,R,N,V,lt,_t){var St=this._getEventObj(z,R,N,V,lt,_t);if(V){St.shape=V,q(V,z,St);for(var Gt=V.getParent();Gt;)Gt.emitDelegation(z,St),St.propagationStopped||at(Gt,z,St),St.propagationPath.push(Gt),Gt=Gt.getParent()}else q(this.canvas,z,St)},it.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},it}();var re=(0,Nt.qY)(),Ce=re&&"firefox"===re.name;const Re=function(it){function z(R){var N=it.call(this,R)||this;return N.initContainer(),N.initDom(),N.initEvents(),N.initTimeline(),N}return(0,ae.ZT)(z,it),z.prototype.getDefaultCfg=function(){var R=it.prototype.getDefaultCfg.call(this);return R.cursor="default",R.supportCSSTransform=!1,R},z.prototype.initContainer=function(){var R=this.get("container");(0,Zt.HD)(R)&&(R=document.getElementById(R),this.set("container",R))},z.prototype.initDom=function(){var R=this.createDom();this.set("el",R),this.get("container").appendChild(R),this.setDOMSize(this.get("width"),this.get("height"))},z.prototype.initEvents=function(){var R=new Lt({canvas:this});R.init(),this.set("eventController",R)},z.prototype.initTimeline=function(){var R=new U(this);this.set("timeline",R)},z.prototype.setDOMSize=function(R,N){var V=this.get("el");Zt.jU&&(V.style.width=R+"px",V.style.height=N+"px")},z.prototype.changeSize=function(R,N){this.setDOMSize(R,N),this.set("width",R),this.set("height",N),this.onCanvasChange("changeSize")},z.prototype.getRenderer=function(){return this.get("renderer")},z.prototype.getCursor=function(){return this.get("cursor")},z.prototype.setCursor=function(R){this.set("cursor",R);var N=this.get("el");Zt.jU&&N&&(N.style.cursor=R)},z.prototype.getPointByEvent=function(R){if(this.get("supportCSSTransform")){if(Ce&&!(0,Zt.kK)(R.layerX)&&R.layerX!==R.offsetX)return{x:R.layerX,y:R.layerY};if(!(0,Zt.kK)(R.offsetX))return{x:R.offsetX,y:R.offsetY}}var V=this.getClientByEvent(R);return this.getPointByClient(V.x,V.y)},z.prototype.getClientByEvent=function(R){var N=R;return R.touches&&(N="touchend"===R.type?R.changedTouches[0]:R.touches[0]),{x:N.clientX,y:N.clientY}},z.prototype.getPointByClient=function(R,N){var lt=this.get("el").getBoundingClientRect();return{x:R-lt.left,y:N-lt.top}},z.prototype.getClientByPoint=function(R,N){var lt=this.get("el").getBoundingClientRect();return{x:R+lt.left,y:N+lt.top}},z.prototype.draw=function(){},z.prototype.removeDom=function(){var R=this.get("el");R.parentNode.removeChild(R)},z.prototype.clearEvents=function(){this.get("eventController").destroy()},z.prototype.isCanvas=function(){return!0},z.prototype.getParent=function(){return null},z.prototype.destroy=function(){var R=this.get("timeline");this.get("destroyed")||(this.clear(),R&&R.stop(),this.clearEvents(),this.removeDom(),it.prototype.destroy.call(this))},z}(ve.Z)},2573:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>me});var ae=ct(655),Nt=ct(4089),ve=ct(6610),Zt={},Qt="_INDEX";function zt(Dt,Ct){if(Dt.set("canvas",Ct),Dt.isGroup()){var ut=Dt.get("children");ut.length&&ut.forEach(function(dt){zt(dt,Ct)})}}function Bt(Dt,Ct){if(Dt.set("timeline",Ct),Dt.isGroup()){var ut=Dt.get("children");ut.length&&ut.forEach(function(dt){Bt(dt,Ct)})}}const me=function(Dt){function Ct(){return null!==Dt&&Dt.apply(this,arguments)||this}return(0,ae.ZT)(Ct,Dt),Ct.prototype.isCanvas=function(){return!1},Ct.prototype.getBBox=function(){var ut=1/0,dt=-1/0,Yt=1/0,Ut=-1/0,Xt=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});return Xt.length>0?(0,ve.S6)(Xt,function($){var C=$.getBBox(),gt=C.minX,At=C.maxX,Kt=C.minY,oe=C.maxY;gt<ut&&(ut=gt),At>dt&&(dt=At),Kt<Yt&&(Yt=Kt),oe>Ut&&(Ut=oe)}):(ut=0,dt=0,Yt=0,Ut=0),{x:ut,y:Yt,minX:ut,minY:Yt,maxX:dt,maxY:Ut,width:dt-ut,height:Ut-Yt}},Ct.prototype.getCanvasBBox=function(){var ut=1/0,dt=-1/0,Yt=1/0,Ut=-1/0,Xt=this.getChildren().filter(function($){return $.get("visible")&&(!$.isGroup()||$.isGroup()&&$.getChildren().length>0)});return Xt.length>0?(0,ve.S6)(Xt,function($){var C=$.getCanvasBBox(),gt=C.minX,At=C.maxX,Kt=C.minY,oe=C.maxY;gt<ut&&(ut=gt),At>dt&&(dt=At),Kt<Yt&&(Yt=Kt),oe>Ut&&(Ut=oe)}):(ut=0,dt=0,Yt=0,Ut=0),{x:ut,y:Yt,minX:ut,minY:Yt,maxX:dt,maxY:Ut,width:dt-ut,height:Ut-Yt}},Ct.prototype.getDefaultCfg=function(){var ut=Dt.prototype.getDefaultCfg.call(this);return ut.children=[],ut},Ct.prototype.onAttrChange=function(ut,dt,Yt){if(Dt.prototype.onAttrChange.call(this,ut,dt,Yt),"matrix"===ut){var Ut=this.getTotalMatrix();this._applyChildrenMarix(Ut)}},Ct.prototype.applyMatrix=function(ut){var dt=this.getTotalMatrix();Dt.prototype.applyMatrix.call(this,ut);var Yt=this.getTotalMatrix();Yt!==dt&&this._applyChildrenMarix(Yt)},Ct.prototype._applyChildrenMarix=function(ut){var dt=this.getChildren();(0,ve.S6)(dt,function(Yt){Yt.applyMatrix(ut)})},Ct.prototype.addShape=function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];var Yt=ut[0],Ut=ut[1];(0,ve.Kn)(Yt)?Ut=Yt:Ut.type=Yt;var Xt=Zt[Ut.type];Xt||(Xt=(0,ve.jC)(Ut.type),Zt[Ut.type]=Xt);var $=new(this.getShapeBase()[Xt])(Ut);return this.add($),$},Ct.prototype.addGroup=function(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut[dt]=arguments[dt];var Xt,Yt=ut[0],Ut=ut[1];if((0,ve.mf)(Yt))Xt=new Yt(Ut||{parent:this});else{var yt=Yt||{};Xt=new(this.getGroupBase())(yt)}return this.add(Xt),Xt},Ct.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},Ct.prototype.getShape=function(ut,dt,Yt){if(!(0,ve.pP)(this))return null;var Xt,Ut=this.getChildren();if(this.isCanvas())Xt=this._findShape(Ut,ut,dt,Yt);else{var yt=[ut,dt,1];yt=this.invertFromMatrix(yt),this.isClipped(yt[0],yt[1])||(Xt=this._findShape(Ut,yt[0],yt[1],Yt))}return Xt},Ct.prototype._findShape=function(ut,dt,Yt,Ut){for(var Xt=null,yt=ut.length-1;yt>=0;yt--){var $=ut[yt];if((0,ve.pP)($)&&($.isGroup()?Xt=$.getShape(dt,Yt,Ut):$.isHit(dt,Yt)&&(Xt=$)),Xt)break}return Xt},Ct.prototype.add=function(ut){var dt=this.getCanvas(),Yt=this.getChildren(),Ut=this.get("timeline"),Xt=ut.getParent();Xt&&function Vt(Dt,Ct,ut){void 0===ut&&(ut=!0),ut?Ct.destroy():(Ct.set("parent",null),Ct.set("canvas",null)),(0,ve.As)(Dt.getChildren(),Ct)}(Xt,ut,!1),ut.set("parent",this),dt&&zt(ut,dt),Ut&&Bt(ut,Ut),Yt.push(ut),ut.onCanvasChange("add"),this._applyElementMatrix(ut)},Ct.prototype._applyElementMatrix=function(ut){var dt=this.getTotalMatrix();dt&&ut.applyMatrix(dt)},Ct.prototype.getChildren=function(){return this.get("children")},Ct.prototype.sort=function(){var ut=this.getChildren();(0,ve.S6)(ut,function(dt,Yt){return dt[Qt]=Yt,dt}),ut.sort(function se(Dt){return function(Ct,ut){var dt=Dt(Ct,ut);return 0===dt?Ct[Qt]-ut[Qt]:dt}}(function(dt,Yt){return dt.get("zIndex")-Yt.get("zIndex")})),this.onCanvasChange("sort")},Ct.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ut=this.getChildren(),dt=ut.length-1;dt>=0;dt--)ut[dt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Ct.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Dt.prototype.destroy.call(this))},Ct.prototype.getFirst=function(){return this.getChildByIndex(0)},Ct.prototype.getLast=function(){var ut=this.getChildren();return this.getChildByIndex(ut.length-1)},Ct.prototype.getChildByIndex=function(ut){return this.getChildren()[ut]},Ct.prototype.getCount=function(){return this.getChildren().length},Ct.prototype.contain=function(ut){return this.getChildren().indexOf(ut)>-1},Ct.prototype.removeChild=function(ut,dt){void 0===dt&&(dt=!0),this.contain(ut)&&ut.remove(dt)},Ct.prototype.findAll=function(ut){var dt=[],Yt=this.getChildren();return(0,ve.S6)(Yt,function(Ut){ut(Ut)&&dt.push(Ut),Ut.isGroup()&&(dt=dt.concat(Ut.findAll(ut)))}),dt},Ct.prototype.find=function(ut){var dt=null,Yt=this.getChildren();return(0,ve.S6)(Yt,function(Ut){if(ut(Ut)?dt=Ut:Ut.isGroup()&&(dt=Ut.find(ut)),dt)return!1}),dt},Ct.prototype.findById=function(ut){return this.find(function(dt){return dt.get("id")===ut})},Ct.prototype.findByClassName=function(ut){return this.find(function(dt){return dt.get("className")===ut})},Ct.prototype.findAllByName=function(ut){return this.findAll(function(dt){return dt.get("name")===ut})},Ct}(Nt.Z)},4089:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Ut});var ae=ct(655),Nt=ct(8250),ve=ct(3882),Zt=ct(6610),Qt=ct(2727),zt=ct(1946),Bt=ve.vs,Mt="matrix",Vt=["zIndex","capture","visible","type"],se=["repeat"];function Ct(Xt,yt){var $={},C=yt.attrs;for(var gt in Xt)$[gt]=C[gt];return $}const Ut=function(Xt){function yt($){var C=Xt.call(this,$)||this;C.attrs={};var gt=C.getDefaultAttrs();return(0,Nt.CD)(gt,$.attrs),C.attrs=gt,C.initAttrs(gt),C.initAnimate(),C}return(0,ae.ZT)(yt,Xt),yt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},yt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},yt.prototype.onCanvasChange=function($){},yt.prototype.initAttrs=function($){},yt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},yt.prototype.isGroup=function(){return!1},yt.prototype.getParent=function(){return this.get("parent")},yt.prototype.getCanvas=function(){return this.get("canvas")},yt.prototype.attr=function(){for(var $,C=[],gt=0;gt<arguments.length;gt++)C[gt]=arguments[gt];var At=C[0],Kt=C[1];if(!At)return this.attrs;if((0,Nt.Kn)(At)){for(var oe in At)this.setAttr(oe,At[oe]);return this.afterAttrsChange(At),this}return 2===C.length?(this.setAttr(At,Kt),this.afterAttrsChange((($={})[At]=Kt,$)),this):this.attrs[At]},yt.prototype.isClipped=function($,C){var gt=this.getClip();return gt&&!gt.isHit($,C)},yt.prototype.setAttr=function($,C){var gt=this.attrs[$];gt!==C&&(this.attrs[$]=C,this.onAttrChange($,C,gt))},yt.prototype.onAttrChange=function($,C,gt){"matrix"===$&&this.set("totalMatrix",null)},yt.prototype.afterAttrsChange=function($){if(this.cfg.isClipShape){var C=this.cfg.applyTo;C&&C.onCanvasChange("clip")}else this.onCanvasChange("attr")},yt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},yt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},yt.prototype.setZIndex=function($){this.set("zIndex",$);var C=this.getParent();return C&&C.sort(),this},yt.prototype.toFront=function(){var $=this.getParent();if($){var C=$.getChildren(),At=(this.get("el"),C.indexOf(this));C.splice(At,1),C.push(this),this.onCanvasChange("zIndex")}},yt.prototype.toBack=function(){var $=this.getParent();if($){var C=$.getChildren(),At=(this.get("el"),C.indexOf(this));C.splice(At,1),C.unshift(this),this.onCanvasChange("zIndex")}},yt.prototype.remove=function($){void 0===$&&($=!0);var C=this.getParent();C?((0,Zt.As)(C.getChildren(),this),C.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),$&&this.destroy()},yt.prototype.resetMatrix=function(){this.attr(Mt,this.getDefaultMatrix()),this.onCanvasChange("matrix")},yt.prototype.getMatrix=function(){return this.attr(Mt)},yt.prototype.setMatrix=function($){this.attr(Mt,$),this.onCanvasChange("matrix")},yt.prototype.getTotalMatrix=function(){var $=this.cfg.totalMatrix;if(!$){var C=this.attr("matrix"),gt=this.cfg.parentMatrix;$=gt&&C?(0,Qt.xq)(gt,C):C||gt,this.set("totalMatrix",$)}return $},yt.prototype.applyMatrix=function($){var gt,C=this.attr("matrix");gt=$&&C?(0,Qt.xq)($,C):C||$,this.set("totalMatrix",gt),this.set("parentMatrix",$)},yt.prototype.getDefaultMatrix=function(){return null},yt.prototype.applyToMatrix=function($){var C=this.attr("matrix");return C?(0,Qt.rG)(C,$):$},yt.prototype.invertFromMatrix=function($){var C=this.attr("matrix");if(C){var gt=(0,Qt.U_)(C);if(gt)return(0,Qt.rG)(gt,$)}return $},yt.prototype.setClip=function($){var C=this.getCanvas(),gt=null;if($){var oe=this.getShapeBase()[(0,Nt.jC)($.type)];oe&&(gt=new oe({type:$.type,isClipShape:!0,applyTo:this,attrs:$.attrs,canvas:C}))}return this.set("clipShape",gt),this.onCanvasChange("clip"),gt},yt.prototype.getClip=function(){return this.cfg.clipShape||null},yt.prototype.clone=function(){var $=this,C=this.attrs,gt={};(0,Nt.S6)(C,function(oe,Rt){gt[Rt]=(0,Nt.kJ)(C[Rt])?function Dt(Xt){for(var yt=[],$=0;$<Xt.length;$++)(0,Nt.kJ)(Xt[$])?yt.push([].concat(Xt[$])):yt.push(Xt[$]);return yt}(C[Rt]):C[Rt]});var Kt=new(0,this.constructor)({attrs:gt});return(0,Nt.S6)(Vt,function(oe){Kt.set(oe,$.get(oe))}),Kt},yt.prototype.destroy=function(){this.destroyed||(this.attrs={},Xt.prototype.destroy.call(this))},yt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},yt.prototype.animate=function(){for(var $=[],C=0;C<arguments.length;C++)$[C]=arguments[C];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var gt=this.get("timeline");gt||(gt=this.get("canvas").get("timeline"),this.set("timeline",gt));var At=this.get("animations")||[];gt.timer||gt.initTimer();var Q,nt,Et,te,he,Kt=$[0],oe=$[1],Rt=$[2],Ht=void 0===Rt?"easeLinear":Rt,ye=$[3],qt=void 0===ye?Nt.ZT:ye,Jt=$[4],kt=void 0===Jt?0:Jt;(0,Nt.mf)(Kt)?(Q=Kt,Kt={}):(0,Nt.Kn)(Kt)&&Kt.onFrame&&(Q=Kt.onFrame,nt=Kt.repeat),(0,Nt.Kn)(oe)?(oe=(he=oe).duration,Ht=he.easing||"easeLinear",kt=he.delay||0,nt=he.repeat||nt||!1,qt=he.callback||Nt.ZT,Et=he.pauseCallback||Nt.ZT,te=he.resumeCallback||Nt.ZT):((0,Nt.hj)(qt)&&(kt=qt,qt=null),(0,Nt.mf)(Ht)?(qt=Ht,Ht="easeLinear"):Ht=Ht||"easeLinear");var Fe=function ut(Xt,yt){var $={},C=yt.attr();return(0,Nt.S6)(Xt,function(gt,At){-1===se.indexOf(At)&&!(0,Nt.Xy)(C[At],gt)&&($[At]=gt)}),$}(Kt,this),W={fromAttrs:Ct(Fe,this),toAttrs:Fe,duration:oe,easing:Ht,repeat:nt,callback:qt,pauseCallback:Et,resumeCallback:te,delay:kt,startTime:gt.getTime(),id:(0,Nt.EL)(),onFrame:Q,pathFormatted:!1};At.length>0?At=function dt(Xt,yt){if(yt.onFrame)return Xt;var $=yt.startTime,C=yt.delay,gt=yt.duration,At=Object.prototype.hasOwnProperty;return(0,Nt.S6)(Xt,function(Kt){$+C<Kt.startTime+Kt.delay+Kt.duration&&gt>Kt.delay&&(0,Nt.S6)(yt.toAttrs,function(oe,Rt){At.call(Kt.toAttrs,Rt)&&(delete Kt.toAttrs[Rt],delete Kt.fromAttrs[Rt])})}),Xt}(At,W):gt.addAnimator(this),At.push(W),this.set("animations",At),this.set("_pause",{isPaused:!1})}},yt.prototype.stopAnimate=function($){var C=this;void 0===$&&($=!0);var gt=this.get("animations");(0,Nt.S6)(gt,function(At){$&&C.attr(At.onFrame?At.onFrame(1):At.toAttrs),At.callback&&At.callback()}),this.set("animating",!1),this.set("animations",[])},yt.prototype.pauseAnimate=function(){var $=this.get("timeline"),C=this.get("animations"),gt=$.getTime();return(0,Nt.S6)(C,function(At){At._paused=!0,At._pauseTime=gt,At.pauseCallback&&At.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:gt}),this},yt.prototype.resumeAnimate=function(){var C=this.get("timeline").getTime(),gt=this.get("animations"),At=this.get("_pause").pauseTime;return(0,Nt.S6)(gt,function(Kt){Kt.startTime=Kt.startTime+(C-At),Kt._paused=!1,Kt._pauseTime=null,Kt.resumeCallback&&Kt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",gt),this},yt.prototype.emitDelegation=function($,C){var oe,gt=this,At=C.propagationPath;this.getEvents(),"mouseenter"===$?oe=C.fromShape:"mouseleave"===$&&(oe=C.toShape);for(var Rt=function(Jt){var kt=At[Jt],Q=kt.get("name");if(Q){if((kt.isGroup()||kt.isCanvas&&kt.isCanvas())&&oe&&(0,Zt.UY)(kt,oe))return"break";(0,Nt.kJ)(Q)?(0,Nt.S6)(Q,function(nt){gt.emitDelegateEvent(kt,nt,C)}):Ht.emitDelegateEvent(kt,Q,C)}},Ht=this,ye=0;ye<At.length&&"break"!==Rt(ye);ye++);},yt.prototype.emitDelegateEvent=function($,C,gt){var At=this.getEvents(),Kt=C+":"+gt.type;(At[Kt]||At["*"])&&(gt.name=Kt,gt.currentTarget=$,gt.delegateTarget=this,gt.delegateObject=$.get("delegateObject"),this.emit(Kt,gt))},yt.prototype.translate=function($,C){void 0===$&&($=0),void 0===C&&(C=0);var gt=this.getMatrix(),At=Bt(gt,[["t",$,C]]);return this.setMatrix(At),this},yt.prototype.move=function($,C){var gt=this.attr("x")||0,At=this.attr("y")||0;return this.translate($-gt,C-At),this},yt.prototype.moveTo=function($,C){return this.move($,C)},yt.prototype.scale=function($,C){var gt=this.getMatrix(),At=Bt(gt,[["s",$,C||$]]);return this.setMatrix(At),this},yt.prototype.rotate=function($){var C=this.getMatrix(),gt=Bt(C,[["r",$]]);return this.setMatrix(gt),this},yt.prototype.rotateAtStart=function($){var C=this.attr(),gt=C.x,At=C.y,Kt=this.getMatrix(),oe=Bt(Kt,[["t",-gt,-At],["r",$],["t",gt,At]]);return this.setMatrix(oe),this},yt.prototype.rotateAtPoint=function($,C,gt){var At=this.getMatrix(),Kt=Bt(At,[["t",-$,-C],["r",gt],["t",$,C]]);return this.setMatrix(Kt),this},yt}(zt.Z)},5418:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Zt});var ae=ct(655);const Zt=function(Qt){function zt(){return null!==Qt&&Qt.apply(this,arguments)||this}return(0,ae.ZT)(zt,Qt),zt.prototype.isGroup=function(){return!0},zt.prototype.isEntityGroup=function(){return!1},zt.prototype.clone=function(){for(var Bt=Qt.prototype.clone.call(this),Mt=this.getChildren(),Vt=0;Vt<Mt.length;Vt++)Bt.add(Mt[Vt].clone());return Bt},zt}(ct(2573).Z)},4625:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Qt});var ae=ct(655),Nt=ct(4089),ve=ct(2727);const Qt=function(zt){function Bt(Mt){return zt.call(this,Mt)||this}return(0,ae.ZT)(Bt,zt),Bt.prototype._isInBBox=function(Mt,Vt){var se=this.getBBox();return se.minX<=Mt&&se.maxX>=Mt&&se.minY<=Vt&&se.maxY>=Vt},Bt.prototype.afterAttrsChange=function(Mt){zt.prototype.afterAttrsChange.call(this,Mt),this.clearCacheBBox()},Bt.prototype.getBBox=function(){var Mt=this.cfg.bbox;return Mt||(Mt=this.calculateBBox(),this.set("bbox",Mt)),Mt},Bt.prototype.getCanvasBBox=function(){var Mt=this.cfg.canvasBBox;return Mt||(Mt=this.calculateCanvasBBox(),this.set("canvasBBox",Mt)),Mt},Bt.prototype.applyMatrix=function(Mt){zt.prototype.applyMatrix.call(this,Mt),this.set("canvasBBox",null)},Bt.prototype.calculateCanvasBBox=function(){var Mt=this.getBBox(),Vt=this.getTotalMatrix(),se=Mt.minX,ne=Mt.minY,me=Mt.maxX,Dt=Mt.maxY;if(Vt){var Ct=(0,ve.rG)(Vt,[Mt.minX,Mt.minY]),ut=(0,ve.rG)(Vt,[Mt.maxX,Mt.minY]),dt=(0,ve.rG)(Vt,[Mt.minX,Mt.maxY]),Yt=(0,ve.rG)(Vt,[Mt.maxX,Mt.maxY]);se=Math.min(Ct[0],ut[0],dt[0],Yt[0]),me=Math.max(Ct[0],ut[0],dt[0],Yt[0]),ne=Math.min(Ct[1],ut[1],dt[1],Yt[1]),Dt=Math.max(Ct[1],ut[1],dt[1],Yt[1])}var Ut=this.attrs;if(Ut.shadowColor){var Xt=Ut.shadowBlur,yt=void 0===Xt?0:Xt,$=Ut.shadowOffsetX,C=void 0===$?0:$,gt=Ut.shadowOffsetY,At=void 0===gt?0:gt,oe=me+yt+C,Rt=ne-yt+At,Ht=Dt+yt+At;se=Math.min(se,se-yt+C),me=Math.max(me,oe),ne=Math.min(ne,Rt),Dt=Math.max(Dt,Ht)}return{x:se,y:ne,minX:se,minY:ne,maxX:me,maxY:Dt,width:me-se,height:Dt-ne}},Bt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},Bt.prototype.isClipShape=function(){return this.get("isClipShape")},Bt.prototype.isInShape=function(Mt,Vt){return!1},Bt.prototype.isOnlyHitBox=function(){return!1},Bt.prototype.isHit=function(Mt,Vt){var se=this.get("startArrowShape"),ne=this.get("endArrowShape"),me=[Mt,Vt,1],Dt=(me=this.invertFromMatrix(me))[0],Ct=me[1],ut=this._isInBBox(Dt,Ct);return this.isOnlyHitBox()?ut:!(!ut||this.isClipped(Dt,Ct)||!(this.isInShape(Dt,Ct)||se&&se.isHit(Dt,Ct)||ne&&ne.isHit(Dt,Ct)))},Bt}(Nt.Z)},7407:(rr,be,ct)=>{"use strict";ct.d(be,{C:()=>Zt,_:()=>ve});var ae=ct(6399),Nt={};function ve(Qt){return Nt[Qt.toLowerCase()]||ae[Qt]}function Zt(Qt,zt){Nt[Qt.toLowerCase()]=zt}},5904:(rr,be,ct)=>{"use strict";ct.d(be,{b:()=>ve,W:()=>Nt});var ae=new Map;function Nt(yt,$){ae.set(yt,$)}function ve(yt){return ae.get(yt)}function Zt(yt){var $=yt.attr();return{x:$.x,y:$.y,width:$.width,height:$.height}}function Qt(yt){var $=yt.attr(),At=$.r;return{x:$.x-At,y:$.y-At,width:2*At,height:2*At}}var zt=ct(9174);function Bt(yt,$){return yt&&$?{minX:Math.min(yt.minX,$.minX),minY:Math.min(yt.minY,$.minY),maxX:Math.max(yt.maxX,$.maxX),maxY:Math.max(yt.maxY,$.maxY)}:yt||$}function Mt(yt,$){var C=yt.get("startArrowShape"),gt=yt.get("endArrowShape");return C&&($=Bt($,C.getCanvasBBox())),gt&&($=Bt($,gt.getCanvasBBox())),$}var ne=ct(1372),Dt=ct(2759),Ct=ct(8250);function dt(yt,$){var C=yt.prePoint,gt=yt.currentPoint,At=yt.nextPoint,Kt=Math.pow(gt[0]-C[0],2)+Math.pow(gt[1]-C[1],2),oe=Math.pow(gt[0]-At[0],2)+Math.pow(gt[1]-At[1],2),Rt=Math.pow(C[0]-At[0],2)+Math.pow(C[1]-At[1],2),Ht=Math.acos((Kt+oe-Rt)/(2*Math.sqrt(Kt)*Math.sqrt(oe)));if(!Ht||0===Math.sin(Ht)||(0,Ct.vQ)(Ht,0))return{xExtra:0,yExtra:0};var ye=Math.abs(Math.atan2(At[1]-gt[1],At[0]-gt[0])),qt=Math.abs(Math.atan2(At[0]-gt[0],At[1]-gt[1]));return ye=ye>Math.PI/2?Math.PI-ye:ye,qt=qt>Math.PI/2?Math.PI-qt:qt,{xExtra:Math.cos(Ht/2-ye)*($/2*(1/Math.sin(Ht/2)))-$/2||0,yExtra:Math.cos(qt-Ht/2)*($/2*(1/Math.sin(Ht/2)))-$/2||0}}Nt("rect",Zt),Nt("image",Zt),Nt("circle",Qt),Nt("marker",Qt),Nt("polyline",function Vt(yt){for(var C=yt.attr().points,gt=[],At=[],Kt=0;Kt<C.length;Kt++){var oe=C[Kt];gt.push(oe[0]),At.push(oe[1])}var Rt=zt.Zr.getBBoxByArray(gt,At),Ht=Rt.x,ye=Rt.y,kt={minX:Ht,minY:ye,maxX:Ht+Rt.width,maxY:ye+Rt.height};return{x:(kt=Mt(yt,kt)).minX,y:kt.minY,width:kt.maxX-kt.minX,height:kt.maxY-kt.minY}}),Nt("polygon",function se(yt){for(var C=yt.attr().points,gt=[],At=[],Kt=0;Kt<C.length;Kt++){var oe=C[Kt];gt.push(oe[0]),At.push(oe[1])}return zt.Zr.getBBoxByArray(gt,At)}),Nt("text",function me(yt){var $=yt.attr(),C=$.x,gt=$.y,At=$.text,Kt=$.fontSize,oe=$.lineHeight,Rt=$.font;Rt||(Rt=(0,ne.$O)($));var ye,Ht=(0,ne.mY)(At,Rt);if(Ht){var qt=$.textAlign,Jt=$.textBaseline,kt=(0,ne.FE)(At,Kt,oe),Q={x:C,y:gt-kt};qt&&("end"===qt||"right"===qt?Q.x-=Ht:"center"===qt&&(Q.x-=Ht/2)),Jt&&("top"===Jt?Q.y+=kt:"middle"===Jt&&(Q.y+=kt/2)),ye={x:Q.x,y:Q.y,width:Ht,height:kt}}else ye={x:C,y:gt,width:0,height:0};return ye}),Nt("path",function Yt(yt){var $=yt.attr(),C=$.path,At=$.stroke?$.lineWidth:0,oe=function ut(yt,$){for(var C=[],gt=[],At=[],Kt=0;Kt<yt.length;Kt++){var Rt=(oe=yt[Kt]).currentPoint,Ht=oe.params,ye=oe.prePoint,qt=void 0;switch(oe.command){case"Q":qt=zt.lD.box(ye[0],ye[1],Ht[1],Ht[2],Ht[3],Ht[4]);break;case"C":qt=zt.Ll.box(ye[0],ye[1],Ht[1],Ht[2],Ht[3],Ht[4],Ht[5],Ht[6]);break;case"A":var Jt=oe.arcParams;qt=zt.wN.box(Jt.cx,Jt.cy,Jt.rx,Jt.ry,Jt.xRotation,Jt.startAngle,Jt.endAngle);break;default:C.push(Rt[0]),gt.push(Rt[1])}qt&&(oe.box=qt,C.push(qt.x,qt.x+qt.width),gt.push(qt.y,qt.y+qt.height)),$&&("L"===oe.command||"M"===oe.command)&&oe.prePoint&&oe.nextPoint&&At.push(oe)}C=C.filter(function(he){return!Number.isNaN(he)&&he!==1/0&&he!==-1/0}),gt=gt.filter(function(he){return!Number.isNaN(he)&&he!==1/0&&he!==-1/0});var kt=(0,Ct.VV)(C),Q=(0,Ct.VV)(gt),nt=(0,Ct.Fp)(C),Et=(0,Ct.Fp)(gt);if(0===At.length)return{x:kt,y:Q,width:nt-kt,height:Et-Q};for(Kt=0;Kt<At.length;Kt++){var oe;(Rt=(oe=At[Kt]).currentPoint)[0]===kt?kt-=dt(oe,$).xExtra:Rt[0]===nt&&(nt+=dt(oe,$).xExtra),Rt[1]===Q?Q-=dt(oe,$).yExtra:Rt[1]===Et&&(Et+=dt(oe,$).yExtra)}return{x:kt,y:Q,width:nt-kt,height:Et-Q}}(yt.get("segments")||(0,Dt.zx)(C),At),Rt=oe.x,Ht=oe.y,Jt={minX:Rt,minY:Ht,maxX:Rt+oe.width,maxY:Ht+oe.height};return{x:(Jt=Mt(yt,Jt)).minX,y:Jt.minY,width:Jt.maxX-Jt.minX,height:Jt.maxY-Jt.minY}}),Nt("line",function Ut(yt){var $=yt.attr(),C=$.x1,gt=$.y1,At=$.x2,Kt=$.y2,qt={minX:Math.min(C,At),maxX:Math.max(C,At),minY:Math.min(gt,Kt),maxY:Math.max(gt,Kt)};return{x:(qt=Mt(yt,qt)).minX,y:qt.minY,width:qt.maxX-qt.minX,height:qt.maxY-qt.minY}}),Nt("ellipse",function Xt(yt){var $=yt.attr(),At=$.rx,Kt=$.ry;return{x:$.x-At,y:$.y-Kt,width:2*At,height:2*Kt}})},1069:(rr,be,ct)=>{"use strict";ct.d(be,{Z:()=>Nt});const Nt=function(){function ve(Zt,Qt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=Zt,this.name=Zt,this.originalEvent=Qt,this.timeStamp=Qt.timeStamp}return ve.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},ve.prototype.stopPropagation=function(){this.propagationStopped=!0},ve.prototype.toString=function(){return"[Event (type="+this.type+")]"},ve.prototype.save=function(){},ve.prototype.restore=function(){},ve}()},9279:(rr,be,ct)=>{"use strict";ct.r(be),ct.d(be,{AbstractCanvas:()=>Vt.Z,AbstractGroup:()=>se.Z,AbstractShape:()=>ne.Z,Base:()=>Mt.Z,Event:()=>Bt.Z,PathUtil:()=>ae,assembleFont:()=>Dt.$O,getBBoxMethod:()=>me.b,getOffScreenContext:()=>dt.L,getTextHeight:()=>Dt.FE,invert:()=>ut.U_,isAllowCapture:()=>Ct.pP,multiplyVec2:()=>ut.rG,registerBBox:()=>me.W,registerEasing:()=>Yt.C,version:()=>Ut});var ae=ct(2144),Nt=ct(4389),zt={};for(const Xt in Nt)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Xt)<0&&(zt[Xt]=()=>Nt[Xt]);ct.d(be,zt);var Zt=ct(9361);zt={};for(const Xt in Zt)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(Xt)<0&&(zt[Xt]=()=>Zt[Xt]);ct.d(be,zt);var Bt=ct(1069),Mt=ct(1946),Vt=ct(1512),se=ct(5418),ne=ct(4625),me=ct(5904),Dt=ct(1372),Ct=ct(6610),ut=ct(2727),dt=ct(2623),Yt=ct(7407),Ut="0.5.11"},9361:()=>{},4389:()=>{},2727:(rr,be,ct)=>{"use strict";function ae(Zt,Qt){var zt=[],Bt=Zt[0],Mt=Zt[1],Vt=Zt[2],se=Zt[3],ne=Zt[4],me=Zt[5],Dt=Zt[6],Ct=Zt[7],ut=Zt[8],dt=Qt[0],Yt=Qt[1],Ut=Qt[2],Xt=Qt[3],yt=Qt[4],$=Qt[5],C=Qt[6],gt=Qt[7],At=Qt[8];return zt[0]=dt*Bt+Yt*se+Ut*Dt,zt[1]=dt*Mt+Yt*ne+Ut*Ct,zt[2]=dt*Vt+Yt*me+Ut*ut,zt[3]=Xt*Bt+yt*se+$*Dt,zt[4]=Xt*Mt+yt*ne+$*Ct,zt[5]=Xt*Vt+yt*me+$*ut,zt[6]=C*Bt+gt*se+At*Dt,zt[7]=C*Mt+gt*ne+At*Ct,zt[8]=C*Vt+gt*me+At*ut,zt}function Nt(Zt,Qt){var zt=[],Bt=Qt[0],Mt=Qt[1];return zt[0]=Zt[0]*Bt+Zt[3]*Mt+Zt[6],zt[1]=Zt[1]*Bt+Zt[4]*Mt+Zt[7],zt}function ve(Zt){var Qt=[],zt=Zt[0],Bt=Zt[1],Mt=Zt[2],Vt=Zt[3],se=Zt[4],ne=Zt[5],me=Zt[6],Dt=Zt[7],Ct=Zt[8],ut=Ct*se-ne*Dt,dt=-Ct*Vt+ne*me,Yt=Dt*Vt-se*me,Ut=zt*ut+Bt*dt+Mt*Yt;return Ut?(Qt[0]=ut*(Ut=1/Ut),Qt[1]=(-Ct*Bt+Mt*Dt)*Ut,Qt[2]=(ne*Bt-Mt*se)*Ut,Qt[3]=dt*Ut,Qt[4]=(Ct*zt-Mt*me)*Ut,Qt[5]=(-ne*zt+Mt*Vt)*Ut,Qt[6]=Yt*Ut,Qt[7]=(-Dt*zt+Bt*me)*Ut,Qt[8]=(se*zt-Bt*Vt)*Ut,Qt):null}ct.d(be,{U_:()=>ve,rG:()=>Nt,xq:()=>ae})},2623:(rr,be,ct)=>{"use strict";ct.d(be,{L:()=>Nt});var ae=null;function Nt(){if(!ae){var ve=document.createElement("canvas");ve.width=1,ve.height=1,ae=ve.getContext("2d")}return ae}},2144:(rr,be,ct)=>{"use strict";ct.r(be),ct.d(be,{catmullRomToBezier:()=>zt,fillPath:()=>Jt,fillPathByDiff:()=>Et,formatPath:()=>Fe,intersection:()=>Rt,parsePathArray:()=>Ct,parsePathString:()=>Qt,pathToAbsolute:()=>Mt,pathToCurve:()=>me,rectPath:()=>yt});var ae=ct(8250),Nt="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",ve=new RegExp("([a-z])["+Nt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Nt+"]*,?["+Nt+"]*)+)","ig"),Zt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Nt+"]*,?["+Nt+"]*","ig"),Qt=function(W){if(!W)return null;if((0,ae.kJ)(W))return W;var K={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},J=[];return String(W).replace(ve,function(U,vt,mt){var j=[],rt=vt.toLowerCase();if(mt.replace(Zt,function(P,Z){Z&&j.push(+Z)}),"m"===rt&&j.length>2&&(J.push([vt].concat(j.splice(0,2))),rt="l",vt="m"===vt?"l":"L"),"o"===rt&&1===j.length&&J.push([vt,j[0]]),"r"===rt)J.push([vt].concat(j));else for(;j.length>=K[rt]&&(J.push([vt].concat(j.splice(0,K[rt]))),K[rt]););return W}),J},zt=function(W,K){for(var J=[],U=0,vt=W.length;vt-2*!K>U;U+=2){var mt=[{x:+W[U-2],y:+W[U-1]},{x:+W[U],y:+W[U+1]},{x:+W[U+2],y:+W[U+3]},{x:+W[U+4],y:+W[U+5]}];K?U?vt-4===U?mt[3]={x:+W[0],y:+W[1]}:vt-2===U&&(mt[2]={x:+W[0],y:+W[1]},mt[3]={x:+W[2],y:+W[3]}):mt[0]={x:+W[vt-2],y:+W[vt-1]}:vt-4===U?mt[3]=mt[2]:U||(mt[0]={x:+W[U],y:+W[U+1]}),J.push(["C",(6*mt[1].x-mt[0].x+mt[2].x)/6,(6*mt[1].y-mt[0].y+mt[2].y)/6,(mt[1].x+6*mt[2].x-mt[3].x)/6,(mt[1].y+6*mt[2].y-mt[3].y)/6,mt[2].x,mt[2].y])}return J},Bt=function(W,K,J,U,vt){var mt=[];if(null===vt&&null===U&&(U=J),W=+W,K=+K,J=+J,U=+U,null!==vt){var j=Math.PI/180,rt=W+J*Math.cos(-U*j),P=W+J*Math.cos(-vt*j);mt=[["M",rt,K+J*Math.sin(-U*j)],["A",J,J,0,+(vt-U>180),0,P,K+J*Math.sin(-vt*j)]]}else mt=[["M",W,K],["m",0,-U],["a",J,U,0,1,1,0,2*U],["a",J,U,0,1,1,0,-2*U],["z"]];return mt},Mt=function(W){if(!(W=Qt(W))||!W.length)return[["M",0,0]];var rt,P,K=[],J=0,U=0,vt=0,mt=0,j=0;"M"===W[0][0]&&(vt=J=+W[0][1],mt=U=+W[0][2],j++,K[0]=["M",J,U]);for(var Z=3===W.length&&"M"===W[0][0]&&"R"===W[1][0].toUpperCase()&&"Z"===W[2][0].toUpperCase(),q=void 0,at=void 0,Tt=j,Lt=W.length;Tt<Lt;Tt++){if(K.push(q=[]),(rt=(at=W[Tt])[0])!==rt.toUpperCase())switch(q[0]=rt.toUpperCase(),q[0]){case"A":q[1]=at[1],q[2]=at[2],q[3]=at[3],q[4]=at[4],q[5]=at[5],q[6]=+at[6]+J,q[7]=+at[7]+U;break;case"V":q[1]=+at[1]+U;break;case"H":q[1]=+at[1]+J;break;case"R":for(var bt=2,re=(P=[J,U].concat(at.slice(1))).length;bt<re;bt++)P[bt]=+P[bt]+J,P[++bt]=+P[bt]+U;K.pop(),K=K.concat(zt(P,Z));break;case"O":K.pop(),(P=Bt(J,U,at[1],at[2])).push(P[0]),K=K.concat(P);break;case"U":K.pop(),K=K.concat(Bt(J,U,at[1],at[2],at[3])),q=["U"].concat(K[K.length-1].slice(-2));break;case"M":vt=+at[1]+J,mt=+at[2]+U;break;default:for(bt=1,re=at.length;bt<re;bt++)q[bt]=+at[bt]+(bt%2?J:U)}else if("R"===rt)P=[J,U].concat(at.slice(1)),K.pop(),K=K.concat(zt(P,Z)),q=["R"].concat(at.slice(-2));else if("O"===rt)K.pop(),(P=Bt(J,U,at[1],at[2])).push(P[0]),K=K.concat(P);else if("U"===rt)K.pop(),K=K.concat(Bt(J,U,at[1],at[2],at[3])),q=["U"].concat(K[K.length-1].slice(-2));else for(var Ce=0,we=at.length;Ce<we;Ce++)q[Ce]=at[Ce];if("O"!==(rt=rt.toUpperCase()))switch(q[0]){case"Z":J=+vt,U=+mt;break;case"H":J=q[1];break;case"V":U=q[1];break;case"M":vt=q[q.length-2],mt=q[q.length-1];break;default:J=q[q.length-2],U=q[q.length-1]}}return K},Vt=function(W,K,J,U){return[W,K,J,U,J,U]},se=function(W,K,J,U,vt,mt){var j=.3333333333333333,rt=2/3;return[j*W+rt*J,j*K+rt*U,j*vt+rt*J,j*mt+rt*U,vt,mt]},ne=function(W,K,J,U,vt,mt,j,rt,P,Z){J===U&&(J+=1);var Lt,bt,re,Ce,we,q=120*Math.PI/180,at=Math.PI/180*(+vt||0),Tt=[],Re=function(Hr,zr,xn){return{x:Hr*Math.cos(xn)-zr*Math.sin(xn),y:Hr*Math.sin(xn)+zr*Math.cos(xn)}};if(Z)bt=Z[0],re=Z[1],Ce=Z[2],we=Z[3];else{W=(Lt=Re(W,K,-at)).x,K=Lt.y,P=(Lt=Re(rt,P,-at)).y,W===(rt=Lt.x)&&K===P&&(rt+=1,P+=1);var it=(W-rt)/2,z=(K-P)/2,R=it*it/(J*J)+z*z/(U*U);R>1&&(J*=R=Math.sqrt(R),U*=R);var N=J*J,V=U*U,lt=(mt===j?-1:1)*Math.sqrt(Math.abs((N*V-N*z*z-V*it*it)/(N*z*z+V*it*it)));Ce=lt*J*z/U+(W+rt)/2,we=lt*-U*it/J+(K+P)/2,bt=Math.asin(((K-we)/U).toFixed(9)),re=Math.asin(((P-we)/U).toFixed(9)),bt=W<Ce?Math.PI-bt:bt,re=rt<Ce?Math.PI-re:re,bt<0&&(bt=2*Math.PI+bt),re<0&&(re=2*Math.PI+re),j&&bt>re&&(bt-=2*Math.PI),!j&&re>bt&&(re-=2*Math.PI)}var _t=re-bt;if(Math.abs(_t)>q){var St=re,Gt=rt,ee=P;re=bt+q*(j&&re>bt?1:-1),rt=Ce+J*Math.cos(re),P=we+U*Math.sin(re),Tt=ne(rt,P,J,U,vt,0,j,Gt,ee,[re,St,Ce,we])}_t=re-bt;var ie=Math.cos(bt),Ee=Math.sin(bt),Te=Math.cos(re),He=Math.sin(re),Xe=Math.tan(_t/4),ke=4/3*J*Xe,qe=4/3*U*Xe,Qe=[W,K],er=[W+ke*Ee,K-qe*ie],Ye=[rt+ke*He,P-qe*Te],sr=[rt,P];if(er[0]=2*Qe[0]-er[0],er[1]=2*Qe[1]-er[1],Z)return[er,Ye,sr].concat(Tt);for(var _r=[],lr=0,Sr=(Tt=[er,Ye,sr].concat(Tt).join().split(",")).length;lr<Sr;lr++)_r[lr]=lr%2?Re(Tt[lr-1],Tt[lr],at).y:Re(Tt[lr],Tt[lr+1],at).x;return _r},me=function(W,K){var q,J=Mt(W),U=K&&Mt(K),vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},mt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=[],rt=[],P="",Z="",at=function(it,z,R){var N,V;if(!it)return["C",z.x,z.y,z.x,z.y,z.x,z.y];switch(!(it[0]in{T:1,Q:1})&&(z.qx=z.qy=null),it[0]){case"M":z.X=it[1],z.Y=it[2];break;case"A":it=["C"].concat(ne.apply(0,[z.x,z.y].concat(it.slice(1))));break;case"S":"C"===R||"S"===R?(N=2*z.x-z.bx,V=2*z.y-z.by):(N=z.x,V=z.y),it=["C",N,V].concat(it.slice(1));break;case"T":"Q"===R||"T"===R?(z.qx=2*z.x-z.qx,z.qy=2*z.y-z.qy):(z.qx=z.x,z.qy=z.y),it=["C"].concat(se(z.x,z.y,z.qx,z.qy,it[1],it[2]));break;case"Q":z.qx=it[1],z.qy=it[2],it=["C"].concat(se(z.x,z.y,it[1],it[2],it[3],it[4]));break;case"L":it=["C"].concat(Vt(z.x,z.y,it[1],it[2]));break;case"H":it=["C"].concat(Vt(z.x,z.y,it[1],z.y));break;case"V":it=["C"].concat(Vt(z.x,z.y,z.x,it[1]));break;case"Z":it=["C"].concat(Vt(z.x,z.y,z.X,z.Y))}return it},Tt=function(it,z){if(it[z].length>7){it[z].shift();for(var R=it[z];R.length;)j[z]="A",U&&(rt[z]="A"),it.splice(z++,0,["C"].concat(R.splice(0,6)));it.splice(z,1),q=Math.max(J.length,U&&U.length||0)}},Lt=function(it,z,R,N,V){it&&z&&"M"===it[V][0]&&"M"!==z[V][0]&&(z.splice(V,0,["M",N.x,N.y]),R.bx=0,R.by=0,R.x=it[V][1],R.y=it[V][2],q=Math.max(J.length,U&&U.length||0))};q=Math.max(J.length,U&&U.length||0);for(var bt=0;bt<q;bt++){J[bt]&&(P=J[bt][0]),"C"!==P&&(j[bt]=P,bt&&(Z=j[bt-1])),J[bt]=at(J[bt],vt,Z),"A"!==j[bt]&&"C"===P&&(j[bt]="C"),Tt(J,bt),U&&(U[bt]&&(P=U[bt][0]),"C"!==P&&(rt[bt]=P,bt&&(Z=rt[bt-1])),U[bt]=at(U[bt],mt,Z),"A"!==rt[bt]&&"C"===P&&(rt[bt]="C"),Tt(U,bt)),Lt(J,U,vt,mt,bt),Lt(U,J,mt,vt,bt);var re=J[bt],Ce=U&&U[bt],we=re.length,Re=U&&Ce.length;vt.x=re[we-2],vt.y=re[we-1],vt.bx=parseFloat(re[we-4])||vt.x,vt.by=parseFloat(re[we-3])||vt.y,mt.bx=U&&(parseFloat(Ce[Re-4])||mt.x),mt.by=U&&(parseFloat(Ce[Re-3])||mt.y),mt.x=U&&Ce[Re-2],mt.y=U&&Ce[Re-1]}return U?[J,U]:J},Dt=/,?([a-z]),?/gi,Ct=function(W){return W.join(",").replace(Dt,"$1")},ut=function(W,K,J,U,vt){return W*(W*(-3*K+9*J-9*U+3*vt)+6*K-12*J+6*U)-3*K+3*J},dt=function(W,K,J,U,vt,mt,j,rt,P){null===P&&(P=1);for(var Z=(P=P>1?1:P<0?0:P)/2,at=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Tt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Lt=0,bt=0;bt<12;bt++){var re=Z*at[bt]+Z,Ce=ut(re,W,J,vt,j),we=ut(re,K,U,mt,rt);Lt+=Tt[bt]*Math.sqrt(Ce*Ce+we*we)}return Z*Lt},Yt=function(W,K,J,U,vt,mt,j,rt){for(var q,at,Tt,Lt,P=[],Z=[[],[]],bt=0;bt<2;++bt)if(0===bt?(at=6*W-12*J+6*vt,q=-3*W+9*J-9*vt+3*j,Tt=3*J-3*W):(at=6*K-12*U+6*mt,q=-3*K+9*U-9*mt+3*rt,Tt=3*U-3*K),Math.abs(q)<1e-12){if(Math.abs(at)<1e-12)continue;(Lt=-Tt/at)>0&&Lt<1&&P.push(Lt)}else{var re=at*at-4*Tt*q,Ce=Math.sqrt(re);if(!(re<0)){var we=(-at+Ce)/(2*q);we>0&&we<1&&P.push(we);var Re=(-at-Ce)/(2*q);Re>0&&Re<1&&P.push(Re)}}for(var R,it=P.length,z=it;it--;)Z[0][it]=(R=1-(Lt=P[it]))*R*R*W+3*R*R*Lt*J+3*R*Lt*Lt*vt+Lt*Lt*Lt*j,Z[1][it]=R*R*R*K+3*R*R*Lt*U+3*R*Lt*Lt*mt+Lt*Lt*Lt*rt;return Z[0][z]=W,Z[1][z]=K,Z[0][z+1]=j,Z[1][z+1]=rt,Z[0].length=Z[1].length=z+2,{min:{x:Math.min.apply(0,Z[0]),y:Math.min.apply(0,Z[1])},max:{x:Math.max.apply(0,Z[0]),y:Math.max.apply(0,Z[1])}}},Ut=function(W,K,J,U,vt,mt,j,rt){if(!(Math.max(W,J)<Math.min(vt,j)||Math.min(W,J)>Math.max(vt,j)||Math.max(K,U)<Math.min(mt,rt)||Math.min(K,U)>Math.max(mt,rt))){var q=(W-J)*(mt-rt)-(K-U)*(vt-j);if(q){var at=((W*U-K*J)*(vt-j)-(W-J)*(vt*rt-mt*j))/q,Tt=((W*U-K*J)*(mt-rt)-(K-U)*(vt*rt-mt*j))/q,Lt=+at.toFixed(2),bt=+Tt.toFixed(2);if(!(Lt<+Math.min(W,J).toFixed(2)||Lt>+Math.max(W,J).toFixed(2)||Lt<+Math.min(vt,j).toFixed(2)||Lt>+Math.max(vt,j).toFixed(2)||bt<+Math.min(K,U).toFixed(2)||bt>+Math.max(K,U).toFixed(2)||bt<+Math.min(mt,rt).toFixed(2)||bt>+Math.max(mt,rt).toFixed(2)))return{x:at,y:Tt}}}},Xt=function(W,K,J){return K>=W.x&&K<=W.x+W.width&&J>=W.y&&J<=W.y+W.height},yt=function(W,K,J,U,vt){if(vt)return[["M",+W+ +vt,K],["l",J-2*vt,0],["a",vt,vt,0,0,1,vt,vt],["l",0,U-2*vt],["a",vt,vt,0,0,1,-vt,vt],["l",2*vt-J,0],["a",vt,vt,0,0,1,-vt,-vt],["l",0,2*vt-U],["a",vt,vt,0,0,1,vt,-vt],["z"]];var mt=[["M",W,K],["l",J,0],["l",0,U],["l",-J,0],["z"]];return mt.parsePathArray=Ct,mt},$=function(W,K,J,U){return null===W&&(W=K=J=U=0),null===K&&(K=W.y,J=W.width,U=W.height,W=W.x),{x:W,y:K,width:J,w:J,height:U,h:U,x2:W+J,y2:K+U,cx:W+J/2,cy:K+U/2,r1:Math.min(J,U)/2,r2:Math.max(J,U)/2,r0:Math.sqrt(J*J+U*U)/2,path:yt(W,K,J,U),vb:[W,K,J,U].join(" ")}},gt=function(W,K,J,U,vt,mt,j,rt){(0,ae.kJ)(W)||(W=[W,K,J,U,vt,mt,j,rt]);var P=Yt.apply(null,W);return $(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y)},At=function(W,K,J,U,vt,mt,j,rt,P){var Z=1-P,q=Math.pow(Z,3),at=Math.pow(Z,2),Tt=P*P,Lt=Tt*P,Ce=W+2*P*(J-W)+Tt*(vt-2*J+W),we=K+2*P*(U-K)+Tt*(mt-2*U+K),Re=J+2*P*(vt-J)+Tt*(j-2*vt+J),it=U+2*P*(mt-U)+Tt*(rt-2*mt+U);return{x:q*W+3*at*P*J+3*Z*P*P*vt+Lt*j,y:q*K+3*at*P*U+3*Z*P*P*mt+Lt*rt,m:{x:Ce,y:we},n:{x:Re,y:it},start:{x:Z*W+P*J,y:Z*K+P*U},end:{x:Z*vt+P*j,y:Z*mt+P*rt},alpha:90-180*Math.atan2(Ce-Re,we-it)/Math.PI}},Kt=function(W,K,J){if(!function(W,K){return W=$(W),K=$(K),Xt(K,W.x,W.y)||Xt(K,W.x2,W.y)||Xt(K,W.x,W.y2)||Xt(K,W.x2,W.y2)||Xt(W,K.x,K.y)||Xt(W,K.x2,K.y)||Xt(W,K.x,K.y2)||Xt(W,K.x2,K.y2)||(W.x<K.x2&&W.x>K.x||K.x<W.x2&&K.x>W.x)&&(W.y<K.y2&&W.y>K.y||K.y<W.y2&&K.y>W.y)}(gt(W),gt(K)))return J?0:[];for(var rt=~~(dt.apply(0,W)/8),P=~~(dt.apply(0,K)/8),Z=[],q=[],at={},Tt=J?0:[],Lt=0;Lt<rt+1;Lt++){var bt=At.apply(0,W.concat(Lt/rt));Z.push({x:bt.x,y:bt.y,t:Lt/rt})}for(Lt=0;Lt<P+1;Lt++)bt=At.apply(0,K.concat(Lt/P)),q.push({x:bt.x,y:bt.y,t:Lt/P});for(Lt=0;Lt<rt;Lt++)for(var re=0;re<P;re++){var Ce=Z[Lt],we=Z[Lt+1],Re=q[re],it=q[re+1],z=Math.abs(we.x-Ce.x)<.001?"y":"x",R=Math.abs(it.x-Re.x)<.001?"y":"x",N=Ut(Ce.x,Ce.y,we.x,we.y,Re.x,Re.y,it.x,it.y);if(N){if(at[N.x.toFixed(4)]===N.y.toFixed(4))continue;at[N.x.toFixed(4)]=N.y.toFixed(4);var V=Ce.t+Math.abs((N[z]-Ce[z])/(we[z]-Ce[z]))*(we.t-Ce.t),lt=Re.t+Math.abs((N[R]-Re[R])/(it[R]-Re[R]))*(it.t-Re.t);V>=0&&V<=1&&lt>=0&&lt<=1&&(J?Tt+=1:Tt.push({x:N.x,y:N.y,t1:V,t2:lt}))}}return Tt},Rt=function(W,K){return function(W,K,J){W=me(W),K=me(K);for(var U,vt,mt,j,rt,P,Z,q,at,Tt,Lt=[],bt=0,re=W.length;bt<re;bt++){var Ce=W[bt];if("M"===Ce[0])U=rt=Ce[1],vt=P=Ce[2];else{"C"===Ce[0]?(at=[U,vt].concat(Ce.slice(1)),U=at[6],vt=at[7]):(at=[U,vt,U,vt,rt,P,rt,P],U=rt,vt=P);for(var we=0,Re=K.length;we<Re;we++){var it=K[we];if("M"===it[0])mt=Z=it[1],j=q=it[2];else{"C"===it[0]?(Tt=[mt,j].concat(it.slice(1)),mt=Tt[6],j=Tt[7]):(Tt=[mt,j,mt,j,Z,q,Z,q],mt=Z,j=q);for(var z=Kt(at,Tt,J),R=0,N=z.length;R<N;R++)z[R].segment1=bt,z[R].segment2=we,z[R].bez1=at,z[R].bez2=Tt;Lt=Lt.concat(z)}}}}return Lt}(W,K)};function Ht(W,K){var J=[],U=[];return W.length&&function vt(mt,j){if(1===mt.length)J.push(mt[0]),U.push(mt[0]);else{for(var rt=[],P=0;P<mt.length-1;P++)0===P&&J.push(mt[0]),P===mt.length-2&&U.push(mt[P+1]),rt[P]=[(1-j)*mt[P][0]+j*mt[P+1][0],(1-j)*mt[P][1]+j*mt[P+1][1]];vt(rt,j)}}(W,K),{left:J,right:U.reverse()}}var Jt=function(W,K){if(1===W.length)return W;var J=W.length-1,U=K.length-1,vt=J/U,mt=[];if(1===W.length&&"M"===W[0][0]){for(var j=0;j<U-J;j++)W.push(W[0]);return W}for(j=0;j<U;j++){var rt=Math.floor(vt*j);mt[rt]=(mt[rt]||0)+1}var P=mt.reduce(function(Z,q,at){return Z.concat(at===J?W[J]:function(W,K,J){if(1===J)return[[].concat(W)];var U=[];if("L"===K[0]||"C"===K[0]||"Q"===K[0])U=U.concat(function ye(W,K,J){var U=[[W[1],W[2]]];J=J||2;var vt=[];"A"===K[0]?(U.push(K[6]),U.push(K[7])):"C"===K[0]?(U.push([K[1],K[2]]),U.push([K[3],K[4]]),U.push([K[5],K[6]])):"S"===K[0]||"Q"===K[0]?(U.push([K[1],K[2]]),U.push([K[3],K[4]])):U.push([K[1],K[2]]);for(var mt=U,j=1/J,rt=0;rt<J-1;rt++){var Z=Ht(mt,j/(1-j*rt));vt.push(Z.left),mt=Z.right}return vt.push(mt),vt.map(function(at){var Tt=[];return 4===at.length&&(Tt.push("C"),Tt=Tt.concat(at[2])),at.length>=3&&(3===at.length&&Tt.push("Q"),Tt=Tt.concat(at[1])),2===at.length&&Tt.push("L"),Tt.concat(at[at.length-1])})}(W,K,J));else{var vt=[].concat(W);"M"===vt[0]&&(vt[0]="L");for(var mt=0;mt<=J-1;mt++)U.push(vt)}return U}(W[at],W[at+1],q))},[]);return P.unshift(W[0]),("Z"===K[U]||"z"===K[U])&&P.push("Z"),P},kt=function(W,K){if(W.length!==K.length)return!1;var J=!0;return(0,ae.S6)(W,function(U,vt){if(U!==K[vt])return J=!1,!1}),J};function Q(W,K,J){var U=null,vt=J;return K<vt&&(vt=K,U="add"),W<vt&&(vt=W,U="del"),{type:U,min:vt}}var Et=function(W,K){var J=function(W,K){var vt,J=W.length,U=K.length,j=0;if(0===J||0===U)return null;for(var rt=[],P=0;P<=J;P++)rt[P]=[],rt[P][0]={min:P};for(var Z=0;Z<=U;Z++)rt[0][Z]={min:Z};for(P=1;P<=J;P++)for(vt=W[P-1],Z=1;Z<=U;Z++)j=kt(vt,K[Z-1])?0:1,rt[P][Z]=Q(rt[P-1][Z].min+1,rt[P][Z-1].min+1,rt[P-1][Z-1].min+j);return rt}(W,K),U=W.length,vt=K.length,mt=[],j=1,rt=1;if(J[U][vt].min!==U){for(var P=1;P<=U;P++){var Z=J[P][P].min;rt=P;for(var q=j;q<=vt;q++)J[P][q].min<Z&&(Z=J[P][q].min,rt=q);J[P][j=rt].type&&mt.push({index:P-1,type:J[P][j].type})}for(P=mt.length-1;P>=0;P--)j=mt[P].index,"add"===mt[P].type?W.splice(j,0,[].concat(W[j])):W.splice(j,1)}var at=vt-(U=W.length);if(U<vt)for(P=0;P<at;P++)"z"===W[U-1][0]||"Z"===W[U-1][0]?W.splice(U-2,0,W[U-2]):W.push(W[U-1]),U+=1;return W};function te(W,K,J){for(var vt,U=[].concat(W),mt=1/(J+1),j=he(K)[0],rt=1;rt<=J;rt++)mt*=rt,0===(vt=Math.floor(W.length*mt))?U.unshift([j[0]*mt+W[vt][0]*(1-mt),j[1]*mt+W[vt][1]*(1-mt)]):U.splice(vt,0,[j[0]*mt+W[vt][0]*(1-mt),j[1]*mt+W[vt][1]*(1-mt)]);return U}function he(W){var K=[];switch(W[0]){case"M":case"L":case"T":K.push([W[1],W[2]]);break;case"A":K.push([W[6],W[7]]);break;case"Q":case"S":K.push([W[3],W[4]]),K.push([W[1],W[2]]);break;case"C":K.push([W[5],W[6]]),K.push([W[1],W[2]]),K.push([W[3],W[4]]);break;case"H":case"V":K.push([W[1],W[1]])}return K}var Fe=function(W,K){if(W.length<=1)return W;for(var J,U=0;U<K.length;U++)if(W[U][0]!==K[U][0])switch(J=he(W[U]),K[U][0]){case"M":W[U]=["M"].concat(J[0]);break;case"L":W[U]=["L"].concat(J[0]);break;case"A":W[U]=[].concat(K[U]),W[U][6]=J[0][0],W[U][7]=J[0][1];break;case"Q":if(J.length<2){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],1)}W[U]=["Q"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;case"T":W[U]=["T"].concat(J[0]);break;case"C":if(J.length<3){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],2)}W[U]=["C"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;case"S":if(J.length<2){if(!(U>0)){W[U]=K[U];break}J=te(J,W[U-1],1)}W[U]=["S"].concat(J.reduce(function(vt,mt){return vt.concat(mt)},[]));break;default:W[U]=K[U]}return W}},1372:(rr,be,ct)=>{"use strict";ct.d(be,{$O:()=>zt,FE:()=>ve,mY:()=>Qt});var ae=ct(6610),Nt=ct(2623);function ve(Bt,Mt,Vt){var se=1;if((0,ae.HD)(Bt)&&(se=Bt.split("\n").length),se>1){var ne=function Zt(Bt,Mt){return Mt?Mt-Bt:.14*Bt}(Mt,Vt);return Mt*se+ne*(se-1)}return Mt}function Qt(Bt,Mt){var Vt=(0,Nt.L)(),se=0;if((0,ae.kK)(Bt)||""===Bt)return se;if(Vt.save(),Vt.font=Mt,(0,ae.HD)(Bt)&&Bt.includes("\n")){var ne=Bt.split("\n");(0,ae.S6)(ne,function(me){var Dt=Vt.measureText(me).width;se<Dt&&(se=Dt)})}else se=Vt.measureText(Bt).width;return Vt.restore(),se}function zt(Bt){return[Bt.fontStyle,Bt.fontVariant,Bt.fontWeight,Bt.fontSize+"px",Bt.fontFamily].join(" ").trim()}},6610:(rr,be,ct)=>{"use strict";ct.d(be,{As:()=>Nt,CD:()=>ae.CD,HD:()=>ae.HD,Kn:()=>ae.Kn,S6:()=>ae.S6,UY:()=>Zt,jC:()=>ae.jC,jU:()=>ve,kK:()=>ae.UM,mf:()=>ae.mf,pP:()=>Qt});var ae=ct(8250);function Nt(zt,Bt){var Mt=zt.indexOf(Bt);-1!==Mt&&zt.splice(Mt,1)}var ve=typeof window<"u"&&typeof window.document<"u";function Zt(zt,Bt){if(zt.isCanvas())return!0;for(var Mt=Bt.getParent(),Vt=!1;Mt;){if(Mt===zt){Vt=!0;break}Mt=Mt.getParent()}return Vt}function Qt(zt){return zt.cfg.visible&&zt.cfg.capture}},3882:(rr,be,ct)=>{"use strict";ct.d(be,{Dg:()=>Vt,lh:()=>Qt,m$:()=>ve,vs:()=>Bt,zu:()=>Zt});var ae=ct(7543),Nt=ct(8235);function ve(ne,me,Dt){var Ct=[0,0,0,0,0,0,0,0,0];return ae.vc(Ct,Dt),ae.Jp(ne,Ct,me)}function Zt(ne,me,Dt){var Ct=[0,0,0,0,0,0,0,0,0];return ae.Us(Ct,Dt),ae.Jp(ne,Ct,me)}function Qt(ne,me,Dt){var Ct=[0,0,0,0,0,0,0,0,0];return ae.xJ(Ct,Dt),ae.Jp(ne,Ct,me)}function zt(ne,me,Dt){return ae.Jp(ne,Dt,me)}function Bt(ne,me){for(var Dt=ne?[].concat(ne):[1,0,0,0,1,0,0,0,1],Ct=0,ut=me.length;Ct<ut;Ct++){var dt=me[Ct];switch(dt[0]){case"t":ve(Dt,Dt,[dt[1],dt[2]]);break;case"s":Qt(Dt,Dt,[dt[1],dt[2]]);break;case"r":Zt(Dt,Dt,dt[1]);break;case"m":zt(Dt,Dt,dt[1])}}return Dt}function Vt(ne,me,Dt){var Ct=Nt.EU(ne,me),ut=function Mt(ne,me){return ne[0]*me[1]-me[0]*ne[1]}(ne,me)>=0;return Dt?ut?2*Math.PI-Ct:Ct:ut?Ct:2*Math.PI-Ct}},2759:(rr,be,ct)=>{"use strict";ct.d(be,{e9:()=>Vt,Wq:()=>z,tr:()=>dt,wb:()=>Xt,zx:()=>Z});var ae=ct(8250),Nt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,ve=/[^\s\,]+/gi;const Qt=function Zt(R){var N=R||[];return(0,ae.kJ)(N)?N:(0,ae.HD)(N)?(N=N.match(Nt),(0,ae.S6)(N,function(V,lt){if((V=V.match(ve))[0].length>1){var _t=V[0].charAt(0);V.splice(1,0,V[0].substr(1)),V[0]=_t}(0,ae.S6)(V,function(St,Gt){isNaN(St)||(V[Gt]=+St)}),N[lt]=V}),N):void 0};var zt=ct(8235);const Vt=function Mt(R,N,V){void 0===N&&(N=!1),void 0===V&&(V=[[0,0],[1,1]]);for(var lt=!!N,_t=[],St=0,Gt=R.length;St<Gt;St+=2)_t.push([R[St],R[St+1]]);var Te,He,Xe,ee=function Bt(R,N,V,lt){var Gt,ee,ie,Ee,Te,He,Xe,_t=[],St=!!lt;if(St){ie=lt[0],Ee=lt[1];for(var ke=0,qe=R.length;ke<qe;ke+=1)ie=zt.VV([0,0],ie,Qe=R[ke]),Ee=zt.Fp([0,0],Ee,Qe)}ke=0;for(var er=R.length;ke<er;ke+=1){var Qe=R[ke];if(0!==ke||V)if(ke!==er-1||V){var sr=[0,0];sr=zt.lu(sr,ee=R[V?(ke+1)%er:ke+1],Gt=R[[ke?ke-1:er-1,ke-1][V?0:1]]),sr=zt.bA(sr,sr,N);var _r=zt.TE(Qe,Gt),lr=zt.TE(Qe,ee),Sr=_r+lr;0!==Sr&&(_r/=Sr,lr/=Sr);var Hr=zt.bA([0,0],sr,-_r),zr=zt.bA([0,0],sr,lr);He=zt.IH([0,0],Qe,Hr),Te=zt.IH([0,0],Qe,zr),Te=zt.VV([0,0],Te,zt.Fp([0,0],ee,Qe)),Te=zt.Fp([0,0],Te,zt.VV([0,0],ee,Qe)),Hr=zt.lu([0,0],Te,Qe),Hr=zt.bA([0,0],Hr,-_r/lr),He=zt.IH([0,0],Qe,Hr),He=zt.VV([0,0],He,zt.Fp([0,0],Gt,Qe)),He=zt.Fp([0,0],He,zt.VV([0,0],Gt,Qe)),zr=zt.lu([0,0],Qe,He),zr=zt.bA([0,0],zr,lr/_r),Te=zt.IH([0,0],Qe,zr),St&&(He=zt.Fp([0,0],He,ie),He=zt.VV([0,0],He,Ee),Te=zt.Fp([0,0],Te,ie),Te=zt.VV([0,0],Te,Ee)),_t.push(Xe),_t.push(He),Xe=Te}else He=Qe,_t.push(Xe),_t.push(He);else Xe=Qe}return V&&_t.push(_t.shift()),_t}(_t,.4,lt,V),ie=_t.length,Ee=[];for(St=0;St<ie-1;St+=1)Ee.push(["C",(Te=ee[2*St])[0],Te[1],(He=ee[2*St+1])[0],He[1],(Xe=_t[St+1])[0],Xe[1]]);return lt&&Ee.push(["C",(Te=ee[ie])[0],Te[1],(He=ee[ie+1])[0],He[1],(Xe=_t[0])[0],Xe[1]]),Ee};var Dt="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Ct=new RegExp("([a-z])["+Dt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Dt+"]*,?["+Dt+"]*)+)","ig"),ut=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Dt+"]*,?["+Dt+"]*","ig");function dt(R){if(!R)return null;if((0,ae.kJ)(R))return R;var N={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},V=[];return String(R).replace(Ct,function(lt,_t,St){var Gt=[],ee=_t.toLowerCase();if(St.replace(ut,function(ie,Ee){Ee&&Gt.push(+Ee)}),"m"===ee&&Gt.length>2&&(V.push([_t].concat(Gt.splice(0,2))),ee="l",_t="m"===_t?"l":"L"),"o"===ee&&1===Gt.length&&V.push([_t,Gt[0]]),"r"===ee)V.push([_t].concat(Gt));else for(;Gt.length>=N[ee]&&(V.push([_t].concat(Gt.splice(0,N[ee]))),N[ee]););return""}),V}var Yt=/[a-z]/;function Ut(R,N){return[N[0]+(N[0]-R[0]),N[1]+(N[1]-R[1])]}function Xt(R){var N=dt(R);if(!N||!N.length)return[["M",0,0]];for(var V=!1,lt=0;lt<N.length;lt++)if(Yt.test(_t=N[lt][0])||["V","H","T","S"].indexOf(_t)>=0){V=!0;break}if(!V)return N;var St=[],Gt=0,ee=0,ie=0,Ee=0,Te=0,ke=N[0];("M"===ke[0]||"m"===ke[0])&&(ie=Gt=+ke[1],Ee=ee=+ke[2],Te++,St[0]=["M",Gt,ee]),lt=Te;for(var qe=N.length;lt<qe;lt++){var _t,Qe=N[lt],er=St[lt-1],Ye=[],sr=(_t=Qe[0]).toUpperCase();if(_t!==sr)switch(Ye[0]=sr,sr){case"A":Ye[1]=Qe[1],Ye[2]=Qe[2],Ye[3]=Qe[3],Ye[4]=Qe[4],Ye[5]=Qe[5],Ye[6]=+Qe[6]+Gt,Ye[7]=+Qe[7]+ee;break;case"V":Ye[1]=+Qe[1]+ee;break;case"H":Ye[1]=+Qe[1]+Gt;break;case"M":Ee=+Qe[2]+ee,Ye[1]=ie=+Qe[1]+Gt,Ye[2]=Ee;break;default:for(var _r=1,lr=Qe.length;_r<lr;_r++)Ye[_r]=+Qe[_r]+(_r%2?Gt:ee)}else Ye=N[lt];switch(sr){case"Z":Gt=+ie,ee=+Ee;break;case"H":Ye=["L",Gt=Ye[1],ee];break;case"V":Ye=["L",Gt,ee=Ye[1]];break;case"T":Gt=Ye[1],ee=Ye[2];var Sr=Ut([er[1],er[2]],[er[3],er[4]]);Ye=["Q",Sr[0],Sr[1],Gt,ee];break;case"S":Gt=Ye[Ye.length-2],ee=Ye[Ye.length-1];var Hr=er.length,zr=Ut([er[Hr-4],er[Hr-3]],[er[Hr-2],er[Hr-1]]);Ye=["C",zr[0],zr[1],Ye[1],Ye[2],Gt,ee];break;case"M":ie=Ye[Ye.length-2],Ee=Ye[Ye.length-1];break;default:Gt=Ye[Ye.length-2],ee=Ye[Ye.length-1]}St.push(Ye)}return St}function U(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function vt(R,N){return U(R)*U(N)?(R[0]*N[0]+R[1]*N[1])/(U(R)*U(N)):1}function mt(R,N){return(R[0]*N[1]<R[1]*N[0]?-1:1)*Math.acos(vt(R,N))}function j(R,N){return R[0]===N[0]&&R[1]===N[1]}function rt(R,N){var V=N[1],lt=N[2],_t=(0,ae.wQ)((0,ae.c$)(N[3]),2*Math.PI),St=N[4],Gt=N[5],ee=R[0],ie=R[1],Ee=N[6],Te=N[7],He=Math.cos(_t)*(ee-Ee)/2+Math.sin(_t)*(ie-Te)/2,Xe=-1*Math.sin(_t)*(ee-Ee)/2+Math.cos(_t)*(ie-Te)/2,ke=He*He/(V*V)+Xe*Xe/(lt*lt);ke>1&&(V*=Math.sqrt(ke),lt*=Math.sqrt(ke));var qe=V*V*(Xe*Xe)+lt*lt*(He*He),Qe=qe?Math.sqrt((V*V*(lt*lt)-qe)/qe):1;St===Gt&&(Qe*=-1),isNaN(Qe)&&(Qe=0);var er=lt?Qe*V*Xe/lt:0,Ye=V?Qe*-lt*He/V:0,sr=(ee+Ee)/2+Math.cos(_t)*er-Math.sin(_t)*Ye,_r=(ie+Te)/2+Math.sin(_t)*er+Math.cos(_t)*Ye,lr=[(He-er)/V,(Xe-Ye)/lt],Sr=[(-1*He-er)/V,(-1*Xe-Ye)/lt],Hr=mt([1,0],lr),zr=mt(lr,Sr);return vt(lr,Sr)<=-1&&(zr=Math.PI),vt(lr,Sr)>=1&&(zr=0),0===Gt&&zr>0&&(zr-=2*Math.PI),1===Gt&&zr<0&&(zr+=2*Math.PI),{cx:sr,cy:_r,rx:j(R,[Ee,Te])?0:V,ry:j(R,[Ee,Te])?0:lt,startAngle:Hr,endAngle:Hr+zr,xRotation:_t,arcFlag:St,sweepFlag:Gt}}function P(R,N){return[N[0]+(N[0]-R[0]),N[1]+(N[1]-R[1])]}function Z(R){for(var N=[],V=null,lt=null,_t=null,St=0,Gt=(R=Qt(R)).length,ee=0;ee<Gt;ee++){var ie=R[ee];lt=R[ee+1];var Ee=ie[0],Te={command:Ee,prePoint:V,params:ie,startTangent:null,endTangent:null};switch(Ee){case"M":_t=[ie[1],ie[2]],St=ee;break;case"A":var He=rt(V,ie);Te.arcParams=He}if("Z"===Ee)V=_t,lt=R[St+1];else{var Xe=ie.length;V=[ie[Xe-2],ie[Xe-1]]}lt&&"Z"===lt[0]&&(lt=R[St],N[St]&&(N[St].prePoint=V)),Te.currentPoint=V,N[St]&&j(V,N[St].currentPoint)&&(N[St].prePoint=Te.prePoint),Te.nextPoint=lt?[lt[lt.length-2],lt[lt.length-1]]:null;var qe=Te.prePoint;if(["L","H","V"].includes(Ee))Te.startTangent=[qe[0]-V[0],qe[1]-V[1]],Te.endTangent=[V[0]-qe[0],V[1]-qe[1]];else if("Q"===Ee)Te.startTangent=[qe[0]-(Qe=[ie[1],ie[2]])[0],qe[1]-Qe[1]],Te.endTangent=[V[0]-Qe[0],V[1]-Qe[1]];else if("T"===Ee){var Qe=P((er=N[ee-1]).currentPoint,qe);"Q"===er.command?(Te.command="Q",Te.startTangent=[qe[0]-Qe[0],qe[1]-Qe[1]],Te.endTangent=[V[0]-Qe[0],V[1]-Qe[1]]):(Te.command="TL",Te.startTangent=[qe[0]-V[0],qe[1]-V[1]],Te.endTangent=[V[0]-qe[0],V[1]-qe[1]])}else if("C"===Ee){var sr=[ie[3],ie[4]];Te.startTangent=[qe[0]-(Ye=[ie[1],ie[2]])[0],qe[1]-Ye[1]],Te.endTangent=[V[0]-sr[0],V[1]-sr[1]],0===Te.startTangent[0]&&0===Te.startTangent[1]&&(Te.startTangent=[Ye[0]-sr[0],Ye[1]-sr[1]]),0===Te.endTangent[0]&&0===Te.endTangent[1]&&(Te.endTangent=[sr[0]-Ye[0],sr[1]-Ye[1]])}else if("S"===Ee){var er,Ye=P((er=N[ee-1]).currentPoint,qe);sr=[ie[1],ie[2]],"C"===er.command?(Te.command="C",Te.startTangent=[qe[0]-Ye[0],qe[1]-Ye[1]],Te.endTangent=[V[0]-sr[0],V[1]-sr[1]]):(Te.command="SQ",Te.startTangent=[qe[0]-sr[0],qe[1]-sr[1]],Te.endTangent=[V[0]-sr[0],V[1]-sr[1]])}else if("A"===Ee){var _r=.001,lr=Te.arcParams||{},Sr=lr.cx,Hr=void 0===Sr?0:Sr,zr=lr.cy,xn=void 0===zr?0:zr,na=lr.rx,oi=void 0===na?0:na,Bs=lr.ry,Il=void 0===Bs?0:Bs,Ol=lr.sweepFlag,Ps=lr.startAngle,Pi=void 0===Ps?0:Ps,ks=lr.endAngle,ts=void 0===ks?0:ks;0===(void 0===Ol?0:Ol)&&(_r*=-1);var Yu=oi*Math.cos(Pi-_r)+Hr,Rl=Il*Math.sin(Pi-_r)+xn;Te.startTangent=[Yu-_t[0],Rl-_t[1]];var zs=oi*Math.cos(Pi+ts+_r)+Hr,Wu=Il*Math.sin(Pi+ts-_r)+xn;Te.endTangent=[qe[0]-zs,qe[1]-Wu]}N.push(Te)}return N}Math;var q=1e-6;function at(R){return Math.abs(R)<q?0:R<0?-1:1}function Tt(R,N,V){return(V[0]-R[0])*(N[1]-R[1])==(N[0]-R[0])*(V[1]-R[1])&&Math.min(R[0],N[0])<=V[0]&&V[0]<=Math.max(R[0],N[0])&&Math.min(R[1],N[1])<=V[1]&&V[1]<=Math.max(R[1],N[1])}function Lt(R,N,V){var lt=!1,_t=R.length;if(_t<=2)return!1;for(var St=0;St<_t;St++){var Gt=R[St],ee=R[(St+1)%_t];if(Tt(Gt,ee,[N,V]))return!0;at(Gt[1]-V)>0!=at(ee[1]-V)>0&&at(N-(V-Gt[1])*(Gt[0]-ee[0])/(Gt[1]-ee[1])-Gt[0])<0&&(lt=!lt)}return lt}var bt=function(R,N,V){return R>=N&&R<=V};function Ce(R){for(var N=[],V=R.length,lt=0;lt<V-1;lt++){var _t=R[lt],St=R[lt+1];N.push({from:{x:_t[0],y:_t[1]},to:{x:St[0],y:St[1]}})}if(N.length>1){var Gt=R[0],ee=R[V-1];N.push({from:{x:ee[0],y:ee[1]},to:{x:Gt[0],y:Gt[1]}})}return N}function Re(R){var N=R.map(function(lt){return lt[0]}),V=R.map(function(lt){return lt[1]});return{minX:Math.min.apply(null,N),maxX:Math.max.apply(null,N),minY:Math.min.apply(null,V),maxY:Math.max.apply(null,V)}}function z(R,N){if(R.length<2||N.length<2)return!1;if(!function it(R,N){return!(N.minX>R.maxX||N.maxX<R.minX||N.minY>R.maxY||N.maxY<R.minY)}(Re(R),Re(N)))return!1;var _t=!1;if((0,ae.S6)(N,function(ie){if(Lt(R,ie[0],ie[1]))return _t=!0,!1}),_t||((0,ae.S6)(R,function(ie){if(Lt(N,ie[0],ie[1]))return _t=!0,!1}),_t))return!0;var St=Ce(R),Gt=Ce(N),ee=!1;return(0,ae.S6)(Gt,function(ie){if(function we(R,N){var V=!1;return(0,ae.S6)(R,function(lt){if(function re(R,N,V,lt){var St_x=V.x-R.x,St_y=V.y-R.y,Gt_x=N.x-R.x,Gt_y=N.y-R.y,ee_x=lt.x-V.x,ee_y=lt.y-V.y,ie=Gt_x*ee_y-Gt_y*ee_x,Xe=null;if(ie*ie>.001*(Gt_x*Gt_x+Gt_y*Gt_y)*(ee_x*ee_x+ee_y*ee_y)){var ke=(St_x*ee_y-St_y*ee_x)/ie,qe=(St_x*Gt_y-St_y*Gt_x)/ie;bt(ke,0,1)&&bt(qe,0,1)&&(Xe={x:R.x+ke*Gt_x,y:R.y+ke*Gt_y})}return Xe}(lt.from,lt.to,N.from,N.to))return V=!0,!1}),V}(St,ie))return ee=!0,!1}),ee}},9805:(rr,be,ct)=>{"use strict";ct.d(be,{HZt:()=>tE}),rr=ct.hmd(rr);var ae=Object.freeze({__proto__:null,get Base(){return Ro},get Circle(){return ZP},get Ellipse(){return oC},get Image(){return lC},get Line(){return JP},get Marker(){return ek},get Path(){return pd},get Polygon(){return Fg},get Polyline(){return vC},get Rect(){return ok},get Text(){return lk}}),Nt=function(o,s){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])})(o,s)};function ve(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=o}Nt(o,s),o.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}var Zt=function(){return Zt=Object.assign||function(s){for(var a,u=1,h=arguments.length;u<h;u++)for(var v in a=arguments[u])Object.prototype.hasOwnProperty.call(a,v)&&(s[v]=a[v]);return s},Zt.apply(this,arguments)},zt=function(o){return null!==o&&"function"!=typeof o&&isFinite(o.length)},Bt={}.toString,Mt=function(o,s){return Bt.call(o)==="[object "+s+"]"},Vt=function(o){return Mt(o,"Function")},se=function(o){return null==o},ne=function(o){return Array.isArray?Array.isArray(o):Mt(o,"Array")},me=function(o){var s=typeof o;return null!==o&&"object"===s||"function"===s};function Dt(o,s){if(o)if(ne(o))for(var u=0,h=o.length;u<h&&!1!==s(o[u],u);u++);else if(me(o))for(var v in o)if(o.hasOwnProperty(v)&&!1===s(o[v],v))break}var Ct=function(o){return"object"==typeof o&&null!==o},ut=function(o){if(ne(o))return o.reduce(function(s,a){return Math.max(s,a)},o[0])},dt=function(o){if(ne(o))return o.reduce(function(s,a){return Math.min(s,a)},o[0])},Yt=function(o){return Mt(o,"String")},Ut=function(o){return Mt(o,"Number")},Xt=1e-5,$=function(o,s){return(o%s+s)%s},C=Math.PI/180,gt=function(o){return C*o},At=Object.values?function(o){return Object.values(o)}:function(o){var s=[];return Dt(o,function(a,u){Vt(o)&&"prototype"===u||s.push(a)}),s},oe=function(o){var s=function(o){return se(o)?"":o.toString()}(o);return s.charAt(0).toUpperCase()+s.substring(1)};function ye(o,s){for(var a in s)s.hasOwnProperty(a)&&"constructor"!==a&&void 0!==s[a]&&(o[a]=s[a])}function qt(o,s,a,u){return s&&ye(o,s),a&&ye(o,a),u&&ye(o,u),o}var he,kt=function(o,s){if(o===s)return!0;if(!o||!s||Yt(o)||Yt(s))return!1;if(zt(o)||zt(s)){if(o.length!==s.length)return!1;for(var a=!0,u=0;u<o.length&&(a=kt(o[u],s[u]));u++);return a}if(Ct(o)||Ct(s)){var h=Object.keys(o),v=Object.keys(s);if(h.length!==v.length)return!1;for(a=!0,u=0;u<h.length&&(a=kt(o[h[u]],s[h[u]]));u++);return a}return!1},Q={},nt=function(o){return Q[o=o||"g"]?Q[o]+=1:Q[o]=1,o+Q[o]},Et=function(){};!function(o,s){if(!Vt(o))throw new TypeError("Expected a function");var a=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var v=s?s.apply(this,u):u[0],g=a.cache;if(g.has(v))return g.get(v);var y=o.apply(this,u);return g.set(v,y),y};a.cache=new Map}(function(o,s){void 0===s&&(s={});var a=s.fontSize,u=s.fontFamily,h=s.fontWeight,v=s.fontStyle,g=s.fontVariant;return he||(he=document.createElement("canvas").getContext("2d")),he.font=[v,g,h,a+"px",u].join(" "),he.measureText(Yt(o)?o:"").width},function(o,s){return void 0===s&&(s={}),function te(){for(var o=0,s=0,a=arguments.length;s<a;s++)o+=arguments[s].length;var u=Array(o),h=0;for(s=0;s<a;s++)for(var v=arguments[s],g=0,y=v.length;g<y;g++,h++)u[h]=v[g];return u}([o],At(s)).join("")});var Fe="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",W=new RegExp("([a-z])["+Fe+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fe+"]*,?["+Fe+"]*)+)","ig"),K=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fe+"]*,?["+Fe+"]*","ig"),J=function(o){if(!o)return null;if(ne(o))return o;var s={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(o).replace(W,function(u,h,v){var g=[],y=h.toLowerCase();if(v.replace(K,function(w,M){M&&g.push(+M)}),"m"===y&&g.length>2&&(a.push([h].concat(g.splice(0,2))),y="l",h="m"===h?"l":"L"),"o"===y&&1===g.length&&a.push([h,g[0]]),"r"===y)a.push([h].concat(g));else for(;g.length>=s[y]&&(a.push([h].concat(g.splice(0,s[y]))),s[y]););return o}),a},U=function(o,s){for(var a=[],u=0,h=o.length;h-2*!s>u;u+=2){var v=[{x:+o[u-2],y:+o[u-1]},{x:+o[u],y:+o[u+1]},{x:+o[u+2],y:+o[u+3]},{x:+o[u+4],y:+o[u+5]}];s?u?h-4===u?v[3]={x:+o[0],y:+o[1]}:h-2===u&&(v[2]={x:+o[0],y:+o[1]},v[3]={x:+o[2],y:+o[3]}):v[0]={x:+o[h-2],y:+o[h-1]}:h-4===u?v[3]=v[2]:u||(v[0]={x:+o[u],y:+o[u+1]}),a.push(["C",(6*v[1].x-v[0].x+v[2].x)/6,(6*v[1].y-v[0].y+v[2].y)/6,(v[1].x+6*v[2].x-v[3].x)/6,(v[1].y+6*v[2].y-v[3].y)/6,v[2].x,v[2].y])}return a},vt=function(o,s,a,u,h){var v=[];if(null===h&&null===u&&(u=a),o=+o,s=+s,a=+a,u=+u,null!==h){var g=Math.PI/180,y=o+a*Math.cos(-u*g),w=o+a*Math.cos(-h*g);v=[["M",y,s+a*Math.sin(-u*g)],["A",a,a,0,+(h-u>180),0,w,s+a*Math.sin(-h*g)]]}else v=[["M",o,s],["m",0,-u],["a",a,u,0,1,1,0,2*u],["a",a,u,0,1,1,0,-2*u],["z"]];return v},mt=function(o){if(!(o=J(o))||!o.length)return[["M",0,0]];var y,w,s=[],a=0,u=0,h=0,v=0,g=0;"M"===o[0][0]&&(h=a=+o[0][1],v=u=+o[0][2],g++,s[0]=["M",a,u]);for(var M=3===o.length&&"M"===o[0][0]&&"R"===o[1][0].toUpperCase()&&"Z"===o[2][0].toUpperCase(),A=void 0,L=void 0,O=g,D=o.length;O<D;O++){if(s.push(A=[]),(y=(L=o[O])[0])!==y.toUpperCase())switch(A[0]=y.toUpperCase(),A[0]){case"A":A[1]=L[1],A[2]=L[2],A[3]=L[3],A[4]=L[4],A[5]=L[5],A[6]=+L[6]+a,A[7]=+L[7]+u;break;case"V":A[1]=+L[1]+u;break;case"H":A[1]=+L[1]+a;break;case"R":for(var k=2,X=(w=[a,u].concat(L.slice(1))).length;k<X;k++)w[k]=+w[k]+a,w[++k]=+w[k]+u;s.pop(),s=s.concat(U(w,M));break;case"O":s.pop(),(w=vt(a,u,L[1],L[2])).push(w[0]),s=s.concat(w);break;case"U":s.pop(),s=s.concat(vt(a,u,L[1],L[2],L[3])),A=["U"].concat(s[s.length-1].slice(-2));break;case"M":h=+L[1]+a,v=+L[2]+u;break;default:for(k=1,X=L.length;k<X;k++)A[k]=+L[k]+(k%2?a:u)}else if("R"===y)w=[a,u].concat(L.slice(1)),s.pop(),s=s.concat(U(w,M)),A=["R"].concat(L.slice(-2));else if("O"===y)s.pop(),(w=vt(a,u,L[1],L[2])).push(w[0]),s=s.concat(w);else if("U"===y)s.pop(),s=s.concat(vt(a,u,L[1],L[2],L[3])),A=["U"].concat(s[s.length-1].slice(-2));else for(var tt=0,ot=L.length;tt<ot;tt++)A[tt]=L[tt];if("O"!==(y=y.toUpperCase()))switch(A[0]){case"Z":a=+h,u=+v;break;case"H":a=A[1];break;case"V":u=A[1];break;case"M":h=A[A.length-2],v=A[A.length-1];break;default:a=A[A.length-2],u=A[A.length-1]}}return s},j=function(o,s,a,u){return[o,s,a,u,a,u]},rt=function(o,s,a,u,h,v){var g=.3333333333333333,y=2/3;return[g*o+y*a,g*s+y*u,g*h+y*a,g*v+y*u,h,v]},P=function(o,s,a,u,h,v,g,y,w,M){a===u&&(a+=1);var D,k,X,tt,ot,A=120*Math.PI/180,L=Math.PI/180*(+h||0),O=[],ft=function(mi,Ki,Mn){return{x:mi*Math.cos(Mn)-Ki*Math.sin(Mn),y:mi*Math.sin(Mn)+Ki*Math.cos(Mn)}};if(M)k=M[0],X=M[1],tt=M[2],ot=M[3];else{o=(D=ft(o,s,-L)).x,s=D.y,w=(D=ft(y,w,-L)).y,o===(y=D.x)&&s===w&&(y+=1,w+=1);var ht=(o-y)/2,pt=(s-w)/2,Wt=ht*ht/(a*a)+pt*pt/(u*u);Wt>1&&(a*=Wt=Math.sqrt(Wt),u*=Wt);var de=a*a,pe=u*u,Me=(v===g?-1:1)*Math.sqrt(Math.abs((de*pe-de*pt*pt-pe*ht*ht)/(de*pt*pt+pe*ht*ht)));tt=Me*a*pt/u+(o+y)/2,ot=Me*-u*ht/a+(s+w)/2,k=Math.asin(((s-ot)/u).toFixed(9)),X=Math.asin(((w-ot)/u).toFixed(9)),k=o<tt?Math.PI-k:k,X=y<tt?Math.PI-X:X,k<0&&(k=2*Math.PI+k),X<0&&(X=2*Math.PI+X),g&&k>X&&(k-=2*Math.PI),!g&&X>k&&(X-=2*Math.PI)}var ze=X-k;if(Math.abs(ze)>A){var Oe=X,Ze=y,tr=w;X=k+A*(g&&X>k?1:-1),y=tt+a*Math.cos(X),w=ot+u*Math.sin(X),O=P(y,w,a,u,h,0,g,Ze,tr,[X,Oe,tt,ot])}ze=X-k;var vr=Math.cos(k),gr=Math.sin(k),mr=Math.cos(X),Je=Math.sin(X),Xr=Math.tan(ze/4),$r=4/3*a*Xr,sn=4/3*u*Xr,Nr=[o,s],qn=[o+$r*gr,s-sn*vr],fn=[y+$r*Je,w-sn*mr],Zi=[y,w];if(qn[0]=2*Nr[0]-qn[0],qn[1]=2*Nr[1]-qn[1],M)return[qn,fn,Zi].concat(O);for(var qi=[],dn=0,ri=(O=[qn,fn,Zi].concat(O).join().split(",")).length;dn<ri;dn++)qi[dn]=dn%2?ft(O[dn-1],O[dn],L).y:ft(O[dn],O[dn+1],L).x;return qi},Z=function(o,s){var A,a=mt(o),u=s&&mt(s),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},v={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=[],y=[],w="",M="",L=function(ht,pt,Wt){var de,pe;if(!ht)return["C",pt.x,pt.y,pt.x,pt.y,pt.x,pt.y];switch(!(ht[0]in{T:1,Q:1})&&(pt.qx=pt.qy=null),ht[0]){case"M":pt.X=ht[1],pt.Y=ht[2];break;case"A":ht=["C"].concat(P.apply(0,[pt.x,pt.y].concat(ht.slice(1))));break;case"S":"C"===Wt||"S"===Wt?(de=2*pt.x-pt.bx,pe=2*pt.y-pt.by):(de=pt.x,pe=pt.y),ht=["C",de,pe].concat(ht.slice(1));break;case"T":"Q"===Wt||"T"===Wt?(pt.qx=2*pt.x-pt.qx,pt.qy=2*pt.y-pt.qy):(pt.qx=pt.x,pt.qy=pt.y),ht=["C"].concat(rt(pt.x,pt.y,pt.qx,pt.qy,ht[1],ht[2]));break;case"Q":pt.qx=ht[1],pt.qy=ht[2],ht=["C"].concat(rt(pt.x,pt.y,ht[1],ht[2],ht[3],ht[4]));break;case"L":ht=["C"].concat(j(pt.x,pt.y,ht[1],ht[2]));break;case"H":ht=["C"].concat(j(pt.x,pt.y,ht[1],pt.y));break;case"V":ht=["C"].concat(j(pt.x,pt.y,pt.x,ht[1]));break;case"Z":ht=["C"].concat(j(pt.x,pt.y,pt.X,pt.Y))}return ht},O=function(ht,pt){if(ht[pt].length>7){ht[pt].shift();for(var Wt=ht[pt];Wt.length;)g[pt]="A",u&&(y[pt]="A"),ht.splice(pt++,0,["C"].concat(Wt.splice(0,6)));ht.splice(pt,1),A=Math.max(a.length,u&&u.length||0)}},D=function(ht,pt,Wt,de,pe){ht&&pt&&"M"===ht[pe][0]&&"M"!==pt[pe][0]&&(pt.splice(pe,0,["M",de.x,de.y]),Wt.bx=0,Wt.by=0,Wt.x=ht[pe][1],Wt.y=ht[pe][2],A=Math.max(a.length,u&&u.length||0))};A=Math.max(a.length,u&&u.length||0);for(var k=0;k<A;k++){a[k]&&(w=a[k][0]),"C"!==w&&(g[k]=w,k&&(M=g[k-1])),a[k]=L(a[k],h,M),"A"!==g[k]&&"C"===w&&(g[k]="C"),O(a,k),u&&(u[k]&&(w=u[k][0]),"C"!==w&&(y[k]=w,k&&(M=y[k-1])),u[k]=L(u[k],v,M),"A"!==y[k]&&"C"===w&&(y[k]="C"),O(u,k)),D(a,u,h,v,k),D(u,a,v,h,k);var X=a[k],tt=u&&u[k],ot=X.length,ft=u&&tt.length;h.x=X[ot-2],h.y=X[ot-1],h.bx=parseFloat(X[ot-4])||h.x,h.by=parseFloat(X[ot-3])||h.y,v.bx=u&&(parseFloat(tt[ft-4])||v.x),v.by=u&&(parseFloat(tt[ft-3])||v.y),v.x=u&&tt[ft-2],v.y=u&&tt[ft-1]}return u?[a,u]:a},q=/,?([a-z]),?/gi,at=function(o){return o.join(",").replace(q,"$1")},Tt=function(o,s,a,u,h){return o*(o*(-3*s+9*a-9*u+3*h)+6*s-12*a+6*u)-3*s+3*a},Lt=function(o,s,a,u,h,v,g,y,w){null===w&&(w=1);for(var M=(w=w>1?1:w<0?0:w)/2,L=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],O=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],D=0,k=0;k<12;k++){var X=M*L[k]+M,tt=Tt(X,o,a,h,g),ot=Tt(X,s,u,v,y);D+=O[k]*Math.sqrt(tt*tt+ot*ot)}return M*D},bt=function(o,s,a,u,h,v,g,y){for(var A,L,O,D,w=[],M=[[],[]],k=0;k<2;++k)if(0===k?(L=6*o-12*a+6*h,A=-3*o+9*a-9*h+3*g,O=3*a-3*o):(L=6*s-12*u+6*v,A=-3*s+9*u-9*v+3*y,O=3*u-3*s),Math.abs(A)<1e-12){if(Math.abs(L)<1e-12)continue;(D=-O/L)>0&&D<1&&w.push(D)}else{var X=L*L-4*O*A,tt=Math.sqrt(X);if(!(X<0)){var ot=(-L+tt)/(2*A);ot>0&&ot<1&&w.push(ot);var ft=(-L-tt)/(2*A);ft>0&&ft<1&&w.push(ft)}}for(var Wt,ht=w.length,pt=ht;ht--;)M[0][ht]=(Wt=1-(D=w[ht]))*Wt*Wt*o+3*Wt*Wt*D*a+3*Wt*D*D*h+D*D*D*g,M[1][ht]=Wt*Wt*Wt*s+3*Wt*Wt*D*u+3*Wt*D*D*v+D*D*D*y;return M[0][pt]=o,M[1][pt]=s,M[0][pt+1]=g,M[1][pt+1]=y,M[0].length=M[1].length=pt+2,{min:{x:Math.min.apply(0,M[0]),y:Math.min.apply(0,M[1])},max:{x:Math.max.apply(0,M[0]),y:Math.max.apply(0,M[1])}}},re=function(o,s,a,u,h,v,g,y){if(!(Math.max(o,a)<Math.min(h,g)||Math.min(o,a)>Math.max(h,g)||Math.max(s,u)<Math.min(v,y)||Math.min(s,u)>Math.max(v,y))){var A=(o-a)*(v-y)-(s-u)*(h-g);if(A){var L=((o*u-s*a)*(h-g)-(o-a)*(h*y-v*g))/A,O=((o*u-s*a)*(v-y)-(s-u)*(h*y-v*g))/A,D=+L.toFixed(2),k=+O.toFixed(2);if(!(D<+Math.min(o,a).toFixed(2)||D>+Math.max(o,a).toFixed(2)||D<+Math.min(h,g).toFixed(2)||D>+Math.max(h,g).toFixed(2)||k<+Math.min(s,u).toFixed(2)||k>+Math.max(s,u).toFixed(2)||k<+Math.min(v,y).toFixed(2)||k>+Math.max(v,y).toFixed(2)))return{x:L,y:O}}}},Ce=function(o,s,a){return s>=o.x&&s<=o.x+o.width&&a>=o.y&&a<=o.y+o.height},we=function(o,s,a,u,h){if(h)return[["M",+o+ +h,s],["l",a-2*h,0],["a",h,h,0,0,1,h,h],["l",0,u-2*h],["a",h,h,0,0,1,-h,h],["l",2*h-a,0],["a",h,h,0,0,1,-h,-h],["l",0,2*h-u],["a",h,h,0,0,1,h,-h],["z"]];var v=[["M",o,s],["l",a,0],["l",0,u],["l",-a,0],["z"]];return v.parsePathArray=at,v},Re=function(o,s,a,u){return null===o&&(o=s=a=u=0),null===s&&(s=o.y,a=o.width,u=o.height,o=o.x),{x:o,y:s,width:a,w:a,height:u,h:u,x2:o+a,y2:s+u,cx:o+a/2,cy:s+u/2,r1:Math.min(a,u)/2,r2:Math.max(a,u)/2,r0:Math.sqrt(a*a+u*u)/2,path:we(o,s,a,u),vb:[o,s,a,u].join(" ")}},z=function(o,s,a,u,h,v,g,y){ne(o)||(o=[o,s,a,u,h,v,g,y]);var w=bt.apply(null,o);return Re(w.min.x,w.min.y,w.max.x-w.min.x,w.max.y-w.min.y)},R=function(o,s,a,u,h,v,g,y,w){var M=1-w,A=Math.pow(M,3),L=Math.pow(M,2),O=w*w,D=O*w,tt=o+2*w*(a-o)+O*(h-2*a+o),ot=s+2*w*(u-s)+O*(v-2*u+s),ft=a+2*w*(h-a)+O*(g-2*h+a),ht=u+2*w*(v-u)+O*(y-2*v+u);return{x:A*o+3*L*w*a+3*M*w*w*h+D*g,y:A*s+3*L*w*u+3*M*w*w*v+D*y,m:{x:tt,y:ot},n:{x:ft,y:ht},start:{x:M*o+w*a,y:M*s+w*u},end:{x:M*h+w*g,y:M*v+w*y},alpha:90-180*Math.atan2(tt-ft,ot-ht)/Math.PI}},N=function(o,s,a){if(!function(o,s){return o=Re(o),s=Re(s),Ce(s,o.x,o.y)||Ce(s,o.x2,o.y)||Ce(s,o.x,o.y2)||Ce(s,o.x2,o.y2)||Ce(o,s.x,s.y)||Ce(o,s.x2,s.y)||Ce(o,s.x,s.y2)||Ce(o,s.x2,s.y2)||(o.x<s.x2&&o.x>s.x||s.x<o.x2&&s.x>o.x)&&(o.y<s.y2&&o.y>s.y||s.y<o.y2&&s.y>o.y)}(z(o),z(s)))return a?0:[];for(var y=~~(Lt.apply(0,o)/8),w=~~(Lt.apply(0,s)/8),M=[],A=[],L={},O=a?0:[],D=0;D<y+1;D++){var k=R.apply(0,o.concat(D/y));M.push({x:k.x,y:k.y,t:D/y})}for(D=0;D<w+1;D++)k=R.apply(0,s.concat(D/w)),A.push({x:k.x,y:k.y,t:D/w});for(D=0;D<y;D++)for(var X=0;X<w;X++){var tt=M[D],ot=M[D+1],ft=A[X],ht=A[X+1],pt=Math.abs(ot.x-tt.x)<.001?"y":"x",Wt=Math.abs(ht.x-ft.x)<.001?"y":"x",de=re(tt.x,tt.y,ot.x,ot.y,ft.x,ft.y,ht.x,ht.y);if(de){if(L[de.x.toFixed(4)]===de.y.toFixed(4))continue;L[de.x.toFixed(4)]=de.y.toFixed(4);var pe=tt.t+Math.abs((de[pt]-tt[pt])/(ot[pt]-tt[pt]))*(ot.t-tt.t),Me=ft.t+Math.abs((de[Wt]-ft[Wt])/(ht[Wt]-ft[Wt]))*(ht.t-ft.t);pe>=0&&pe<=1&&Me>=0&&Me<=1&&(a?O+=1:O.push({x:de.x,y:de.y,t1:pe,t2:Me}))}}return O};function _t(o,s){var a=[],u=[];return o.length&&function h(v,g){if(1===v.length)a.push(v[0]),u.push(v[0]);else{for(var y=[],w=0;w<v.length-1;w++)0===w&&a.push(v[0]),w===v.length-2&&u.push(v[w+1]),y[w]=[(1-g)*v[w][0]+g*v[w+1][0],(1-g)*v[w][1]+g*v[w+1][1]];h(y,g)}}(o,s),{left:a,right:u.reverse()}}var ie=function(o,s){if(o.length!==s.length)return!1;var a=!0;return Dt(o,function(u,h){if(u!==s[h])return a=!1,!1}),a};function Ee(o,s,a){var u=null,h=a;return s<h&&(h=s,u="add"),o<h&&(h=o,u="del"),{type:u,min:h}}var He=function(o,s){var a=function(o,s){var h,a=o.length,u=s.length,g=0;if(0===a||0===u)return null;for(var y=[],w=0;w<=a;w++)y[w]=[],y[w][0]={min:w};for(var M=0;M<=u;M++)y[0][M]={min:M};for(w=1;w<=a;w++)for(h=o[w-1],M=1;M<=u;M++)g=ie(h,s[M-1])?0:1,y[w][M]=Ee(y[w-1][M].min+1,y[w][M-1].min+1,y[w-1][M-1].min+g);return y}(o,s),u=o.length,h=s.length,v=[],g=1,y=1;if(a[u][h].min!==u){for(var w=1;w<=u;w++){var M=a[w][w].min;y=w;for(var A=g;A<=h;A++)a[w][A].min<M&&(M=a[w][A].min,y=A);a[w][g=y].type&&v.push({index:w-1,type:a[w][g].type})}for(w=v.length-1;w>=0;w--)g=v[w].index,"add"===v[w].type?o.splice(g,0,[].concat(o[g])):o.splice(g,1)}var L=h-(u=o.length);if(u<h)for(w=0;w<L;w++)"z"===o[u-1][0]||"Z"===o[u-1][0]?o.splice(u-2,0,o[u-2]):o.push(o[u-1]),u+=1;return o};function Xe(o,s,a){for(var h,u=[].concat(o),v=1/(a+1),g=ke(s)[0],y=1;y<=a;y++)v*=y,0===(h=Math.floor(o.length*v))?u.unshift([g[0]*v+o[h][0]*(1-v),g[1]*v+o[h][1]*(1-v)]):u.splice(h,0,[g[0]*v+o[h][0]*(1-v),g[1]*v+o[h][1]*(1-v)]);return u}function ke(o){var s=[];switch(o[0]){case"M":case"L":case"T":s.push([o[1],o[2]]);break;case"A":s.push([o[6],o[7]]);break;case"Q":case"S":s.push([o[3],o[4]]),s.push([o[1],o[2]]);break;case"C":s.push([o[5],o[6]]),s.push([o[1],o[2]]),s.push([o[3],o[4]]);break;case"H":case"V":s.push([o[1],o[1]])}return s}var qe=function(o,s){if(o.length<=1)return o;for(var a,u=0;u<s.length;u++)if(o[u][0]!==s[u][0])switch(a=ke(o[u]),s[u][0]){case"M":o[u]=["M"].concat(a[0]);break;case"L":o[u]=["L"].concat(a[0]);break;case"A":o[u]=[].concat(s[u]),o[u][6]=a[0][0],o[u][7]=a[0][1];break;case"Q":if(a.length<2){if(!(u>0)){o[u]=s[u];break}a=Xe(a,o[u-1],1)}o[u]=["Q"].concat(a.reduce(function(h,v){return h.concat(v)},[]));break;case"T":o[u]=["T"].concat(a[0]);break;case"C":if(a.length<3){if(!(u>0)){o[u]=s[u];break}a=Xe(a,o[u-1],2)}o[u]=["C"].concat(a.reduce(function(h,v){return h.concat(v)},[]));break;case"S":if(a.length<2){if(!(u>0)){o[u]=s[u];break}a=Xe(a,o[u-1],1)}o[u]=["S"].concat(a.reduce(function(h,v){return h.concat(v)},[]));break;default:o[u]=s[u]}return o},Qe=Object.freeze({__proto__:null,catmullRomToBezier:U,fillPath:function(o,s){if(1===o.length)return o;var a=o.length-1,u=s.length-1,h=a/u,v=[];if(1===o.length&&"M"===o[0][0]){for(var g=0;g<u-a;g++)o.push(o[0]);return o}for(g=0;g<u;g++){var y=Math.floor(h*g);v[y]=(v[y]||0)+1}var w=v.reduce(function(M,A,L){return M.concat(L===a?o[a]:function(o,s,a){if(1===a)return[[].concat(o)];var u=[];if("L"===s[0]||"C"===s[0]||"Q"===s[0])u=u.concat(function St(o,s,a){var u=[[o[1],o[2]]];a=a||2;var h=[];"A"===s[0]?(u.push(s[6]),u.push(s[7])):"C"===s[0]?(u.push([s[1],s[2]]),u.push([s[3],s[4]]),u.push([s[5],s[6]])):"S"===s[0]||"Q"===s[0]?(u.push([s[1],s[2]]),u.push([s[3],s[4]])):u.push([s[1],s[2]]);for(var v=u,g=1/a,y=0;y<a-1;y++){var M=_t(v,g/(1-g*y));h.push(M.left),v=M.right}return h.push(v),h.map(function(L){var O=[];return 4===L.length&&(O.push("C"),O=O.concat(L[2])),L.length>=3&&(3===L.length&&O.push("Q"),O=O.concat(L[1])),2===L.length&&O.push("L"),O.concat(L[L.length-1])})}(o,s,a));else{var h=[].concat(o);"M"===h[0]&&(h[0]="L");for(var v=0;v<=a-1;v++)u.push(h)}return u}(o[L],o[L+1],A))},[]);return w.unshift(o[0]),("Z"===s[u]||"z"===s[u])&&w.push("Z"),w},fillPathByDiff:He,formatPath:qe,intersection:function(o,s){return function(o,s,a){o=Z(o),s=Z(s);for(var u,h,v,g,y,w,M,A,L,O,D=[],k=0,X=o.length;k<X;k++){var tt=o[k];if("M"===tt[0])u=y=tt[1],h=w=tt[2];else{"C"===tt[0]?(L=[u,h].concat(tt.slice(1)),u=L[6],h=L[7]):(L=[u,h,u,h,y,w,y,w],u=y,h=w);for(var ot=0,ft=s.length;ot<ft;ot++){var ht=s[ot];if("M"===ht[0])v=M=ht[1],g=A=ht[2];else{"C"===ht[0]?(O=[v,g].concat(ht.slice(1)),v=O[6],g=O[7]):(O=[v,g,v,g,M,A,M,A],v=M,g=A);for(var pt=N(L,O,a),Wt=0,de=pt.length;Wt<de;Wt++)pt[Wt].segment1=k,pt[Wt].segment2=ot,pt[Wt].bez1=L,pt[Wt].bez2=O;D=D.concat(pt)}}}}return D}(o,s)},parsePathArray:at,parsePathString:J,pathToAbsolute:mt,pathToCurve:Z,rectPath:we}),er=function(){function o(s,a){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=s,this.name=s,this.originalEvent=a,this.timeStamp=a.timeStamp}return o.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},o.prototype.stopPropagation=function(){this.propagationStopped=!0},o.prototype.toString=function(){return"[Event (type="+this.type+")]"},o.prototype.save=function(){},o.prototype.restore=function(){},o}(),Ye=function(o,s){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])})(o,s)};function sr(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=o}Ye(o,s),o.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}var _r="*",lr=function(){function o(){this._events={}}return o.prototype.on=function(s,a,u){return this._events[s]||(this._events[s]=[]),this._events[s].push({callback:a,once:!!u}),this},o.prototype.once=function(s,a){return this.on(s,a,!0)},o.prototype.emit=function(s){for(var a=this,u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];var g=this._events[_r]||[],y=function(w){for(var M=w.length,A=0;A<M;A++)if(w[A]){var L=w[A],O=L.callback;L.once&&(w.splice(A,1),0===w.length&&delete a._events[s],M--,A--),O.apply(a,u)}};y(this._events[s]||[]),y(g)},o.prototype.off=function(s,a){if(s)if(a){for(var u=this._events[s]||[],h=u.length,v=0;v<h;v++)u[v].callback===a&&(u.splice(v,1),h--,v--);0===u.length&&delete this._events[s]}else delete this._events[s];else this._events={};return this},o.prototype.getEvents=function(){return this._events},o}();function Sr(o,s){var a=o.indexOf(s);-1!==a&&o.splice(a,1)}var Hr=typeof window<"u"&&typeof window.document<"u";function zr(o,s){if(o.isCanvas())return!0;for(var a=s.getParent(),u=!1;a;){if(a===o){u=!0;break}a=a.getParent()}return u}function xn(o){return o.cfg.visible&&o.cfg.capture}var na=function(o){function s(a){var u=o.call(this)||this;u.destroyed=!1;var h=u.getDefaultCfg();return u.cfg=qt(h,a),u}return sr(s,o),s.prototype.getDefaultCfg=function(){return{}},s.prototype.get=function(a){return this.cfg[a]},s.prototype.set=function(a,u){this.cfg[a]=u},s.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},s}(lr),oi=function(o,s,a){if(a||2===arguments.length)for(var v,u=0,h=s.length;u<h;u++)(v||!(u in s))&&(v||(v=Array.prototype.slice.call(s,0,u)),v[u]=s[u]);return o.concat(v||Array.prototype.slice.call(s))},Bs=function o(s,a,u){this.name=s,this.version=a,this.os=u,this.type="browser"},Il=function o(s){this.version=s,this.type="node",this.name="node",this.os=process.platform},Ol=function o(s,a,u,h){this.name=s,this.version=a,this.os=u,this.bot=h,this.type="bot-device"},jo=function o(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Ps=function o(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ks=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ts=3,Yu=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Rl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function wv(o){var s=function Wu(o){return""!==o&&Yu.reduce(function(s,a){var u=a[0];if(s)return s;var v=a[1].exec(o);return!!v&&[u,v]},!1)}(o);if(!s)return null;var a=s[0],u=s[1];if("searchbot"===a)return new jo;var h=u[1]&&u[1].split(".").join("_").split("_").slice(0,3);h?h.length<ts&&(h=oi(oi([],h,!0),function O0(o){for(var s=[],a=0;a<o;a++)s.push("0");return s}(ts-h.length),!0)):h=[];var v=h.join("."),g=function I0(o){for(var s=0,a=Rl.length;s<a;s++){var u=Rl[s],h=u[0];if(u[1].exec(o))return h}return null}(o),y=ks.exec(o);return y&&y[1]?new Ol(a,v,g,y[1]):new Bs(a,v,g)}var dh=typeof Float32Array<"u"?Float32Array:Array;function ph(o,s,a){var u=s[0],h=s[1],v=s[2],g=s[3],y=s[4],w=s[5],M=s[6],A=s[7],L=s[8],O=a[0],D=a[1],k=a[2],X=a[3],tt=a[4],ot=a[5],ft=a[6],ht=a[7],pt=a[8];return o[0]=O*u+D*g+k*M,o[1]=O*h+D*y+k*A,o[2]=O*v+D*w+k*L,o[3]=X*u+tt*g+ot*M,o[4]=X*h+tt*y+ot*A,o[5]=X*v+tt*w+ot*L,o[6]=ft*u+ht*g+pt*M,o[7]=ft*h+ht*y+pt*A,o[8]=ft*v+ht*w+pt*L,o}function B0(o,s,a){var u=s[0],h=s[1],v=s[2];return o[0]=u*a[0]+h*a[3]+v*a[6],o[1]=u*a[1]+h*a[4]+v*a[7],o[2]=u*a[2]+h*a[5]+v*a[8],o}function Ci(o,s,a){var u=[0,0,0,0,0,0,0,0,0];return function R0(o,s){o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=s[0],o[7]=s[1],o[8]=1}(u,a),ph(o,u,s)}function es(o,s,a){var u=[0,0,0,0,0,0,0,0,0];return function _v(o,s){var a=Math.sin(s),u=Math.cos(s);o[0]=u,o[1]=a,o[2]=0,o[3]=-a,o[4]=u,o[5]=0,o[6]=0,o[7]=0,o[8]=1}(u,a),ph(o,u,s)}function Sv(o,s,a){var u=[0,0,0,0,0,0,0,0,0];return function F0(o,s){o[0]=s[0],o[1]=0,o[2]=0,o[3]=0,o[4]=s[1],o[5]=0,o[6]=0,o[7]=0,o[8]=1}(u,a),ph(o,u,s)}function z0(o,s,a){return ph(o,a,s)}function Mv(o,s){for(var a=o?[].concat(o):[1,0,0,0,1,0,0,0,1],u=0,h=s.length;u<h;u++){var v=s[u];switch(v[0]){case"t":Ci(a,a,[v[1],v[2]]);break;case"s":Sv(a,a,[v[1],v[2]]);break;case"r":es(a,a,v[1]);break;case"m":z0(a,a,v[1])}}return a}function gh(o,s){var a=[],u=o[0],h=o[1],v=o[2],g=o[3],y=o[4],w=o[5],M=o[6],A=o[7],L=o[8],O=s[0],D=s[1],k=s[2],X=s[3],tt=s[4],ot=s[5],ft=s[6],ht=s[7],pt=s[8];return a[0]=O*u+D*g+k*M,a[1]=O*h+D*y+k*A,a[2]=O*v+D*w+k*L,a[3]=X*u+tt*g+ot*M,a[4]=X*h+tt*y+ot*A,a[5]=X*v+tt*w+ot*L,a[6]=ft*u+ht*g+pt*M,a[7]=ft*h+ht*y+pt*A,a[8]=ft*v+ht*w+pt*L,a}function rs(o,s){var a=[],u=s[0],h=s[1];return a[0]=o[0]*u+o[3]*h+o[6],a[1]=o[1]*u+o[4]*h+o[7],a}function Tv(o){var s=[],a=o[0],u=o[1],h=o[2],v=o[3],g=o[4],y=o[5],w=o[6],M=o[7],A=o[8],L=A*g-y*M,O=-A*v+y*w,D=M*v-g*w,k=a*L+u*O+h*D;return k?(s[0]=L*(k=1/k),s[1]=(-A*u+h*M)*k,s[2]=(y*u-h*g)*k,s[3]=O*k,s[4]=(A*a-h*w)*k,s[5]=(-y*a+h*v)*k,s[6]=D*k,s[7]=(-M*a+u*w)*k,s[8]=(g*a-u*v)*k,s):null}Math.hypot||(Math.hypot=function(){for(var o=0,s=arguments.length;s--;)o+=arguments[s]*arguments[s];return Math.sqrt(o)}),function D0(){var o=new dh(3);dh!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0)}(),function c2(){var o=new dh(2);dh!=Float32Array&&(o[0]=0,o[1]=0)}();var Dl=Mv,yh="matrix",N0=["zIndex","capture","visible","type"],h2=["repeat"];function bv(o,s){var a={},u=s.attrs;for(var h in o)a[h]=u[h];return a}var G0=function(o){function s(a){var u=o.call(this,a)||this;u.attrs={};var h=u.getDefaultAttrs();return qt(h,a.attrs),u.attrs=h,u.initAttrs(h),u.initAnimate(),u}return sr(s,o),s.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},s.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},s.prototype.onCanvasChange=function(a){},s.prototype.initAttrs=function(a){},s.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},s.prototype.isGroup=function(){return!1},s.prototype.getParent=function(){return this.get("parent")},s.prototype.getCanvas=function(){return this.get("canvas")},s.prototype.attr=function(){for(var a,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var v=u[0],g=u[1];if(!v)return this.attrs;if(me(v)){for(var y in v)this.setAttr(y,v[y]);return this.afterAttrsChange(v),this}return 2===u.length?(this.setAttr(v,g),this.afterAttrsChange(((a={})[v]=g,a)),this):this.attrs[v]},s.prototype.isClipped=function(a,u){var h=this.getClip();return h&&!h.isHit(a,u)},s.prototype.setAttr=function(a,u){var h=this.attrs[a];h!==u&&(this.attrs[a]=u,this.onAttrChange(a,u,h))},s.prototype.onAttrChange=function(a,u,h){"matrix"===a&&this.set("totalMatrix",null)},s.prototype.afterAttrsChange=function(a){if(this.cfg.isClipShape){var u=this.cfg.applyTo;u&&u.onCanvasChange("clip")}else this.onCanvasChange("attr")},s.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},s.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},s.prototype.setZIndex=function(a){this.set("zIndex",a);var u=this.getParent();return u&&u.sort(),this},s.prototype.toFront=function(){var a=this.getParent();if(a){var u=a.getChildren();this.get("el");var h=u.indexOf(this);u.splice(h,1),u.push(this),this.onCanvasChange("zIndex")}},s.prototype.toBack=function(){var a=this.getParent();if(a){var u=a.getChildren();this.get("el");var h=u.indexOf(this);u.splice(h,1),u.unshift(this),this.onCanvasChange("zIndex")}},s.prototype.remove=function(a){void 0===a&&(a=!0);var u=this.getParent();u?(Sr(u.getChildren(),this),u.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),a&&this.destroy()},s.prototype.resetMatrix=function(){this.attr(yh,this.getDefaultMatrix()),this.onCanvasChange("matrix")},s.prototype.getMatrix=function(){return this.attr(yh)},s.prototype.setMatrix=function(a){this.attr(yh,a),this.onCanvasChange("matrix")},s.prototype.getTotalMatrix=function(){var a=this.cfg.totalMatrix;if(!a){var u=this.attr("matrix"),h=this.cfg.parentMatrix;a=h&&u?gh(h,u):u||h,this.set("totalMatrix",a)}return a},s.prototype.applyMatrix=function(a){var h,u=this.attr("matrix");h=a&&u?gh(a,u):u||a,this.set("totalMatrix",h),this.set("parentMatrix",a)},s.prototype.getDefaultMatrix=function(){return null},s.prototype.applyToMatrix=function(a){var u=this.attr("matrix");return u?rs(u,a):a},s.prototype.invertFromMatrix=function(a){var u=this.attr("matrix");if(u){var h=Tv(u);if(h)return rs(h,a)}return a},s.prototype.setClip=function(a){var u=this.getCanvas(),h=null;if(a){var y=this.getShapeBase()[oe(a.type)];y&&(h=new y({type:a.type,isClipShape:!0,applyTo:this,attrs:a.attrs,canvas:u}))}return this.set("clipShape",h),this.onCanvasChange("clip"),h},s.prototype.getClip=function(){return this.cfg.clipShape||null},s.prototype.clone=function(){var a=this,u=this.attrs,h={};Dt(u,function(y,w){h[w]=ne(u[w])?function xh(o){for(var s=[],a=0;a<o.length;a++)ne(o[a])?s.push([].concat(o[a])):s.push(o[a]);return s}(u[w]):u[w]});var g=new(0,this.constructor)({attrs:h});return Dt(N0,function(y){g.set(y,a.get(y))}),g},s.prototype.destroy=function(){this.destroyed||(this.attrs={},o.prototype.destroy.call(this))},s.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},s.prototype.animate=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var h=this.get("timeline");h||(h=this.get("canvas").get("timeline"),this.set("timeline",h));var v=this.get("animations")||[];h.timer||h.initTimer();var k,X,tt,ot,ft,g=a[0],y=a[1],w=a[2],M=void 0===w?"easeLinear":w,A=a[3],L=void 0===A?Et:A,O=a[4],D=void 0===O?0:O;Vt(g)?(k=g,g={}):me(g)&&g.onFrame&&(k=g.onFrame,X=g.repeat),me(y)?(y=(ft=y).duration,M=ft.easing||"easeLinear",D=ft.delay||0,X=ft.repeat||X||!1,L=ft.callback||Et,tt=ft.pauseCallback||Et,ot=ft.resumeCallback||Et):(Ut(L)&&(D=L,L=null),Vt(M)?(L=M,M="easeLinear"):M=M||"easeLinear");var ht=function ka(o,s){var a={},u=s.attr();return Dt(o,function(h,v){-1===h2.indexOf(v)&&!kt(u[v],h)&&(a[v]=h)}),a}(g,this),pt={fromAttrs:bv(ht,this),toAttrs:ht,duration:y,easing:M,repeat:X,callback:L,pauseCallback:tt,resumeCallback:ot,delay:D,startTime:h.getTime(),id:nt(),onFrame:k,pathFormatted:!1};v.length>0?v=function H0(o,s){if(s.onFrame)return o;var a=s.startTime,u=s.delay,h=s.duration,v=Object.prototype.hasOwnProperty;return Dt(o,function(g){a+u<g.startTime+g.delay+g.duration&&h>g.delay&&Dt(s.toAttrs,function(y,w){v.call(g.toAttrs,w)&&(delete g.toAttrs[w],delete g.fromAttrs[w])})}),o}(v,pt):h.addAnimator(this),v.push(pt),this.set("animations",v),this.set("_pause",{isPaused:!1})}},s.prototype.stopAnimate=function(a){var u=this;void 0===a&&(a=!0),Dt(this.get("animations"),function(v){a&&u.attr(v.onFrame?v.onFrame(1):v.toAttrs),v.callback&&v.callback()}),this.set("animating",!1),this.set("animations",[])},s.prototype.pauseAnimate=function(){var a=this.get("timeline"),u=this.get("animations"),h=a.getTime();return Dt(u,function(v){v._paused=!0,v._pauseTime=h,v.pauseCallback&&v.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:h}),this},s.prototype.resumeAnimate=function(){var u=this.get("timeline").getTime(),h=this.get("animations"),v=this.get("_pause").pauseTime;return Dt(h,function(g){g.startTime=g.startTime+(u-v),g._paused=!1,g._pauseTime=null,g.resumeCallback&&g.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",h),this},s.prototype.emitDelegation=function(a,u){var g,h=this,v=u.propagationPath;this.getEvents(),"mouseenter"===a?g=u.fromShape:"mouseleave"===a&&(g=u.toShape);for(var y=function(L){var O=v[L],D=O.get("name");if(D){if((O.isGroup()||O.isCanvas&&O.isCanvas())&&g&&zr(O,g))return"break";ne(D)?Dt(D,function(k){h.emitDelegateEvent(O,k,u)}):w.emitDelegateEvent(O,D,u)}},w=this,M=0;M<v.length&&"break"!==y(M);M++);},s.prototype.emitDelegateEvent=function(a,u,h){var v=this.getEvents(),g=u+":"+h.type;(v[g]||v["*"])&&(h.name=g,h.currentTarget=a,h.delegateTarget=this,h.delegateObject=a.get("delegateObject"),this.emit(g,h))},s.prototype.translate=function(a,u){void 0===a&&(a=0),void 0===u&&(u=0);var h=this.getMatrix(),v=Dl(h,[["t",a,u]]);return this.setMatrix(v),this},s.prototype.move=function(a,u){var h=this.attr("x")||0,v=this.attr("y")||0;return this.translate(a-h,u-v),this},s.prototype.moveTo=function(a,u){return this.move(a,u)},s.prototype.scale=function(a,u){var h=this.getMatrix(),v=Dl(h,[["s",a,u||a]]);return this.setMatrix(v),this},s.prototype.rotate=function(a){var u=this.getMatrix(),h=Dl(u,[["r",a]]);return this.setMatrix(h),this},s.prototype.rotateAtStart=function(a){var u=this.attr(),h=u.x,v=u.y,g=this.getMatrix(),y=Dl(g,[["t",-h,-v],["r",a],["t",h,v]]);return this.setMatrix(y),this},s.prototype.rotateAtPoint=function(a,u,h){var v=this.getMatrix(),g=Dl(v,[["t",-a,-u],["r",h],["t",a,u]]);return this.setMatrix(g),this},s}(na),Ch={},Ns="_INDEX";function Av(o,s){if(o.set("canvas",s),o.isGroup()){var a=o.get("children");a.length&&a.forEach(function(u){Av(u,s)})}}function Ev(o,s){if(o.set("timeline",s),o.isGroup()){var a=o.get("children");a.length&&a.forEach(function(u){Ev(u,s)})}}var Uu,zl,U0=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return sr(s,o),s.prototype.isCanvas=function(){return!1},s.prototype.getBBox=function(){var a=1/0,u=-1/0,h=1/0,v=-1/0,g=[],y=[],w=this.getChildren().filter(function(A){return A.get("visible")&&(!A.isGroup()||A.isGroup()&&A.getChildren().length>0)});return w.length>0?(Dt(w,function(A){var L=A.getBBox();g.push(L.minX,L.maxX),y.push(L.minY,L.maxY)}),a=dt(g),u=ut(g),h=dt(y),v=ut(y)):(a=0,u=0,h=0,v=0),{x:a,y:h,minX:a,minY:h,maxX:u,maxY:v,width:u-a,height:v-h}},s.prototype.getCanvasBBox=function(){var a=1/0,u=-1/0,h=1/0,v=-1/0,g=[],y=[],w=this.getChildren().filter(function(A){return A.get("visible")&&(!A.isGroup()||A.isGroup()&&A.getChildren().length>0)});return w.length>0?(Dt(w,function(A){var L=A.getCanvasBBox();g.push(L.minX,L.maxX),y.push(L.minY,L.maxY)}),a=dt(g),u=ut(g),h=dt(y),v=ut(y)):(a=0,u=0,h=0,v=0),{x:a,y:h,minX:a,minY:h,maxX:u,maxY:v,width:u-a,height:v-h}},s.prototype.getDefaultCfg=function(){var a=o.prototype.getDefaultCfg.call(this);return a.children=[],a},s.prototype.onAttrChange=function(a,u,h){if(o.prototype.onAttrChange.call(this,a,u,h),"matrix"===a){var v=this.getTotalMatrix();this._applyChildrenMarix(v)}},s.prototype.applyMatrix=function(a){var u=this.getTotalMatrix();o.prototype.applyMatrix.call(this,a);var h=this.getTotalMatrix();h!==u&&this._applyChildrenMarix(h)},s.prototype._applyChildrenMarix=function(a){Dt(this.getChildren(),function(h){h.applyMatrix(a)})},s.prototype.addShape=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var h=a[0],v=a[1];me(h)?v=h:v.type=h;var g=Ch[v.type];g||(g=oe(v.type),Ch[v.type]=g);var w=new(this.getShapeBase()[g])(v);return this.add(w),w},s.prototype.addGroup=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var g,h=a[0],v=a[1];if(Vt(h))g=new h(v||{parent:this});else{var y=h||{};g=new(this.getGroupBase())(y)}return this.add(g),g},s.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},s.prototype.getShape=function(a,u,h){if(!xn(this))return null;var g,v=this.getChildren();if(this.isCanvas())g=this._findShape(v,a,u,h);else{var y=[a,u,1];y=this.invertFromMatrix(y),this.isClipped(y[0],y[1])||(g=this._findShape(v,y[0],y[1],h))}return g},s.prototype._findShape=function(a,u,h,v){for(var g=null,y=a.length-1;y>=0;y--){var w=a[y];if(xn(w)&&(w.isGroup()?g=w.getShape(u,h,v):w.isHit(u,h)&&(g=w)),g)break}return g},s.prototype.add=function(a){var u=this.getCanvas(),h=this.getChildren(),v=this.get("timeline"),g=a.getParent();g&&function Y0(o,s,a){void 0===a&&(a=!0),a?s.destroy():(s.set("parent",null),s.set("canvas",null)),Sr(o.getChildren(),s)}(g,a,!1),a.set("parent",this),u&&Av(a,u),v&&Ev(a,v),h.push(a),a.onCanvasChange("add"),this._applyElementMatrix(a)},s.prototype._applyElementMatrix=function(a){var u=this.getTotalMatrix();u&&a.applyMatrix(u)},s.prototype.getChildren=function(){return this.get("children")},s.prototype.sort=function(){var a=this.getChildren();Dt(a,function(u,h){return u[Ns]=h,u}),a.sort(function W0(o){return function(s,a){var u=o(s,a);return 0===u?s[Ns]-a[Ns]:u}}(function(u,h){return u.get("zIndex")-h.get("zIndex")})),this.onCanvasChange("sort")},s.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var a=this.getChildren(),u=a.length-1;u>=0;u--)a[u].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},s.prototype.destroy=function(){this.get("destroyed")||(this.clear(),o.prototype.destroy.call(this))},s.prototype.getFirst=function(){return this.getChildByIndex(0)},s.prototype.getLast=function(){var a=this.getChildren();return this.getChildByIndex(a.length-1)},s.prototype.getChildByIndex=function(a){return this.getChildren()[a]},s.prototype.getCount=function(){return this.getChildren().length},s.prototype.contain=function(a){return this.getChildren().indexOf(a)>-1},s.prototype.removeChild=function(a,u){void 0===u&&(u=!0),this.contain(a)&&a.remove(u)},s.prototype.findAll=function(a){var u=[];return Dt(this.getChildren(),function(v){a(v)&&u.push(v),v.isGroup()&&(u=u.concat(v.findAll(a)))}),u},s.prototype.find=function(a){var u=null;return Dt(this.getChildren(),function(v){if(a(v)?u=v:v.isGroup()&&(u=v.find(a)),u)return!1}),u},s.prototype.findById=function(a){return this.find(function(u){return u.get("id")===a})},s.prototype.findByClassName=function(a){return this.find(function(u){return u.get("className")===a})},s.prototype.findAllByName=function(a){return this.findAll(function(u){return u.get("name")===a})},s}(G0),Bl=0,Pl=0,kl=0,Lv=1e3,Xu=0,Hs=0,wh=0,ns="object"==typeof performance&&performance.now?performance:Date,Iv="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function Ov(){return Hs||(Iv(X0),Hs=ns.now()+wh)}function X0(){Hs=0}function Vu(){this._call=this._time=this._next=null}function _h(o,s,a){var u=new Vu;return u.restart(o,s,a),u}function Fv(){Hs=(Xu=ns.now())+wh,Bl=Pl=0;try{!function Rv(){Ov(),++Bl;for(var s,o=Uu;o;)(s=Hs-o._time)>=0&&o._call.call(null,s),o=o._next;--Bl}()}finally{Bl=0,function v2(){for(var o,a,s=Uu,u=1/0;s;)s._call?(u>s._time&&(u=s._time),o=s,s=s._next):(a=s._next,s._next=null,s=o?o._next=a:Uu=a);zl=o,Dv(u)}(),Hs=0}}function V0(){var o=ns.now(),s=o-Xu;s>Lv&&(wh-=s,Xu=o)}function Dv(o){Bl||(Pl&&(Pl=clearTimeout(Pl)),o-Hs>24?(o<1/0&&(Pl=setTimeout(Fv,o-ns.now()-wh)),kl&&(kl=clearInterval(kl))):(kl||(Xu=ns.now(),kl=setInterval(V0,Lv)),Bl=1,Iv(Fv)))}function Sh(o,s,a){o.prototype=s.prototype=a,a.constructor=o}function Bv(o,s){var a=Object.create(o.prototype);for(var u in s)a[u]=s[u];return a}function Nl(){}Vu.prototype=_h.prototype={constructor:Vu,restart:function(o,s,a){if("function"!=typeof o)throw new TypeError("callback is not a function");a=(null==a?Ov():+a)+(null==s?0:+s),!this._next&&zl!==this&&(zl?zl._next=this:Uu=this,zl=this),this._call=o,this._time=a,Dv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dv())}};var Gl=1/.7,Eo="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pv=/^#([0-9a-f]{3,8})$/,kv=new RegExp("^rgb\\("+[Eo,Eo,Eo]+"\\)$"),$0=new RegExp("^rgb\\("+[za,za,za]+"\\)$"),Z0=new RegExp("^rgba\\("+[Eo,Eo,Eo,Yl]+"\\)$"),Mh=new RegExp("^rgba\\("+[za,za,za,Yl]+"\\)$"),zv=new RegExp("^hsl\\("+[Yl,za,za]+"\\)$"),q0=new RegExp("^hsla\\("+[Yl,za,za,Yl]+"\\)$"),Nv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hv(){return this.rgb().formatHex()}function Gv(){return this.rgb().formatRgb()}function Wl(o){var s,a;return o=(o+"").trim().toLowerCase(),(s=Pv.exec(o))?(a=s[1].length,s=parseInt(s[1],16),6===a?Yv(s):3===a?new Qi(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===a?is(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===a?is(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=kv.exec(o))?new Qi(s[1],s[2],s[3],1):(s=$0.exec(o))?new Qi(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=Z0.exec(o))?is(s[1],s[2],s[3],s[4]):(s=Mh.exec(o))?is(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=zv.exec(o))?Uv(s[1],s[2]/100,s[3]/100,1):(s=q0.exec(o))?Uv(s[1],s[2]/100,s[3]/100,s[4]):Nv.hasOwnProperty(o)?Yv(Nv[o]):"transparent"===o?new Qi(NaN,NaN,NaN,0):null}function Yv(o){return new Qi(o>>16&255,o>>8&255,255&o,1)}function is(o,s,a,u){return u<=0&&(o=s=a=NaN),new Qi(o,s,a,u)}function Th(o,s,a,u){return 1===arguments.length?function Q0(o){return o instanceof Nl||(o=Wl(o)),o?new Qi((o=o.rgb()).r,o.g,o.b,o.opacity):new Qi}(o):new Qi(o,s,a,u??1)}function Qi(o,s,a,u){this.r=+o,this.g=+s,this.b=+a,this.opacity=+u}function Wv(){return"#"+Gs(this.r)+Gs(this.g)+Gs(this.b)}function Ul(){var o=this.opacity;return(1===(o=isNaN(o)?1:Math.max(0,Math.min(1,o)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===o?")":", "+o+")")}function Gs(o){return((o=Math.max(0,Math.min(255,Math.round(o)||0)))<16?"0":"")+o.toString(16)}function Uv(o,s,a,u){return u<=0?o=s=a=NaN:a<=0||a>=1?o=s=NaN:s<=0&&(o=NaN),new st(o,s,a,u)}function Xv(o){if(o instanceof st)return new st(o.h,o.s,o.l,o.opacity);if(o instanceof Nl||(o=Wl(o)),!o)return new st;if(o instanceof st)return o;var s=(o=o.rgb()).r/255,a=o.g/255,u=o.b/255,h=Math.min(s,a,u),v=Math.max(s,a,u),g=NaN,y=v-h,w=(v+h)/2;return y?(g=s===v?(a-u)/y+6*(a<u):a===v?(u-s)/y+2:(s-a)/y+4,y/=w<.5?v+h:2-v-h,g*=60):y=w>0&&w<1?0:g,new st(g,y,w,o.opacity)}function st(o,s,a,u){this.h=+o,this.s=+s,this.l=+a,this.opacity=+u}function Ft(o,s,a){return 255*(o<60?s+(a-s)*o/60:o<180?a:o<240?s+(a-s)*(240-o)/60:s)}function jt(o){return function(){return o}}function dr(o,s){var a=s-o;return a?function fe(o,s){return function(a){return o+a*s}}(o,a):jt(isNaN(o)?s:o)}Sh(Nl,Wl,{copy:function(o){return Object.assign(new this.constructor,this,o)},displayable:function(){return this.rgb().displayable()},hex:Hv,formatHex:Hv,formatHsl:function K0(){return Xv(this).formatHsl()},formatRgb:Gv,toString:Gv}),Sh(Qi,Th,Bv(Nl,{brighter:function(o){return o=null==o?Gl:Math.pow(Gl,o),new Qi(this.r*o,this.g*o,this.b*o,this.opacity)},darker:function(o){return o=null==o?.7:Math.pow(.7,o),new Qi(this.r*o,this.g*o,this.b*o,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wv,formatHex:Wv,formatRgb:Ul,toString:Ul})),Sh(st,function J0(o,s,a,u){return 1===arguments.length?Xv(o):new st(o,s,a,u??1)},Bv(Nl,{brighter:function(o){return o=null==o?Gl:Math.pow(Gl,o),new st(this.h,this.s,this.l*o,this.opacity)},darker:function(o){return o=null==o?.7:Math.pow(.7,o),new st(this.h,this.s,this.l*o,this.opacity)},rgb:function(){var o=this.h%360+360*(this.h<0),s=isNaN(o)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*s,h=2*a-u;return new Qi(Ft(o>=240?o-240:o+120,h,u),Ft(o,h,u),Ft(o<120?o+240:o-120,h,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var o=this.opacity;return(1===(o=isNaN(o)?1:Math.max(0,Math.min(1,o)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===o?")":", "+o+")")}}));var an=function o(s){var a=function $e(o){return 1==(o=+o)?dr:function(s,a){return a-s?function Le(o,s,a){return o=Math.pow(o,a),s=Math.pow(s,a)-o,a=1/a,function(u){return Math.pow(o+u*s,a)}}(s,a,o):jt(isNaN(s)?a:s)}}(s);function u(h,v){var g=a((h=Th(h)).r,(v=Th(v)).r),y=a(h.g,v.g),w=a(h.b,v.b),M=dr(h.opacity,v.opacity);return function(A){return h.r=g(A),h.g=y(A),h.b=w(A),h.opacity=M(A),h+""}}return u.gamma=o,u}(1);function Oi(o,s){s||(s=[]);var h,a=o?Math.min(s.length,o.length):0,u=s.slice();return function(v){for(h=0;h<a;++h)u[h]=o[h]*(1-v)+s[h]*v;return u}}function Ji(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function ia(o,s){return(Ji(s)?Oi:$u)(o,s)}function $u(o,s){var g,a=s?s.length:0,u=o?Math.min(a,o.length):0,h=new Array(u),v=new Array(a);for(g=0;g<u;++g)h[g]=Ws(o[g],s[g]);for(;g<a;++g)v[g]=s[g];return function(y){for(g=0;g<u;++g)v[g]=h[g](y);return v}}function S(o,s){var a=new Date;return o=+o,s=+s,function(u){return a.setTime(o*(1-u)+s*u),a}}function Rn(o,s){return o=+o,s=+s,function(a){return o*(1-a)+s*a}}function Ge(o,s){var h,a={},u={};for(h in(null===o||"object"!=typeof o)&&(o={}),(null===s||"object"!=typeof s)&&(s={}),s)h in o?a[h]=Ws(o[h],s[h]):u[h]=s[h];return function(v){for(h in a)u[h]=a[h](v);return u}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ys=new RegExp(Kn.source,"g");function ji(o,s){var u,h,v,a=Kn.lastIndex=Ys.lastIndex=0,g=-1,y=[],w=[];for(o+="",s+="";(u=Kn.exec(o))&&(h=Ys.exec(s));)(v=h.index)>a&&(v=s.slice(a,v),y[g]?y[g]+=v:y[++g]=v),(u=u[0])===(h=h[0])?y[g]?y[g]+=h:y[++g]=h:(y[++g]=null,w.push({i:g,x:Rn(u,h)})),a=Ys.lastIndex;return a<s.length&&(v=s.slice(a),y[g]?y[g]+=v:y[++g]=v),y.length<2?w[0]?function as(o){return function(s){return o(s)+""}}(w[0].x):function kr(o){return function(){return o}}(s):(s=w.length,function(M){for(var L,A=0;A<s;++A)y[(L=w[A]).i]=L.x(M);return y.join("")})}function Ws(o,s){var u,a=typeof s;return null==s||"boolean"===a?jt(s):("number"===a?Rn:"string"===a?(u=Wl(s))?(s=u,an):ji:s instanceof Wl?an:s instanceof Date?S:Ji(s)?Oi:Array.isArray(s)?$u:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?Ge:Rn)(o,s)}function j0(o){return((o*=2)<=1?o*o:--o*(2-o)+1)/2}function tg(o){return o*o*o}function g2(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var bh=function o(s){function a(u){return Math.pow(u,s)}return s=+s,a.exponent=o,a}(3),eg=function o(s){function a(u){return 1-Math.pow(1-u,s)}return s=+s,a.exponent=o,a}(3),rg=function o(s){function a(u){return((u*=2)<=1?Math.pow(u,s):2-Math.pow(2-u,s))/2}return s=+s,a.exponent=o,a}(3),$v=Math.PI,y2=$v/2;function m2(o){return(1-Math.cos($v*o))/2}function os(o){return 1.0009775171065494*(Math.pow(2,-10*o)-.0009765625)}function Ah(o){return((o*=2)<=1?os(1-o):2-os(o-1))/2}function qu(o){return((o*=2)<=1?1-Math.sqrt(1-o*o):Math.sqrt(1-(o-=2)*o)+1)/2}var ig=4/11,cE=6/11,Eh=8/11,C2=3/4,Zv=9/11,w2=10/11,qv=15/16,_2=21/22,S2=63/64,Lh=1/ig/ig;function Ih(o){return(o=+o)<ig?Lh*o*o:o<Eh?Lh*(o-=cE)*o+C2:o<w2?Lh*(o-=Zv)*o+qv:Lh*(o-=_2)*o+S2}var Kv=1.70158,fE=function o(s){function a(u){return(u=+u)*u*(s*(u-1)+u)}return s=+s,a.overshoot=o,a}(Kv),vE=function o(s){function a(u){return--u*u*((u+1)*s+u)+1}return s=+s,a.overshoot=o,a}(Kv),ss=function o(s){function a(u){return((u*=2)<1?u*u*((s+1)*u-s):(u-=2)*u*((s+1)*u+s)+2)/2}return s=+s,a.overshoot=o,a}(Kv),Ku=2*Math.PI,T2=function o(s,a){var u=Math.asin(1/(s=Math.max(1,s)))*(a/=Ku);function h(v){return s*os(- --v)*Math.sin((u-v)/a)}return h.amplitude=function(v){return o(v,a*Ku)},h.period=function(v){return o(s,v)},h}(1,.3),og=function o(s,a){var u=Math.asin(1/(s=Math.max(1,s)))*(a/=Ku);function h(v){return 1-s*os(v=+v)*Math.sin((v+u)/a)}return h.amplitude=function(v){return o(v,a*Ku)},h.period=function(v){return o(s,v)},h}(1,.3),dE=function o(s,a){var u=Math.asin(1/(s=Math.max(1,s)))*(a/=Ku);function h(v){return((v=2*v-1)<0?s*os(-v)*Math.sin((u-v)/a):2-s*os(v)*Math.sin((u+v)/a))/2}return h.amplitude=function(v){return o(v,a*Ku)},h.period=function(v){return o(s,v)},h}(1,.3),pE=Object.freeze({__proto__:null,easeLinear:function Zu(o){return+o},easeQuad:j0,easeQuadIn:function pn(o){return o*o},easeQuadOut:function d2(o){return o*(2-o)},easeQuadInOut:j0,easeCubic:g2,easeCubicIn:tg,easeCubicOut:function p2(o){return--o*o*o+1},easeCubicInOut:g2,easePoly:rg,easePolyIn:bh,easePolyOut:eg,easePolyInOut:rg,easeSin:m2,easeSinIn:function Us(o){return 1==+o?1:1-Math.cos(o*y2)},easeSinOut:function ki(o){return Math.sin(o*y2)},easeSinInOut:m2,easeExp:Ah,easeExpIn:function x2(o){return os(1-+o)},easeExpOut:function lE(o){return 1-os(o)},easeExpInOut:Ah,easeCircle:qu,easeCircleIn:function uE(o){return 1-Math.sqrt(1-o*o)},easeCircleOut:function ng(o){return Math.sqrt(1- --o*o)},easeCircleInOut:qu,easeBounce:Ih,easeBounceIn:function hE(o){return 1-Ih(1-o)},easeBounceOut:Ih,easeBounceInOut:function M2(o){return((o*=2)<=1?1-Ih(1-o):Ih(o-1)+1)/2},easeBack:ss,easeBackIn:fE,easeBackOut:vE,easeBackInOut:ss,easeElastic:og,easeElasticIn:T2,easeElasticOut:og,easeElasticInOut:dE}),zP={},yE=function(o){return["fill","stroke","fillStyle","strokeStyle"].includes(o)},mE=function(o){return/^[r,R,L,l]{1}[\s]*\(/.test(o)},xE=[1,0,0,0,1,0,0,0,1];function wE(o,s,a){var u=s.startTime;if(a<u+s.delay||s._paused)return!1;var v,g=s.duration,w=function gE(o){return zP[o.toLowerCase()]||pE[o]}(s.easing);if(a=a-u-s.delay,s.repeat)v=w(v=a%g/g);else{if(!((v=a/g)<1))return o.attr(s.onFrame?s.onFrame(1):s.toAttrs),!0;v=w(v)}if(s.onFrame){var M=s.onFrame(v);o.attr(M)}else!function CE(o,s,a){var u={},h=s.fromAttrs,v=s.toAttrs;if(!o.destroyed){var g;for(var y in v)if(!kt(h[y],v[y]))if("path"===y){var w=v[y],M=h[y];w.length>M.length?(w=J(v[y]),M=J(h[y]),M=He(M,w),M=qe(M,w),s.fromAttrs.path=M,s.toAttrs.path=w):s.pathFormatted||(w=J(v[y]),M=J(h[y]),M=qe(M,w),s.fromAttrs.path=M,s.toAttrs.path=w,s.pathFormatted=!0),u[y]=[];for(var A=0;A<w.length;A++){for(var L=w[A],O=M[A],D=[],k=0;k<L.length;k++)Ut(L[k])&&O&&Ut(O[k])?(g=Ws(O[k],L[k]),D.push(g(a))):D.push(L[k]);u[y].push(D)}}else if("matrix"===y){var tt=ia(h[y]||xE,v[y]||xE)(a);u[y]=tt}else yE(y)&&mE(v[y])?u[y]=v[y]:Vt(v[y])||(g=Ws(h[y],v[y]),u[y]=g(a));o.attr(u)}}(o,s,v);return!1}var _E=function(){function o(s){this.animators=[],this.current=0,this.timer=null,this.canvas=s}return o.prototype.initTimer=function(){var u,h,v,s=this;this.timer=_h(function(g){if(s.current=g,s.animators.length>0){for(var y=s.animators.length-1;y>=0;y--)if((u=s.animators[y]).destroyed)s.removeAnimator(y);else{if(!u.isAnimatePaused())for(var w=(h=u.get("animations")).length-1;w>=0;w--)wE(u,v=h[w],g)&&(h.splice(w,1),v.callback&&v.callback());0===h.length&&s.removeAnimator(y)}s.canvas.get("autoDraw")||s.canvas.draw()}})},o.prototype.addAnimator=function(s){this.animators.push(s)},o.prototype.removeAnimator=function(s){this.animators.splice(s,1)},o.prototype.isAnimating=function(){return!!this.animators.length},o.prototype.stop=function(){this.timer&&this.timer.stop()},o.prototype.stopAllAnimations=function(s){void 0===s&&(s=!0),this.animators.forEach(function(a){a.stopAnimate(s)}),this.animators=[],this.canvas.draw()},o.prototype.getTime=function(){return this.current},o}(),sg=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function lg(o,s,a){a.name=s,a.target=o,a.currentTarget=o,a.delegateTarget=o,o.emit(s,a)}function ME(o,s,a){if(a.bubbles){var u=void 0,h=!1;if("mouseenter"===s?(u=a.fromShape,h=!0):"mouseleave"===s&&(h=!0,u=a.toShape),o.isCanvas()&&h)return;if(u&&zr(o,u))return void(a.bubbles=!1);a.name=s,a.currentTarget=o,a.delegateTarget=o,o.emit(s,a)}}var b2=function(){function o(s){var a=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(u){a._triggerEvent(u.type,u)},this._onDocumentMove=function(u){if(a.canvas.get("el")!==u.target&&(a.dragging||a.currentShape)){var g=a._getPointInfo(u);a.dragging&&a._emitEvent("drag",u,g,a.draggingShape)}},this._onDocumentMouseUp=function(u){if(a.canvas.get("el")!==u.target&&a.dragging){var g=a._getPointInfo(u);a.draggingShape&&a._emitEvent("drop",u,g,null),a._emitEvent("dragend",u,g,a.draggingShape),a._afterDrag(a.draggingShape,g,u)}},this.canvas=s.canvas}return o.prototype.init=function(){this._bindEvents()},o.prototype._bindEvents=function(){var s=this,a=this.canvas.get("el");Dt(sg,function(u){a.addEventListener(u,s._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},o.prototype._clearEvents=function(){var s=this,a=this.canvas.get("el");Dt(sg,function(u){a.removeEventListener(u,s._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},o.prototype._getEventObj=function(s,a,u,h,v,g){var y=new er(s,a);return y.fromShape=v,y.toShape=g,y.x=u.x,y.y=u.y,y.clientX=u.clientX,y.clientY=u.clientY,y.propagationPath.push(h),y},o.prototype._getShape=function(s,a){return this.canvas.getShape(s.x,s.y,a)},o.prototype._getPointInfo=function(s){var a=this.canvas,u=a.getClientByEvent(s),h=a.getPointByEvent(s);return{x:h.x,y:h.y,clientX:u.x,clientY:u.y}},o.prototype._triggerEvent=function(s,a){var u=this._getPointInfo(a),h=this._getShape(u,a),v=this["_on"+s],g=!1;if(v)v.call(this,u,h,a);else{var y=this.currentShape;"mouseenter"===s||"dragenter"===s||"mouseover"===s?(this._emitEvent(s,a,u,null,null,h),h&&this._emitEvent(s,a,u,h,null,h),"mouseenter"===s&&this.draggingShape&&this._emitEvent("dragenter",a,u,null)):"mouseleave"===s||"dragleave"===s||"mouseout"===s?(g=!0,y&&this._emitEvent(s,a,u,y,y,null),this._emitEvent(s,a,u,null,y,null),"mouseleave"===s&&this.draggingShape&&this._emitEvent("dragleave",a,u,null)):this._emitEvent(s,a,u,h,null,null)}if(g||(this.currentShape=h),h&&!h.get("destroyed")){var w=this.canvas;w.get("el").style.cursor=h.attr("cursor")||w.get("cursor")}},o.prototype._onmousedown=function(s,a,u){0===u.button&&(this.mousedownShape=a,this.mousedownPoint=s,this.mousedownTimeStamp=u.timeStamp),this._emitEvent("mousedown",u,s,a,null,null)},o.prototype._emitMouseoverEvents=function(s,a,u,h){var v=this.canvas.get("el");u!==h&&(u&&(this._emitEvent("mouseout",s,a,u,u,h),this._emitEvent("mouseleave",s,a,u,u,h),(!h||h.get("destroyed"))&&(v.style.cursor=this.canvas.get("cursor"))),h&&(this._emitEvent("mouseover",s,a,h,u,h),this._emitEvent("mouseenter",s,a,h,u,h)))},o.prototype._emitDragoverEvents=function(s,a,u,h,v){h?(h!==u&&(u&&this._emitEvent("dragleave",s,a,u,u,h),this._emitEvent("dragenter",s,a,h,u,h)),v||this._emitEvent("dragover",s,a,h)):u&&this._emitEvent("dragleave",s,a,u,u,h),v&&this._emitEvent("dragover",s,a,h)},o.prototype._afterDrag=function(s,a,u){s&&(s.set("capture",!0),this.draggingShape=null),this.dragging=!1;var h=this._getShape(a,u);h!==s&&this._emitMouseoverEvents(u,a,s,h),this.currentShape=h},o.prototype._onmouseup=function(s,a,u){if(0===u.button){var h=this.draggingShape;this.dragging?(h&&this._emitEvent("drop",u,s,a),this._emitEvent("dragend",u,s,h),this._afterDrag(h,s,u)):(this._emitEvent("mouseup",u,s,a),a===this.mousedownShape&&this._emitEvent("click",u,s,a),this.mousedownShape=null,this.mousedownPoint=null)}},o.prototype._ondragover=function(s,a,u){u.preventDefault(),this._emitDragoverEvents(u,s,this.currentShape,a,!0)},o.prototype._onmousemove=function(s,a,u){var h=this.canvas,v=this.currentShape,g=this.draggingShape;if(this.dragging)g&&this._emitDragoverEvents(u,s,v,a,!1),this._emitEvent("drag",u,s,g);else{var y=this.mousedownPoint;if(y){var w=this.mousedownShape,L=y.clientX-s.clientX,O=y.clientY-s.clientY;u.timeStamp-this.mousedownTimeStamp>120||L*L+O*O>40?w&&w.get("draggable")?((g=this.mousedownShape).set("capture",!1),this.draggingShape=g,this.dragging=!0,this._emitEvent("dragstart",u,s,g),this.mousedownShape=null,this.mousedownPoint=null):!w&&h.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",u,s,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(u,s,v,a),this._emitEvent("mousemove",u,s,a)):(this._emitMouseoverEvents(u,s,v,a),this._emitEvent("mousemove",u,s,a))}else this._emitMouseoverEvents(u,s,v,a),this._emitEvent("mousemove",u,s,a)}},o.prototype._emitEvent=function(s,a,u,h,v,g){var y=this._getEventObj(s,a,u,h,v,g);if(h){y.shape=h,lg(h,s,y);for(var w=h.getParent();w;)w.emitDelegation(s,y),y.propagationStopped||ME(w,s,y),y.propagationPath.push(w),w=w.getParent()}else lg(this.canvas,s,y)},o.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},o}(),cg=function zs(o){return o?wv(o):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new Ps:typeof navigator<"u"?wv(navigator.userAgent):function Fl(){return typeof process<"u"&&process.version?new Il(process.version.slice(1)):null}()}(),A2=cg&&"firefox"===cg.name,E2=function(o){function s(a){var u=o.call(this,a)||this;return u.initContainer(),u.initDom(),u.initEvents(),u.initTimeline(),u}return sr(s,o),s.prototype.getDefaultCfg=function(){var a=o.prototype.getDefaultCfg.call(this);return a.cursor="default",a.supportCSSTransform=!1,a},s.prototype.initContainer=function(){var a=this.get("container");Yt(a)&&(a=document.getElementById(a),this.set("container",a))},s.prototype.initDom=function(){var a=this.createDom();this.set("el",a),this.get("container").appendChild(a),this.setDOMSize(this.get("width"),this.get("height"))},s.prototype.initEvents=function(){var a=new b2({canvas:this});a.init(),this.set("eventController",a)},s.prototype.initTimeline=function(){var a=new _E(this);this.set("timeline",a)},s.prototype.setDOMSize=function(a,u){var h=this.get("el");Hr&&(h.style.width=a+"px",h.style.height=u+"px")},s.prototype.changeSize=function(a,u){this.setDOMSize(a,u),this.set("width",a),this.set("height",u),this.onCanvasChange("changeSize")},s.prototype.getRenderer=function(){return this.get("renderer")},s.prototype.getCursor=function(){return this.get("cursor")},s.prototype.setCursor=function(a){this.set("cursor",a);var u=this.get("el");Hr&&u&&(u.style.cursor=a)},s.prototype.getPointByEvent=function(a){if(this.get("supportCSSTransform")){if(A2&&!se(a.layerX)&&a.layerX!==a.offsetX)return{x:a.layerX,y:a.layerY};if(!se(a.offsetX))return{x:a.offsetX,y:a.offsetY}}var h=this.getClientByEvent(a);return this.getPointByClient(h.x,h.y)},s.prototype.getClientByEvent=function(a){var u=a;return a.touches&&(u="touchend"===a.type?a.changedTouches[0]:a.touches[0]),{x:u.clientX,y:u.clientY}},s.prototype.getPointByClient=function(a,u){var v=this.get("el").getBoundingClientRect();return{x:a-v.left,y:u-v.top}},s.prototype.getClientByPoint=function(a,u){var v=this.get("el").getBoundingClientRect();return{x:a+v.left,y:u+v.top}},s.prototype.draw=function(){},s.prototype.removeDom=function(){var a=this.get("el");a.parentNode.removeChild(a)},s.prototype.clearEvents=function(){this.get("eventController").destroy()},s.prototype.isCanvas=function(){return!0},s.prototype.getParent=function(){return null},s.prototype.destroy=function(){var a=this.get("timeline");this.get("destroyed")||(this.clear(),a&&a.stop(),this.clearEvents(),this.removeDom(),o.prototype.destroy.call(this))},s}(U0),TE=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return sr(s,o),s.prototype.isGroup=function(){return!0},s.prototype.isEntityGroup=function(){return!1},s.prototype.clone=function(){for(var a=o.prototype.clone.call(this),u=this.getChildren(),h=0;h<u.length;h++)a.add(u[h].clone());return a},s}(U0),bE=function(o){function s(a){return o.call(this,a)||this}return sr(s,o),s.prototype._isInBBox=function(a,u){var h=this.getBBox();return h.minX<=a&&h.maxX>=a&&h.minY<=u&&h.maxY>=u},s.prototype.afterAttrsChange=function(a){o.prototype.afterAttrsChange.call(this,a),this.clearCacheBBox()},s.prototype.getBBox=function(){var a=this.cfg.bbox;return a||(a=this.calculateBBox(),this.set("bbox",a)),a},s.prototype.getCanvasBBox=function(){var a=this.cfg.canvasBBox;return a||(a=this.calculateCanvasBBox(),this.set("canvasBBox",a)),a},s.prototype.applyMatrix=function(a){o.prototype.applyMatrix.call(this,a),this.set("canvasBBox",null)},s.prototype.calculateCanvasBBox=function(){var a=this.getBBox(),u=this.getTotalMatrix(),h=a.minX,v=a.minY,g=a.maxX,y=a.maxY;if(u){var w=rs(u,[a.minX,a.minY]),M=rs(u,[a.maxX,a.minY]),A=rs(u,[a.minX,a.maxY]),L=rs(u,[a.maxX,a.maxY]);h=Math.min(w[0],M[0],A[0],L[0]),g=Math.max(w[0],M[0],A[0],L[0]),v=Math.min(w[1],M[1],A[1],L[1]),y=Math.max(w[1],M[1],A[1],L[1])}var O=this.attrs;if(O.shadowColor){var D=O.shadowBlur,k=void 0===D?0:D,X=O.shadowOffsetX,tt=void 0===X?0:X,ot=O.shadowOffsetY,ft=void 0===ot?0:ot,pt=g+k+tt,Wt=v-k+ft,de=y+k+ft;h=Math.min(h,h-k+tt),g=Math.max(g,pt),v=Math.min(v,Wt),y=Math.max(y,de)}return{x:h,y:v,minX:h,minY:v,maxX:g,maxY:y,width:g-h,height:y-v}},s.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},s.prototype.isClipShape=function(){return this.get("isClipShape")},s.prototype.isInShape=function(a,u){return!1},s.prototype.isOnlyHitBox=function(){return!1},s.prototype.isHit=function(a,u){var h=this.get("startArrowShape"),v=this.get("endArrowShape"),g=[a,u,1],y=(g=this.invertFromMatrix(g))[0],w=g[1],M=this._isInBBox(y,w);return this.isOnlyHitBox()?M:!(!M||this.isClipped(y,w)||!(this.isInShape(y,w)||h&&h.isHit(y,w)||v&&v.isHit(y,w)))},s}(G0),Jv=new Map;function Zr(o,s){Jv.set(o,s)}function Xl(o){var s=o.attr();return{x:s.x,y:s.y,width:s.width,height:s.height}}function I2(o){var s=o.attr(),h=s.r;return{x:s.x-h,y:s.y-h,width:2*h,height:2*h}}function Qu(o){return Math.min.apply(null,o)}function jv(o){return Math.max.apply(null,o)}function zi(o,s,a,u){var h=o-a,v=s-u;return Math.sqrt(h*h+v*v)}function td(o,s){return Math.abs(o-s)<.001}function Ju(o,s){var a=Qu(o),u=Qu(s);return{x:a,y:u,width:jv(o)-a,height:jv(s)-u}}function ed(o){return(o+2*Math.PI)%(2*Math.PI)}var aa={box:function(o,s,a,u){return Ju([o,a],[s,u])},length:function(o,s,a,u){return zi(o,s,a,u)},pointAt:function(o,s,a,u,h){return{x:(1-h)*o+h*a,y:(1-h)*s+h*u}},pointDistance:function(o,s,a,u,h,v){var g=(a-o)*(h-o)+(u-s)*(v-s);return g<0?zi(o,s,h,v):g>(a-o)*(a-o)+(u-s)*(u-s)?zi(a,u,h,v):this.pointToLine(o,s,a,u,h,v)},pointToLine:function(o,s,a,u,h,v){var g=[a-o,u-s];if(function E(o,s){return o[0]===s[0]&&o[1]===s[1]}(g,[0,0]))return Math.sqrt((h-o)*(h-o)+(v-s)*(v-s));var y=[-g[1],g[0]];return function P0(o,s){var a=s[0],u=s[1],h=a*a+u*u;h>0&&(h=1/Math.sqrt(h)),o[0]=s[0]*h,o[1]=s[1]*h}(y,y),Math.abs(function k0(o,s){return o[0]*s[0]+o[1]*s[1]}([h-o,v-s],y))},tangentAngle:function(o,s,a,u){return Math.atan2(u-s,a-o)}},AE=1e-4;function O2(o,s,a,u,h,v){var g,y=1/0,w=[a,u],M=20;v&&v>200&&(M=v/10);for(var A=1/M,L=A/10,O=0;O<=M;O++){var D=O*A,k=[h.apply(null,o.concat([D])),h.apply(null,s.concat([D]))];(X=zi(w[0],w[1],k[0],k[1]))<y&&(g=D,y=X)}if(0===g)return{x:o[0],y:s[0]};if(1===g){var tt=o.length;return{x:o[tt-1],y:s[tt-1]}}for(y=1/0,O=0;O<32&&!(L<AE);O++){var ot=g-L,ft=g+L,X=(k=[h.apply(null,o.concat([ot])),h.apply(null,s.concat([ot]))],zi(w[0],w[1],k[0],k[1]));if(ot>=0&&X<y)g=ot,y=X;else{var ht=[h.apply(null,o.concat([ft])),h.apply(null,s.concat([ft]))],pt=zi(w[0],w[1],ht[0],ht[1]);ft<=1&&pt<y?(g=ft,y=pt):L*=.5}}return{x:h.apply(null,o.concat([g])),y:h.apply(null,s.concat([g]))}}function Xs(o,s,a,u){var h=1-u;return h*h*o+2*u*h*s+u*u*a}function hg(o,s,a){var u=o+a-2*s;if(td(u,0))return[.5];var h=(o-s)/u;return h<=1&&h>=0?[h]:[]}function fg(o,s,a,u){return 2*(1-u)*(s-o)+2*u*(a-s)}function rd(o,s,a,u,h,v,g){var y=Xs(o,a,h,g),w=Xs(s,u,v,g),M=aa.pointAt(o,s,a,u,g),A=aa.pointAt(a,u,h,v,g);return[[o,s,M.x,M.y,y,w],[y,w,A.x,A.y,h,v]]}function nd(o,s,a,u,h,v,g){if(0===g)return(zi(o,s,a,u)+zi(a,u,h,v)+zi(o,s,h,v))/2;var y=rd(o,s,a,u,h,v,.5),w=y[0],M=y[1];return w.push(g-1),M.push(g-1),nd.apply(null,w)+nd.apply(null,M)}var vg={box:function(o,s,a,u,h,v){var g=hg(o,a,h)[0],y=hg(s,u,v)[0],w=[o,h],M=[s,v];return void 0!==g&&w.push(Xs(o,a,h,g)),void 0!==y&&M.push(Xs(s,u,v,y)),Ju(w,M)},length:function(o,s,a,u,h,v){return nd(o,s,a,u,h,v,3)},nearestPoint:function(o,s,a,u,h,v,g,y){return O2([o,a,h],[s,u,v],g,y,Xs)},pointDistance:function(o,s,a,u,h,v,g,y){var w=this.nearestPoint(o,s,a,u,h,v,g,y);return zi(w.x,w.y,g,y)},interpolationAt:Xs,pointAt:function(o,s,a,u,h,v,g){return{x:Xs(o,a,h,g),y:Xs(s,u,v,g)}},divide:function(o,s,a,u,h,v,g){return rd(o,s,a,u,h,v,g)},tangentAngle:function(o,s,a,u,h,v,g){var y=fg(o,a,h,g),w=fg(s,u,v,g);return ed(Math.atan2(w,y))}};function Vl(o,s,a,u,h){var v=1-h;return v*v*v*o+3*s*h*v*v+3*a*h*h*v+u*h*h*h}function R2(o,s,a,u,h){var v=1-h;return 3*(v*v*(s-o)+2*v*h*(a-s)+h*h*(u-a))}function dg(o,s,a,u){var w,M,A,h=-3*o+9*s-9*a+3*u,v=6*o-12*s+6*a,g=3*s-3*o,y=[];if(td(h,0))td(v,0)||(w=-g/v)>=0&&w<=1&&y.push(w);else{var L=v*v-4*h*g;td(L,0)?y.push(-v/(2*h)):L>0&&(M=(-v-(A=Math.sqrt(L)))/(2*h),(w=(-v+A)/(2*h))>=0&&w<=1&&y.push(w),M>=0&&M<=1&&y.push(M))}return y}function F2(o,s,a,u,h,v,g,y,w){var M=Vl(o,a,h,g,w),A=Vl(s,u,v,y,w),L=aa.pointAt(o,s,a,u,w),O=aa.pointAt(a,u,h,v,w),D=aa.pointAt(h,v,g,y,w),k=aa.pointAt(L.x,L.y,O.x,O.y,w),X=aa.pointAt(O.x,O.y,D.x,D.y,w);return[[o,s,L.x,L.y,k.x,k.y,M,A],[M,A,X.x,X.y,D.x,D.y,g,y]]}function id(o,s,a,u,h,v,g,y,w){if(0===w)return function EE(o,s){for(var a=0,u=o.length,h=0;h<u;h++)a+=zi(o[h],s[h],o[(h+1)%u],s[(h+1)%u]);return a/2}([o,a,h,g],[s,u,v,y]);var M=F2(o,s,a,u,h,v,g,y,.5),A=M[0],L=M[1];return A.push(w-1),L.push(w-1),id.apply(null,A)+id.apply(null,L)}var ju={extrema:dg,box:function(o,s,a,u,h,v,g,y){for(var w=[o,g],M=[s,y],A=dg(o,a,h,g),L=dg(s,u,v,y),O=0;O<A.length;O++)w.push(Vl(o,a,h,g,A[O]));for(O=0;O<L.length;O++)M.push(Vl(s,u,v,y,L[O]));return Ju(w,M)},length:function(o,s,a,u,h,v,g,y){return id(o,s,a,u,h,v,g,y,3)},nearestPoint:function(o,s,a,u,h,v,g,y,w,M,A){return O2([o,a,h,g],[s,u,v,y],w,M,Vl,A)},pointDistance:function(o,s,a,u,h,v,g,y,w,M,A){var L=this.nearestPoint(o,s,a,u,h,v,g,y,w,M,A);return zi(L.x,L.y,w,M)},interpolationAt:Vl,pointAt:function(o,s,a,u,h,v,g,y,w){return{x:Vl(o,a,h,g,w),y:Vl(s,u,v,y,w)}},divide:function(o,s,a,u,h,v,g,y,w){return F2(o,s,a,u,h,v,g,y,w)},tangentAngle:function(o,s,a,u,h,v,g,y,w){var M=R2(o,a,h,g,w),A=R2(s,u,v,y,w);return ed(Math.atan2(A,M))}};function P2(o,s,a,u,h,v){return a*Math.cos(h)*Math.cos(v)-u*Math.sin(h)*Math.sin(v)+o}function OE(o,s,a,u,h,v){return a*Math.sin(h)*Math.cos(v)+u*Math.cos(h)*Math.sin(v)+s}var k2_box=function(o,s,a,u,h,v,g){for(var y=function pg(o,s,a){return Math.atan(-s/o*Math.tan(a))}(a,u,h),w=1/0,M=-1/0,A=[v,g],L=2*-Math.PI;L<=2*Math.PI;L+=Math.PI){var O=y+L;v<g?v<O&&O<g&&A.push(O):g<O&&O<v&&A.push(O)}for(L=0;L<A.length;L++){var D=P2(o,0,a,u,h,A[L]);D<w&&(w=D),D>M&&(M=D)}var k=function B2(o,s,a){return Math.atan(s/(o*Math.tan(a)))}(a,u,h),X=1/0,tt=-1/0,ot=[v,g];for(L=2*-Math.PI;L<=2*Math.PI;L+=Math.PI){var ft=k+L;v<g?v<ft&&ft<g&&ot.push(ft):g<ft&&ft<v&&ot.push(ft)}for(L=0;L<ot.length;L++){var ht=OE(0,s,a,u,h,ot[L]);ht<X&&(X=ht),ht>tt&&(tt=ht)}return{x:w,y:X,width:M-w,height:tt-X}};function G2(o,s){return o&&s?{minX:Math.min(o.minX,s.minX),minY:Math.min(o.minY,s.minY),maxX:Math.max(o.maxX,s.maxX),maxY:Math.max(o.maxY,s.maxY)}:o||s}function Rh(o,s){var a=o.get("startArrowShape"),u=o.get("endArrowShape");return a&&(s=G2(s,a.getCanvasBBox())),u&&(s=G2(s,u.getCanvasBBox())),s}var Fh=null;function Y2(){if(!Fh){var o=document.createElement("canvas");o.width=1,o.height=1,Fh=o.getContext("2d")}return Fh}function W2(o,s,a){var u=1;if(Yt(o)&&(u=o.split("\n").length),u>1){var h=function PE(o,s){return s?s-o:.14*o}(s,a);return s*u+h*(u-1)}return s}function xg(o){return[o.fontStyle,o.fontVariant,o.fontWeight,o.fontSize+"px",o.fontFamily].join(" ").trim()}var kE=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,HP=/[^\s\,]+/gi,Dh="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",X2=new RegExp("([a-z])["+Dh+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Dh+"]*,?["+Dh+"]*)+)","ig"),NE=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Dh+"]*,?["+Dh+"]*","ig"),GE=/[a-z]/;function V2(o,s){return[s[0]+(s[0]-o[0]),s[1]+(s[1]-o[1])]}function $2(o){var s=function HE(o){if(!o)return null;if(ne(o))return o;var s={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(o).replace(X2,function(u,h,v){var g=[],y=h.toLowerCase();if(v.replace(NE,function(w,M){M&&g.push(+M)}),"m"===y&&g.length>2&&(a.push([h].concat(g.splice(0,2))),y="l",h="m"===h?"l":"L"),"o"===y&&1===g.length&&a.push([h,g[0]]),"r"===y)a.push([h].concat(g));else for(;g.length>=s[y]&&(a.push([h].concat(g.splice(0,s[y]))),s[y]););return""}),a}(o);if(!s||!s.length)return[["M",0,0]];for(var a=!1,u=0;u<s.length;u++)if(GE.test(h=s[u][0])||["V","H","T","S"].indexOf(h)>=0){a=!0;break}if(!a)return s;var v=[],g=0,y=0,w=0,M=0,A=0,L=s[0];("M"===L[0]||"m"===L[0])&&(w=g=+L[1],M=y=+L[2],A++,v[0]=["M",g,y]),u=A;for(var O=s.length;u<O;u++){var h,D=s[u],k=v[u-1],X=[],tt=(h=D[0]).toUpperCase();if(h!==tt)switch(X[0]=tt,tt){case"A":X[1]=D[1],X[2]=D[2],X[3]=D[3],X[4]=D[4],X[5]=D[5],X[6]=+D[6]+g,X[7]=+D[7]+y;break;case"V":X[1]=+D[1]+y;break;case"H":X[1]=+D[1]+g;break;case"M":M=+D[2]+y,X[1]=w=+D[1]+g,X[2]=M;break;default:for(var ot=1,ft=D.length;ot<ft;ot++)X[ot]=+D[ot]+(ot%2?g:y)}else X=s[u];switch(tt){case"Z":g=+w,y=+M;break;case"H":X=["L",g=X[1],y];break;case"V":X=["L",g,y=X[1]];break;case"T":g=X[1],y=X[2];var ht=V2([k[1],k[2]],[k[3],k[4]]);X=["Q",ht[0],ht[1],g,y];break;case"S":g=X[X.length-2],y=X[X.length-1];var pt=k.length,Wt=V2([k[pt-4],k[pt-3]],[k[pt-2],k[pt-1]]);X=["C",Wt[0],Wt[1],X[1],X[2],g,y];break;case"M":w=X[X.length-2],M=X[X.length-1];break;default:g=X[X.length-2],y=X[X.length-1]}v.push(X)}return v}function Bh(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Cg(o,s){return Bh(o)*Bh(s)?(o[0]*s[0]+o[1]*s[1])/(Bh(o)*Bh(s)):1}function wg(o,s){return(o[0]*s[1]<o[1]*s[0]?-1:1)*Math.acos(Cg(o,s))}function Z2(o,s){return o[0]===s[0]&&o[1]===s[1]}function q2(o,s){var a=s[1],u=s[2],h=$(gt(s[3]),2*Math.PI),v=s[4],g=s[5],y=o[0],w=o[1],M=s[6],A=s[7],L=Math.cos(h)*(y-M)/2+Math.sin(h)*(w-A)/2,O=-1*Math.sin(h)*(y-M)/2+Math.cos(h)*(w-A)/2,D=L*L/(a*a)+O*O/(u*u);D>1&&(a*=Math.sqrt(D),u*=Math.sqrt(D));var k=a*a*(O*O)+u*u*(L*L),X=k?Math.sqrt((a*a*(u*u)-k)/k):1;v===g&&(X*=-1),isNaN(X)&&(X=0);var tt=u?X*a*O/u:0,ot=a?X*-u*L/a:0,ft=(y+M)/2+Math.cos(h)*tt-Math.sin(h)*ot,ht=(w+A)/2+Math.sin(h)*tt+Math.cos(h)*ot,pt=[(L-tt)/a,(O-ot)/u],Wt=[(-1*L-tt)/a,(-1*O-ot)/u],de=wg([1,0],pt),pe=wg(pt,Wt);return Cg(pt,Wt)<=-1&&(pe=Math.PI),Cg(pt,Wt)>=1&&(pe=0),0===g&&pe>0&&(pe-=2*Math.PI),1===g&&pe<0&&(pe+=2*Math.PI),{cx:ft,cy:ht,rx:Z2(o,[M,A])?0:a,ry:Z2(o,[M,A])?0:u,startAngle:de,endAngle:de+pe,xRotation:h,arcFlag:v,sweepFlag:g}}function K2(o,s){return[s[0]+(s[0]-o[0]),s[1]+(s[1]-o[1])]}function Q2(o){o=function zE(o){var s=o||[];return ne(s)?s:Yt(s)?(Dt(s=s.match(kE),function(a,u){if((a=a.match(HP))[0].length>1){var h=a[0].charAt(0);a.splice(1,0,a[0].substr(1)),a[0]=h}Dt(a,function(v,g){isNaN(v)||(a[g]=+v)}),s[u]=a}),s):void 0}(o);for(var s=[],a=null,u=null,h=null,v=0,g=o.length,y=0;y<g;y++){var w=o[y];u=o[y+1];var M=w[0],A={command:M,prePoint:a,params:w,startTangent:null,endTangent:null};switch(M){case"M":h=[w[1],w[2]],v=y;break;case"A":var L=q2(a,w);A.arcParams=L}if("Z"===M)a=h,u=o[v+1];else{var O=w.length;a=[w[O-2],w[O-1]]}u&&"Z"===u[0]&&(u=o[v],s[v]&&(s[v].prePoint=a)),A.currentPoint=a,s[v]&&Z2(a,s[v].currentPoint)&&(s[v].prePoint=A.prePoint),A.nextPoint=u?[u[u.length-2],u[u.length-1]]:null;var k=A.prePoint;if(["L","H","V"].includes(M))A.startTangent=[k[0]-a[0],k[1]-a[1]],A.endTangent=[a[0]-k[0],a[1]-k[1]];else if("Q"===M)A.startTangent=[k[0]-(X=[w[1],w[2]])[0],k[1]-X[1]],A.endTangent=[a[0]-X[0],a[1]-X[1]];else if("T"===M){var X=K2((tt=s[y-1]).currentPoint,k);"Q"===tt.command?(A.command="Q",A.startTangent=[k[0]-X[0],k[1]-X[1]],A.endTangent=[a[0]-X[0],a[1]-X[1]]):(A.command="TL",A.startTangent=[k[0]-a[0],k[1]-a[1]],A.endTangent=[a[0]-k[0],a[1]-k[1]])}else if("C"===M){var ft=[w[3],w[4]];A.startTangent=[k[0]-(ot=[w[1],w[2]])[0],k[1]-ot[1]],A.endTangent=[a[0]-ft[0],a[1]-ft[1]],0===A.startTangent[0]&&0===A.startTangent[1]&&(A.startTangent=[ot[0]-ft[0],ot[1]-ft[1]]),0===A.endTangent[0]&&0===A.endTangent[1]&&(A.endTangent=[ft[0]-ot[0],ft[1]-ot[1]])}else if("S"===M){var tt,ot=K2((tt=s[y-1]).currentPoint,k);ft=[w[1],w[2]],"C"===tt.command?(A.command="C",A.startTangent=[k[0]-ot[0],k[1]-ot[1]],A.endTangent=[a[0]-ft[0],a[1]-ft[1]]):(A.command="SQ",A.startTangent=[k[0]-ft[0],k[1]-ft[1]],A.endTangent=[a[0]-ft[0],a[1]-ft[1]])}else if("A"===M){var ht=.001,pt=A.arcParams||{},Wt=pt.cx,de=void 0===Wt?0:Wt,pe=pt.cy,Me=void 0===pe?0:pe,ze=pt.rx,Oe=void 0===ze?0:ze,Ze=pt.ry,tr=void 0===Ze?0:Ze,vr=pt.sweepFlag,mr=pt.startAngle,Je=void 0===mr?0:mr,Xr=pt.endAngle,$r=void 0===Xr?0:Xr;0===(void 0===vr?0:vr)&&(ht*=-1);var sn=Oe*Math.cos(Je-ht)+de,Nr=tr*Math.sin(Je-ht)+Me;A.startTangent=[sn-h[0],Nr-h[1]];var qn=Oe*Math.cos(Je+$r+ht)+de,fn=tr*Math.sin(Je+$r-ht)+Me;A.endTangent=[k[0]-qn,k[1]-fn]}s.push(A)}return s}function Ph(o,s){var a=o.prePoint,u=o.currentPoint,h=o.nextPoint,v=Math.pow(u[0]-a[0],2)+Math.pow(u[1]-a[1],2),g=Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2),y=Math.pow(a[0]-h[0],2)+Math.pow(a[1]-h[1],2),w=Math.acos((v+g-y)/(2*Math.sqrt(v)*Math.sqrt(g)));if(!w||0===Math.sin(w)||function yt(o,s,a){return void 0===a&&(a=Xt),Math.abs(o-s)<a}(w,0))return{xExtra:0,yExtra:0};var M=Math.abs(Math.atan2(h[1]-u[1],h[0]-u[0])),A=Math.abs(Math.atan2(h[0]-u[0],h[1]-u[1]));return M=M>Math.PI/2?Math.PI-M:M,A=A>Math.PI/2?Math.PI-A:A,{xExtra:Math.cos(w/2-M)*(s/2*(1/Math.sin(w/2)))-s/2||0,yExtra:Math.cos(A-w/2)*(s/2*(1/Math.sin(w/2)))-s/2||0}}function UE(o,s,a,u){var h=o-a,v=s-u;return Math.sqrt(h*h+v*v)}function tc(o,s,a,u,h,v){return h>=o&&h<=o+a&&v>=s&&v<=s+u}function od(o,s){return!(s.minX>o.maxX||s.maxX<o.minX||s.minY>o.maxY||s.maxY<o.minY)}function _g(o,s){return o[0]===s[0]&&o[1]===s[1]}Zr("rect",Xl),Zr("image",Xl),Zr("circle",I2),Zr("marker",I2),Zr("polyline",function BE(o){for(var a=o.attr().points,u=[],h=[],v=0;v<a.length;v++){var g=a[v];u.push(g[0]),h.push(g[1])}var y=Ju(u,h),w=y.x,M=y.y,O={minX:w,minY:M,maxX:w+y.width,maxY:M+y.height};return{x:(O=Rh(o,O)).minX,y:O.minY,width:O.maxX-O.minX,height:O.maxY-O.minY}}),Zr("polygon",function mg(o){for(var a=o.attr().points,u=[],h=[],v=0;v<a.length;v++){var g=a[v];u.push(g[0]),h.push(g[1])}return Ju(u,h)}),Zr("text",function U2(o){var s=o.attr(),a=s.x,u=s.y,h=s.text,v=s.fontSize,g=s.lineHeight,y=s.font;y||(y=xg(s));var M,w=function ad(o,s){var a=Y2(),u=0;return se(o)||""===o||(a.save(),a.font=s,Yt(o)&&o.includes("\n")?Dt(o.split("\n"),function(v){var g=a.measureText(v).width;u<g&&(u=g)}):u=a.measureText(o).width,a.restore()),u}(h,y);if(w){var A=s.textAlign,L=s.textBaseline,O=W2(h,v,g),D={x:a,y:u-O};A&&("end"===A||"right"===A?D.x-=w:"center"===A&&(D.x-=w/2)),L&&("top"===L?D.y+=O:"middle"===L&&(D.y+=O/2)),M={x:D.x,y:D.y,width:w,height:O}}else M={x:a,y:u,width:0,height:0};return M}),Zr("path",function J2(o){var s=o.attr(),a=s.path,h=s.stroke?s.lineWidth:0,g=function YE(o,s){for(var a=[],u=[],h=[],v=0;v<o.length;v++){var y=(g=o[v]).currentPoint,w=g.params,M=g.prePoint,A=void 0;switch(g.command){case"Q":A=vg.box(M[0],M[1],w[1],w[2],w[3],w[4]);break;case"C":A=ju.box(M[0],M[1],w[1],w[2],w[3],w[4],w[5],w[6]);break;case"A":var L=g.arcParams;A=k2_box(L.cx,L.cy,L.rx,L.ry,L.xRotation,L.startAngle,L.endAngle);break;default:a.push(y[0]),u.push(y[1])}A&&(g.box=A,a.push(A.x,A.x+A.width),u.push(A.y,A.y+A.height)),s&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&h.push(g)}a=a.filter(function(ot){return!Number.isNaN(ot)&&ot!==1/0&&ot!==-1/0}),u=u.filter(function(ot){return!Number.isNaN(ot)&&ot!==1/0&&ot!==-1/0});var O=dt(a),D=dt(u),k=ut(a),X=ut(u);if(0===h.length)return{x:O,y:D,width:k-O,height:X-D};for(v=0;v<h.length;v++){var g;(y=(g=h[v]).currentPoint)[0]===O?O-=Ph(g,s).xExtra:y[0]===k&&(k+=Ph(g,s).xExtra),y[1]===D?D-=Ph(g,s).yExtra:y[1]===X&&(X+=Ph(g,s).yExtra)}return{x:O,y:D,width:k-O,height:X-D}}(o.get("segments")||Q2(a),h),y=g.x,w=g.y,L={minX:y,minY:w,maxX:y+g.width,maxY:w+g.height};return{x:(L=Rh(o,L)).minX,y:L.minY,width:L.maxX-L.minX,height:L.maxY-L.minY}}),Zr("line",function WE(o){var s=o.attr(),a=s.x1,u=s.y1,h=s.x2,v=s.y2,A={minX:Math.min(a,h),maxX:Math.max(a,h),minY:Math.min(u,v),maxY:Math.max(u,v)};return{x:(A=Rh(o,A)).minX,y:A.minY,width:A.maxX-A.minX,height:A.maxY-A.minY}}),Zr("ellipse",function GP(o){var s=o.attr(),h=s.rx,v=s.ry;return{x:s.x-h,y:s.y-v,width:2*h,height:2*v}});var Lo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,UP=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,j2=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Sg=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ln(o,s){Dt(o.match(Sg),function(u){var h=u.split(":");s.addColorStop(h[0],h[1])})}function VE(o,s,a){var u=s.getBBox();if(isNaN(u.x)||isNaN(u.y)||isNaN(u.width)||isNaN(u.height))return a;if(Yt(a)){if("("===a[1]||"("===a[2]){if("l"===a[0])return function tC(o,s,a){var y,w,u=Lo.exec(a),h=parseFloat(u[1])%360*(Math.PI/180),v=u[2],g=s.getBBox();h>=0&&h<.5*Math.PI?(y={x:g.minX,y:g.minY},w={x:g.maxX,y:g.maxY}):.5*Math.PI<=h&&h<Math.PI?(y={x:g.maxX,y:g.minY},w={x:g.minX,y:g.maxY}):Math.PI<=h&&h<1.5*Math.PI?(y={x:g.maxX,y:g.maxY},w={x:g.minX,y:g.minY}):(y={x:g.minX,y:g.maxY},w={x:g.maxX,y:g.minY});var M=Math.tan(h),A=M*M,D=o.createLinearGradient(y.x,y.y,(w.x-y.x+M*(w.y-y.y))/(A+1)+y.x,M*(w.x-y.x+M*(w.y-y.y))/(A+1)+y.y);return Ln(v,D),D}(o,s,a);if("r"===a[0])return function Mg(o,s,a){var u=UP.exec(a),h=parseFloat(u[1]),v=parseFloat(u[2]),g=parseFloat(u[3]),y=u[4];if(0===g){var w=y.match(Sg);return w[w.length-1].split(":")[1]}var M=s.getBBox(),A=M.maxX-M.minX,L=M.maxY-M.minY,O=Math.sqrt(A*A+L*L)/2,D=o.createRadialGradient(M.minX+A*h,M.minY+L*v,0,M.minX+A/2,M.minY+L/2,g*O);return Ln(y,D),D}(o,s,a);if("p"===a[0])return function XE(o,s,a){if(s.get("patternSource")&&s.get("patternSource")===a)return s.get("pattern");var u,h,v=j2.exec(a),g=v[1],y=v[2];function w(){u=o.createPattern(h,g),s.set("pattern",u),s.set("patternSource",a)}switch(g){case"a":g="repeat";break;case"x":g="repeat-x";break;case"y":g="repeat-y";break;default:g="no-repeat"}return h=new Image,y.match(/^data:/i)||(h.crossOrigin="Anonymous"),h.src=y,h.complete?w():(h.onload=w,h.src=h.src),u}(o,s,a)}return a}return a instanceof CanvasPattern?a:void 0}function sd(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function bg(o,s){return sd(o)*sd(s)?(o[0]*s[0]+o[1]*s[1])/(sd(o)*sd(s)):1}function eC(o,s){return(o[0]*s[1]<o[1]*s[0]?-1:1)*Math.acos(bg(o,s))}function rC(o,s){var a=s[1],u=s[2],h=$(gt(s[3]),2*Math.PI),v=s[4],g=s[5],y=o[0],w=o[1],M=s[6],A=s[7],L=Math.cos(h)*(y-M)/2+Math.sin(h)*(w-A)/2,O=-1*Math.sin(h)*(y-M)/2+Math.cos(h)*(w-A)/2,D=L*L/(a*a)+O*O/(u*u);D>1&&(a*=Math.sqrt(D),u*=Math.sqrt(D));var k=a*a*(O*O)+u*u*(L*L),X=k?Math.sqrt((a*a*(u*u)-k)/k):1;v===g&&(X*=-1),isNaN(X)&&(X=0);var tt=u?X*a*O/u:0,ot=a?X*-u*L/a:0,ft=(y+M)/2+Math.cos(h)*tt-Math.sin(h)*ot,ht=(w+A)/2+Math.sin(h)*tt+Math.cos(h)*ot,pt=[(L-tt)/a,(O-ot)/u],Wt=[(-1*L-tt)/a,(-1*O-ot)/u],de=eC([1,0],pt),pe=eC(pt,Wt);return bg(pt,Wt)<=-1&&(pe=Math.PI),bg(pt,Wt)>=1&&(pe=0),0===g&&pe>0&&(pe-=2*Math.PI),1===g&&pe<0&&(pe+=2*Math.PI),{cx:ft,cy:ht,rx:_g(o,[M,A])?0:a,ry:_g(o,[M,A])?0:u,startAngle:de,endAngle:de+pe,xRotation:h,arcFlag:v,sweepFlag:g}}var ld=Math.sin,ud=Math.cos,Io=Math.atan2,cd=Math.PI;function kh(o,s,a,u,h,v,g){var y=s.stroke,w=s.lineWidth,L=Io(u-v,a-h),O=new pd({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ud(cd/6)+","+10*ld(cd/6)+" L0,0 L"+10*ud(cd/6)+",-"+10*ld(cd/6),stroke:y,lineWidth:w}});O.translate(h,v),O.rotateAtPoint(h,v,L),o.set(g?"startArrowShape":"endArrowShape",O)}function nC(o,s,a,u,h,v,g){var M=s.stroke,A=s.lineWidth,L=g?s.startArrow:s.endArrow,O=L.d,D=L.fill,k=L.stroke,X=L.lineWidth,tt=function Qt(o,s){var a={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(a[u]=o[u]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(u=Object.getOwnPropertySymbols(o);h<u.length;h++)s.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(o,u[h])&&(a[u[h]]=o[u[h]])}return a}(L,["d","fill","stroke","lineWidth"]),ht=Io(u-v,a-h);O&&(h-=ud(ht)*O,v-=ld(ht)*O);var pt=new pd({type:"path",canvas:o.get("canvas"),isArrowShape:!0,attrs:Zt(Zt({},tt),{stroke:k||M,lineWidth:X||A,fill:D})});pt.translate(h,v),pt.rotateAtPoint(h,v,ht),o.set(g?"startArrowShape":"endArrowShape",pt)}function $l(o,s,a,u,h){var v=Io(u-s,a-o);return{dx:ud(v)*h,dy:ld(v)*h}}function Ag(o,s,a,u,h,v){"object"==typeof s.startArrow?nC(o,s,a,u,h,v,!0):s.startArrow?kh(o,s,a,u,h,v,!0):o.set("startArrowShape",null)}function iC(o,s,a,u,h,v){"object"==typeof s.endArrow?nC(o,s,a,u,h,v,!1):s.endArrow?kh(o,s,a,u,h,v,!1):o.set("startArrowShape",null)}var Eg={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ec(o,s){var a=s.attr();for(var u in a){var h=a[u],v=Eg[u]?Eg[u]:u;"matrix"===v&&h?o.transform(h[0],h[1],h[3],h[4],h[6],h[7]):"lineDash"===v&&o.setLineDash?ne(h)&&o.setLineDash(h):("strokeStyle"===v||"fillStyle"===v?h=VE(o,s,h):"globalAlpha"===v&&(h*=o.globalAlpha),o[v]=h)}}function Lg(o,s,a){for(var u=0;u<s.length;u++){var h=s[u];h.cfg.visible?h.draw(o,a):h.skipDraw()}}function $E(o,s,a){var u=o.get("refreshElements");Dt(u,function(h){if(h!==o)for(var v=h.cfg.parent;v&&v!==o&&!v.cfg.refresh;)v.cfg.refresh=!0,v=v.cfg.parent}),u[0]===o?hd(s):Ig(s,a)}function Ig(o,s){for(var a=0;a<o.length;a++){var u=o[a];if(u.cfg.visible)if(u.cfg.hasChanged)u.cfg.refresh=!0,u.isGroup()&&hd(u.cfg.children);else if(u.cfg.refresh)u.isGroup()&&Ig(u.cfg.children,s);else{var h=aC(u,s);u.cfg.refresh=h,h&&u.isGroup()&&Ig(u.cfg.children,s)}}}function zh(o){for(var s=0;s<o.length;s++){var a=o[s];a.cfg.hasChanged=!1,a.isGroup()&&!a.destroyed&&zh(a.cfg.children)}}function hd(o,s){for(var a=0;a<o.length;a++){var u=o[a];u.cfg.refresh=!0,u.isGroup()&&hd(u.get("children"))}}function aC(o,s){var a=o.cfg.cacheCanvasBBox;return o.cfg.isInView&&a&&od(a,s)}function Nh(o,s,a,u){var h=a.path,v=a.startArrow,g=a.endArrow;if(h){var y=[0,0],w=[0,0],M={dx:0,dy:0};s.beginPath();for(var A=0;A<h.length;A++){var L=h[A],O=L[0];if(0===A&&v&&v.d)M=$l((D=o.getStartTangent())[0][0],D[0][1],D[1][0],D[1][1],v.d);else if(A===h.length-2&&"Z"===h[A+1][0]&&g&&g.d)"Z"===h[A+1][0]&&(M=$l((D=o.getEndTangent())[0][0],D[0][1],D[1][0],D[1][1],g.d));else if(A===h.length-1&&g&&g.d&&"Z"!==h[0]){var D;M=$l((D=o.getEndTangent())[0][0],D[0][1],D[1][0],D[1][1],g.d)}var X=M.dx,tt=M.dy;switch(O){case"M":s.moveTo(L[1]-X,L[2]-tt),w=[L[1],L[2]];break;case"L":s.lineTo(L[1]-X,L[2]-tt);break;case"Q":s.quadraticCurveTo(L[1],L[2],L[3]-X,L[4]-tt);break;case"C":s.bezierCurveTo(L[1],L[2],L[3],L[4],L[5]-X,L[6]-tt);break;case"A":var ot=void 0;u?(ot=u[A])||(ot=rC(y,L),u[A]=ot):ot=rC(y,L);var ft=ot.cx,ht=ot.cy,pt=ot.rx,Wt=ot.ry,de=ot.startAngle,pe=ot.endAngle,Me=ot.xRotation,ze=ot.sweepFlag;if(s.ellipse)s.ellipse(ft,ht,pt,Wt,Me,de,pe,1-ze);else{var Oe=pt>Wt?pt:Wt,Ze=pt>Wt?1:pt/Wt,tr=pt>Wt?Wt/pt:1;s.translate(ft,ht),s.rotate(Me),s.scale(Ze,tr),s.arc(0,0,Oe,de,pe,1-ze),s.scale(1/Ze,1/tr),s.rotate(-Me),s.translate(-ft,-ht)}break;case"Z":s.closePath()}if("Z"===O)y=w;else{var vr=L.length;y=[L[vr-2],L[vr-1]]}}}}function fd(o,s){var a=o.get("canvas");a&&("remove"===s&&(o._cacheCanvasBBox=o.get("cacheCanvasBBox")),o.get("hasChanged")||(o.set("hasChanged",!0),o.cfg.parent&&o.cfg.parent.get("hasChanged")||(a.refreshElement(o,s,a),a.get("autoDraw")&&a.draw())))}var ls=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.onCanvasChange=function(a){fd(this,a)},s.prototype.getShapeBase=function(){return ae},s.prototype.getGroupBase=function(){return s},s.prototype._applyClip=function(a,u){u&&(a.save(),ec(a,u),u.createPath(a),a.restore(),a.clip(),u._afterDraw())},s.prototype.cacheCanvasBBox=function(){var u=[],h=[];Dt(this.cfg.children,function(O){var D=O.cfg.cacheCanvasBBox;D&&O.cfg.isInView&&(u.push(D.minX,D.maxX),h.push(D.minY,D.maxY))});var v=null;if(u.length){var g=dt(u),y=ut(u),w=dt(h),M=ut(h);v={minX:g,minY:w,x:g,y:w,maxX:y,maxY:M,width:y-g,height:M-w};var A=this.cfg.canvas;if(A){var L=A.getViewRange();this.set("isInView",od(v,L))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",v)},s.prototype.draw=function(a,u){var h=this.cfg.children;h.length&&(!u||this.cfg.refresh)&&(a.save(),ec(a,this),this._applyClip(a,this.getClip()),Lg(a,h,u),a.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},s.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},s}(TE),VP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},s.prototype.getShapeBase=function(){return ae},s.prototype.getGroupBase=function(){return ls},s.prototype.onCanvasChange=function(a){fd(this,a)},s.prototype.calculateBBox=function(){var a=this.get("type"),u=this.getHitLineWidth(),h=function L2(o){return Jv.get(o)}(a),v=h(this),g=u/2,y=v.x-g,w=v.y-g;return{x:y,minX:y,y:w,minY:w,width:v.width+u,height:v.height+u,maxX:v.x+v.width+g,maxY:v.y+v.height+g}},s.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},s.prototype.isStroke=function(){return!!this.attrs.stroke},s.prototype._applyClip=function(a,u){u&&(a.save(),ec(a,u),u.createPath(a),a.restore(),a.clip(),u._afterDraw())},s.prototype.draw=function(a,u){var h=this.cfg.clipShape;if(u){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!od(u,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}a.save(),ec(a,this),this._applyClip(a,h),this.drawPath(a),a.restore(),this._afterDraw()},s.prototype.getCanvasViewBox=function(){var a=this.cfg.canvas;return a?a.getViewRange():null},s.prototype.cacheCanvasBBox=function(){var a=this.getCanvasViewBox();if(a){var u=this.getCanvasBBox(),h=od(u,a);this.set("isInView",h),this.set("cacheCanvasBBox",h?u:null)}},s.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},s.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},s.prototype.drawPath=function(a){this.createPath(a),this.strokeAndFill(a),this.afterDrawPath(a)},s.prototype.fill=function(a){a.fill()},s.prototype.stroke=function(a){a.stroke()},s.prototype.strokeAndFill=function(a){var u=this.attrs,h=u.lineWidth,v=u.opacity,g=u.strokeOpacity,y=u.fillOpacity;this.isFill()&&(se(y)||1===y?this.fill(a):(a.globalAlpha=y,this.fill(a),a.globalAlpha=v)),this.isStroke()&&h>0&&(!se(g)&&1!==g&&(a.globalAlpha=g),this.stroke(a)),this.afterDrawPath(a)},s.prototype.createPath=function(a){},s.prototype.afterDrawPath=function(a){},s.prototype.isInShape=function(a,u){var h=this.isStroke(),v=this.isFill(),g=this.getHitLineWidth();return this.isInStrokeOrPath(a,u,h,v,g)},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){return!1},s.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var a=this.attrs;return a.lineWidth+a.lineAppendWidth},s}(bE),Ro=VP,$P=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x:0,y:0,r:0})},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){var y=this.attr(),A=y.r,L=g/2,O=UE(y.x,y.y,a,u);return v&&h?O<=A+L:v?O<=A:!!h&&O>=A-L&&O<=A+L},s.prototype.createPath=function(a){var u=this.attr(),h=u.x,v=u.y,g=u.r;a.beginPath(),a.arc(h,v,g,0,2*Math.PI,!1),a.closePath()},s}(Ro),ZP=$P;function Og(o,s,a,u){return o/(a*a)+s/(u*u)}var qP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x:0,y:0,rx:0,ry:0})},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){var y=this.attr(),w=g/2,M=y.x,A=y.y,L=y.rx,O=y.ry,D=(a-M)*(a-M),k=(u-A)*(u-A);return v&&h?Og(D,k,L+w,O+w)<=1:v?Og(D,k,L,O)<=1:!!h&&Og(D,k,L-w,O-w)>=1&&Og(D,k,L+w,O+w)<=1},s.prototype.createPath=function(a){var u=this.attr(),h=u.x,v=u.y,g=u.rx,y=u.ry;if(a.beginPath(),a.ellipse)a.ellipse(h,v,g,y,0,0,2*Math.PI,!1);else{var w=g>y?g:y,M=g>y?1:g/y,A=g>y?y/g:1;a.save(),a.translate(h,v),a.scale(M,A),a.arc(0,0,w,0,2*Math.PI),a.restore(),a.closePath()}},s}(Ro),oC=qP;function sC(o){return o instanceof HTMLElement&&Yt(o.nodeName)&&"CANVAS"===o.nodeName.toUpperCase()}var KP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x:0,y:0,width:0,height:0})},s.prototype.initAttrs=function(a){this._setImage(a.img)},s.prototype.isStroke=function(){return!1},s.prototype.isOnlyHitBox=function(){return!0},s.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var a=this.get("canvas");a?a.draw():this.createPath(this.get("context"))}},s.prototype._setImage=function(a){var u=this,h=this.attrs;if(Yt(a)){var v=new Image;v.onload=function(){if(u.destroyed)return!1;u.attr("img",v),u.set("loading",!1),u._afterLoading();var g=u.get("callback");g&&g.call(u)},v.crossOrigin="Anonymous",v.src=a,this.set("loading",!0)}else a instanceof Image?(h.width||(h.width=a.width),h.height||(h.height=a.height)):sC(a)&&(h.width||(h.width=Number(a.getAttribute("width"))),h.height||Number(a.getAttribute("height")))},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),"img"===a&&this._setImage(u)},s.prototype.createPath=function(a){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",a);var u=this.attr(),h=u.x,v=u.y,g=u.width,y=u.height,w=u.sx,M=u.sy,A=u.swidth,L=u.sheight,O=u.img;(O instanceof Image||sC(O))&&(se(w)||se(M)||se(A)||se(L)?a.drawImage(O,h,v,g,y):a.drawImage(O,w,M,A,L,h,v,g,y))},s}(Ro),lC=KP;function ro(o,s,a,u,h,v,g){var y=Math.min(o,a),w=Math.max(o,a),M=Math.min(s,u),A=Math.max(s,u),L=h/2;return v>=y-L&&v<=w+L&&g>=M-L&&g<=A+L&&aa.pointToLine(o,s,a,u,v,g)<=h/2}var QP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(a){this.setArrow()},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),this.setArrow()},s.prototype.setArrow=function(){var a=this.attr(),u=a.x1,h=a.y1,v=a.x2,g=a.y2,w=a.endArrow;a.startArrow&&Ag(this,a,v,g,u,h),w&&iC(this,a,u,h,v,g)},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){if(!h||!g)return!1;var y=this.attr();return ro(y.x1,y.y1,y.x2,y.y2,g,a,u)},s.prototype.createPath=function(a){var u=this.attr(),h=u.x1,v=u.y1,g=u.x2,y=u.y2,w=u.startArrow,M=u.endArrow,A={dx:0,dy:0},L={dx:0,dy:0};w&&w.d&&(A=$l(h,v,g,y,u.startArrow.d)),M&&M.d&&(L=$l(h,v,g,y,u.endArrow.d)),a.beginPath(),a.moveTo(h+A.dx,v+A.dy),a.lineTo(g-L.dx,y-L.dy)},s.prototype.afterDrawPath=function(a){var u=this.get("startArrowShape"),h=this.get("endArrowShape");u&&u.draw(a),h&&h.draw(a)},s.prototype.getTotalLength=function(){var a=this.attr();return aa.length(a.x1,a.y1,a.x2,a.y2)},s.prototype.getPoint=function(a){var u=this.attr();return aa.pointAt(u.x1,u.y1,u.x2,u.y2,a)},s}(Ro),JP=QP,jP={circle:function(o,s,a){return[["M",o-a,s],["A",a,a,0,1,0,o+a,s],["A",a,a,0,1,0,o-a,s]]},square:function(o,s,a){return[["M",o-a,s-a],["L",o+a,s-a],["L",o+a,s+a],["L",o-a,s+a],["Z"]]},diamond:function(o,s,a){return[["M",o-a,s],["L",o,s-a],["L",o+a,s],["L",o,s+a],["Z"]]},triangle:function(o,s,a){var u=a*Math.sin(.3333333333333333*Math.PI);return[["M",o-a,s+u],["L",o,s-u],["L",o+a,s+u],["Z"]]},"triangle-down":function(o,s,a){var u=a*Math.sin(.3333333333333333*Math.PI);return[["M",o-a,s-u],["L",o+a,s-u],["L",o,s+u],["Z"]]}},tk=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.initAttrs=function(a){this._resetParamsCache()},s.prototype._resetParamsCache=function(){this.set("paramsCache",{})},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),-1!==["symbol","x","y","r","radius"].indexOf(a)&&this._resetParamsCache()},s.prototype.isOnlyHitBox=function(){return!0},s.prototype._getR=function(a){return se(a.r)?a.radius:a.r},s.prototype._getPath=function(){var y,w,a=this.attr(),u=a.x,h=a.y,v=a.symbol||"circle",g=this._getR(a);if(Vt(v))w=$2(w=(y=v)(u,h,g));else{if(!(y=s.Symbols[v]))return console.warn(v+" marker is not supported."),null;w=y(u,h,g)}return w},s.prototype.createPath=function(a){Nh(this,a,{path:this._getPath()},this.get("paramsCache"))},s.Symbols=jP,s}(Ro),ek=tk;function ZE(o,s,a){var u=Y2();return o.createPath(u),u.isPointInPath(s,a)}var rk=1e-6;function uC(o){return Math.abs(o)<rk?0:o<0?-1:1}function qE(o,s,a){return(a[0]-o[0])*(s[1]-o[1])==(s[0]-o[0])*(a[1]-o[1])&&Math.min(o[0],s[0])<=a[0]&&a[0]<=Math.max(o[0],s[0])&&Math.min(o[1],s[1])<=a[1]&&a[1]<=Math.max(o[1],s[1])}function cC(o,s,a){var u=!1,h=o.length;if(h<=2)return!1;for(var v=0;v<h;v++){var g=o[v],y=o[(v+1)%h];if(qE(g,y,[s,a]))return!0;uC(g[1]-a)>0!=uC(y[1]-a)>0&&uC(s-(a-g[1])*(g[0]-y[0])/(g[1]-y[1])-g[0])<0&&(u=!u)}return u}function Hh(o,s,a,u,h,v,g,y){var w=(Math.atan2(y-s,g-o)+2*Math.PI)%(2*Math.PI);if(w<u||w>h)return!1;var M={x:o+a*Math.cos(w),y:s+a*Math.sin(w)};return UE(M.x,M.y,g,y)<=v/2}var KE=Mv,dd=Zt({hasArc:function QE(o){for(var s=!1,a=o.length,u=0;u<a;u++){var v=o[u][0];if("C"===v||"A"===v||"Q"===v){s=!0;break}}return s},extractPolygons:function JE(o){for(var s=o.length,a=[],u=[],h=[],v=0;v<s;v++){var g=o[v],y=g[0];"M"===y?(h.length&&(u.push(h),h=[]),h.push([g[1],g[2]])):"Z"===y?h.length&&(a.push(h),h=[]):h.push([g[1],g[2]])}return h.length>0&&u.push(h),{polygons:a,polylines:u}},isPointInStroke:function Rg(o,s,a,u,h){for(var v=!1,g=s/2,y=0;y<o.length;y++){var w=o[y],M=w.currentPoint,A=w.params,L=w.prePoint,O=w.box;if(!O||tc(O.x-g,O.y-g,O.width+s,O.height+s,a,u)){switch(w.command){case"L":case"Z":v=ro(L[0],L[1],M[0],M[1],s,a,u);break;case"Q":v=vg.pointDistance(L[0],L[1],A[1],A[2],A[3],A[4],a,u)<=s/2;break;case"C":v=ju.pointDistance(L[0],L[1],A[1],A[2],A[3],A[4],A[5],A[6],a,u,h)<=s/2;break;case"A":var X=w.arcParams,ft=X.rx,ht=X.ry,pt=X.startAngle,Wt=X.endAngle,pe=[a,u,1],Me=ft>ht?ft:ht;B0(pe,pe,KE(null,[["t",-X.cx,-X.cy],["r",-X.xRotation],["s",1/(ft>ht?1:ft/ht),1/(ft>ht?ht/ft:1)]])),v=Hh(0,0,Me,pt,Wt,s,pe[0],pe[1])}if(v)break}}return v}},Qe);function hC(o,s,a){for(var u=!1,h=0;h<o.length&&!(u=cC(o[h],s,a));h++);return u}var jE=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(a){this._setPathArr(a.path),this.setArrow()},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),"path"===a&&this._setPathArr(u),this.setArrow()},s.prototype._setPathArr=function(a){this.attrs.path=$2(a);var u=dd.hasArc(a);this.set("hasArc",u),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},s.prototype.getSegments=function(){var a=this.get("segements");return a||(a=Q2(this.attr("path")),this.set("segments",a)),a},s.prototype.setArrow=function(){var v,a=this.attr(),h=a.endArrow;a.startArrow&&Ag(this,a,(v=this.getStartTangent())[0][0],v[0][1],v[1][0],v[1][1]),h&&iC(this,a,(v=this.getEndTangent())[0][0],v[0][1],v[1][0],v[1][1])},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){var y=this.getSegments(),w=this.get("hasArc"),M=!1;if(h){var A=this.getTotalLength();M=dd.isPointInStroke(y,g,a,u,A)}if(!M&&v)if(w)M=ZE(this,a,u);else{var L=this.attr("path"),O=dd.extractPolygons(L);M=hC(O.polygons,a,u)||hC(O.polylines,a,u)}return M},s.prototype.createPath=function(a){Nh(this,a,this.attr(),this.get("paramsCache"))},s.prototype.afterDrawPath=function(a){var u=this.get("startArrowShape"),h=this.get("endArrowShape");u&&u.draw(a),h&&h.draw(a)},s.prototype.getTotalLength=function(){var a=this.get("totalLength");return se(a)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):a},s.prototype.getPoint=function(a){var u=this.get("tCache");u||(this._calculateCurve(),this._setTcache(),u=this.get("tCache"));var h,v,g=this.get("curve");if(!u||0===u.length)return g?{x:g[0][1],y:g[0][2]}:null;Dt(u,function(A,L){a>=A[0]&&a<=A[1]&&(h=(a-A[0])/(A[1]-A[0]),v=L)});var y=g[v];if(se(y)||se(v))return null;var w=y.length,M=g[v+1];return ju.pointAt(y[w-2],y[w-1],M[1],M[2],M[3],M[4],M[5],M[6],h)},s.prototype._calculateCurve=function(){var a=this.attr().path;this.set("curve",dd.pathToCurve(a))},s.prototype._setTcache=function(){var v,g,y,w,a=0,u=0,h=[],M=this.get("curve");if(M){if(Dt(M,function(A,L){w=A.length,(y=M[L+1])&&(a+=ju.length(A[w-2],A[w-1],y[1],y[2],y[3],y[4],y[5],y[6])||0)}),this.set("totalLength",a),0===a)return void this.set("tCache",[]);Dt(M,function(A,L){w=A.length,(y=M[L+1])&&((v=[])[0]=u/a,g=ju.length(A[w-2],A[w-1],y[1],y[2],y[3],y[4],y[5],y[6]),v[1]=(u+=g||0)/a,h.push(v))}),this.set("tCache",h)}},s.prototype.getStartTangent=function(){var u,a=this.getSegments();if(a.length>1){var h=a[0].currentPoint,v=a[1].currentPoint,g=a[1].startTangent;u=[],g?(u.push([h[0]-g[0],h[1]-g[1]]),u.push([h[0],h[1]])):(u.push([v[0],v[1]]),u.push([h[0],h[1]]))}return u},s.prototype.getEndTangent=function(){var h,a=this.getSegments(),u=a.length;if(u>1){var v=a[u-2].currentPoint,g=a[u-1].currentPoint,y=a[u-1].endTangent;h=[],y?(h.push([g[0]-y[0],g[1]-y[1]]),h.push([g[0],g[1]])):(h.push([v[0],v[1]]),h.push([g[0],g[1]]))}return h},s}(Ro),pd=jE;function fC(o,s,a,u,h){var v=o.length;if(v<2)return!1;for(var g=0;g<v-1;g++)if(ro(o[g][0],o[g][1],o[g+1][0],o[g+1][1],s,a,u))return!0;if(h){var L=o[0],O=o[v-1];if(ro(L[0],L[1],O[0],O[1],s,a,u))return!0}return!1}var Gh=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.isInStrokeOrPath=function(a,u,h,v,g){var y=this.attr().points,w=!1;return h&&(w=fC(y,g,a,u,!0)),!w&&v&&(w=cC(y,a,u)),w},s.prototype.createPath=function(a){var h=this.attr().points;if(!(h.length<2)){a.beginPath();for(var v=0;v<h.length;v++){var g=h[v];0===v?a.moveTo(g[0],g[1]):a.lineTo(g[0],g[1])}a.closePath()}},s}(Ro),Fg=Gh,Yh=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{startArrow:!1,endArrow:!1})},s.prototype.initAttrs=function(a){this.setArrow()},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),this.setArrow(),-1!==["points"].indexOf(a)&&this._resetCache()},s.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},s.prototype.setArrow=function(){var a=this.attr(),u=this.attrs,h=u.points,g=u.endArrow,y=h.length,A=h[y-1][0],L=h[y-1][1];u.startArrow&&Ag(this,a,h[1][0],h[1][1],h[0][0],h[0][1]),g&&iC(this,a,h[y-2][0],h[y-2][1],A,L)},s.prototype.isFill=function(){return!1},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){return!(!h||!g)&&fC(this.attr().points,g,a,u,!1)},s.prototype.isStroke=function(){return!0},s.prototype.createPath=function(a){var u=this.attr(),h=u.points,v=u.startArrow,g=u.endArrow,y=h.length;if(!(h.length<2)){var O,w=h[0][0],M=h[0][1],A=h[y-1][0],L=h[y-1][1];v&&v.d&&(w+=(O=$l(w,M,h[1][0],h[1][1],v.d)).dx,M+=O.dy),g&&g.d&&(A-=(O=$l(h[y-2][0],h[y-2][1],A,L,g.d)).dx,L-=O.dy),a.beginPath(),a.moveTo(w,M);for(var D=0;D<y-1;D++){var k=h[D];a.lineTo(k[0],k[1])}a.lineTo(A,L)}},s.prototype.afterDrawPath=function(a){var u=this.get("startArrowShape"),h=this.get("endArrowShape");u&&u.draw(a),h&&h.draw(a)},s.prototype.getTotalLength=function(){var a=this.attr().points,u=this.get("totalLength");return se(u)?(this.set("totalLength",function(o){return function NP(o){if(o.length<2)return 0;for(var s=0,a=0;a<o.length-1;a++){var u=o[a],h=o[a+1];s+=zi(u[0],u[1],h[0],h[1])}return s}(o)}(a)),this.get("totalLength")):u},s.prototype.getPoint=function(a){var v,g,u=this.attr().points,h=this.get("tCache");return h||(this._setTcache(),h=this.get("tCache")),Dt(h,function(y,w){a>=y[0]&&a<=y[1]&&(v=(a-y[0])/(y[1]-y[0]),g=w)}),aa.pointAt(u[g][0],u[g][1],u[g+1][0],u[g+1][1],v)},s.prototype._setTcache=function(){var a=this.attr().points;if(a&&0!==a.length){var u=this.getTotalLength();if(!(u<=0)){var g,y,h=0,v=[];Dt(a,function(w,M){a[M+1]&&((g=[])[0]=h/u,y=aa.length(w[0],w[1],a[M+1][0],a[M+1][1]),g[1]=(h+=y)/u,v.push(g))}),this.set("tCache",v)}}},s.prototype.getStartTangent=function(){var a=this.attr().points,u=[];return u.push([a[1][0],a[1][1]]),u.push([a[0][0],a[0][1]]),u},s.prototype.getEndTangent=function(){var a=this.attr().points,u=a.length-1,h=[];return h.push([a[u-1][0],a[u-1][1]]),h.push([a[u][0],a[u][1]]),h},s}(Ro),vC=Yh,ak=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x:0,y:0,width:0,height:0,radius:0})},s.prototype.isInStrokeOrPath=function(a,u,h,v,g){var y=this.attr(),w=y.x,M=y.y,A=y.width,L=y.height,O=y.radius;if(O){var k=!1;return h&&(k=function ik(o,s,a,u,h,v,g,y){return ro(o+h,s,o+a-h,s,v,g,y)||ro(o+a,s+h,o+a,s+u-h,v,g,y)||ro(o+a-h,s+u,o+h,s+u,v,g,y)||ro(o,s+u-h,o,s+h,v,g,y)||Hh(o+a-h,s+h,h,1.5*Math.PI,2*Math.PI,v,g,y)||Hh(o+a-h,s+u-h,h,0,.5*Math.PI,v,g,y)||Hh(o+h,s+u-h,h,.5*Math.PI,Math.PI,v,g,y)||Hh(o+h,s+h,h,Math.PI,1.5*Math.PI,v,g,y)}(w,M,A,L,O,g,a,u)),!k&&v&&(k=ZE(this,a,u)),k}var D=g/2;return v&&h?tc(w-D,M-D,A+D,L+D,a,u):v?tc(w,M,A,L,a,u):h?function nk(o,s,a,u,h,v,g){var y=h/2;return tc(o-y,s-y,a,h,v,g)||tc(o+a-y,s-y,h,u,v,g)||tc(o+y,s+u-y,a,h,v,g)||tc(o-y,s+y,h,u,v,g)}(w,M,A,L,g,a,u):void 0},s.prototype.createPath=function(a){var u=this.attr(),h=u.x,v=u.y,g=u.width,y=u.height,w=u.radius;if(a.beginPath(),0===w)a.rect(h,v,g,y);else{var M=function Tg(o){var s=0,a=0,u=0,h=0;return ne(o)?1===o.length?s=a=u=h=o[0]:2===o.length?(s=u=o[0],a=h=o[1]):3===o.length?(s=o[0],a=h=o[1],u=o[2]):(s=o[0],a=o[1],u=o[2],h=o[3]):s=a=u=h=o,[s,a,u,h]}(w),A=M[0],L=M[1],O=M[2],D=M[3];a.moveTo(h+A,v),a.lineTo(h+g-L,v),0!==L&&a.arc(h+g-L,v+L,L,-Math.PI/2,0),a.lineTo(h+g,v+y-O),0!==O&&a.arc(h+g-O,v+y-O,O,0,Math.PI/2),a.lineTo(h+D,v+y),0!==D&&a.arc(h+D,v+y-D,D,Math.PI/2,Math.PI),a.lineTo(h,v+A),0!==A&&a.arc(h+A,v+A,A,Math.PI,1.5*Math.PI),a.closePath()}},s}(Ro),ok=ak,sk=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultAttrs=function(){var a=o.prototype.getDefaultAttrs.call(this);return Zt(Zt({},a),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},s.prototype.isOnlyHitBox=function(){return!0},s.prototype.initAttrs=function(a){this._assembleFont(),a.text&&this._setText(a.text)},s.prototype._assembleFont=function(){var a=this.attrs;a.font=xg(a)},s.prototype._setText=function(a){var u=null;Yt(a)&&-1!==a.indexOf("\n")&&(u=a.split("\n")),this.set("textArr",u)},s.prototype.onAttrChange=function(a,u,h){o.prototype.onAttrChange.call(this,a,u,h),a.startsWith("font")&&this._assembleFont(),"text"===a&&this._setText(u)},s.prototype._getSpaceingY=function(){var a=this.attrs,u=a.lineHeight,h=1*a.fontSize;return u?u-h:.14*h},s.prototype._drawTextArr=function(a,u,h){var O,v=this.attrs,g=v.textBaseline,y=v.x,w=v.y,M=1*v.fontSize,A=this._getSpaceingY(),L=W2(v.text,v.fontSize,v.lineHeight);Dt(u,function(D,k){O=w+k*(A+M)-L+M,"middle"===g&&(O+=L-M-(L-M)/2),"top"===g&&(O+=L-M),se(D)||(h?a.fillText(D,y,O):a.strokeText(D,y,O))})},s.prototype._drawText=function(a,u){var h=this.attr(),v=h.x,g=h.y,y=this.get("textArr");if(y)this._drawTextArr(a,y,u);else{var w=h.text;se(w)||(u?a.fillText(w,v,g):a.strokeText(w,v,g))}},s.prototype.strokeAndFill=function(a){var u=this.attrs,h=u.lineWidth,v=u.opacity,g=u.strokeOpacity,y=u.fillOpacity;this.isStroke()&&h>0&&(!se(g)&&1!==g&&(a.globalAlpha=v),this.stroke(a)),this.isFill()&&(se(y)||1===y?this.fill(a):(a.globalAlpha=y,this.fill(a),a.globalAlpha=v)),this.afterDrawPath(a)},s.prototype.fill=function(a){this._drawText(a,!0)},s.prototype.stroke=function(a){this._drawText(a,!1)},s}(Ro),lk=sk;function t3(o,s,a){var u=o.getTotalMatrix();if(u){var h=function uk(o,s){return s?rs(Tv(s),o):o}([s,a,1],u);return[h[0],h[1]]}return[s,a]}function Dg(o,s,a){if(o.isCanvas&&o.isCanvas())return!0;if(!xn(o)||!1===o.cfg.isInView)return!1;if(o.cfg.clipShape){var u=t3(o,s,a);if(o.isClipped(u[0],u[1]))return!1}var g=o.cfg.cacheCanvasBBox||o.getCanvasBBox();return s>=g.minX&&s<=g.maxX&&a>=g.minY&&a<=g.maxY}function dC(o,s,a){if(!Dg(o,s,a))return null;for(var u=null,h=o.getChildren(),g=h.length-1;g>=0;g--){var y=h[g];if(y.isGroup())u=dC(y,s,a);else if(Dg(y,s,a)){var w=y,M=t3(y,s,a);w.isInShape(M[0],M[1])&&(u=y)}if(u)break}return u}var cs,e3=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return ve(s,o),s.prototype.getDefaultCfg=function(){var a=o.prototype.getDefaultCfg.call(this);return a.renderer="canvas",a.autoDraw=!0,a.localRefresh=!0,a.refreshElements=[],a.clipView=!0,a.quickHit=!1,a},s.prototype.onCanvasChange=function(a){("attr"===a||"sort"===a||"changeSize"===a)&&(this.set("refreshElements",[this]),this.draw())},s.prototype.getShapeBase=function(){return ae},s.prototype.getGroupBase=function(){return ls},s.prototype.getPixelRatio=function(){var a=this.get("pixelRatio")||function YP(){return window?window.devicePixelRatio:1}();return a>=1?Math.ceil(a):1},s.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},s.prototype.createDom=function(){var a=document.createElement("canvas"),u=a.getContext("2d");return this.set("context",u),a},s.prototype.setDOMSize=function(a,u){o.prototype.setDOMSize.call(this,a,u);var h=this.get("context"),v=this.get("el"),g=this.getPixelRatio();v.width=g*a,v.height=g*u,g>1&&h.scale(g,g)},s.prototype.clear=function(){o.prototype.clear.call(this),this._clearFrame();var a=this.get("context"),u=this.get("el");a.clearRect(0,0,u.width,u.height)},s.prototype.getShape=function(a,u){return this.get("quickHit")?dC(this,a,u):o.prototype.getShape.call(this,a,u,null)},s.prototype._getRefreshRegion=function(){var h,a=this.get("refreshElements"),u=this.getViewRange();return a.length&&a[0]===this?h=u:(h=function Oo(o){if(!o.length)return null;var s=[],a=[],u=[],h=[];return Dt(o,function(v){var g=function vd(o){var s;if(o.destroyed)s=o._cacheCanvasBBox;else{var a=o.get("cacheCanvasBBox"),u=a&&!(!a.width||!a.height),h=o.getCanvasBBox(),v=h&&!(!h.width||!h.height);u&&v?s=function WP(o,s){return o&&s?{minX:Math.min(o.minX,s.minX),minY:Math.min(o.minY,s.minY),maxX:Math.max(o.maxX,s.maxX),maxY:Math.max(o.maxY,s.maxY)}:o||s}(a,h):u?s=a:v&&(s=h)}return s}(v);g&&(s.push(g.minX),a.push(g.minY),u.push(g.maxX),h.push(g.maxY))}),{minX:dt(s),minY:dt(a),maxX:ut(u),maxY:ut(h)}}(a),h&&(h.minX=Math.floor(h.minX),h.minY=Math.floor(h.minY),h.maxX=Math.ceil(h.maxX),h.maxY=Math.ceil(h.maxY),h.maxY+=1,this.get("clipView")&&(h=function XP(o,s){return o&&s&&od(o,s)?{minX:Math.max(o.minX,s.minX),minY:Math.max(o.minY,s.minY),maxX:Math.min(o.maxX,s.maxX),maxY:Math.min(o.maxY,s.maxY)}:null}(h,u)))),h},s.prototype.refreshElement=function(a){this.get("refreshElements").push(a)},s.prototype._clearFrame=function(){var a=this.get("drawFrame");a&&(function Ht(o){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(o)}(a),this.set("drawFrame",null),this.set("refreshElements",[]))},s.prototype.draw=function(){var a=this.get("drawFrame");this.get("autoDraw")&&a||this._startDraw()},s.prototype._drawAll=function(){var a=this.get("context"),u=this.get("el"),h=this.getChildren();a.clearRect(0,0,u.width,u.height),ec(a,this),Lg(a,h),this.set("refreshElements",[])},s.prototype._drawRegion=function(){var a=this.get("context"),u=this.get("refreshElements"),h=this.getChildren(),v=this._getRefreshRegion();v?(a.clearRect(v.minX,v.minY,v.maxX-v.minX,v.maxY-v.minY),a.save(),a.beginPath(),a.rect(v.minX,v.minY,v.maxX-v.minX,v.maxY-v.minY),a.clip(),ec(a,this),$E(this,h,v),Lg(a,h,v),a.restore()):u.length&&zh(u),Dt(u,function(g){g.get("hasChanged")&&g.set("hasChanged",!1)}),this.set("refreshElements",[])},s.prototype._startDraw=function(){var a=this,u=this.get("drawFrame");u||(u=function Rt(o){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,16)})(o)}(function(){a.get("localRefresh")?a._drawRegion():a._drawAll(),a.set("drawFrame",null)}),this.set("drawFrame",u))},s.prototype.skipDraw=function(){},s.prototype.removeDom=function(){var a=this.get("el");a.width=0,a.height=0,a.parentNode.removeChild(a)},s}(E2),wi=(()=>(function(o){o.MOUSE_DOWN="mousedown",o.MOUSE_MOVE="mousemove",o.MOUSE_OUT="mouseout",o.MOUSE_LEAVE="mouseleave",o.MOUSE_UP="mouseup",o.KEY_DOWN="keydown",o.KEY_UP="keyup",o.CLICK="click",o.HOVER="hover",o.DOUBLE_CLICK="dblclick",o.CONTEXT_MENU="contextmenu"}(wi||(wi={})),wi))(),_e=(()=>(function(o){o.ROW_CELL_HOVER="row-cell:hover",o.ROW_CELL_CLICK="row-cell:click",o.ROW_CELL_DOUBLE_CLICK="row-cell:double-click",o.ROW_CELL_CONTEXT_MENU="row-cell:context-menu",o.ROW_CELL_MOUSE_DOWN="row-cell:mouse-down",o.ROW_CELL_MOUSE_UP="row-cell:mouse-up",o.ROW_CELL_MOUSE_MOVE="row-cell:mouse-move",o.ROW_CELL_COLLAPSE_TREE_ROWS="row-cell:collapsed-tree-rows",o.ROW_CELL_SCROLL="row-cell:scroll",o.ROW_CELL_BRUSH_SELECTION="row-cell:brush-selection",o.COL_CELL_HOVER="col-cell:hover",o.COL_CELL_CLICK="col-cell:click",o.COL_CELL_DOUBLE_CLICK="col-cell:double-click",o.COL_CELL_CONTEXT_MENU="col-cell:context-menu",o.COL_CELL_MOUSE_DOWN="col-cell:mouse-down",o.COL_CELL_MOUSE_UP="col-cell:mouse-up",o.COL_CELL_MOUSE_MOVE="col-cell:mouse-move",o.COL_CELL_BRUSH_SELECTION="col-cell:brush-selection",o.DATA_CELL_HOVER="data-cell:hover",o.DATA_CELL_CLICK="data-cell:click",o.DATA_CELL_DOUBLE_CLICK="data-cell:double-click",o.DATA_CELL_CONTEXT_MENU="data-cell:context-menu",o.DATA_CELL_MOUSE_UP="data-cell:mouse-up",o.DATA_CELL_MOUSE_DOWN="data-cell:mouse-down",o.DATA_CELL_MOUSE_MOVE="data-cell:mouse-move",o.DATA_CELL_TREND_ICON_CLICK="data-cell:trend-icon-click",o.DATA_CELL_BRUSH_SELECTION="data-cell:brush-selection",o.DATA_CELL_SELECT_MOVE="data-cell:select-move",o.CORNER_CELL_HOVER="corner-cell:hover",o.CORNER_CELL_CLICK="corner-cell:click",o.CORNER_CELL_DOUBLE_CLICK="corner-cell:double-click",o.CORNER_CELL_CONTEXT_MENU="corner-cell:context-menu",o.CORNER_CELL_MOUSE_DOWN="corner-cell:mouse-down",o.CORNER_CELL_MOUSE_UP="corner-cell:mouse-up",o.CORNER_CELL_MOUSE_MOVE="corner-cell:mouse-move",o.MERGED_CELLS_HOVER="merged-cells:hover",o.MERGED_CELLS_CLICK="merged-cells:click",o.MERGED_CELLS_DOUBLE_CLICK="merged-cells:double-click",o.MERGED_CELLS_CONTEXT_MENU="merged-cell:context-menu",o.MERGED_CELLS_MOUSE_DOWN="merged-cells:mouse-down",o.MERGED_CELLS_MOUSE_UP="merged-cells:mouse-up",o.MERGED_CELLS_MOUSE_MOVE="merged-cells:mouse-move",o.RANGE_SORT="sort:range-sort",o.RANGE_SORTED="sort:range-sorted",o.RANGE_FILTER="filter:range-filter",o.RANGE_FILTERED="filter:range-filtered",o.LAYOUT_AFTER_HEADER_LAYOUT="layout:after-header-layout",o.LAYOUT_CELL_SCROLL="layout:cell-scroll",o.LAYOUT_PAGINATION="layout:pagination",o.LAYOUT_COLLAPSE_ROWS="layout:collapsed-rows",o.LAYOUT_AFTER_COLLAPSE_ROWS="layout:after-collapsed-rows",o.LAYOUT_AFTER_REAL_DATA_CELL_RENDER="layout:after-real-data-cell-render",o.LAYOUT_TREE_ROWS_COLLAPSE_ALL="layout:toggle-collapse-all",o.LAYOUT_COLS_EXPANDED="layout:table-col-expanded",o.LAYOUT_COLS_HIDDEN="layout:table-col-hidden",o.LAYOUT_AFTER_RENDER="layout:after-render",o.LAYOUT_BEFORE_RENDER="layout:before-render",o.LAYOUT_DESTROY="layout:destroy",o.LAYOUT_RESIZE="layout:resize",o.LAYOUT_RESIZE_SERIES_WIDTH="layout:resize-series-width",o.LAYOUT_RESIZE_ROW_WIDTH="layout:resize-row-width",o.LAYOUT_RESIZE_ROW_HEIGHT="layout:resize-row-height",o.LAYOUT_RESIZE_COL_WIDTH="layout:resize-column-width",o.LAYOUT_RESIZE_COL_HEIGHT="layout:resize-column-height",o.LAYOUT_RESIZE_TREE_WIDTH="layout:resize-tree-width",o.LAYOUT_RESIZE_MOUSE_DOWN="layout:resize:mouse-down",o.LAYOUT_RESIZE_MOUSE_MOVE="layout:resize:mouse-move",o.LAYOUT_RESIZE_MOUSE_UP="layout:resize-mouse-up",o.GLOBAL_KEYBOARD_DOWN="global:keyboard-down",o.GLOBAL_KEYBOARD_UP="global:keyboard-up",o.GLOBAL_COPIED="global:copied",o.GLOBAL_MOUSE_UP="global:mouse-up",o.GLOBAL_MOUSE_MOVE="global:mouse-move",o.GLOBAL_ACTION_ICON_CLICK="global:action-icon-click",o.GLOBAL_ACTION_ICON_HOVER="global:action-icon-hover",o.GLOBAL_ACTION_ICON_HOVER_OFF="global:action-icon-hover-off",o.GLOBAL_CONTEXT_MENU="global:context-menu",o.GLOBAL_CLICK="global:click",o.GLOBAL_DOUBLE_CLICK="global:double-click",o.GLOBAL_SELECTED="global:selected",o.GLOBAL_HOVER="global:hover",o.GLOBAL_RESET="global:reset",o.GLOBAL_LINK_FIELD_JUMP="global:link-field-jump",o.GLOBAL_SCROLL="global:scroll"}(_e||(_e={})),_e))(),no="$$value$$",Jr="$$extra$$",ck="$$extra_column$$",pC="$$total$$",rc="$$series_number$$",r3=3,Bg=4,zg="mergedCellsGroup",u3="frozenRowGroup",yC="frozenColGroup",Vs="frozenTrailingRowGroup",c3="frozenTrailingColGroup",h3="frozenTopGroup",f3="frozenBottomGroup",nc="rowResizeAreaGroup",mC="rowFrozenResizeAreaGroup",xC="frozenSplitLine",CC="rowIndexResizeAreaGroup",Ng="cornerResizeAreaGroup",wC="colResizeAreaGroup",_C="colFrozenResizeAreaGroup",d3="colScrollGroup",Fo="colFrozenGroup",p3="colFrozenTrailingGroup",yd="gridGroup",Wh="horizontal-resize-area-",Na="root",_i="[&]",$s=(()=>(function(o){o.Line="line",o.Bar="bar",o.Bullet="bullet"}($s||($s={})),$s))(),Wg="square",Si="...",Uh="valueRanges",xd={},Ug="#000000",Cd="#FFFFFF",MC={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]},Hn=(()=>(function(o){o.ROW="row",o.COL="col",o.TRAILING_ROW="trailingRow",o.TRAILING_COL="trailingCol",o.SCROLL="scroll",o.TOP="top",o.BOTTOM="bottom"}(Hn||(Hn={})),Hn))(),Sa=(()=>(function(o){o.FROZEN_COL="frozenCol",o.FROZEN_ROW="frozenRow",o.FROZEN_TRAILING_COL="frozenTrailingCol",o.FROZEN_TRAILING_ROW="frozenTrailingRow"}(Sa||(Sa={})),Sa))(),Xg=((cs={})[Hn.ROW]="frozenRowGroup",cs[Hn.COL]="frozenColGroup",cs[Hn.TRAILING_COL]="frozenTrailingColGroup",cs[Hn.TRAILING_ROW]="frozenTrailingRowGroup",cs[Hn.SCROLL]="panelScrollGroup",cs[Hn.TOP]="frozenTopGroup",cs[Hn.BOTTOM]="frozenBottomGroup",cs),Ri=(()=>(function(o){o.CORNER_CELL_CLICK="cornerCellClick",o.DATA_CELL_CLICK="dataCellClick",o.MERGED_CELLS_CLICK="mergedCellsClick",o.ROW_COLUMN_CLICK="rowColumnClick",o.ROW_TEXT_CLICK="rowTextClick",o.HOVER="hover",o.BRUSH_SELECTION="brushSelection",o.ROW_BRUSH_SELECTION="rowBrushSelection",o.COL_BRUSH_SELECTION="colBrushSelection",o.COL_ROW_RESIZE="rowColResize",o.DATA_CELL_MULTI_SELECTION="dataCellMultiSelection",o.RANGE_SELECTION="rangeSelection",o.SELECTED_CELL_MOVE="selectedCellMove"}(Ri||(Ri={})),Ri))(),pr=(()=>(function(o){o.ALL_SELECTED="allSelected",o.SELECTED="selected",o.UNSELECTED="unselected",o.HOVER="hover",o.HOVER_FOCUS="hoverFocus",o.HIGHLIGHT="highlight",o.SEARCH_RESULT="searchResult",o.PREPARE_SELECT="prepareSelect"}(pr||(pr={})),pr))(),Ue=(()=>(function(o){o.DATA_CELL="dataCell",o.HEADER_CELL="headerCell",o.ROW_CELL="rowCell",o.COL_CELL="colCell",o.CORNER_CELL="cornerCell",o.MERGED_CELL="mergedCell"}(Ue||(Ue={})),Ue))(),oa={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},TC={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},oc="interactionStateInfo",In=(()=>(function(o){o.CLICK="click",o.UN_DRAGGED="unDragged",o.DRAGGED="dragged"}(In||(In={})),In))(),Vn=(()=>(function(o){o.SHIFT="Shift",o.COPY="c",o.ESC="Escape",o.META="Meta",o.CONTROL="Control",o.ARROW_UP="ArrowUp",o.ARROW_DOWN="ArrowDown",o.ARROW_LEFT="ArrowLeft",o.ARROW_RIGHT="ArrowRight"}(Vn||(Vn={})),Vn))(),Lr=(()=>(function(o){o.HOVER="hover",o.CLICK="click",o.BRUSH_SELECTION="brushSelection",o.ROW_BRUSH_SELECTION="rowBrushSelection",o.COL_BRUSH_SELECTION="colBrushSelection",o.MULTI_SELECTION="multiSelection",o.RESIZE="resize"}(Lr||(Lr={})),Lr))(),lc={x:{value:0,scroll:!1},y:{value:0,scroll:!1}},uc=(()=>(function(o){o.CONTENT="content",o.CANVAS="canvas"}(uc||(uc={})),uc))(),si=(()=>(function(o){o.SCROLL_UP="scrollUp",o.SCROLL_DOWN="scrollDown"}(si||(si={})),si))(),Xh=(()=>(function(o){o[o.SCROLL_UP=-1]="SCROLL_UP",o[o.SCROLL_DOWN=1]="SCROLL_DOWN"}(Xh||(Xh={})),Xh))(),Ni=(()=>(function(o){o.Horizontal="col",o.Vertical="row"}(Ni||(Ni={})),Ni))(),Hi=(()=>(function(o){o.Field="field",o.Cell="cell",o.Tree="tree",o.Series="series"}(Hi||(Hi={})),Hi))(),Zs=(()=>(function(o){o.ALL="all",o.CURRENT="current"}(Zs||(Zs={})),Zs))(),hs=1,li=(()=>(function(o){o.Adaptive="adaptive",o.ColAdaptive="colAdaptive",o.Compact="compact"}(li||(li={})),li))(),dk={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:800},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:uc.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:Zs.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:{layoutWidthType:li.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:"-",supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},$g=function(o,s){return($g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])})(o,s)};function Ir(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=o}$g(o,s),o.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}var ue=function(){return ue=Object.assign||function(s){for(var a,u=1,h=arguments.length;u<h;u++)for(var v in a=arguments[u])Object.prototype.hasOwnProperty.call(a,v)&&(s[v]=a[v]);return s},ue.apply(this,arguments)};function Zg(o,s){var a={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.indexOf(u)<0&&(a[u]=o[u]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(u=Object.getOwnPropertySymbols(o);h<u.length;h++)s.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(o,u[h])&&(a[u[h]]=o[u[h]])}return a}function Ma(o){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&o[s],u=0;if(a)return a.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&u>=o.length&&(o=void 0),{value:o&&o[u++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(o,s){var a="function"==typeof Symbol&&o[Symbol.iterator];if(!a)return o;var h,g,u=a.call(o),v=[];try{for(;(void 0===s||s-- >0)&&!(h=u.next()).done;)v.push(h.value)}catch(y){g={error:y}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(g)throw g.error}}return v}function Be(o,s,a){if(a||2===arguments.length)for(var v,u=0,h=s.length;u<h;u++)(v||!(u in s))&&(v||(v=Array.prototype.slice.call(s,0,u)),v[u]=s[u]);return o.concat(v||Array.prototype.slice.call(s))}var LC="object"==typeof global&&global&&global.Object===Object&&global,T3="object"==typeof self&&self&&self.Object===Object&&self,ni=LC||T3||Function("return this")(),Gi=ni.Symbol,OC=Object.prototype,RC=OC.hasOwnProperty,b3=OC.toString,ql=Gi?Gi.toStringTag:void 0,BC=Object.prototype.toString,E3="[object Null]",wd="[object Undefined]",qg=Gi?Gi.toStringTag:void 0;function Fi(o){return null==o?void 0===o?wd:E3:qg&&qg in Object(o)?function FC(o){var s=RC.call(o,ql),a=o[ql];try{o[ql]=void 0;var u=!0}catch{}var h=b3.call(o);return u&&(s?o[ql]=a:delete o[ql]),h}(o):function A3(o){return BC.call(o)}(o)}function Gn(o){return null!=o&&"object"==typeof o}var L3="[object Symbol]";function ui(o){return"symbol"==typeof o||Gn(o)&&Fi(o)==L3}var I3=NaN;function O3(o){return"number"==typeof o?o:ui(o)?I3:+o}function kn(o,s){for(var a=-1,u=null==o?0:o.length,h=Array(u);++a<u;)h[a]=s(o[a],a,o);return h}var Mr=Array.isArray,F3=1/0,PC=Gi?Gi.prototype:void 0,kC=PC?PC.toString:void 0;function Ta(o){if("string"==typeof o)return o;if(Mr(o))return kn(o,Ta)+"";if(ui(o))return kC?kC.call(o):"";var s=o+"";return"0"==s&&1/o==-F3?"-0":s}function _d(o,s){return function(a,u){var h;if(void 0===a&&void 0===u)return s;if(void 0!==a&&(h=a),void 0!==u){if(void 0===h)return u;"string"==typeof a||"string"==typeof u?(a=Ta(a),u=Ta(u)):(a=O3(a),u=O3(u)),h=o(a,u)}return h}}var D3=_d(function(o,s){return o+s},0),B3=D3,P3=/\s/;function zC(o){for(var s=o.length;s--&&P3.test(o.charAt(s)););return s}var k3=/^\s+/;function Kg(o){return o&&o.slice(0,zC(o)+1).replace(k3,"")}function Cn(o){var s=typeof o;return null!=o&&("object"==s||"function"==s)}var NC=NaN,z3=/^[-+]0x[0-9a-f]+$/i,N3=/^0b[01]+$/i,H3=/^0o[0-7]+$/i,G3=parseInt;function Yi(o){if("number"==typeof o)return o;if(ui(o))return NC;if(Cn(o)){var s="function"==typeof o.valueOf?o.valueOf():o;o=Cn(s)?s+"":s}if("string"!=typeof o)return 0===o?o:+o;o=Kg(o);var a=N3.test(o);return a||H3.test(o)?G3(o.slice(2),a?2:8):z3.test(o)?NC:+o}var HC=1/0,Qg=17976931348623157e292;function fs(o){return o?(o=Yi(o))===HC||o===-HC?(o<0?-1:1)*Qg:o==o?o:0:0===o?o:0}function qr(o){var s=fs(o),a=s%1;return s==s?a?s-a:s:0}function Wi(o){return o}var U3="[object AsyncFunction]",GC="[object Function]",YC="[object GeneratorFunction]",Vh="[object Proxy]";function ci(o){if(!Cn(o))return!1;var s=Fi(o);return s==GC||s==YC||s==U3||s==Vh}var Jg=ni["__core-js_shared__"],V3=function(){var o=/[^.]+$/.exec(Jg&&Jg.keys&&Jg.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),yk=Function.prototype.toString;function cc(o){if(null!=o){try{return yk.call(o)}catch{}try{return o+""}catch{}}return""}var xk=/^\[object .+?Constructor\]$/,Mk=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $3(o){return!(!Cn(o)||function pk(o){return!!V3&&V3 in o}(o))&&(ci(o)?Mk:xk).test(cc(o))}function hc(o,s){var a=function Tk(o,s){return o?.[s]}(o,s);return $3(a)?a:void 0}var Sd=hc(ni,"WeakMap"),jg=Sd&&new Sd,Ek=jg?function(o,s){return jg.set(o,s),o}:Wi,Z3=Ek,WC=Object.create,Lk=function(){function o(){}return function(s){if(!Cn(s))return{};if(WC)return WC(s);o.prototype=s;var a=new o;return o.prototype=void 0,a}}(),$h=Lk;function Md(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var a=$h(o.prototype),u=o.apply(a,s);return Cn(u)?u:a}}var Ik=1;function Ha(o,s,a){switch(a.length){case 0:return o.call(s);case 1:return o.call(s,a[0]);case 2:return o.call(s,a[0],a[1]);case 3:return o.call(s,a[0],a[1],a[2])}return o.apply(s,a)}var Zh=Math.max;function q3(o,s,a,u){for(var h=-1,v=o.length,g=a.length,y=-1,w=s.length,M=Zh(v-g,0),A=Array(w+M),L=!u;++y<w;)A[y]=s[y];for(;++h<g;)(L||h<v)&&(A[a[h]]=o[h]);for(;M--;)A[y++]=o[h++];return A}var Rk=Math.max;function K3(o,s,a,u){for(var h=-1,v=o.length,g=-1,y=a.length,w=-1,M=s.length,A=Rk(v-y,0),L=Array(A+M),O=!u;++h<A;)L[h]=o[h];for(var D=h;++w<M;)L[D+w]=s[w];for(;++g<y;)(O||h<v)&&(L[D+a[g]]=o[h++]);return L}function ty(){}var Dk=4294967295;function on(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dk,this.__views__=[]}function ey(){}(on.prototype=$h(ty.prototype)).constructor=on;var Bk=jg?function(o){return jg.get(o)}:ey,UC=Bk,qh={},zk=Object.prototype.hasOwnProperty;function ry(o){for(var s=o.name+"",a=qh[s],u=zk.call(qh,s)?a.length:0;u--;){var h=a[u],v=h.func;if(null==v||v==o)return h.name}return s}function io(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=void 0}function ba(o,s){var a=-1,u=o.length;for(s||(s=Array(u));++a<u;)s[a]=o[a];return s}function XC(o){if(o instanceof on)return o.clone();var s=new io(o.__wrapped__,o.__chain__);return s.__actions__=ba(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}(io.prototype=$h(ty.prototype)).constructor=io;var ny=Object.prototype.hasOwnProperty;function xt(o){if(Gn(o)&&!Mr(o)&&!(o instanceof on)){if(o instanceof io)return o;if(ny.call(o,"__wrapped__"))return XC(o)}return new io(o)}function Td(o){var s=ry(o),a=xt[s];if("function"!=typeof a||!(s in on.prototype))return!1;if(o===a)return!0;var u=UC(a);return!!u&&o===u[0]}(xt.prototype=ty.prototype).constructor=xt;var Tr=800,J3=16,j3=Date.now;function VC(o){var s=0,a=0;return function(){var u=j3(),h=J3-(u-a);if(a=u,h>0){if(++s>=Tr)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}var iy=VC(Z3),e6=/\{\n\/\* \[wrapped with (.+)\] \*/,bd=/,? & /,r6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Bo(o){return function(){return o}}var $C=function(){try{var o=hc(Object,"defineProperty");return o({},"",{}),o}catch{}}(),Kl=$C,ZC=Kl?function(o,s){return Kl(o,"toString",{configurable:!0,enumerable:!1,value:Bo(s),writable:!0})}:Wi,Ed=VC(ZC);function Aa(o,s){for(var a=-1,u=null==o?0:o.length;++a<u&&!1!==s(o[a],a,o););return o}function Ld(o,s,a,u){for(var h=o.length,v=a+(u?1:-1);u?v--:++v<h;)if(s(o[v],v,o))return v;return-1}function KC(o){return o!=o}function Ql(o,s,a){return s==s?function QC(o,s,a){for(var u=a-1,h=o.length;++u<h;)if(o[u]===s)return u;return-1}(o,s,a):Ld(o,KC,a)}function Id(o,s){return!(null==o||!o.length)&&Ql(o,s,0)>-1}var Nk=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function tw(o,s,a){var u=s+"";return Ed(o,function n6(o,s){var a=s.length;if(!a)return o;var u=a-1;return s[u]=(a>1?"& ":"")+s[u],s=s.join(a>2?", ":" "),o.replace(r6,"{\n/* [wrapped with "+s+"] */\n")}(u,function u6(o,s){return Aa(Nk,function(a){var u="_."+a[0];s&a[1]&&!Id(o,u)&&o.push(u)}),o.sort()}(function Kh(o){var s=o.match(e6);return s?s[1].split(bd):[]}(u),a)))}var c6=1,Hk=2,h6=4,f6=8,ew=32,rw=64;function Od(o,s,a,u,h,v,g,y,w,M){var A=s&f6;s|=A?ew:rw,(s&=~(A?rw:ew))&h6||(s&=~(c6|Hk));var X=[o,s,h,A?v:void 0,A?g:void 0,A?void 0:v,A?void 0:g,y,w,M],tt=a.apply(void 0,X);return Td(o)&&iy(tt,X),tt.placeholder=u,tw(tt,o,s)}function Jl(o){return o.placeholder}var nw=9007199254740991,v6=/^(?:0|[1-9]\d*)$/;function Po(o,s){var a=typeof o;return!!(s=s??nw)&&("number"==a||"symbol"!=a&&v6.test(o))&&o>-1&&o%1==0&&o<s}var iw=Math.min,oy="__lodash_placeholder__";function vs(o,s){for(var a=-1,u=o.length,h=0,v=[];++a<u;){var g=o[a];(g===s||g===oy)&&(o[a]=oy,v[h++]=a)}return v}var d6=1,ow=2,sw=8,fc=16,p6=128,Qh=512;function vc(o,s,a,u,h,v,g,y,w,M){var A=s&p6,L=s&d6,O=s&ow,D=s&(sw|fc),k=s&Qh,X=O?void 0:Md(o);return function tt(){for(var ot=arguments.length,ft=Array(ot),ht=ot;ht--;)ft[ht]=arguments[ht];if(D)var pt=Jl(tt),Wt=function Fk(o,s){for(var a=o.length,u=0;a--;)o[a]===s&&++u;return u}(ft,pt);if(u&&(ft=q3(ft,u,h,D)),v&&(ft=K3(ft,v,g,D)),ot-=Wt,D&&ot<M){var de=vs(ft,pt);return Od(o,s,vc,tt.placeholder,a,ft,de,y,w,M-ot)}var pe=L?a:this,Me=O?pe[o]:o;return ot=ft.length,y?ft=function aw(o,s){for(var a=o.length,u=iw(s.length,a),h=ba(o);u--;){var v=s[u];o[u]=Po(v,a)?h[v]:void 0}return o}(ft,y):k&&ot>1&&ft.reverse(),A&&w<ot&&(ft.length=w),this&&this!==ni&&this instanceof tt&&(Me=X||Md(Me)),Me.apply(pe,ft)}}var y6=1,lw="__lodash_placeholder__",sy=1,x6=2,C6=4,uw=8,Jh=128,ly=256,cw=Math.min,hw="Expected a function",cy=1,Gk=2,hy=8,fy=16,vy=32,dy=64,py=Math.max;function ds(o,s,a,u,h,v,g,y){var w=s&Gk;if(!w&&"function"!=typeof o)throw new TypeError(hw);var M=u?u.length:0;if(M||(s&=~(vy|dy),u=h=void 0),g=void 0===g?g:py(qr(g),0),y=void 0===y?y:qr(y),M-=h?h.length:0,s&dy){var A=u,L=h;u=h=void 0}var O=w?void 0:UC(o),D=[o,s,a,u,h,A,L,v,g,y];if(O&&function uy(o,s){var a=o[1],u=s[1],h=a|u;if(!(h<(sy|x6|Jh)||u==Jh&&a==uw||u==Jh&&a==ly&&o[7].length<=s[8]||u==(Jh|ly)&&s[7].length<=s[8]&&a==uw))return o;u&sy&&(o[2]=s[2],h|=a&sy?0:C6);var y=s[3];if(y){var w=o[3];o[3]=w?q3(w,y,s[4]):y,o[4]=w?vs(o[3],lw):s[4]}(y=s[5])&&(o[5]=(w=o[5])?K3(w,y,s[6]):y,o[6]=w?vs(o[5],lw):s[6]),(y=s[7])&&(o[7]=y),u&Jh&&(o[8]=null==o[8]?s[8]:cw(o[8],s[8])),null==o[9]&&(o[9]=s[9]),o[0]=s[0],o[1]=h}(D,O),o=D[0],s=D[1],a=D[2],u=D[3],h=D[4],!(y=D[9]=void 0===D[9]?w?0:o.length:py(D[9]-M,0))&&s&(hy|fy)&&(s&=~(hy|fy)),s&&s!=cy)k=s==hy||s==fy?function g6(o,s,a){var u=Md(o);return function h(){for(var v=arguments.length,g=Array(v),y=v,w=Jl(h);y--;)g[y]=arguments[y];var M=v<3&&g[0]!==w&&g[v-1]!==w?[]:vs(g,w);return(v-=M.length)<a?Od(o,s,vc,h.placeholder,void 0,g,M,void 0,void 0,a-v):Ha(this&&this!==ni&&this instanceof h?u:o,this,g)}}(o,s,y):s!=vy&&s!=(cy|vy)||h.length?vc.apply(void 0,D):function m6(o,s,a,u){var h=s&y6,v=Md(o);return function g(){for(var y=-1,w=arguments.length,M=-1,A=u.length,L=Array(A+w),O=this&&this!==ni&&this instanceof g?v:o;++M<A;)L[M]=u[M];for(;w--;)L[M++]=arguments[++y];return Ha(O,h?a:this,L)}}(o,s,a,u);else var k=function Ok(o,s,a){var u=s&Ik,h=Md(o);return function v(){return(this&&this!==ni&&this instanceof v?h:o).apply(u?a:this,arguments)}}(o,s,a);return tw((O?Z3:iy)(k,D),o,s)}var w6=128;function Rd(o,s,a){return s=a?void 0:s,ds(o,w6,void 0,void 0,void 0,void 0,s=o&&null==s?o.length:s)}function ko(o,s,a){"__proto__"==s&&Kl?Kl(o,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):o[s]=a}function ao(o,s){return o===s||o!=o&&s!=s}var _6=Object.prototype.hasOwnProperty;function dc(o,s,a){var u=o[s];(!_6.call(o,s)||!ao(u,a)||void 0===a&&!(s in o))&&ko(o,s,a)}function oo(o,s,a,u){var h=!a;a||(a={});for(var v=-1,g=s.length;++v<g;){var y=s[v],w=u?u(a[y],o[y],y,a,o):void 0;void 0===w&&(w=o[y]),h?ko(a,y,w):dc(a,y,w)}return a}var gy=Math.max;function S6(o,s,a){return s=gy(void 0===s?o.length-1:s,0),function(){for(var u=arguments,h=-1,v=gy(u.length-s,0),g=Array(v);++h<v;)g[h]=u[s+h];h=-1;for(var y=Array(s+1);++h<s;)y[h]=u[h];return y[s]=a(g),Ha(o,this,y)}}function jr(o,s){return Ed(S6(o,s,Wi),o+"")}var fw=9007199254740991;function jh(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=fw}function sa(o){return null!=o&&jh(o.length)&&!ci(o)}function Ui(o,s,a){if(!Cn(a))return!1;var u=typeof s;return!!("number"==u?sa(a)&&Po(s,a.length):"string"==u&&s in a)&&ao(a[s],o)}function pc(o){return jr(function(s,a){var u=-1,h=a.length,v=h>1?a[h-1]:void 0,g=h>2?a[2]:void 0;for(v=o.length>3&&"function"==typeof v?(h--,v):void 0,g&&Ui(a[0],a[1],g)&&(v=h<3?void 0:v,h=1),s=Object(s);++u<h;){var y=a[u];y&&o(s,y,u,v)}return s})}var yy=Object.prototype;function tf(o){var s=o&&o.constructor;return o===("function"==typeof s&&s.prototype||yy)}function ef(o,s){for(var a=-1,u=Array(o);++a<o;)u[a]=s(a);return u}var my="[object Arguments]";function vw(o){return Gn(o)&&Fi(o)==my}var dw=Object.prototype,M6=dw.hasOwnProperty,Fd=dw.propertyIsEnumerable,pw=vw(function(){return arguments}())?vw:function(o){return Gn(o)&&M6.call(o,"callee")&&!Fd.call(o,"callee")},jl=pw;function gw(){return!1}var yw="object"==typeof exports&&exports&&!exports.nodeType&&exports,mw=yw&&rr&&!rr.nodeType&&rr,Cw=mw&&mw.exports===yw?ni.Buffer:void 0,Ks=(Cw?Cw.isBuffer:void 0)||gw,On={};function Ea(o){return function(s){return o(s)}}On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Arguments]"]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object Boolean]"]=On["[object DataView]"]=On["[object Date]"]=On["[object Error]"]=On["[object Function]"]=On["[object Map]"]=On["[object Number]"]=On["[object Object]"]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object WeakMap]"]=!1;var Dd="object"==typeof exports&&exports&&!exports.nodeType&&exports,rf=Dd&&rr&&!rr.nodeType&&rr,xy=rf&&rf.exports===Dd&&LC.process,Ga=function(){try{return rf&&rf.require&&rf.require("util").types||xy&&xy.binding&&xy.binding("util")}catch{}}(),Iw=Ga&&Ga.isTypedArray,P6=Iw?Ea(Iw):function F6(o){return Gn(o)&&jh(o.length)&&!!On[Fi(o)]},ps=P6,z6=Object.prototype.hasOwnProperty;function Ow(o,s){var a=Mr(o),u=!a&&jl(o),h=!a&&!u&&Ks(o),v=!a&&!u&&!h&&ps(o),g=a||u||h||v,y=g?ef(o.length,String):[],w=y.length;for(var M in o)(s||z6.call(o,M))&&(!g||!("length"==M||h&&("offset"==M||"parent"==M)||v&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||Po(M,w)))&&y.push(M);return y}function N6(o,s){return function(a){return o(s(a))}}var Fw=N6(Object.keys,Object),Cy=Object.prototype.hasOwnProperty;function wy(o){if(!tf(o))return Fw(o);var s=[];for(var a in Object(o))Cy.call(o,a)&&"constructor"!=a&&s.push(a);return s}function vn(o){return sa(o)?Ow(o):wy(o)}var Dw=Object.prototype.hasOwnProperty,nf=pc(function(o,s){if(tf(s)||sa(s))oo(s,vn(s),o);else for(var a in s)Dw.call(s,a)&&dc(o,a,s[a])}),af=nf,of=Object.prototype.hasOwnProperty;function Mi(o){return sa(o)?Ow(o,!0):function G6(o){if(!Cn(o))return function _y(o){var s=[];if(null!=o)for(var a in Object(o))s.push(a);return s}(o);var s=tf(o),a=[];for(var u in o)"constructor"==u&&(s||!of.call(o,u))||a.push(u);return a}(o)}var eu=pc(function(o,s){oo(s,Mi(s),o)}),ru=eu,Y6=pc(function(o,s,a,u){oo(s,Mi(s),o,u)}),My=Y6,Bd=pc(function(o,s,a,u){oo(s,vn(s),o,u)}),W6=Bd,Qk=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bw=/^\w*$/;function Ty(o,s){if(Mr(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!ui(o))||Bw.test(o)||!Qk.test(o)||null!=s&&o in Object(s)}var gc=hc(Object,"create"),V6=Object.prototype.hasOwnProperty,Di=Object.prototype.hasOwnProperty;function au(o){var s=-1,a=null==o?0:o.length;for(this.clear();++s<a;){var u=o[s];this.set(u[0],u[1])}}function Pd(o,s){for(var a=o.length;a--;)if(ao(o[a][0],s))return a;return-1}au.prototype.clear=function U6(){this.__data__=gc?gc(null):{},this.size=0},au.prototype.delete=function X6(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s},au.prototype.get=function $6(o){var s=this.__data__;if(gc){var a=s[o];return"__lodash_hash_undefined__"===a?void 0:a}return V6.call(s,o)?s[o]:void 0},au.prototype.has=function by(o){var s=this.__data__;return gc?void 0!==s[o]:Di.call(s,o)},au.prototype.set=function iu(o,s){var a=this.__data__;return this.size+=this.has(o)?0:1,a[o]=gc&&void 0===s?"__lodash_hash_undefined__":s,this};var J6=Array.prototype.splice;function Ya(o){var s=-1,a=null==o?0:o.length;for(this.clear();++s<a;){var u=o[s];this.set(u[0],u[1])}}Ya.prototype.clear=function K6(){this.__data__=[],this.size=0},Ya.prototype.delete=function Ay(o){var s=this.__data__,a=Pd(s,o);return!(a<0||(a==s.length-1?s.pop():J6.call(s,a,1),--this.size,0))},Ya.prototype.get=function j6(o){var s=this.__data__,a=Pd(s,o);return a<0?void 0:s[a][1]},Ya.prototype.has=function Jk(o){return Pd(this.__data__,o)>-1},Ya.prototype.set=function sf(o,s){var a=this.__data__,u=Pd(a,o);return u<0?(++this.size,a.push([o,s])):a[u][1]=s,this};var lf=hc(ni,"Map");function kd(o,s){var a=o.__data__;return function e4(o){var s=typeof o;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==o:null===o}(s)?a["string"==typeof s?"string":"hash"]:a.map}function gs(o){var s=-1,a=null==o?0:o.length;for(this.clear();++s<a;){var u=o[s];this.set(u[0],u[1])}}gs.prototype.clear=function t4(){this.size=0,this.__data__={hash:new au,map:new(lf||Ya),string:new au}},gs.prototype.delete=function r4(o){var s=kd(this,o).delete(o);return this.size-=s?1:0,s},gs.prototype.get=function n4(o){return kd(this,o).get(o)},gs.prototype.has=function a4(o){return kd(this,o).has(o)},gs.prototype.set=function o4(o,s){var a=kd(this,o),u=a.size;return a.set(o,s),this.size+=a.size==u?0:1,this};var s4="Expected a function";function ou(o,s){if("function"!=typeof o||null!=s&&"function"!=typeof s)throw new TypeError(s4);var a=function(){var u=arguments,h=s?s.apply(this,u):u[0],v=a.cache;if(v.has(h))return v.get(h);var g=o.apply(this,u);return a.cache=v.set(h,g)||v,g};return a.cache=new(ou.Cache||gs),a}ou.Cache=gs;var c4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h4=/\\(\\)?/g,f4=function u4(o){var s=ou(o,function(u){return 500===a.size&&a.clear(),u}),a=s.cache;return s}(function(o){var s=[];return 46===o.charCodeAt(0)&&s.push(""),o.replace(c4,function(a,u,h,v){s.push(h?v.replace(h4,"$1"):u||a)}),s}),kw=f4;function yn(o){return null==o?"":Ta(o)}function Jn(o,s){return Mr(o)?o:Ty(o,s)?[o]:kw(yn(o))}var v4=1/0;function No(o){if("string"==typeof o||ui(o))return o;var s=o+"";return"0"==s&&1/o==-v4?"-0":s}function su(o,s){for(var a=0,u=(s=Jn(s,o)).length;null!=o&&a<u;)o=o[No(s[a++])];return a&&a==u?o:void 0}function yr(o,s,a){var u=null==o?void 0:su(o,s);return void 0===u?a:u}function ua(o,s){for(var a=-1,u=s.length,h=Array(u),v=null==o;++a<u;)h[a]=v?void 0:yr(o,s[a]);return h}function Wa(o,s){for(var a=-1,u=s.length,h=o.length;++a<u;)o[h+a]=s[a];return o}var Ho=Gi?Gi.isConcatSpreadable:void 0;function uf(o){return Mr(o)||jl(o)||!!(Ho&&o&&o[Ho])}function ii(o,s,a,u,h){var v=-1,g=o.length;for(a||(a=uf),h||(h=[]);++v<g;){var y=o[v];s>0&&a(y)?s>1?ii(y,s-1,a,u,h):Wa(h,y):u||(h[h.length]=y)}return h}function yc(o){return null!=o&&o.length?ii(o,1):[]}function Ua(o){return Ed(S6(o,void 0,yc),o+"")}var Ey=Ua(ua),zd=N6(Object.getPrototypeOf,Object),Iy="[object Object]",mc=Function.prototype.toString,g4=Object.prototype.hasOwnProperty,Nw=mc.call(Object);function lu(o){if(!Gn(o)||Fi(o)!=Iy)return!1;var s=zd(o);if(null===s)return!0;var a=g4.call(s,"constructor")&&s.constructor;return"function"==typeof a&&a instanceof a&&mc.call(a)==Nw}var y4="[object DOMException]",m4="[object Error]";function Nd(o){if(!Gn(o))return!1;var s=Fi(o);return s==m4||s==y4||"string"==typeof o.message&&"string"==typeof o.name&&!lu(o)}var x4=jr(function(o,s){try{return Ha(o,void 0,s)}catch(a){return Nd(a)?a:new Error(a)}}),Hw=x4,Gw="Expected a function";function Hd(o,s){var a;if("function"!=typeof s)throw new TypeError(Gw);return o=qr(o),function(){return--o>0&&(a=s.apply(this,arguments)),o<=1&&(s=void 0),a}}var Oy=jr(function(o,s,a){var u=1;if(a.length){var h=vs(a,Jl(Oy));u|=32}return ds(o,u,s,a,h)});Oy.placeholder={};var Ww=Oy,C4=Ua(function(o,s){return Aa(s,function(a){a=No(a),ko(o,a,Ww(o[a],o))}),o}),w4=C4,Gd=jr(function(o,s,a){var u=3;if(a.length){var h=vs(a,Jl(Gd));u|=32}return ds(s,u,o,a,h)});Gd.placeholder={};var M4=Gd;function La(o,s,a){var u=-1,h=o.length;s<0&&(s=-s>h?0:h+s),(a=a>h?h:a)<0&&(a+=h),h=s>a?0:a-s>>>0,s>>>=0;for(var v=Array(h);++u<h;)v[u]=o[u+s];return v}function Qs(o,s,a){var u=o.length;return a=void 0===a?u:a,!s&&a>=u?o:La(o,s,a)}var Xw=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function xc(o){return Xw.test(o)}var Cc="\\ud800-\\udfff",D4="["+Cc+"]",By="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Yd="\\ud83c[\\udffb-\\udfff]",Vw="[^"+Cc+"]",$w="(?:\\ud83c[\\udde6-\\uddff]){2}",Zw="[\\ud800-\\udbff][\\udc00-\\udfff]",qw="(?:"+By+"|"+Yd+")?",Py="[\\ufe0e\\ufe0f]?",Wd=Py+qw+"(?:\\u200d(?:"+[Vw,$w,Zw].join("|")+")"+Py+qw+")*",zy="(?:"+[Vw+By+"?",By,$w,Zw,D4].join("|")+")",Ny=RegExp(Yd+"(?="+Yd+")|"+zy+Wd,"g");function so(o){return xc(o)?function Kw(o){return o.match(Ny)||[]}(o):function O4(o){return o.split("")}(o)}function Qw(o){return function(s){var a=xc(s=yn(s))?so(s):void 0,u=a?a[0]:s.charAt(0),h=a?Qs(a,1).join(""):s.slice(1);return u[o]()+h}}var Ud=Qw("toUpperCase");function Jw(o){return Ud(yn(o).toLowerCase())}function Hy(o,s,a,u){var h=-1,v=null==o?0:o.length;for(u&&v&&(a=o[++h]);++h<v;)a=s(a,o[h],h,o);return a}function Ia(o){return function(s){return o?.[s]}}var H4=Ia({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),G4=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$4=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function jw(o){return(o=yn(o))&&o.replace(G4,H4).replace($4,"")}var t_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q4=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,e_="\\ud800-\\udfff",J4="\\u2700-\\u27bf",i_="a-z\\xdf-\\xf6\\xf8-\\xff",a_="A-Z\\xc0-\\xd6\\xd8-\\xde",nL="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o_="["+nL+"]",s_="\\d+",iL="["+J4+"]",l_="["+i_+"]",u_="[^"+e_+nL+s_+J4+i_+a_+"]",ff="(?:\\ud83c[\\udde6-\\uddff]){2}",h_="[\\ud800-\\udbff][\\udc00-\\udfff]",cu="["+a_+"]",$n="(?:"+l_+"|"+u_+")",Js="(?:"+cu+"|"+u_+")",Yy="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",wc="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",v_="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Wy="[\\ufe0e\\ufe0f]?",js=Wy+v_+"(?:\\u200d(?:"+["[^"+e_+"]",ff,h_].join("|")+")"+Wy+v_+")*",Xi="(?:"+[iL,ff,h_].join("|")+")"+js,t7=RegExp([cu+"?"+l_+"+"+Yy+"(?="+[o_,cu,"$"].join("|")+")",Js+"+"+wc+"(?="+[o_,cu+$n,"$"].join("|")+")",cu+"?"+$n+"+"+Yy,cu+"+"+wc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s_,Xi].join("|"),"g");function Sc(o,s,a){return o=yn(o),void 0===(s=a?void 0:s)?function K4(o){return q4.test(o)}(o)?function lL(o){return o.match(t7)||[]}(o):function Z4(o){return o.match(t_)||[]}(o):o.match(s)||[]}var Vd=RegExp("['\u2019]","g");function Mc(o){return function(s){return Hy(Sc(jw(s).replace(Vd,"")),o,"")}}var Tc=Mc(function(o,s,a){return s=s.toLowerCase(),o+(a?Jw(s):s)}),Uy=Tc,hL=ni.isFinite,fL=Math.min;function $d(o){var s=Math[o];return function(a,u){if(a=Yi(a),(u=null==u?0:fL(qr(u),292))&&hL(a)){var h=(yn(a)+"e").split("e");return+((h=(yn(s(h[0]+"e"+(+h[1]+u)))+"e").split("e"))[0]+"e"+(+h[1]-u))}return s(a)}}var dL=$d("ceil");function bc(o){var s=xt(o);return s.__chain__=!0,s}var d_=Math.ceil,pL=Math.max;function hu(o,s,a){return o==o&&(void 0!==a&&(o=o<=a?o:a),void 0!==s&&(o=o>=s?o:s)),o}function fu(o,s,a){return void 0===a&&(a=s,s=void 0),void 0!==a&&(a=(a=Yi(a))==a?a:0),void 0!==s&&(s=(s=Yi(s))==s?s:0),hu(Yi(o),s,a)}function ha(o){var s=this.__data__=new Ya(o);this.size=s.size}function Vy(o,s){return o&&oo(s,vn(s),o)}ha.prototype.clear=function e7(){this.__data__=new Ya,this.size=0},ha.prototype.delete=function p_(o){var s=this.__data__,a=s.delete(o);return this.size=s.size,a},ha.prototype.get=function g_(o){return this.__data__.get(o)},ha.prototype.has=function Zd(o){return this.__data__.has(o)},ha.prototype.set=function Xy(o,s){var a=this.__data__;if(a instanceof Ya){var u=a.__data__;if(!lf||u.length<199)return u.push([o,s]),this.size=++a.size,this;a=this.__data__=new gs(u)}return a.set(o,s),this.size=a.size,this};var vu="object"==typeof exports&&exports&&!exports.nodeType&&exports,$y=vu&&rr&&!rr.nodeType&&rr,du=$y&&$y.exports===vu?ni.Buffer:void 0,x_=du?du.allocUnsafe:void 0;function wn(o,s){if(s)return o.slice();var a=o.length,u=x_?x_(a):new o.constructor(a);return o.copy(u),u}function tl(o,s){for(var a=-1,u=null==o?0:o.length,h=0,v=[];++a<u;){var g=o[a];s(g,a,o)&&(v[h++]=g)}return v}function Zy(){return[]}var mL=Object.prototype.propertyIsEnumerable,vf=Object.getOwnPropertySymbols,ur=vf?function(o){return null==o?[]:(o=Object(o),tl(vf(o),function(s){return mL.call(o,s)}))}:Zy,C_=ur,qy=Object.getOwnPropertySymbols?function(o){for(var s=[];o;)Wa(s,C_(o)),o=zd(o);return s}:Zy,Ky=qy;function w_(o,s,a){var u=s(o);return Mr(o)?u:Wa(u,a(o))}function Qy(o){return w_(o,vn,C_)}function Kd(o){return w_(o,Mi,Ky)}var Ac=hc(ni,"DataView"),Jy=hc(ni,"Promise"),pu=hc(ni,"Set"),jy="[object Map]",M_="[object Promise]",tm="[object Set]",T_="[object WeakMap]",ys="[object DataView]",gu=cc(Ac),b_=cc(lf),pf=cc(Jy),A_=cc(pu),gf=cc(Sd),Go=Fi;(Ac&&Go(new Ac(new ArrayBuffer(1)))!=ys||lf&&Go(new lf)!=jy||Jy&&Go(Jy.resolve())!=M_||pu&&Go(new pu)!=tm||Sd&&Go(new Sd)!=T_)&&(Go=function(o){var s=Fi(o),a="[object Object]"==s?o.constructor:void 0,u=a?cc(a):"";if(u)switch(u){case gu:return ys;case b_:return jy;case pf:return M_;case A_:return tm;case gf:return T_}return s});var Xa=Go,E_=Object.prototype.hasOwnProperty,jn=ni.Uint8Array;function em(o){var s=new o.constructor(o.byteLength);return new jn(s).set(new jn(o)),s}var lo=/\w*$/,yf=Gi?Gi.prototype:void 0,rm=yf?yf.valueOf:void 0;function nm(o,s){var a=s?em(o.buffer):o.buffer;return new o.constructor(a,o.byteOffset,o.length)}var im="[object Boolean]",bL="[object Date]",R_="[object Map]",Yo="[object Number]",AL="[object RegExp]",am="[object Set]",F_="[object String]",Ec="[object Symbol]",EL="[object ArrayBuffer]",LL="[object DataView]",IL="[object Float32Array]",OL="[object Float64Array]",D_="[object Int8Array]",B_="[object Int16Array]",Oa="[object Int32Array]",RL="[object Uint8Array]",FL="[object Uint8ClampedArray]",P_="[object Uint16Array]",DL="[object Uint32Array]";function k_(o){return"function"!=typeof o.constructor||tf(o)?{}:$h(zd(o))}var om=Ga&&Ga.isMap,un=om?Ea(om):function PL(o){return Gn(o)&&"[object Map]"==Xa(o)},yu=un,z_=Ga&&Ga.isSet,N_=z_?Ea(z_):function zL(o){return Gn(o)&&"[object Set]"==Xa(o)},NL=N_,Qd=1,HL=2,sm=4,Lc="[object Arguments]",Y_="[object Function]",WL="[object GeneratorFunction]",U_="[object Object]",Fn={};function en(o,s,a,u,h,v){var g,y=s&Qd,w=s&HL,M=s&sm;if(a&&(g=h?a(o,u,h,v):a(o)),void 0!==g)return g;if(!Cn(o))return o;var A=Mr(o);if(A){if(g=function L_(o){var s=o.length,a=new o.constructor(s);return s&&"string"==typeof o[0]&&E_.call(o,"index")&&(a.index=o.index,a.input=o.input),a}(o),!y)return ba(o,g)}else{var L=Xa(o),O=L==Y_||L==WL;if(Ks(o))return wn(o,y);if(L==U_||L==Lc||O&&!h){if(g=w||O?{}:k_(o),!y)return w?function wL(o,s){return oo(o,Ky(o),s)}(o,function m_(o,s){return o&&oo(s,Mi(s),o)}(g,o)):function xL(o,s){return oo(o,C_(o),s)}(o,Vy(g,o))}else{if(!Fn[L])return h?o:{};g=function Er(o,s,a){var u=o.constructor;switch(s){case EL:return em(o);case im:case bL:return new u(+o);case LL:return function I_(o,s){var a=s?em(o.buffer):o.buffer;return new o.constructor(a,o.byteOffset,o.byteLength)}(o,a);case IL:case OL:case D_:case B_:case Oa:case RL:case FL:case P_:case DL:return nm(o,a);case R_:return new u;case Yo:case F_:return new u(o);case AL:return function TL(o){var s=new o.constructor(o.source,lo.exec(o));return s.lastIndex=o.lastIndex,s}(o);case am:return new u;case Ec:return function O_(o){return rm?Object(rm.call(o)):{}}(o)}}(o,L,y)}}v||(v=new ha);var D=v.get(o);if(D)return D;v.set(o,g),NL(o)?o.forEach(function(tt){g.add(en(tt,s,a,tt,o,v))}):yu(o)&&o.forEach(function(tt,ot){g.set(ot,en(tt,s,a,ot,o,v))});var X=A?void 0:(M?w?Kd:Qy:w?Mi:vn)(o);return Aa(X||o,function(tt,ot){X&&(tt=o[ot=tt]),dc(g,ot,en(tt,s,a,ot,o,v))}),g}Fn[Lc]=Fn["[object Array]"]=Fn["[object ArrayBuffer]"]=Fn["[object DataView]"]=Fn["[object Boolean]"]=Fn["[object Date]"]=Fn["[object Float32Array]"]=Fn["[object Float64Array]"]=Fn["[object Int8Array]"]=Fn["[object Int16Array]"]=Fn["[object Int32Array]"]=Fn["[object Map]"]=Fn["[object Number]"]=Fn[U_]=Fn["[object RegExp]"]=Fn["[object Set]"]=Fn["[object String]"]=Fn["[object Symbol]"]=Fn["[object Uint8Array]"]=Fn["[object Uint8ClampedArray]"]=Fn["[object Uint16Array]"]=Fn["[object Uint32Array]"]=!0,Fn["[object Error]"]=Fn[Y_]=Fn["[object WeakMap]"]=!1;var JL=4;function Ic(o){return en(o,JL)}var jd=1,jL=4;function hm(o){return en(o,jd|jL)}function el(o){for(var s=-1,a=null==o?0:o.length,u=0,h=[];++s<a;){var v=o[s];v&&(h[u++]=v)}return h}function xu(){var o=arguments.length;if(!o)return[];for(var s=Array(o-1),a=arguments[0],u=o;u--;)s[u-1]=arguments[u];return Wa(Mr(a)?ba(a):[a],ii(s,1))}function hi(o){var s=-1,a=null==o?0:o.length;for(this.__data__=new gs;++s<a;)this.add(o[s])}function rl(o,s){for(var a=-1,u=null==o?0:o.length;++a<u;)if(s(o[a],a,o))return!0;return!1}function mf(o,s){return o.has(s)}hi.prototype.add=hi.prototype.push=function K_(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},hi.prototype.has=function Q_(o){return this.__data__.has(o)};var J_=1,r5=2;function fm(o,s,a,u,h,v){var g=a&J_,y=o.length,w=s.length;if(y!=w&&!(g&&w>y))return!1;var M=v.get(o),A=v.get(s);if(M&&A)return M==s&&A==o;var L=-1,O=!0,D=a&r5?new hi:void 0;for(v.set(o,s),v.set(s,o);++L<y;){var k=o[L],X=s[L];if(u)var tt=g?u(X,k,L,s,o,v):u(k,X,L,o,s,v);if(void 0!==tt){if(tt)continue;O=!1;break}if(D){if(!rl(s,function(ot,ft){if(!mf(D,ft)&&(k===ot||h(k,ot,a,u,v)))return D.push(ft)})){O=!1;break}}else if(k!==X&&!h(k,X,a,u,v)){O=!1;break}}return v.delete(o),v.delete(s),O}function nl(o){var s=-1,a=Array(o.size);return o.forEach(function(u,h){a[++s]=[h,u]}),a}function tp(o){var s=-1,a=Array(o.size);return o.forEach(function(u){a[++s]=u}),a}var vm=1,n5=2,j_="[object Boolean]",tS="[object Date]",eS="[object Error]",i5="[object Map]",xf="[object Number]",a5="[object RegExp]",fa="[object Set]",o5="[object String]",s5="[object Symbol]",dm="[object ArrayBuffer]",il="[object DataView]",rn=Gi?Gi.prototype:void 0,ep=rn?rn.valueOf:void 0,rS=1,nS=Object.prototype.hasOwnProperty,al=1,wf="[object Arguments]",Rc="[object Array]",rp="[object Object]",c5=Object.prototype.hasOwnProperty;function Va(o,s,a,u,h){return o===s||(null==o||null==s||!Gn(o)&&!Gn(s)?o!=o&&s!=s:function h5(o,s,a,u,h,v){var g=Mr(o),y=Mr(s),w=g?Rc:Xa(o),M=y?Rc:Xa(s),A=(w=w==wf?rp:w)==rp,L=(M=M==wf?rp:M)==rp,O=w==M;if(O&&Ks(o)){if(!Ks(s))return!1;g=!0,A=!1}if(O&&!A)return v||(v=new ha),g||ps(o)?fm(o,s,a,u,h,v):function l5(o,s,a,u,h,v,g){switch(a){case il:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case dm:return!(o.byteLength!=s.byteLength||!v(new jn(o),new jn(s)));case j_:case tS:case xf:return ao(+o,+s);case eS:return o.name==s.name&&o.message==s.message;case a5:case o5:return o==s+"";case i5:var y=nl;case fa:if(y||(y=tp),o.size!=s.size&&!(u&vm))return!1;var M=g.get(o);if(M)return M==s;u|=n5,g.set(o,s);var A=fm(y(o),y(s),u,h,v,g);return g.delete(o),A;case s5:if(ep)return ep.call(o)==ep.call(s)}return!1}(o,s,w,a,u,h,v);if(!(a&al)){var D=A&&c5.call(o,"__wrapped__"),k=L&&c5.call(s,"__wrapped__");if(D||k){var X=D?o.value():o,tt=k?s.value():s;return v||(v=new ha),h(X,tt,a,u,v)}}return!!O&&(v||(v=new ha),function u5(o,s,a,u,h,v){var g=a&rS,y=Qy(o),w=y.length;if(w!=Qy(s).length&&!g)return!1;for(var L=w;L--;){var O=y[L];if(!(g?O in s:nS.call(s,O)))return!1}var D=v.get(o),k=v.get(s);if(D&&k)return D==s&&k==o;var X=!0;v.set(o,s),v.set(s,o);for(var tt=g;++L<w;){var ot=o[O=y[L]],ft=s[O];if(u)var ht=g?u(ft,ot,O,s,o,v):u(ot,ft,O,o,s,v);if(!(void 0===ht?ot===ft||h(ot,ft,a,u,v):ht)){X=!1;break}tt||(tt="constructor"==O)}if(X&&!tt){var pt=o.constructor,Wt=s.constructor;pt!=Wt&&"constructor"in o&&"constructor"in s&&!("function"==typeof pt&&pt instanceof pt&&"function"==typeof Wt&&Wt instanceof Wt)&&(X=!1)}return v.delete(o),v.delete(s),X}(o,s,a,u,h,v))}(o,s,a,u,Va,h))}var iS=1,f5=2;function gm(o,s,a,u){var h=a.length,v=h,g=!u;if(null==o)return!v;for(o=Object(o);h--;){var y=a[h];if(g&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++h<v;){var w=(y=a[h])[0],M=o[w],A=y[1];if(g&&y[2]){if(void 0===M&&!(w in o))return!1}else{var L=new ha;if(u)var O=u(M,A,w,o,s,L);if(!(void 0===O?Va(A,M,iS|f5,u,L):O))return!1}}return!0}function ym(o){return o==o&&!Cn(o)}function mm(o){for(var s=vn(o),a=s.length;a--;){var u=s[a],h=o[u];s[a]=[u,h,ym(h)]}return s}function aS(o,s){return function(a){return null!=a&&a[o]===s&&(void 0!==s||o in Object(a))}}function xm(o){var s=mm(o);return 1==s.length&&s[0][2]?aS(s[0][0],s[0][1]):function(a){return a===o||gm(a,o,s)}}function v5(o,s){return null!=o&&s in Object(o)}function _f(o,s,a){for(var u=-1,h=(s=Jn(s,o)).length,v=!1;++u<h;){var g=No(s[u]);if(!(v=null!=o&&a(o,g)))break;o=o[g]}return v||++u!=h?v:!!(h=null==o?0:o.length)&&jh(h)&&Po(g,h)&&(Mr(o)||jl(o))}function Sf(o,s){return null!=o&&_f(o,s,v5)}var Cu=1,d5=2;function oS(o,s){return Ty(o)&&ym(s)?aS(No(o),s):function(a){var u=yr(a,o);return void 0===u&&u===s?Sf(a,o):Va(s,u,Cu|d5)}}function Cm(o){return function(s){return s?.[o]}}function np(o){return Ty(o)?Cm(No(o)):function sS(o){return function(s){return su(s,o)}}(o)}function Yr(o){return"function"==typeof o?o:null==o?Wi:"object"==typeof o?Mr(o)?oS(o[0],o[1]):xm(o):np(o)}var p5="Expected a function";function wm(o){var s=null==o?0:o.length,a=Yr;return o=s?kn(o,function(u){if("function"!=typeof u[1])throw new TypeError(p5);return[a(u[0]),u[1]]}):[],jr(function(u){for(var h=-1;++h<s;){var v=o[h];if(Ha(v[0],this,u))return Ha(v[1],this,u)}})}function ip(o,s,a){var u=a.length;if(null==o)return!u;for(o=Object(o);u--;){var h=a[u],g=o[h];if(void 0===g&&!(h in o)||!(0,s[h])(g))return!1}return!0}function Zn(o,s,a,u){for(var h=-1,v=null==o?0:o.length;++h<v;){var g=o[h];s(u,g,a(g),o)}return u}function _m(o){return function(s,a,u){for(var h=-1,v=Object(s),g=u(s),y=g.length;y--;){var w=g[o?y:++h];if(!1===a(v[w],w,v))break}return s}}var Mm=_m();function uo(o,s){return o&&Mm(o,s,vn)}function hS(o,s){return function(a,u){if(null==a)return a;if(!sa(a))return o(a,u);for(var h=a.length,v=s?h:-1,g=Object(a);(s?v--:++v<h)&&!1!==u(g[v],v,g););return a}}var ol=hS(uo);function fS(o,s,a,u){return ol(o,function(h,v,g){s(u,h,a(h),g)}),u}function bm(o,s){return function(a,u){var h=Mr(a)?Zn:fS,v=s?s():{};return h(a,o,Yr(u),v)}}var a7=Object.prototype.hasOwnProperty,va=bm(function(o,s,a){a7.call(o,a)?++o[a]:ko(o,a,1)}),sl=va,co=8;function Am(o,s,a){var u=ds(o,co,void 0,void 0,void 0,void 0,void 0,s=a?void 0:s);return u.placeholder=Am.placeholder,u}Am.placeholder={};var g5=16;function Em(o,s,a){var u=ds(o,g5,void 0,void 0,void 0,void 0,void 0,s=a?void 0:s);return u.placeholder=Em.placeholder,u}Em.placeholder={};var da=function(){return ni.Date.now()},m5="Expected a function",vS=Math.max,wu=Math.min;function ms(o,s,a){var u,h,v,g,y,w,M=0,A=!1,L=!1,O=!0;if("function"!=typeof o)throw new TypeError(m5);function D(de){var pe=u,Me=h;return u=h=void 0,M=de,g=o.apply(Me,pe)}function tt(de){var pe=de-w;return void 0===w||pe>=s||pe<0||L&&de-M>=v}function ot(){var de=da();if(tt(de))return ft(de);y=setTimeout(ot,function X(de){var ze=s-(de-w);return L?wu(ze,v-(de-M)):ze}(de))}function ft(de){return y=void 0,O&&u?D(de):(u=h=void 0,g)}function Wt(){var de=da(),pe=tt(de);if(u=arguments,h=this,w=de,pe){if(void 0===y)return function k(de){return M=de,y=setTimeout(ot,s),A?D(de):g}(w);if(L)return clearTimeout(y),y=setTimeout(ot,s),D(w)}return void 0===y&&(y=setTimeout(ot,s)),g}return s=Yi(s)||0,Cn(a)&&(A=!!a.leading,v=(L="maxWait"in a)?vS(Yi(a.maxWait)||0,s):v,O="trailing"in a?!!a.trailing:O),Wt.cancel=function ht(){void 0!==y&&clearTimeout(y),M=0,u=w=h=y=void 0},Wt.flush=function pt(){return void 0===y?g:ft(da())},Wt}var Lm=Object.prototype,C5=Lm.hasOwnProperty,w5=jr(function(o,s){o=Object(o);var a=-1,u=s.length,h=u>2?s[2]:void 0;for(h&&Ui(s[0],s[1],h)&&(u=1);++a<u;)for(var v=s[a],g=Mi(v),y=-1,w=g.length;++y<w;){var M=g[y],A=o[M];(void 0===A||ao(A,Lm[M])&&!C5.call(o,M))&&(o[M]=v[M])}return o}),_5=w5;function op(o,s,a){(void 0!==a&&!ao(o[s],a)||void 0===a&&!(s in o))&&ko(o,s,a)}function Qn(o){return Gn(o)&&sa(o)}function Im(o,s){if(("constructor"!==s||"function"!=typeof o[s])&&"__proto__"!=s)return o[s]}function dS(o){return oo(o,Mi(o))}function sp(o,s,a,u,h){o!==s&&Mm(s,function(v,g){if(h||(h=new ha),Cn(v))!function S5(o,s,a,u,h,v,g){var y=Im(o,a),w=Im(s,a),M=g.get(w);if(M)op(o,a,M);else{var A=v?v(y,w,a+"",o,s,g):void 0,L=void 0===A;if(L){var O=Mr(w),D=!O&&Ks(w),k=!O&&!D&&ps(w);A=w,O||D||k?Mr(y)?A=y:Qn(y)?A=ba(y):D?(L=!1,A=wn(w,!0)):k?(L=!1,A=nm(w,!0)):A=[]:lu(w)||jl(w)?(A=y,jl(y)?A=dS(y):(!Cn(y)||ci(y))&&(A=k_(w))):L=!1}L&&(g.set(w,A),h(A,w,u,v,g),g.delete(w)),op(o,a,A)}}(o,s,g,a,sp,u,h);else{var y=u?u(Im(o,g),v,g+"",o,s,h):void 0;void 0===y&&(y=v),op(o,g,y)}},Mi)}function pS(o,s,a,u,h,v){return Cn(o)&&Cn(s)&&(v.set(s,o),sp(o,s,void 0,pS,v),v.delete(s)),o}var lp=pc(function(o,s,a,u){sp(o,s,a,u)}),Mf=lp,gS=jr(function(o){return o.push(void 0,pS),Ha(Mf,void 0,o)}),up=gS,cp="Expected a function";function Tf(o,s,a){if("function"!=typeof o)throw new TypeError(cp);return setTimeout(function(){o.apply(void 0,a)},s)}var Om=jr(function(o,s){return Tf(o,1,s)}),hp=Om,yS=jr(function(o,s,a){return Tf(o,Yi(s)||0,a)}),mS=yS;function xs(o,s,a){for(var u=-1,h=null==o?0:o.length;++u<h;)if(a(s,o[u]))return!0;return!1}var Rm=200;function _u(o,s,a,u){var h=-1,v=Id,g=!0,y=o.length,w=[],M=s.length;if(!y)return w;a&&(s=kn(s,Ea(a))),u?(v=xs,g=!1):s.length>=Rm&&(v=mf,g=!1,s=new hi(s));t:for(;++h<y;){var A=o[h],L=null==a?A:a(A);if(A=u||0!==A?A:0,g&&L==L){for(var O=M;O--;)if(s[O]===L)continue t;w.push(A)}else v(s,L,u)||w.push(A)}return w}var xS=jr(function(o,s){return Qn(o)?_u(o,ii(s,1,Qn,!0)):[]}),ll=xS;function _n(o){var s=null==o?0:o.length;return s?o[s-1]:void 0}var M5=jr(function(o,s){var a=_n(s);return Qn(a)&&(a=void 0),Qn(o)?_u(o,ii(s,1,Qn,!0),Yr(a)):[]}),Fm=M5,CS=jr(function(o,s){var a=_n(s);return Qn(a)&&(a=void 0),Qn(o)?_u(o,ii(s,1,Qn,!0),void 0,a):[]}),fp=CS,T5=_d(function(o,s){return o/s},1),wS=T5;function vp(o,s,a,u){for(var h=o.length,v=u?h:-1;(u?v--:++v<h)&&s(o[v],v,o););return a?La(o,u?0:v,u?v+1:h):La(o,u?v+1:0,u?h:v)}function $a(o){return"function"==typeof o?o:Wi}function br(o,s){return(Mr(o)?Aa:ol)(o,$a(s))}function ho(o,s){for(var a=null==o?0:o.length;a--&&!1!==s(o[a],a,o););return o}var SS=_m(!0);function Fc(o,s){return o&&SS(o,s,vn)}var MS=hS(Fc,!0);function Dm(o,s){return(Mr(o)?ho:MS)(o,$a(s))}function TS(o,s,a){o=yn(o),s=Ta(s);var u=o.length,h=a=void 0===a?u:hu(qr(a),0,u);return(a-=s.length)>=0&&o.slice(a,h)==s}var R5="[object Map]",F5="[object Set]";function bS(o){return function(s){var a=Xa(s);return a==R5?nl(s):a==F5?function ul(o){var s=-1,a=Array(o.size);return o.forEach(function(u){a[++s]=[u,u]}),a}(s):function O5(o,s){return kn(s,function(a){return[a,o[a]]})}(s,o(s))}}var AS=bS(vn),LS=bS(Mi),IS=Ia({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Dc=/[&<>"']/g,P5=RegExp(Dc.source);function Pm(o){return(o=yn(o))&&P5.test(o)?o.replace(Dc,IS):o}var OS=/[\\^$.*+?()[\]{}|]/g,k5=RegExp(OS.source);function km(o,s){for(var a=-1,u=null==o?0:o.length;++a<u;)if(!s(o[a],a,o))return!1;return!0}function z5(o,s){var a=!0;return ol(o,function(u,h,v){return a=!!s(u,h,v)}),a}function Su(o,s,a){var u=Mr(o)?km:z5;return a&&Ui(o,s,a)&&(s=void 0),u(o,Yr(s))}var RS=4294967295;function FS(o){return o?hu(qr(o),0,RS):0}function DS(o,s){var a=[];return ol(o,function(u,h,v){s(u,h,v)&&a.push(u)}),a}function Cs(o,s){return(Mr(o)?tl:DS)(o,Yr(s))}function BS(o){return function(s,a,u){var h=Object(s);if(!sa(s)){var v=Yr(a);s=vn(s),a=function(y){return v(h[y],y,h)}}var g=o(s,a,u);return g>-1?h[v?s[g]:g]:void 0}}var G5=Math.max;function Bc(o,s,a){var u=null==o?0:o.length;if(!u)return-1;var h=null==a?0:qr(a);return h<0&&(h=G5(u+h,0)),Ld(o,Yr(s),h)}var ai=BS(Bc);function PS(o,s,a){var u;return a(o,function(h,v,g){if(s(h,v,g))return u=v,!1}),u}var zS=Math.max,NS=Math.min;function HS(o,s,a){var u=null==o?0:o.length;if(!u)return-1;var h=u-1;return void 0!==a&&(h=qr(a),h=a<0?zS(u+h,0):NS(h,u-1)),Ld(o,Yr(s),h,!0)}var zm=BS(HS);function cl(o){return o&&o.length?o[0]:void 0}function tn(o,s){var a=-1,u=sa(o)?Array(o.length):[];return ol(o,function(h,v,g){u[++a]=s(h,v,g)}),u}function cn(o,s){return(Mr(o)?kn:tn)(o,Yr(s))}var Nm=$d("floor"),$5="Expected a function",qa=8,Z5=32,q5=128,K5=256;function XS(o){return Ua(function(s){var a=s.length,u=a,h=io.prototype.thru;for(o&&s.reverse();u--;){var v=s[u];if("function"!=typeof v)throw new TypeError($5);if(h&&!g&&"wrapper"==ry(v))var g=new io([],!0)}for(u=g?u:a;++u<a;){var y=ry(v=s[u]),w="wrapper"==y?UC(v):void 0;g=w&&Td(w[0])&&w[1]==(q5|qa|Z5|K5)&&!w[4].length&&1==w[9]?g[ry(w[0])].apply(g,w[3]):1==v.length&&Td(v)?g[y]():g.thru(v)}return function(){var M=arguments,A=M[0];if(g&&1==M.length&&Mr(A))return g.plant(A).value();for(var L=0,O=a?s[L].apply(this,M):A;++L<a;)O=s[L].call(this,O);return O}})}var J5=XS(),tI=XS(!0);function VS(o,s){return null==o?o:Mm(o,$a(s),Mi)}function yp(o,s){return tl(s,function(a){return ci(o[a])})}var oI=Object.prototype.hasOwnProperty,sI=bm(function(o,s,a){oI.call(o,a)?o[a].push(s):ko(o,a,[s])}),lI=sI;function Hm(o,s){return o>s}function mp(o){return function(s,a){return"string"==typeof s&&"string"==typeof a||(s=Yi(s),a=Yi(a)),o(s,a)}}var o7=mp(Hm),cI=mp(function(o,s){return o>=s}),hI=cI,fI=Object.prototype.hasOwnProperty;function vI(o,s){return null!=o&&fI.call(o,s)}function Pc(o,s){return null!=o&&_f(o,s,vI)}var dI=Math.max,pI=Math.min;function Gm(o,s,a){return s=fs(s),void 0===a?(a=s,s=0):a=fs(a),function gI(o,s,a){return o>=pI(s,a)&&o<dI(s,a)}(o=Yi(o),s,a)}var yI="[object String]";function Mu(o){return"string"==typeof o||!Mr(o)&&Gn(o)&&Fi(o)==yI}function Ym(o,s){return kn(s,function(a){return o[a]})}function Uo(o){return null==o?[]:Ym(o,vn(o))}var mI=Math.max;function pa(o,s,a,u){o=sa(o)?o:Uo(o),a=a&&!u?qr(a):0;var h=o.length;return a<0&&(a=mI(h+a,0)),Mu(o)?a<=h&&o.indexOf(s,a)>-1:!!h&&Ql(o,s,a)>-1}var xI=Math.max;function qS(o,s,a){var u=null==o?0:o.length;if(!u)return-1;var h=null==a?0:qr(a);return h<0&&(h=xI(u+h,0)),Ql(o,s,h)}var wI=Math.min;function Wm(o,s,a){for(var u=a?xs:Id,h=o[0].length,v=o.length,g=v,y=Array(v),w=1/0,M=[];g--;){var A=o[g];g&&s&&(A=kn(A,Ea(s))),w=wI(A.length,w),y[g]=!a&&(s||h>=120&&A.length>=120)?new hi(g&&A):void 0}A=o[0];var L=-1,O=y[0];t:for(;++L<h&&M.length<w;){var D=A[L],k=s?s(D):D;if(D=a||0!==D?D:0,!(O?mf(O,k):u(M,k,a))){for(g=v;--g;){var X=y[g];if(!(X?mf(X,k):u(o[g],k,a)))continue t}O&&O.push(k),M.push(D)}}return M}function xp(o){return Qn(o)?o:[]}var _I=jr(function(o){var s=kn(o,xp);return s.length&&s[0]===o[0]?Wm(s):[]}),Um=_I,SI=jr(function(o){var s=_n(o),a=kn(o,xp);return s===_n(a)?s=void 0:a.pop(),a.length&&a[0]===o[0]?Wm(a,Yr(s)):[]}),MI=SI,TI=jr(function(o){var s=_n(o),a=kn(o,xp);return(s="function"==typeof s?s:void 0)&&a.pop(),a.length&&a[0]===o[0]?Wm(a,void 0,s):[]}),bI=TI;function KS(o,s){return function(a,u){return function AI(o,s,a,u){return uo(o,function(h,v,g){s(u,a(h),v,g)}),u}(a,o,s(u),{})}}var LI=Object.prototype.toString,II=KS(function(o,s,a){null!=s&&"function"!=typeof s.toString&&(s=LI.call(s)),o[s]=a},Bo(Wi)),Xm=II,QS=Object.prototype,Cp=QS.hasOwnProperty,JS=QS.toString,s7=KS(function(o,s,a){null!=s&&"function"!=typeof s.toString&&(s=JS.call(s)),Cp.call(o,s)?o[s].push(a):o[s]=[a]},Yr),l7=s7;function jS(o,s){return s.length<2?o:su(o,La(s,0,-1))}function Ef(o,s,a){var u=null==(o=jS(o,s=Jn(s,o)))?o:o[No(_n(s))];return null==u?void 0:Ha(u,o,a)}var c7=jr(Ef),OI=jr(function(o,s,a){var u=-1,h="function"==typeof s,v=sa(o)?Array(o.length):[];return ol(o,function(g){v[++u]=h?Ha(s,g,a):Ef(g,s,a)}),v}),RI=OI,wp=Ga&&Ga.isArrayBuffer,Vm=wp?Ea(wp):function DI(o){return Gn(o)&&"[object ArrayBuffer]"==Fi(o)},tM=Vm,eM="[object Boolean]";function hl(o){return!0===o||!1===o||Gn(o)&&Fi(o)==eM}var nM=Ga&&Ga.isDate,h7=nM?Ea(nM):function Lf(o){return Gn(o)&&"[object Date]"==Fi(o)},f7=h7,PI="[object Map]",$m="[object Set]",zI=Object.prototype.hasOwnProperty;function Ke(o){if(null==o)return!0;if(sa(o)&&(Mr(o)||"string"==typeof o||"function"==typeof o.splice||Ks(o)||ps(o)||jl(o)))return!o.length;var s=Xa(o);if(s==PI||s==$m)return!o.size;if(tf(o))return!wy(o).length;for(var a in o)if(zI.call(o,a))return!1;return!0}function Vi(o,s){return Va(o,s)}var NI=ni.isFinite;function HI(o){return"number"==typeof o&&o==qr(o)}var YI="[object Number]";function ga(o){return"number"==typeof o||Gn(o)&&Fi(o)==YI}function aM(o){return ga(o)&&o!=+o}var WI=Jg?ci:gw;function fi(o){return null==o}var ZI=Ga&&Ga.isRegExp,g7=ZI?Ea(ZI):function $I(o){return Gn(o)&&"[object RegExp]"==Fi(o)},qm=g7,oM=9007199254740991;function fo(o){return void 0===o}var eO=Array.prototype.join,nO=Mc(function(o,s,a){return o+(a?"-":"")+s.toLowerCase()}),iO=nO,aO=bm(function(o,s,a){ko(o,a,s)}),sM=aO,oO=Math.max,sO=Math.min,lO=Mc(function(o,s,a){return o+(a?" ":"")+s.toLowerCase()}),Qm=lO,cO=Qw("toLowerCase");function kc(o,s){return o<s}var cM=mp(kc),fO=mp(function(o,s){return o<=s}),vO=fO;function Jm(o,s){var a={};return s=Yr(s),uo(o,function(u,h,v){ko(a,s(u,h,v),u)}),a}var pO=1;function Sp(o){return xm(en(o,pO))}function Mp(o,s,a){for(var u=-1,h=o.length;++u<h;){var v=o[u],g=s(v);if(null!=g&&(void 0===y?g==g&&!ui(g):a(g,y)))var y=g,w=v}return w}function vo(o){return o&&o.length?Mp(o,Wi,Hm):void 0}function jm(o,s){return o&&o.length?Mp(o,Yr(s),Hm):void 0}function Tp(o,s){for(var a,u=-1,h=o.length;++u<h;){var v=s(o[u]);void 0!==v&&(a=void 0===a?v:a+v)}return a}var yO=NaN;function fM(o,s){var a=null==o?0:o.length;return a?Tp(o,s)/a:yO}var CO=pc(function(o,s,a){sp(o,s,a)}),If=CO,wO=jr(function(o,s){return function(a){return Ef(a,o,s)}}),_O=wO,SO=jr(function(o,s){return function(a){return Ef(o,a,s)}}),MO=SO;function t1(o){return o&&o.length?Mp(o,Wi,kc):void 0}function Of(o,s,a){var u=vn(s),h=yp(s,u),v=!(Cn(a)&&"chain"in a&&!a.chain),g=ci(o);return Aa(h,function(y){var w=s[y];o[y]=w,g&&(o.prototype[y]=function(){var M=this.__chain__;if(v||M){var A=o(this.__wrapped__);return(A.__actions__=ba(this.__actions__)).push({func:w,args:arguments,thisArg:o}),A.__chain__=M,A}return w.apply(o,Wa([this.value()],arguments))})}),o}var dM=_d(function(o,s){return o*s},1),pM=dM,TO="Expected a function";function Rf(o){if("function"!=typeof o)throw new TypeError(TO);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}var bO="[object Map]",AO="[object Set]",e1=Gi?Gi.iterator:void 0;function yM(o){if(!o)return[];if(sa(o))return Mu(o)?so(o):ba(o);if(e1&&o[e1])return function gM(o){for(var s,a=[];!(s=o.next()).done;)a.push(s.value);return a}(o[e1]());var s=Xa(o);return(s==bO?nl:s==AO?tp:Uo)(o)}function mM(o,s){var a=o.length;if(a)return Po(s+=s<0?a:0,a)?o[s]:void 0}function bp(o,s){return null==(o=jS(o,s=Jn(s,o)))||delete o[No(_n(s))]}function LO(o){return lu(o)?void 0:o}var RO=Ua(function(o,s){var a={};if(null==o)return a;var u=!1;s=kn(s,function(v){return v=Jn(v,o),u||(u=v.length>1),v}),oo(o,Kd(o),a),u&&(a=en(a,7,LO));for(var h=s.length;h--;)bp(a,s[h]);return a}),i1=RO;function Ff(o,s,a,u){if(!Cn(o))return o;for(var h=-1,v=(s=Jn(s,o)).length,g=v-1,y=o;null!=y&&++h<v;){var w=No(s[h]),M=a;if("__proto__"===w||"constructor"===w||"prototype"===w)return o;if(h!=g){var A=y[w];void 0===(M=u?u(A,w,y):void 0)&&(M=Cn(A)?A:Po(s[h+1])?[]:{})}dc(y,w,M),y=y[w]}return o}function CM(o,s,a){for(var u=-1,h=s.length,v={};++u<h;){var g=s[u],y=su(o,g);a(y,g)&&Ff(v,Jn(g,o),y)}return v}function a1(o,s){if(null==o)return{};var a=kn(Kd(o),function(u){return[u]});return s=Yr(s),CM(o,a,function(u,h){return s(u,h[0])})}function _M(o,s){if(o!==s){var a=void 0!==o,u=null===o,h=o==o,v=ui(o),g=void 0!==s,y=null===s,w=s==s,M=ui(s);if(!y&&!M&&!v&&o>s||v&&g&&w&&!y&&!M||u&&g&&w||!a&&w||!h)return 1;if(!u&&!v&&!M&&o<s||M&&a&&h&&!u&&!v||y&&a&&h||!g&&h||!w)return-1}return 0}function MM(o,s,a){s=s.length?kn(s,function(v){return Mr(v)?function(g){return su(g,1===v.length?v[0]:v)}:v}):[Wi];var u=-1;return s=kn(s,Ea(Yr)),function wM(o,s){var a=o.length;for(o.sort(s);a--;)o[a]=o[a].value;return o}(tn(o,function(v,g,y){return{criteria:kn(s,function(M){return M(v)}),index:++u,value:v}}),function(v,g){return function SM(o,s,a){for(var u=-1,h=o.criteria,v=s.criteria,g=h.length,y=a.length;++u<g;){var w=_M(h[u],v[u]);if(w)return u>=y?w:w*("desc"==a[u]?-1:1)}return o.index-s.index}(v,g,a)})}function o1(o,s,a,u){return null==o?[]:(Mr(s)||(s=null==s?[]:[s]),Mr(a=u?void 0:a)||(a=null==a?[]:[a]),MM(o,s,a))}function Ap(o){return Ua(function(s){return s=kn(s,Ea(Yr)),jr(function(a){var u=this;return o(s,function(h){return Ha(h,u,a)})})})}var TM=Ap(kn),kO=Math.min,Ep=jr(function(o,s){var a=(s=1==s.length&&Mr(s[0])?kn(s[0],Ea(Yr)):kn(ii(s,1),Ea(Yr))).length;return jr(function(u){for(var h=-1,v=kO(u.length,a);++h<v;)u[h]=s[h].call(this,u[h]);return Ha(o,this,u)})}),zO=Ep,HO=Ap(km),YO=Ap(rl),l1=9007199254740991,WO=Math.floor;function u1(o,s){var a="";if(!o||s<1||s>l1)return a;do{s%2&&(a+=o),(s=WO(s/2))&&(o+=o)}while(s);return a}var XO=Cm("length"),bM="\\ud800-\\udfff",ZO="["+bM+"]",c1="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Df="\\ud83c[\\udffb-\\udfff]",IM="[^"+bM+"]",Xo="(?:\\ud83c[\\udde6-\\uddff]){2}",Lp="[\\ud800-\\udbff][\\udc00-\\udfff]",OM="(?:"+c1+"|"+Df+")?",RM="[\\ufe0e\\ufe0f]?",JO=RM+OM+"(?:\\u200d(?:"+[IM,Xo,Lp].join("|")+")"+RM+OM+")*",jO="(?:"+[IM+c1+"?",c1,Xo,Lp,ZO].join("|")+")",FM=RegExp(Df+"(?="+Df+")|"+jO+JO,"g");function zc(o){return xc(o)?function tR(o){for(var s=FM.lastIndex=0;FM.test(o);)++s;return s}(o):XO(o)}var eR=Math.ceil;function Ip(o,s){var a=(s=void 0===s?" ":Ta(s)).length;if(a<2)return a?u1(s,o):s;var u=u1(s,eR(o/zc(s)));return xc(s)?Qs(so(u),0,o).join(""):u.slice(0,o)}var rR=Math.ceil,DM=Math.floor,iR=/^\s+/,aR=ni.parseInt,Bf=jr(function(o,s){return ds(o,32,void 0,s,vs(s,Jl(Bf)))});Bf.placeholder={};var h1=Bf,Dp=jr(function(o,s){return ds(o,64,void 0,s,vs(s,Jl(Dp)))});Dp.placeholder={};var oR=Dp,sR=bm(function(o,s,a){o[a?0:1].push(s)},function(){return[[],[]]}),vl=sR,PM=Ua(function(o,s){return null==o?{}:function lR(o,s){return CM(o,s,function(a,u){return Sf(o,u)})}(o,s)}),f1=PM;function y7(o,s,a,u){for(var h=a-1,v=o.length;++h<v;)if(u(o[h],s))return h;return-1}var Pf=Array.prototype.splice;function v1(o,s,a,u){var h=u?y7:Ql,v=-1,g=s.length,y=o;for(o===s&&(s=ba(s)),a&&(y=kn(o,Ea(a)));++v<g;)for(var w=0,M=s[v],A=a?a(M):M;(w=h(y,A,w,u))>-1;)y!==o&&Pf.call(y,w,1),Pf.call(o,w,1);return o}function zM(o,s){return o&&o.length&&s&&s.length?v1(o,s):o}var fR=jr(zM),dR=Array.prototype.splice;function HM(o,s){for(var a=o?s.length:0,u=a-1;a--;){var h=s[a];if(a==u||h!==v){var v=h;Po(h)?dR.call(o,h,1):bp(o,h)}}return o}var pR=Ua(function(o,s){var a=null==o?0:o.length,u=ua(o,s);return HM(o,kn(s,function(h){return Po(h,a)?+h:h}).sort(_M)),u}),gR=pR,yR=Math.floor,mR=Math.random;function d1(o,s){return o+yR(mR()*(s-o+1))}var xR=parseFloat,GM=Math.min,CR=Math.random,_R=Math.ceil,SR=Math.max;function Pp(o){return function(s,a,u){return u&&"number"!=typeof u&&Ui(s,a,u)&&(a=u=void 0),s=fs(s),void 0===a?(a=s,s=0):a=fs(a),function MR(o,s,a,u){for(var h=-1,v=SR(_R((s-o)/(a||1)),0),g=Array(v);v--;)g[u?v:++h]=o,o+=a;return g}(s,a,u=void 0===u?s<a?1:-1:fs(u),o)}}var Nc=Pp(),TR=Pp(!0),AR=Ua(function(o,s){return ds(o,256,void 0,void 0,void 0,s)}),ER=AR;function WM(o,s,a,u,h){return h(o,function(v,g,y){a=u?(u=!1,v):s(a,v,g,y)}),a}function ws(o,s,a){var u=Mr(o)?Hy:WM,h=arguments.length<3;return u(o,Yr(s),a,h,ol)}function LR(o,s,a,u){var h=null==o?0:o.length;for(u&&h&&(a=o[--h]);h--;)a=s(a,o[h],h,o);return a}function UM(o,s,a){return s=(a?Ui(o,s,a):void 0===s)?1:qr(s),u1(yn(o),s)}var Tu=Array.prototype.reverse;function po(o){return null==o?o:Tu.call(o)}var m1=$d("round");function VM(o){var s=o.length;return s?o[d1(0,s-1)]:void 0}function DR(o){return VM(Uo(o))}function kp(o,s){var a=-1,u=o.length,h=u-1;for(s=void 0===s?u:s;++a<s;){var v=d1(a,h),g=o[v];o[v]=o[a],o[a]=g}return o.length=s,o}function go(o,s){return kp(ba(o),hu(s,0,o.length))}function PR(o,s){var a=Uo(o);return kp(a,hu(s,0,a.length))}function Nf(o,s,a){return null==o?o:Ff(o,s,a)}function zR(o){return kp(ba(o))}function NR(o){return kp(Uo(o))}var GR="[object Map]",YR="[object Set]";function bu(o){if(null==o)return 0;if(sa(o))return Mu(o)?zc(o):o.length;var s=Xa(o);return s==GR||s==YR?o.size:wy(o).length}var Au=Mc(function(o,s,a){return o+(a?"_":"")+s.toLowerCase()}),UR=Au;function XR(o,s){var a;return ol(o,function(u,h,v){return!(a=s(u,h,v))}),!!a}var qM=jr(function(o,s){if(null==o)return[];var a=s.length;return a>1&&Ui(o,s[0],s[1])?s=[]:a>2&&Ui(s[0],s[1],s[2])&&(s=[s[0]]),MM(o,ii(s,1),[])}),VR=qM,Eu=4294967294,$R=Math.floor,x1=Math.min;function C1(o,s,a,u){var h=0,v=null==o?0:o.length;if(0===v)return 0;for(var g=(s=a(s))!=s,y=null===s,w=ui(s),M=void 0===s;h<v;){var A=$R((h+v)/2),L=a(o[A]),O=void 0!==L,D=null===L,k=L==L,X=ui(L);if(g)var tt=u||k;else tt=M?k&&(u||O):y?k&&O&&(u||!D):w?k&&O&&!D&&(u||!X):!D&&!X&&(u?L<=s:L<s);tt?h=A+1:v=A}return x1(v,Eu)}var qR=2147483647;function zp(o,s,a){var u=0,h=null==o?u:o.length;if("number"==typeof s&&s==s&&h<=qR){for(;u<h;){var v=u+h>>>1,g=o[v];null!==g&&!ui(g)&&(a?g<=s:g<s)?u=v+1:h=v}return h}return C1(o,s,Wi,a)}function KM(o,s){for(var a=-1,u=o.length,h=0,v=[];++a<u;){var g=o[a],y=s?s(g):g;if(!a||!ao(y,w)){var w=y;v[h++]=0===g?0:g}}return v}var jR=4294967295;function JM(o,s,a){return a&&"number"!=typeof a&&Ui(o,s,a)&&(s=a=void 0),(a=void 0===a?jR:a>>>0)?(o=yn(o))&&("string"==typeof s||null!=s&&!qm(s))&&!(s=Ta(s))&&xc(o)?Qs(so(o),0,a):o.split(s,a):[]}var _1=Math.max,eF=Mc(function(o,s,a){return o+(a?" ":"")+Ud(s)}),rF=eF;function S1(){return!0}var rT=_d(function(o,s){return o-s},0),nT=rT;function M1(o,s){return o&&o.length?Tp(o,Yr(s)):0}var sT=Object.prototype,oF=sT.hasOwnProperty;function lT(o,s,a,u){return void 0===o||ao(o,sT[a])&&!oF.call(u,a)?s:o}var A1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function sF(o){return"\\"+A1[o]}var cT=/<%=([\s\S]+?)%>/g,E1={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:cT,variable:"",imports:{_:{escape:Pm}}},fF=/\b__p \+= '';/g,vF=/\b(__p \+=) '' \+/g,dF=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pF=/[()=,{}\[\]\/\s]/,vT=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ti=/($^)/,gF=/['\n\r\u2028\u2029\\]/g,dT=Object.prototype.hasOwnProperty,yF="Expected a function";function I1(o,s,a){var u=!0,h=!0;if("function"!=typeof o)throw new TypeError(yF);return Cn(a)&&(u="leading"in a?!!a.leading:u,h="trailing"in a?!!a.trailing:h),ms(o,s,{leading:u,maxWait:s,trailing:h})}function Gf(o,s){return s(o)}var O1=4294967295,mF=Math.min;function gT(o,s){var a=o;return a instanceof on&&(a=a.value()),Hy(s,function(u,h){return h.func.apply(h.thisArg,Wa([u],h.args))},a)}function R1(){return gT(this.__wrapped__,this.__actions__)}var yT=9007199254740991;function Yc(o){return yn(o).toUpperCase()}function xT(o,s){for(var a=o.length;a--&&Ql(s,o[a],0)>-1;);return a}function F1(o,s){for(var a=-1,u=o.length;++a<u&&Ql(s,o[a],0)>-1;);return a}var TF=/^\s+/,LF=/\w*$/,_s=Ia({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),B1=/&(?:amp|lt|gt|quot|#39);/g,ya=RegExp(B1.source),wT=pu&&1/tp(new pu([,-0]))[1]==1/0?function(o){return new pu(o)}:ey,m7=wT,Ss=200;function Kr(o,s,a){var u=-1,h=Id,v=o.length,g=!0,y=[],w=y;if(a)g=!1,h=xs;else if(v>=Ss){var M=s?null:m7(o);if(M)return tp(M);g=!1,h=mf,w=new hi}else w=s?[]:y;t:for(;++u<v;){var A=o[u],L=s?s(A):A;if(A=a||0!==A?A:0,g&&L==L){for(var O=w.length;O--;)if(w[O]===L)continue t;s&&w.push(L),y.push(A)}else h(w,L,a)||(w!==y&&w.push(L),y.push(A))}return y}var P1=jr(function(o){return Kr(ii(o,1,Qn,!0))}),_T=P1,Wc=jr(function(o){var s=_n(o);return Qn(s)&&(s=void 0),Kr(ii(o,1,Qn,!0),Yr(s))}),DF=Wc,BF=jr(function(o){var s=_n(o);return s="function"==typeof s?s:void 0,Kr(ii(o,1,Qn,!0),void 0,s)}),ST=BF;function dl(o){return o&&o.length?Kr(o):[]}var bT=0;function Yf(o,s){return null==o||bp(o,s)}var Cr=Math.max;function vi(o){if(!o||!o.length)return[];var s=0;return o=tl(o,function(a){if(Qn(a))return s=Cr(a.length,s),!0}),ef(s,function(a){return kn(o,Cm(a))})}function Wf(o,s){if(!o||!o.length)return[];var a=vi(o);return null==s?a:kn(a,function(u){return Ha(s,void 0,u)})}function Uc(o,s,a,u){return Ff(o,s,a(su(o,s)),u)}var k1=Mc(function(o,s,a){return o+(a?" ":"")+s.toUpperCase()}),kF=k1,Lu=jr(function(o,s){return Qn(o)?_u(o,s):[]}),zF=Lu,Gp=Ua(function(o){var s=o.length,a=s?o[0]:0,u=this.__wrapped__,h=function(v){return ua(v,o)};return!(s>1||this.__actions__.length)&&u instanceof on&&Po(a)?((u=u.slice(a,+a+(s?1:0))).__actions__.push({func:Gf,args:[h],thisArg:void 0}),new io(u,this.__chain__).thru(function(v){return s&&!v.length&&v.push(void 0),v})):this.thru(h)}),z1=Gp;function N1(o,s,a){var u=o.length;if(u<2)return u?Kr(o[0]):[];for(var h=-1,v=Array(u);++h<u;)for(var g=o[h],y=-1;++y<u;)y!=h&&(v[h]=_u(v[h]||g,o[y],s,a));return Kr(ii(v,1),s,a)}var GF=jr(function(o){return N1(tl(o,Qn))}),AT=GF,ET=jr(function(o){var s=_n(o);return Qn(s)&&(s=void 0),N1(tl(o,Qn),Yr(s))}),LT=ET,Yp=jr(function(o){var s=_n(o);return s="function"==typeof s?s:void 0,N1(tl(o,Qn),void 0,s)}),YF=Yp,Br=jr(vi);function Xc(o,s,a){for(var u=-1,h=o.length,v=s.length,g={};++u<h;)a(g,o[u],u<v?s[u]:void 0);return g}var Wp=jr(function(o){var s=o.length,a=s>1?o[s-1]:void 0;return a="function"==typeof a?(o.pop(),a):void 0,Wf(o,a)}),fr={chunk:function gL(o,s,a){s=(a?Ui(o,s,a):void 0===s)?1:pL(qr(s),0);var u=null==o?0:o.length;if(!u||s<1)return[];for(var h=0,v=0,g=Array(d_(u/s));h<u;)g[v++]=La(o,h,h+=s);return g},compact:el,concat:xu,difference:ll,differenceBy:Fm,differenceWith:fp,drop:function _S(o,s,a){var u=null==o?0:o.length;return u?La(o,(s=a||void 0===s?1:qr(s))<0?0:s,u):[]},dropRight:function b5(o,s,a){var u=null==o?0:o.length;return u?La(o,0,(s=u-(s=a||void 0===s?1:qr(s)))<0?0:s):[]},dropRightWhile:function A5(o,s){return o&&o.length?vp(o,Yr(s),!0,!0):[]},dropWhile:function E5(o,s){return o&&o.length?vp(o,Yr(s),!0):[]},fill:function H5(o,s,a,u){var h=null==o?0:o.length;return h?(a&&"number"!=typeof a&&Ui(o,s,a)&&(a=0,u=h),function N5(o,s,a,u){var h=o.length;for((a=qr(a))<0&&(a=-a>h?0:h+a),(u=void 0===u||u>h?h:qr(u))<0&&(u+=h),u=a>u?0:FS(u);a<u;)o[a++]=s;return o}(o,s,a,u)):[]},findIndex:Bc,findLastIndex:HS,first:cl,flatten:yc,flattenDeep:function bf(o){return null!=o&&o.length?ii(o,Infinity):[]},flattenDepth:function Af(o,s){return null!=o&&o.length?ii(o,s=void 0===s?1:qr(s)):[]},fromPairs:function rI(o){for(var s=-1,a=null==o?0:o.length,u={};++s<a;){var h=o[s];u[h[0]]=h[1]}return u},head:cl,indexOf:qS,initial:function CI(o){return null!=o&&o.length?La(o,0,-1):[]},intersection:Um,intersectionBy:MI,intersectionWith:bI,join:function rO(o,s){return null==o?"":eO.call(o,s)},last:_n,lastIndexOf:function uM(o,s,a){var u=null==o?0:o.length;if(!u)return-1;var h=u;return void 0!==a&&(h=(h=qr(a))<0?oO(u+h,0):sO(h,u-1)),s==s?function lM(o,s,a){for(var u=a+1;u--;)if(o[u]===s)return u;return u}(o,s,h):Ld(o,KC,h,!0)},nth:function r1(o,s){return o&&o.length?mM(o,qr(s)):void 0},pull:fR,pullAll:zM,pullAllBy:function Bp(o,s,a){return o&&o.length&&s&&s.length?v1(o,s,Yr(a)):o},pullAllWith:function NM(o,s,a){return o&&o.length&&s&&s.length?v1(o,s,void 0,a):o},pullAt:gR,remove:function g1(o,s){var a=[];if(!o||!o.length)return a;var u=-1,h=[],v=o.length;for(s=Yr(s);++u<v;){var g=o[u];s(g,u,o)&&(a.push(g),h.push(u))}return HM(o,h),a},reverse:po,slice:function WR(o,s,a){var u=null==o?0:o.length;return u?(a&&"number"!=typeof a&&Ui(o,s,a)?(s=0,a=u):(s=null==s?0:qr(s),a=void 0===a?u:qr(a)),La(o,s,a)):[]},sortedIndex:function Hc(o,s){return zp(o,s)},sortedIndexBy:function Np(o,s,a){return C1(o,s,Yr(a))},sortedIndexOf:function KR(o,s){var a=null==o?0:o.length;if(a){var u=zp(o,s);if(u<a&&ao(o[u],s))return u}return-1},sortedLastIndex:function QR(o,s){return zp(o,s,!0)},sortedLastIndexBy:function Gc(o,s,a){return C1(o,s,Yr(a),!0)},sortedLastIndexOf:function JR(o,s){if(null!=o&&o.length){var u=zp(o,s,!0)-1;if(ao(o[u],s))return u}return-1},sortedUniq:function QM(o){return o&&o.length?KM(o):[]},sortedUniqBy:function w1(o,s){return o&&o.length?KM(o,Yr(s)):[]},tail:function T1(o){var s=null==o?0:o.length;return s?La(o,1,s):[]},take:function iT(o,s,a){return o&&o.length?La(o,0,(s=a||void 0===s?1:qr(s))<0?0:s):[]},takeRight:function aF(o,s,a){var u=null==o?0:o.length;return u?La(o,(s=u-(s=a||void 0===s?1:qr(s)))<0?0:s,u):[]},takeRightWhile:function aT(o,s){return o&&o.length?vp(o,Yr(s),!1,!0):[]},takeWhile:function b1(o,s){return o&&o.length?vp(o,Yr(s)):[]},union:_T,unionBy:DF,unionWith:ST,uniq:dl,uniqBy:function MT(o,s){return o&&o.length?Kr(o,Yr(s)):[]},uniqWith:function TT(o,s){return s="function"==typeof s?s:void 0,o&&o.length?Kr(o,void 0,s):[]},unzip:vi,unzipWith:Wf,without:zF,xor:AT,xorBy:LT,xorWith:YF,zip:Br,zipObject:function OT(o,s){return Xc(o||[],s||[],dc)},zipObjectDeep:function Uf(o,s){return Xc(o||[],s||[],Ff)},zipWith:Wp},Tn={countBy:sl,each:br,eachRight:Dm,every:Su,filter:Cs,find:ai,findLast:zm,flatMap:function Za(o,s){return ii(cn(o,s),1)},flatMapDeep:function YS(o,s){return ii(cn(o,s),Infinity)},flatMapDepth:function U5(o,s,a){return a=void 0===a?1:qr(a),ii(cn(o,s),a)},forEach:br,forEachRight:Dm,groupBy:lI,includes:pa,invokeMap:RI,keyBy:sM,map:cn,orderBy:o1,partition:vl,reduce:ws,reduceRight:function IR(o,s,a){var u=Mr(o)?LR:WM,h=arguments.length<3;return u(o,Yr(s),a,h,MS)},reject:function OR(o,s){return(Mr(o)?tl:DS)(o,Rf(Yr(s)))},sample:function BR(o){return(Mr(o)?VM:DR)(o)},sampleSize:function $M(o,s,a){return s=(a?Ui(o,s,a):void 0===s)?1:qr(s),(Mr(o)?go:PR)(o,s)},shuffle:function HR(o){return(Mr(o)?zR:NR)(o)},size:bu,some:function ZM(o,s,a){var u=Mr(o)?rl:XR;return a&&Ui(o,s,a)&&(s=void 0),u(o,Yr(s))},sortBy:VR},RT={now:da},Yn={after:function W3(o,s){if("function"!=typeof s)throw new TypeError("Expected a function");return o=qr(o),function(){if(--o<1)return s.apply(this,arguments)}},ary:Rd,before:Hd,bind:Ww,bindKey:M4,curry:Am,curryRight:Em,debounce:ms,defer:hp,delay:mS,flip:function US(o){return ds(o,512)},memoize:ou,negate:Rf,once:function DO(o){return Hd(2,o)},overArgs:zO,partial:h1,partialRight:oR,rearg:ER,rest:function zf(o,s){if("function"!=typeof o)throw new TypeError("Expected a function");return jr(o,s=void 0===s?s:qr(s))},spread:function jM(o,s){if("function"!=typeof o)throw new TypeError("Expected a function");return s=null==s?0:_1(qr(s),0),jr(function(a){var u=a[s],h=Qs(a,0,s);return u&&Wa(h,u),Ha(o,this,h)})},throttle:I1,unary:function OF(o){return Rd(o,1)},wrap:function pl(o,s){return h1($a(s),o)}},Or={castArray:function cL(){if(!arguments.length)return[];var o=arguments[0];return Mr(o)?o:[o]},clone:Ic,cloneDeep:hm,cloneDeepWith:function n7(o,s){return en(o,5,s="function"==typeof s?s:void 0)},cloneWith:function e5(o,s){return en(o,4,s="function"==typeof s?s:void 0)},conformsTo:function cS(o,s){return null==s||ip(o,s,vn(s))},eq:ao,gt:o7,gte:hI,isArguments:jl,isArray:Mr,isArrayBuffer:tM,isArrayLike:sa,isArrayLikeObject:Qn,isBoolean:hl,isBuffer:Ks,isDate:f7,isElement:function BI(o){return Gn(o)&&1===o.nodeType&&!lu(o)},isEmpty:Ke,isEqual:Vi,isEqualWith:function iM(o,s,a){var u=(a="function"==typeof a?a:void 0)?a(o,s):void 0;return void 0===u?Va(o,s,void 0,a):!!u},isError:Nd,isFinite:function Zm(o){return"number"==typeof o&&NI(o)},isFunction:ci,isInteger:HI,isLength:jh,isMap:yu,isMatch:function v7(o,s){return o===s||gm(o,s,mm(s))},isMatchWith:function GI(o,s,a){return a="function"==typeof a?a:void 0,gm(o,s,mm(s),a)},isNaN:aM,isNative:function p7(o){if(WI(o))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $3(o)},isNil:fi,isNull:function XI(o){return null===o},isNumber:ga,isObject:Cn,isObjectLike:Gn,isPlainObject:lu,isRegExp:qm,isSafeInteger:function Km(o){return HI(o)&&o>=-oM&&o<=oM},isSet:NL,isString:Mu,isSymbol:ui,isTypedArray:ps,isUndefined:fo,isWeakMap:function KI(o){return Gn(o)&&"[object WeakMap]"==Xa(o)},isWeakSet:function _p(o){return Gn(o)&&"[object WeakSet]"==Fi(o)},lt:cM,lte:vO,toArray:yM,toFinite:fs,toInteger:qr,toLength:FS,toNumber:Yi,toPlainObject:dS,toSafeInteger:function SF(o){return o?hu(qr(o),-yT,yT):0===o?o:0},toString:yn},ta={add:B3,ceil:dL,divide:wS,floor:Nm,max:vo,maxBy:jm,mean:function mO(o){return fM(o,Wi)},meanBy:function xO(o,s){return fM(o,Yr(s))},min:t1,minBy:function vM(o,s){return o&&o.length?Mp(o,Yr(s),kc):void 0},multiply:pM,round:m1,subtract:nT,sum:function iF(o){return o&&o.length?Tp(o,Wi):0},sumBy:M1},G1_clamp=fu,G1_inRange=Gm,Wr={assign:af,assignIn:ru,assignInWith:My,assignWith:W6,at:Ey,create:function gn(o,s){var a=$h(o);return null==s?a:Vy(a,s)},defaults:_5,defaultsDeep:up,entries:AS,entriesIn:LS,extend:ru,extendWith:My,findKey:function kS(o,s){return PS(o,Yr(s),uo)},findLastKey:function pp(o,s){return PS(o,Yr(s),Fc)},forIn:VS,forInRight:function eI(o,s){return null==o?o:SS(o,$a(s),Mi)},forOwn:function gp(o,s){return o&&uo(o,$a(s))},forOwnRight:function $S(o,s){return o&&Fc(o,$a(s))},functions:function nI(o){return null==o?[]:yp(o,vn(o))},functionsIn:function iI(o){return null==o?[]:yp(o,Mi(o))},get:yr,has:Pc,hasIn:Sf,invert:Xm,invertBy:l7,invoke:c7,keys:vn,keysIn:Mi,mapKeys:Jm,mapValues:function dO(o,s){var a={};return s=Yr(s),uo(o,function(u,h,v){ko(a,h,s(u,h,v))}),a},merge:If,mergeWith:Mf,omit:i1,omitBy:function FO(o,s){return a1(o,Rf(Yr(s)))},pick:f1,pickBy:a1,result:function y1(o,s,a){var u=-1,h=(s=Jn(s,o)).length;for(h||(h=1,o=void 0);++u<h;){var v=o?.[No(s[u])];void 0===v&&(u=h,v=a),o=ci(v)?v.call(o):v}return o},set:Nf,setWith:function kR(o,s,a,u){return u="function"==typeof u?u:void 0,null==o?o:Ff(o,s,a,u)},toPairs:AS,toPairsIn:LS,transform:function mT(o,s,a){var u=Mr(o),h=u||Ks(o)||ps(o);if(s=Yr(s),null==a){var v=o&&o.constructor;a=h?u?new v:[]:Cn(o)&&ci(v)?$h(zd(o)):{}}return(h?Aa:uo)(o,function(g,y,w){return s(a,g,y,w)}),a},unset:Yf,update:function PF(o,s,a){return null==o?o:Uc(o,s,$a(a))},updateWith:function di(o,s,a,u){return u="function"==typeof u?u:void 0,null==o?o:Uc(o,s,$a(a),u)},values:Uo,valuesIn:function x7(o){return null==o?[]:Ym(o,Mi(o))}},Vo={at:z1,chain:bc,commit:function Oc(){return new io(this.value(),this.__chain__)},lodash:xt,next:function EO(){void 0===this.__values__&&(this.__values__=yM(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?void 0:this.__values__[this.__index__++]}},plant:function uR(o){for(var s,a=this;a instanceof ty;){var u=XC(a);u.__index__=0,u.__values__=void 0,s?h.__wrapped__=u:s=u;var h=u;a=a.__wrapped__}return h.__wrapped__=o,s},reverse:function HF(){var o=this.__wrapped__;if(o instanceof on){var s=o;return this.__actions__.length&&(s=new on(this)),(s=s.reverse()).__actions__.push({func:Gf,args:[po],thisArg:void 0}),new io(s,this.__chain__)}return this.thru(po)},tap:function oT(o,s){return s(o),o},thru:Gf,toIterator:function CF(){return this},toJSON:R1,value:R1,valueOf:R1,wrapperChain:function NF(){return bc(this)}},mn={camelCase:Uy,capitalize:Jw,deburr:jw,endsWith:TS,escape:Pm,escapeRegExp:function dp(o){return(o=yn(o))&&k5.test(o)?o.replace(OS,"\\$&"):o},kebabCase:iO,lowerCase:Qm,lowerFirst:cO,pad:function nR(o,s,a){o=yn(o);var u=(s=qr(s))?zc(o):0;if(!s||u>=s)return o;var h=(s-u)/2;return Ip(DM(h),a)+o+Ip(rR(h),a)},padEnd:function Op(o,s,a){o=yn(o);var u=(s=qr(s))?zc(o):0;return s&&u<s?o+Ip(s-u,a):o},padStart:function Rp(o,s,a){o=yn(o);var u=(s=qr(s))?zc(o):0;return s&&u<s?Ip(s-u,a)+o:o},parseInt:function BM(o,s,a){return a||null==s?s=0:s&&(s=+s),aR(yn(o).replace(iR,""),s||0)},repeat:UM,replace:function RR(){var o=arguments,s=yn(o[0]);return o.length<3?s:s.replace(o[1],o[2])},snakeCase:UR,split:JM,startCase:rF,startsWith:function tT(o,s,a){return o=yn(o),a=null==a?0:hu(qr(a),0,o.length),s=Ta(s),o.slice(a,a+s.length)==s},template:function L1(o,s,a){var u=E1.imports._.templateSettings||E1;a&&Ui(o,s,a)&&(s=void 0),o=yn(o),s=My({},s,u,lT);var y,w,h=My({},s.imports,u.imports,lT),v=vn(h),g=Ym(h,v),M=0,A=s.interpolate||Ti,L="__p += '",O=RegExp((s.escape||Ti).source+"|"+A.source+"|"+(A===cT?vT:Ti).source+"|"+(s.evaluate||Ti).source+"|$","g"),D=dT.call(s,"sourceURL")?"//# sourceURL="+(s.sourceURL+"").replace(/\s/g," ")+"\n":"";o.replace(O,function(tt,ot,ft,ht,pt,Wt){return ft||(ft=ht),L+=o.slice(M,Wt).replace(gF,sF),ot&&(y=!0,L+="' +\n__e("+ot+") +\n'"),pt&&(w=!0,L+="';\n"+pt+";\n__p += '"),ft&&(L+="' +\n((__t = ("+ft+")) == null ? '' : __t) +\n'"),M=Wt+tt.length,tt}),L+="';\n";var k=dT.call(s,"variable")&&s.variable;if(k){if(pF.test(k))throw new Error("Invalid `variable` option passed into `_.template`")}else L="with (obj) {\n"+L+"\n}\n";L=(w?L.replace(fF,""):L).replace(vF,"$1").replace(dF,"$1;"),L="function("+(k||"obj")+") {\n"+(k?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(y?", __e = _.escape":"")+(w?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+L+"return __p\n}";var X=Hw(function(){return Function(v,D+"return "+L).apply(void 0,g)});if(X.source=L,Nd(X))throw X;return X},templateSettings:E1,toLower:function wF(o){return yn(o).toLowerCase()},toUpper:Yc,trim:function D1(o,s,a){if((o=yn(o))&&(a||void 0===s))return Kg(o);if(!o||!(s=Ta(s)))return o;var u=so(o),h=so(s);return Qs(u,F1(u,h),xT(u,h)+1).join("")},trimEnd:function MF(o,s,a){if((o=yn(o))&&(a||void 0===s))return o.slice(0,zC(o)+1);if(!o||!(s=Ta(s)))return o;var u=so(o);return Qs(u,0,xT(u,so(s))+1).join("")},trimStart:function bF(o,s,a){if((o=yn(o))&&(a||void 0===s))return o.replace(TF,"");if(!o||!(s=Ta(s)))return o;var u=so(o);return Qs(u,F1(u,so(s))).join("")},truncate:function IF(o,s){var a=30,u="...";if(Cn(s)){var h="separator"in s?s.separator:h;a="length"in s?qr(s.length):a,u="omission"in s?Ta(s.omission):u}var v=(o=yn(o)).length;if(xc(o)){var g=so(o);v=g.length}if(a>=v)return o;var y=a-zc(u);if(y<1)return u;var w=g?Qs(g,0,y).join(""):o.slice(0,y);if(void 0===h)return w+u;if(g&&(y+=w.length-y),qm(h)){if(o.slice(y).search(h)){var M,A=w;for(h.global||(h=RegExp(h.source,yn(LF.exec(h))+"g")),h.lastIndex=0;M=h.exec(A);)var L=M.index;w=w.slice(0,void 0===L?y:L)}}else if(o.indexOf(Ta(h),y)!=y){var O=w.lastIndexOf(h);O>-1&&(w=w.slice(0,O))}return w+u},unescape:function Ka(o){return(o=yn(o))&&ya.test(o)?o.replace(B1,_s):o},upperCase:kF,upperFirst:Ud,words:Sc},Sn={attempt:Hw,bindAll:w4,cond:wm,conforms:function uS(o){return function lS(o){var s=vn(o);return function(a){return ip(a,o,s)}}(en(o,1))},constant:Bo,defaultTo:function x5(o,s){return null==o||o!=o?s:o},flow:J5,flowRight:tI,identity:Wi,iteratee:function jI(o){return Yr("function"==typeof o?o:en(o,1))},matches:Sp,matchesProperty:function gO(o,s){return oS(o,en(s,1))},method:_O,methodOf:MO,mixin:Of,noop:ey,nthArg:function n1(o){return o=qr(o),jr(function(s){return mM(s,o)})},over:TM,overEvery:HO,overSome:YO,property:np,propertyOf:function cR(o){return function(s){return null==o?void 0:su(o,s)}},range:Nc,rangeRight:TR,stubArray:Zy,stubFalse:gw,stubObject:function eT(){return{}},stubString:function nF(){return""},stubTrue:S1,times:function xF(o,s){if((o=qr(o))<1||o>9007199254740991)return[];var a=O1,u=mF(o,O1);s=$a(s),o-=O1;for(var h=ef(u,s);++a<o;)s(a);return h},toPath:function _F(o){return Mr(o)?kn(o,No):ui(o)?[o]:ba(kw(yn(o)))},uniqueId:function xe(o){var s=++bT;return yn(o)+s}},XF=Math.max,Ra=Math.min,hn=Math.min,En=4294967295,Ou=Array.prototype,W1=Object.prototype.hasOwnProperty,VF=Gi?Gi.iterator:void 0,Up=Math.max,U1=Math.min,Vc=function(o){return function(s,a,u){if(null==u){var h=Cn(a),v=h&&vn(a),g=v&&v.length&&yp(a,v);(g?g.length:h)||(u=a,a=s,s=this)}return o(s,a,u)}}(Of);xt.after=Yn.after,xt.ary=Yn.ary,xt.assign=Wr.assign,xt.assignIn=Wr.assignIn,xt.assignInWith=Wr.assignInWith,xt.assignWith=Wr.assignWith,xt.at=Wr.at,xt.before=Yn.before,xt.bind=Yn.bind,xt.bindAll=Sn.bindAll,xt.bindKey=Yn.bindKey,xt.castArray=Or.castArray,xt.chain=Vo.chain,xt.chunk=fr.chunk,xt.compact=fr.compact,xt.concat=fr.concat,xt.cond=Sn.cond,xt.conforms=Sn.conforms,xt.constant=Sn.constant,xt.countBy=Tn.countBy,xt.create=Wr.create,xt.curry=Yn.curry,xt.curryRight=Yn.curryRight,xt.debounce=Yn.debounce,xt.defaults=Wr.defaults,xt.defaultsDeep=Wr.defaultsDeep,xt.defer=Yn.defer,xt.delay=Yn.delay,xt.difference=fr.difference,xt.differenceBy=fr.differenceBy,xt.differenceWith=fr.differenceWith,xt.drop=fr.drop,xt.dropRight=fr.dropRight,xt.dropRightWhile=fr.dropRightWhile,xt.dropWhile=fr.dropWhile,xt.fill=fr.fill,xt.filter=Tn.filter,xt.flatMap=Tn.flatMap,xt.flatMapDeep=Tn.flatMapDeep,xt.flatMapDepth=Tn.flatMapDepth,xt.flatten=fr.flatten,xt.flattenDeep=fr.flattenDeep,xt.flattenDepth=fr.flattenDepth,xt.flip=Yn.flip,xt.flow=Sn.flow,xt.flowRight=Sn.flowRight,xt.fromPairs=fr.fromPairs,xt.functions=Wr.functions,xt.functionsIn=Wr.functionsIn,xt.groupBy=Tn.groupBy,xt.initial=fr.initial,xt.intersection=fr.intersection,xt.intersectionBy=fr.intersectionBy,xt.intersectionWith=fr.intersectionWith,xt.invert=Wr.invert,xt.invertBy=Wr.invertBy,xt.invokeMap=Tn.invokeMap,xt.iteratee=Sn.iteratee,xt.keyBy=Tn.keyBy,xt.keys=vn,xt.keysIn=Wr.keysIn,xt.map=Tn.map,xt.mapKeys=Wr.mapKeys,xt.mapValues=Wr.mapValues,xt.matches=Sn.matches,xt.matchesProperty=Sn.matchesProperty,xt.memoize=Yn.memoize,xt.merge=Wr.merge,xt.mergeWith=Wr.mergeWith,xt.method=Sn.method,xt.methodOf=Sn.methodOf,xt.mixin=Vc,xt.negate=Rf,xt.nthArg=Sn.nthArg,xt.omit=Wr.omit,xt.omitBy=Wr.omitBy,xt.once=Yn.once,xt.orderBy=Tn.orderBy,xt.over=Sn.over,xt.overArgs=Yn.overArgs,xt.overEvery=Sn.overEvery,xt.overSome=Sn.overSome,xt.partial=Yn.partial,xt.partialRight=Yn.partialRight,xt.partition=Tn.partition,xt.pick=Wr.pick,xt.pickBy=Wr.pickBy,xt.property=Sn.property,xt.propertyOf=Sn.propertyOf,xt.pull=fr.pull,xt.pullAll=fr.pullAll,xt.pullAllBy=fr.pullAllBy,xt.pullAllWith=fr.pullAllWith,xt.pullAt=fr.pullAt,xt.range=Sn.range,xt.rangeRight=Sn.rangeRight,xt.rearg=Yn.rearg,xt.reject=Tn.reject,xt.remove=fr.remove,xt.rest=Yn.rest,xt.reverse=fr.reverse,xt.sampleSize=Tn.sampleSize,xt.set=Wr.set,xt.setWith=Wr.setWith,xt.shuffle=Tn.shuffle,xt.slice=fr.slice,xt.sortBy=Tn.sortBy,xt.sortedUniq=fr.sortedUniq,xt.sortedUniqBy=fr.sortedUniqBy,xt.split=mn.split,xt.spread=Yn.spread,xt.tail=fr.tail,xt.take=fr.take,xt.takeRight=fr.takeRight,xt.takeRightWhile=fr.takeRightWhile,xt.takeWhile=fr.takeWhile,xt.tap=Vo.tap,xt.throttle=Yn.throttle,xt.thru=Gf,xt.toArray=Or.toArray,xt.toPairs=Wr.toPairs,xt.toPairsIn=Wr.toPairsIn,xt.toPath=Sn.toPath,xt.toPlainObject=Or.toPlainObject,xt.transform=Wr.transform,xt.unary=Yn.unary,xt.union=fr.union,xt.unionBy=fr.unionBy,xt.unionWith=fr.unionWith,xt.uniq=fr.uniq,xt.uniqBy=fr.uniqBy,xt.uniqWith=fr.uniqWith,xt.unset=Wr.unset,xt.unzip=fr.unzip,xt.unzipWith=fr.unzipWith,xt.update=Wr.update,xt.updateWith=Wr.updateWith,xt.values=Wr.values,xt.valuesIn=Wr.valuesIn,xt.without=fr.without,xt.words=mn.words,xt.wrap=Yn.wrap,xt.xor=fr.xor,xt.xorBy=fr.xorBy,xt.xorWith=fr.xorWith,xt.zip=fr.zip,xt.zipObject=fr.zipObject,xt.zipObjectDeep=fr.zipObjectDeep,xt.zipWith=fr.zipWith,xt.entries=Wr.toPairs,xt.entriesIn=Wr.toPairsIn,xt.extend=Wr.assignIn,xt.extendWith=Wr.assignInWith,Vc(xt,xt),xt.add=ta.add,xt.attempt=Sn.attempt,xt.camelCase=mn.camelCase,xt.capitalize=mn.capitalize,xt.ceil=ta.ceil,xt.clamp=G1_clamp,xt.clone=Or.clone,xt.cloneDeep=Or.cloneDeep,xt.cloneDeepWith=Or.cloneDeepWith,xt.cloneWith=Or.cloneWith,xt.conformsTo=Or.conformsTo,xt.deburr=mn.deburr,xt.defaultTo=Sn.defaultTo,xt.divide=ta.divide,xt.endsWith=mn.endsWith,xt.eq=Or.eq,xt.escape=mn.escape,xt.escapeRegExp=mn.escapeRegExp,xt.every=Tn.every,xt.find=Tn.find,xt.findIndex=fr.findIndex,xt.findKey=Wr.findKey,xt.findLast=Tn.findLast,xt.findLastIndex=fr.findLastIndex,xt.findLastKey=Wr.findLastKey,xt.floor=ta.floor,xt.forEach=Tn.forEach,xt.forEachRight=Tn.forEachRight,xt.forIn=Wr.forIn,xt.forInRight=Wr.forInRight,xt.forOwn=Wr.forOwn,xt.forOwnRight=Wr.forOwnRight,xt.get=Wr.get,xt.gt=Or.gt,xt.gte=Or.gte,xt.has=Wr.has,xt.hasIn=Wr.hasIn,xt.head=fr.head,xt.identity=Wi,xt.includes=Tn.includes,xt.indexOf=fr.indexOf,xt.inRange=G1_inRange,xt.invoke=Wr.invoke,xt.isArguments=Or.isArguments,xt.isArray=Mr,xt.isArrayBuffer=Or.isArrayBuffer,xt.isArrayLike=Or.isArrayLike,xt.isArrayLikeObject=Or.isArrayLikeObject,xt.isBoolean=Or.isBoolean,xt.isBuffer=Or.isBuffer,xt.isDate=Or.isDate,xt.isElement=Or.isElement,xt.isEmpty=Or.isEmpty,xt.isEqual=Or.isEqual,xt.isEqualWith=Or.isEqualWith,xt.isError=Or.isError,xt.isFinite=Or.isFinite,xt.isFunction=Or.isFunction,xt.isInteger=Or.isInteger,xt.isLength=Or.isLength,xt.isMap=Or.isMap,xt.isMatch=Or.isMatch,xt.isMatchWith=Or.isMatchWith,xt.isNaN=Or.isNaN,xt.isNative=Or.isNative,xt.isNil=Or.isNil,xt.isNull=Or.isNull,xt.isNumber=Or.isNumber,xt.isObject=Cn,xt.isObjectLike=Or.isObjectLike,xt.isPlainObject=Or.isPlainObject,xt.isRegExp=Or.isRegExp,xt.isSafeInteger=Or.isSafeInteger,xt.isSet=Or.isSet,xt.isString=Or.isString,xt.isSymbol=Or.isSymbol,xt.isTypedArray=Or.isTypedArray,xt.isUndefined=Or.isUndefined,xt.isWeakMap=Or.isWeakMap,xt.isWeakSet=Or.isWeakSet,xt.join=fr.join,xt.kebabCase=mn.kebabCase,xt.last=_n,xt.lastIndexOf=fr.lastIndexOf,xt.lowerCase=mn.lowerCase,xt.lowerFirst=mn.lowerFirst,xt.lt=Or.lt,xt.lte=Or.lte,xt.max=ta.max,xt.maxBy=ta.maxBy,xt.mean=ta.mean,xt.meanBy=ta.meanBy,xt.min=ta.min,xt.minBy=ta.minBy,xt.stubArray=Sn.stubArray,xt.stubFalse=Sn.stubFalse,xt.stubObject=Sn.stubObject,xt.stubString=Sn.stubString,xt.stubTrue=Sn.stubTrue,xt.multiply=ta.multiply,xt.nth=fr.nth,xt.noop=Sn.noop,xt.now=RT.now,xt.pad=mn.pad,xt.padEnd=mn.padEnd,xt.padStart=mn.padStart,xt.parseInt=mn.parseInt,xt.random=function wR(o,s,a){if(a&&"boolean"!=typeof a&&Ui(o,s,a)&&(s=a=void 0),void 0===a&&("boolean"==typeof s?(a=s,s=void 0):"boolean"==typeof o&&(a=o,o=void 0)),void 0===o&&void 0===s?(o=0,s=1):(o=fs(o),void 0===s?(s=o,o=0):s=fs(s)),o>s){var u=o;o=s,s=u}if(a||o%1||s%1){var h=CR();return GM(o+h*(s-o+xR("1e-"+((h+"").length-1))),s)}return d1(o,s)},xt.reduce=Tn.reduce,xt.reduceRight=Tn.reduceRight,xt.repeat=mn.repeat,xt.replace=mn.replace,xt.result=Wr.result,xt.round=ta.round,xt.sample=Tn.sample,xt.size=Tn.size,xt.snakeCase=mn.snakeCase,xt.some=Tn.some,xt.sortedIndex=fr.sortedIndex,xt.sortedIndexBy=fr.sortedIndexBy,xt.sortedIndexOf=fr.sortedIndexOf,xt.sortedLastIndex=fr.sortedLastIndex,xt.sortedLastIndexBy=fr.sortedLastIndexBy,xt.sortedLastIndexOf=fr.sortedLastIndexOf,xt.startCase=mn.startCase,xt.startsWith=mn.startsWith,xt.subtract=ta.subtract,xt.sum=ta.sum,xt.sumBy=ta.sumBy,xt.template=mn.template,xt.times=Sn.times,xt.toFinite=Or.toFinite,xt.toInteger=qr,xt.toLength=Or.toLength,xt.toLower=mn.toLower,xt.toNumber=Or.toNumber,xt.toSafeInteger=Or.toSafeInteger,xt.toString=Or.toString,xt.toUpper=mn.toUpper,xt.trim=mn.trim,xt.trimEnd=mn.trimEnd,xt.trimStart=mn.trimStart,xt.truncate=mn.truncate,xt.unescape=mn.unescape,xt.uniqueId=Sn.uniqueId,xt.upperCase=mn.upperCase,xt.upperFirst=mn.upperFirst,xt.each=Tn.forEach,xt.eachRight=Tn.forEachRight,xt.first=fr.head,Vc(xt,function(){var o={};return uo(xt,function(s,a){W1.call(xt.prototype,a)||(o[a]=s)}),o}(),{chain:!1}),xt.VERSION="4.17.21",(xt.templateSettings=mn.templateSettings).imports._=xt,Aa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){xt[o].placeholder=xt}),Aa(["drop","take"],function(o,s){on.prototype[o]=function(a){a=void 0===a?1:Up(qr(a),0);var u=this.__filtered__&&!s?new on(this):this.clone();return u.__filtered__?u.__takeCount__=U1(a,u.__takeCount__):u.__views__.push({size:U1(a,En),type:o+(u.__dir__<0?"Right":"")}),u},on.prototype[o+"Right"]=function(a){return this.reverse()[o](a).reverse()}}),Aa(["filter","map","takeWhile"],function(o,s){var a=s+1,u=1==a||3==a;on.prototype[o]=function(h){var v=this.clone();return v.__iteratees__.push({iteratee:Yr(h),type:a}),v.__filtered__=v.__filtered__||u,v}}),Aa(["head","last"],function(o,s){var a="take"+(s?"Right":"");on.prototype[o]=function(){return this[a](1).value()[0]}}),Aa(["initial","tail"],function(o,s){var a="drop"+(s?"":"Right");on.prototype[o]=function(){return this.__filtered__?new on(this):this[a](1)}}),on.prototype.compact=function(){return this.filter(Wi)},on.prototype.find=function(o){return this.filter(o).head()},on.prototype.findLast=function(o){return this.reverse().find(o)},on.prototype.invokeMap=jr(function(o,s){return"function"==typeof o?new on(this):this.map(function(a){return Ef(a,o,s)})}),on.prototype.reject=function(o){return this.filter(Rf(Yr(o)))},on.prototype.slice=function(o,s){o=qr(o);var a=this;return a.__filtered__&&(o>0||s<0)?new on(a):(o<0?a=a.takeRight(-o):o&&(a=a.drop(o)),void 0!==s&&(a=(s=qr(s))<0?a.dropRight(-s):a.take(s-o)),a)},on.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},on.prototype.toArray=function(){return this.take(En)},uo(on.prototype,function(o,s){var a=/^(?:filter|find|map|reject)|While$/.test(s),u=/^(?:head|last)$/.test(s),h=xt[u?"take"+("last"==s?"Right":""):s],v=u||/^find/.test(s);h&&(xt.prototype[s]=function(){var g=this.__wrapped__,y=u?[1]:arguments,w=g instanceof on,M=y[0],A=w||Mr(g),L=function(ot){var ft=h.apply(xt,Wa([ot],y));return u&&O?ft[0]:ft};A&&a&&"function"==typeof M&&1!=M.length&&(w=A=!1);var O=this.__chain__,k=v&&!O,X=w&&!this.__actions__.length;if(!v&&A){g=X?g:new on(this);var tt=o.apply(g,y);return tt.__actions__.push({func:Gf,args:[L],thisArg:void 0}),new io(tt,O)}return k&&X?o.apply(this,y):(tt=this.thru(L),k?u?tt.value()[0]:tt.value():tt)})}),Aa(["pop","push","shift","sort","splice","unshift"],function(o){var s=Ou[o],a=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",u=/^(?:pop|shift)$/.test(o);xt.prototype[o]=function(){var h=arguments;if(u&&!this.__chain__){var v=this.value();return s.apply(Mr(v)?v:[],h)}return this[a](function(g){return s.apply(Mr(g)?g:[],h)})}}),uo(on.prototype,function(o,s){var a=xt[s];if(a){var u=a.name+"";W1.call(qh,u)||(qh[u]=[]),qh[u].push({name:s,func:a})}}),qh[vc(void 0,2).name]=[{name:"wrapper",func:void 0}],on.prototype.clone=function WF(){var o=new on(this.__wrapped__);return o.__actions__=ba(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=ba(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=ba(this.__views__),o},on.prototype.reverse=function UF(){if(this.__filtered__){var o=new on(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},on.prototype.value=function Qr(){var o=this.__wrapped__.value(),s=this.__dir__,a=Mr(o),u=s<0,h=a?o.length:0,v=function Iu(o,s,a){for(var u=-1,h=a.length;++u<h;){var v=a[u],g=v.size;switch(v.type){case"drop":o+=g;break;case"dropRight":s-=g;break;case"take":s=Ra(s,o+g);break;case"takeRight":o=XF(o,s-g)}}return{start:o,end:s}}(0,h,this.__views__),g=v.start,y=v.end,w=y-g,M=u?y:g-1,A=this.__iteratees__,L=A.length,O=0,D=hn(w,this.__takeCount__);if(!a||!u&&h==w&&D==w)return gT(o,this.__actions__);var k=[];t:for(;w--&&O<D;){for(var X=-1,tt=o[M+=s];++X<L;){var ot=A[X],ht=ot.type,pt=(0,ot.iteratee)(tt);if(2==ht)tt=pt;else if(!pt){if(1==ht)continue t;break t}}k[O++]=tt}return k},xt.prototype.at=Vo.at,xt.prototype.chain=Vo.wrapperChain,xt.prototype.commit=Vo.commit,xt.prototype.next=Vo.next,xt.prototype.plant=Vo.plant,xt.prototype.reverse=Vo.reverse,xt.prototype.toJSON=xt.prototype.valueOf=xt.prototype.value=Vo.value,xt.prototype.first=xt.prototype.head,VF&&(xt.prototype[VF]=Vo.toIterator);var DT={exports:{}};!function(o){!function(s){var a=/^\s+/,u=/\s+$/,h=0,v=s.round,g=s.min,y=s.max,w=s.random;function M(It,ce){if(ce=ce||{},(It=It||"")instanceof M)return It;if(!(this instanceof M))return new M(It,ce);var Pt=function A(It){var ce={r:0,g:0,b:0},Pt=1,Ne=null,hr=null,ar=null,ln=!1,Nn=!1;return"string"==typeof It&&(It=function xi(It){It=It.replace(a,"").replace(u,"").toLowerCase();var Pt,ce=!1;if(Je[It])It=Je[It],ce=!0;else if("transparent"==It)return{r:0,g:0,b:0,a:0,format:"name"};return(Pt=Mn.rgb.exec(It))?{r:Pt[1],g:Pt[2],b:Pt[3]}:(Pt=Mn.rgba.exec(It))?{r:Pt[1],g:Pt[2],b:Pt[3],a:Pt[4]}:(Pt=Mn.hsl.exec(It))?{h:Pt[1],s:Pt[2],l:Pt[3]}:(Pt=Mn.hsla.exec(It))?{h:Pt[1],s:Pt[2],l:Pt[3],a:Pt[4]}:(Pt=Mn.hsv.exec(It))?{h:Pt[1],s:Pt[2],v:Pt[3]}:(Pt=Mn.hsva.exec(It))?{h:Pt[1],s:Pt[2],v:Pt[3],a:Pt[4]}:(Pt=Mn.hex8.exec(It))?{r:fn(Pt[1]),g:fn(Pt[2]),b:fn(Pt[3]),a:Ki(Pt[4]),format:ce?"name":"hex8"}:(Pt=Mn.hex6.exec(It))?{r:fn(Pt[1]),g:fn(Pt[2]),b:fn(Pt[3]),format:ce?"name":"hex"}:(Pt=Mn.hex4.exec(It))?{r:fn(Pt[1]+""+Pt[1]),g:fn(Pt[2]+""+Pt[2]),b:fn(Pt[3]+""+Pt[3]),a:Ki(Pt[4]+""+Pt[4]),format:ce?"name":"hex8"}:!!(Pt=Mn.hex3.exec(It))&&{r:fn(Pt[1]+""+Pt[1]),g:fn(Pt[2]+""+Pt[2]),b:fn(Pt[3]+""+Pt[3]),format:ce?"name":"hex"}}(It)),"object"==typeof It&&(ra(It.r)&&ra(It.g)&&ra(It.b)?(ce=function L(It,ce,Pt){return{r:255*Nr(It,255),g:255*Nr(ce,255),b:255*Nr(Pt,255)}}(It.r,It.g,It.b),ln=!0,Nn="%"===String(It.r).substr(-1)?"prgb":"rgb"):ra(It.h)&&ra(It.s)&&ra(It.v)?(Ne=ri(It.s),hr=ri(It.v),ce=function X(It,ce,Pt){It=6*Nr(It,360),ce=Nr(ce,100),Pt=Nr(Pt,100);var Ne=s.floor(It),hr=It-Ne,ar=Pt*(1-ce),ln=Pt*(1-hr*ce),Nn=Pt*(1-(1-hr)*ce),Xn=Ne%6;return{r:255*[Pt,ln,ar,ar,Nn,Pt][Xn],g:255*[Nn,Pt,Pt,ln,ar,ar][Xn],b:255*[ar,ar,Nn,Pt,Pt,ln][Xn]}}(It.h,Ne,hr),ln=!0,Nn="hsv"):ra(It.h)&&ra(It.s)&&ra(It.l)&&(Ne=ri(It.s),ar=ri(It.l),ce=function D(It,ce,Pt){var Ne,hr,ar;function ln(Li,bo,_a){return _a<0&&(_a+=1),_a>1&&(_a-=1),_a<1/6?Li+6*(bo-Li)*_a:_a<.5?bo:_a<2/3?Li+(bo-Li)*(2/3-_a)*6:Li}if(It=Nr(It,360),ce=Nr(ce,100),Pt=Nr(Pt,100),0===ce)Ne=hr=ar=Pt;else{var Nn=Pt<.5?Pt*(1+ce):Pt+ce-Pt*ce,Xn=2*Pt-Nn;Ne=ln(Xn,Nn,It+1/3),hr=ln(Xn,Nn,It),ar=ln(Xn,Nn,It-1/3)}return{r:255*Ne,g:255*hr,b:255*ar}}(It.h,Ne,ar),ln=!0,Nn="hsl"),It.hasOwnProperty("a")&&(Pt=It.a)),Pt=sn(Pt),{ok:ln,format:It.format||Nn,r:g(255,y(ce.r,0)),g:g(255,y(ce.g,0)),b:g(255,y(ce.b,0)),a:Pt}}(It);this._originalInput=It,this._r=Pt.r,this._g=Pt.g,this._b=Pt.b,this._a=Pt.a,this._roundA=v(100*this._a)/100,this._format=ce.format||Pt.format,this._gradientType=ce.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=Pt.ok,this._tc_id=h++}function O(It,ce,Pt){It=Nr(It,255),ce=Nr(ce,255),Pt=Nr(Pt,255);var ar,ln,Ne=y(It,ce,Pt),hr=g(It,ce,Pt),Nn=(Ne+hr)/2;if(Ne==hr)ar=ln=0;else{var Xn=Ne-hr;switch(ln=Nn>.5?Xn/(2-Ne-hr):Xn/(Ne+hr),Ne){case It:ar=(ce-Pt)/Xn+(ce<Pt?6:0);break;case ce:ar=(Pt-It)/Xn+2;break;case Pt:ar=(It-ce)/Xn+4}ar/=6}return{h:ar,s:ln,l:Nn}}function k(It,ce,Pt){It=Nr(It,255),ce=Nr(ce,255),Pt=Nr(Pt,255);var ar,ln,Ne=y(It,ce,Pt),hr=g(It,ce,Pt),Nn=Ne,Xn=Ne-hr;if(ln=0===Ne?0:Xn/Ne,Ne==hr)ar=0;else{switch(Ne){case It:ar=(ce-Pt)/Xn+(ce<Pt?6:0);break;case ce:ar=(Pt-It)/Xn+2;break;case Pt:ar=(It-ce)/Xn+4}ar/=6}return{h:ar,s:ln,v:Nn}}function tt(It,ce,Pt,Ne){var hr=[dn(v(It).toString(16)),dn(v(ce).toString(16)),dn(v(Pt).toString(16))];return Ne&&hr[0].charAt(0)==hr[0].charAt(1)&&hr[1].charAt(0)==hr[1].charAt(1)&&hr[2].charAt(0)==hr[2].charAt(1)?hr[0].charAt(0)+hr[1].charAt(0)+hr[2].charAt(0):hr.join("")}function ft(It,ce,Pt,Ne){return[dn(mi(Ne)),dn(v(It).toString(16)),dn(v(ce).toString(16)),dn(v(Pt).toString(16))].join("")}function ht(It,ce){ce=0===ce?0:ce||10;var Pt=M(It).toHsl();return Pt.s-=ce/100,Pt.s=qn(Pt.s),M(Pt)}function pt(It,ce){ce=0===ce?0:ce||10;var Pt=M(It).toHsl();return Pt.s+=ce/100,Pt.s=qn(Pt.s),M(Pt)}function Wt(It){return M(It).desaturate(100)}function de(It,ce){ce=0===ce?0:ce||10;var Pt=M(It).toHsl();return Pt.l+=ce/100,Pt.l=qn(Pt.l),M(Pt)}function pe(It,ce){ce=0===ce?0:ce||10;var Pt=M(It).toRgb();return Pt.r=y(0,g(255,Pt.r-v(-ce/100*255))),Pt.g=y(0,g(255,Pt.g-v(-ce/100*255))),Pt.b=y(0,g(255,Pt.b-v(-ce/100*255))),M(Pt)}function Me(It,ce){ce=0===ce?0:ce||10;var Pt=M(It).toHsl();return Pt.l-=ce/100,Pt.l=qn(Pt.l),M(Pt)}function ze(It,ce){var Pt=M(It).toHsl(),Ne=(Pt.h+ce)%360;return Pt.h=Ne<0?360+Ne:Ne,M(Pt)}function Oe(It){var ce=M(It).toHsl();return ce.h=(ce.h+180)%360,M(ce)}function Ze(It){var ce=M(It).toHsl(),Pt=ce.h;return[M(It),M({h:(Pt+120)%360,s:ce.s,l:ce.l}),M({h:(Pt+240)%360,s:ce.s,l:ce.l})]}function tr(It){var ce=M(It).toHsl(),Pt=ce.h;return[M(It),M({h:(Pt+90)%360,s:ce.s,l:ce.l}),M({h:(Pt+180)%360,s:ce.s,l:ce.l}),M({h:(Pt+270)%360,s:ce.s,l:ce.l})]}function vr(It){var ce=M(It).toHsl(),Pt=ce.h;return[M(It),M({h:(Pt+72)%360,s:ce.s,l:ce.l}),M({h:(Pt+216)%360,s:ce.s,l:ce.l})]}function gr(It,ce,Pt){ce=ce||6,Pt=Pt||30;var Ne=M(It).toHsl(),hr=360/Pt,ar=[M(It)];for(Ne.h=(Ne.h-(hr*ce>>1)+720)%360;--ce;)Ne.h=(Ne.h+hr)%360,ar.push(M(Ne));return ar}function mr(It,ce){ce=ce||6;for(var Pt=M(It).toHsv(),Ne=Pt.h,hr=Pt.s,ar=Pt.v,ln=[],Nn=1/ce;ce--;)ln.push(M({h:Ne,s:hr,v:ar})),ar=(ar+Nn)%1;return ln}M.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var It=this.toRgb();return(299*It.r+587*It.g+114*It.b)/1e3},getLuminance:function(){var ce,Pt,Ne,It=this.toRgb();return Pt=It.g/255,Ne=It.b/255,.2126*((ce=It.r/255)<=.03928?ce/12.92:s.pow((ce+.055)/1.055,2.4))+.7152*(Pt<=.03928?Pt/12.92:s.pow((Pt+.055)/1.055,2.4))+.0722*(Ne<=.03928?Ne/12.92:s.pow((Ne+.055)/1.055,2.4))},setAlpha:function(It){return this._a=sn(It),this._roundA=v(100*this._a)/100,this},toHsv:function(){var It=k(this._r,this._g,this._b);return{h:360*It.h,s:It.s,v:It.v,a:this._a}},toHsvString:function(){var It=k(this._r,this._g,this._b),ce=v(360*It.h),Pt=v(100*It.s),Ne=v(100*It.v);return 1==this._a?"hsv("+ce+", "+Pt+"%, "+Ne+"%)":"hsva("+ce+", "+Pt+"%, "+Ne+"%, "+this._roundA+")"},toHsl:function(){var It=O(this._r,this._g,this._b);return{h:360*It.h,s:It.s,l:It.l,a:this._a}},toHslString:function(){var It=O(this._r,this._g,this._b),ce=v(360*It.h),Pt=v(100*It.s),Ne=v(100*It.l);return 1==this._a?"hsl("+ce+", "+Pt+"%, "+Ne+"%)":"hsla("+ce+", "+Pt+"%, "+Ne+"%, "+this._roundA+")"},toHex:function(It){return tt(this._r,this._g,this._b,It)},toHexString:function(It){return"#"+this.toHex(It)},toHex8:function(It){return function ot(It,ce,Pt,Ne,hr){var ar=[dn(v(It).toString(16)),dn(v(ce).toString(16)),dn(v(Pt).toString(16)),dn(mi(Ne))];return hr&&ar[0].charAt(0)==ar[0].charAt(1)&&ar[1].charAt(0)==ar[1].charAt(1)&&ar[2].charAt(0)==ar[2].charAt(1)&&ar[3].charAt(0)==ar[3].charAt(1)?ar[0].charAt(0)+ar[1].charAt(0)+ar[2].charAt(0)+ar[3].charAt(0):ar.join("")}(this._r,this._g,this._b,this._a,It)},toHex8String:function(It){return"#"+this.toHex8(It)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*Nr(this._r,255))+"%",g:v(100*Nr(this._g,255))+"%",b:v(100*Nr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*Nr(this._r,255))+"%, "+v(100*Nr(this._g,255))+"%, "+v(100*Nr(this._b,255))+"%)":"rgba("+v(100*Nr(this._r,255))+"%, "+v(100*Nr(this._g,255))+"%, "+v(100*Nr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Xr[tt(this._r,this._g,this._b,!0)]||!1)},toFilter:function(It){var ce="#"+ft(this._r,this._g,this._b,this._a),Pt=ce,Ne=this._gradientType?"GradientType = 1, ":"";if(It){var hr=M(It);Pt="#"+ft(hr._r,hr._g,hr._b,hr._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ne+"startColorstr="+ce+",endColorstr="+Pt+")"},toString:function(It){var ce=!!It;It=It||this._format;var Pt=!1;return!ce&&this._a<1&&this._a>=0&&("hex"===It||"hex6"===It||"hex3"===It||"hex4"===It||"hex8"===It||"name"===It)?"name"===It&&0===this._a?this.toName():this.toRgbString():("rgb"===It&&(Pt=this.toRgbString()),"prgb"===It&&(Pt=this.toPercentageRgbString()),("hex"===It||"hex6"===It)&&(Pt=this.toHexString()),"hex3"===It&&(Pt=this.toHexString(!0)),"hex4"===It&&(Pt=this.toHex8String(!0)),"hex8"===It&&(Pt=this.toHex8String()),"name"===It&&(Pt=this.toName()),"hsl"===It&&(Pt=this.toHslString()),"hsv"===It&&(Pt=this.toHsvString()),Pt||this.toHexString())},clone:function(){return M(this.toString())},_applyModification:function(It,ce){var Pt=It.apply(null,[this].concat([].slice.call(ce)));return this._r=Pt._r,this._g=Pt._g,this._b=Pt._b,this.setAlpha(Pt._a),this},lighten:function(){return this._applyModification(de,arguments)},brighten:function(){return this._applyModification(pe,arguments)},darken:function(){return this._applyModification(Me,arguments)},desaturate:function(){return this._applyModification(ht,arguments)},saturate:function(){return this._applyModification(pt,arguments)},greyscale:function(){return this._applyModification(Wt,arguments)},spin:function(){return this._applyModification(ze,arguments)},_applyCombination:function(It,ce){return It.apply(null,[this].concat([].slice.call(ce)))},analogous:function(){return this._applyCombination(gr,arguments)},complement:function(){return this._applyCombination(Oe,arguments)},monochromatic:function(){return this._applyCombination(mr,arguments)},splitcomplement:function(){return this._applyCombination(vr,arguments)},triad:function(){return this._applyCombination(Ze,arguments)},tetrad:function(){return this._applyCombination(tr,arguments)}},M.fromRatio=function(It,ce){if("object"==typeof It){var Pt={};for(var Ne in It)It.hasOwnProperty(Ne)&&(Pt[Ne]="a"===Ne?It[Ne]:ri(It[Ne]));It=Pt}return M(It,ce)},M.equals=function(It,ce){return!(!It||!ce)&&M(It).toRgbString()==M(ce).toRgbString()},M.random=function(){return M.fromRatio({r:w(),g:w(),b:w()})},M.mix=function(It,ce,Pt){Pt=0===Pt?0:Pt||50;var Ne=M(It).toRgb(),hr=M(ce).toRgb(),ar=Pt/100;return M({r:(hr.r-Ne.r)*ar+Ne.r,g:(hr.g-Ne.g)*ar+Ne.g,b:(hr.b-Ne.b)*ar+Ne.b,a:(hr.a-Ne.a)*ar+Ne.a})},M.readability=function(It,ce){var Pt=M(It),Ne=M(ce);return(s.max(Pt.getLuminance(),Ne.getLuminance())+.05)/(s.min(Pt.getLuminance(),Ne.getLuminance())+.05)},M.isReadable=function(It,ce,Pt){var hr,ar,Ne=M.readability(It,ce);switch(ar=!1,hr=function xv(It){var ce,Pt;return"AA"!==(ce=((It=It||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ce&&(ce="AA"),"small"!==(Pt=(It.size||"small").toLowerCase())&&"large"!==Pt&&(Pt="small"),{level:ce,size:Pt}}(Pt),hr.level+hr.size){case"AAsmall":case"AAAlarge":ar=Ne>=4.5;break;case"AAlarge":ar=Ne>=3;break;case"AAAsmall":ar=Ne>=7}return ar},M.mostReadable=function(It,ce,Pt){var ar,ln,Nn,Xn,Ne=null,hr=0;ln=(Pt=Pt||{}).includeFallbackColors,Nn=Pt.level,Xn=Pt.size;for(var Li=0;Li<ce.length;Li++)(ar=M.readability(It,ce[Li]))>hr&&(hr=ar,Ne=M(ce[Li]));return M.isReadable(It,Ne,{level:Nn,size:Xn})||!ln?Ne:(Pt.includeFallbackColors=!1,M.mostReadable(It,["#fff","#000"],Pt))};var Je=M.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Xr=M.hexNames=function $r(It){var ce={};for(var Pt in It)It.hasOwnProperty(Pt)&&(ce[It[Pt]]=Pt);return ce}(Je);function sn(It){return It=parseFloat(It),(isNaN(It)||It<0||It>1)&&(It=1),It}function Nr(It,ce){(function Zi(It){return"string"==typeof It&&-1!=It.indexOf(".")&&1===parseFloat(It)})(It)&&(It="100%");var Pt=function qi(It){return"string"==typeof It&&-1!=It.indexOf("%")}(It);return It=g(ce,y(0,parseFloat(It))),Pt&&(It=parseInt(It*ce,10)/100),s.abs(It-ce)<1e-6?1:It%ce/parseFloat(ce)}function qn(It){return g(1,y(0,It))}function fn(It){return parseInt(It,16)}function dn(It){return 1==It.length?"0"+It:""+It}function ri(It){return It<=1&&(It=100*It+"%"),It}function mi(It){return s.round(255*parseFloat(It)).toString(16)}function Ki(It){return fn(It)/255}var Pt,Ne,hr,Mn=(Ne="[\\s|\\(]+("+(Pt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Pt+")[,|\\s]+("+Pt+")\\s*\\)?",hr="[\\s|\\(]+("+Pt+")[,|\\s]+("+Pt+")[,|\\s]+("+Pt+")[,|\\s]+("+Pt+")\\s*\\)?",{CSS_UNIT:new RegExp(Pt),rgb:new RegExp("rgb"+Ne),rgba:new RegExp("rgba"+hr),hsl:new RegExp("hsl"+Ne),hsla:new RegExp("hsla"+hr),hsv:new RegExp("hsv"+Ne),hsva:new RegExp("hsva"+hr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ra(It){return!!Mn.CSS_UNIT.exec(It)}o.exports?o.exports=M:window.tinycolor=M}(Math)}(DT);var BT=DT.exports,$c=[95,85,75,30,15,0,15,30,45,60,80],Vf=function(o){return BT(o).getLuminance()<=.5},PT=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],pi=function(o){void 0===o&&(o={});var s=Array.from(Array(15)).fill(Cd),a=o.basicColorRelations,u=void 0===a?[]:a,v=function(o){for(var s=[],a=0;a<11;a++){var u=$c[a];s.push(Yc(0===u?o:BT.mix(o,a<5?"#FFFFFF":"#000000",u).toHexString()))}return s}(o.brandColor);return u.forEach(function(g){s[g.basicColorIndex]=v[g.standardColorIndex]}),PT.forEach(function(g){s[g.fontColorIndex]=Vf(s[g.bgColorIndex])?Cd:Ug}),ue(ue({},o),{basicColors:s})},Fa=pi({brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]}),kT={default:pi({brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]}),colorful:Fa,gray:pi({brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]})},Ja="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",Ru={zh_CN:{\u5c0f\u8ba1:"\u5c0f\u8ba1",\u603b\u8ba1:"\u603b\u8ba1",\u603b\u548c:"\u603b\u548c",\u9879:"\u9879",\u5df2\u9009\u62e9:"\u5df2\u9009\u62e9",\u5e8f\u53f7:"\u5e8f\u53f7",\u5ea6\u91cf:"\u5ea6\u91cf",\u6570\u503c:"\u6570\u503c",\u5171\u8ba1:"\u5171\u8ba1",\u6761:"\u6761",\u8d8b\u52bf:"\u8d8b\u52bf",\u9690\u85cf:"\u9690\u85cf",\u7ec4\u5185\u5347\u5e8f:"\u7ec4\u5185\u5347\u5e8f",\u5347\u5e8f:"\u5347\u5e8f",\u964d\u5e8f:"\u964d\u5e8f",\u7ec4\u5185\u964d\u5e8f:"\u7ec4\u5185\u964d\u5e8f",\u4e0d\u6392\u5e8f:"\u4e0d\u6392\u5e8f"},en_US:{\u5c0f\u8ba1:"Total",\u603b\u8ba1:"Total",\u603b\u548c:"SUM",\u9879:"items",\u5df2\u9009\u62e9:"selected",\u5e8f\u53f7:"Index",\u5ea6\u91cf:"Measure",\u6570\u503c:"Measure",\u5171\u8ba1:"Total",\u6761:"",\u9690\u85cf:"Hide",\u8d8b\u52bf:"Trend",\u7ec4\u5185\u5347\u5e8f:"Group ASC",\u7ec4\u5185\u964d\u5e8f:"Group DESC",\u5347\u5e8f:"ASC",\u964d\u5e8f:"DESC",\u4e0d\u6392\u5e8f:"No order"}},gi=function(o,s){return void 0===s&&(s=o),yr(Ru,["zh_CN",o],s)},$1="".concat("antv-s2","-tooltip"),Z1="".concat($1,"-container"),t8="".concat(Z1,"-show"),e8="".concat(Z1,"-hide"),NT_x=("".concat($1,"-operation"),15),yo=1;function Wn(o){return"mobile"===o||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}var bi=function(){function o(s){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var u=s.key,h=s.value,v=s.label,g=s.parent,y=s.level,w=s.rowIndex,M=s.isTotals,A=s.isGrandTotals,L=s.isSubTotals,O=s.isCollapsed,D=s.hierarchy,k=s.isPivotMode,X=s.seriesNumberWidth,tt=s.field,ot=s.spreadsheet,ft=s.query,ht=s.belongsCell,pt=s.inCollapseNode,Wt=s.isTotalMeasure,de=s.isLeaf,pe=s.extra;this.id=s.id,this.key=u,this.value=h,this.label=v||h,this.parent=g,this.level=y,this.rowIndex=w,this.isTotals=M,this.isCollapsed=O,this.hierarchy=D,this.isPivotMode=k,this.seriesNumberWidth=X,this.field=tt,this.spreadsheet=ot,this.query=ft,this.belongsCell=ht,this.inCollapseNode=pt,this.isTotalMeasure=Wt,this.isLeaf=de,this.isGrandTotals=A,this.isSubTotals=L,this.extra=pe}return o.getFieldPath=function(s,a){if(s&&!s.isTotals||s&&a){for(var u=s.parent,h=[s.field];u&&u.id!==Na;)h.push(u.field),u=u.parent;return h.reverse()}return[]},o.getAllLeaveNodes=function(s){var a=[];if(s.isLeaf)return[s];for(var u=Be([],Ae(s.children),!1),h=u.shift();h;)h.isLeaf?a.push(h):u.unshift.apply(u,Be([],Ae(h.children),!1)),h=u.shift();return a},o.getAllChildrenNodes=function(s){var a=[];if(s.isLeaf)return[s];for(var u=Be([],Ae(s.children||[]),!1),h=u.shift();h;)a.push(h),u.unshift.apply(u,Be([],Ae(h.children),!1)),h=u.shift();return a},o.getAllBranch=function(s){for(var a=[],u=this.getAllLeaveNodes(s),h=u.shift(),v=[];h;){v.unshift(h);for(var g=h.parent;g&&!Vi(g,s);)v.unshift(g),g=g.parent;a.push(v),h=u.shift(),v=[]}return a},o.blankNode=function(){return new o({id:"",key:"",value:""})},o.rootNode=function(){return new o({id:"root",key:"",value:""})},o.prototype.toJSON=function(){return i1(this,["config","hierarchy","parent","spreadsheet"])},o.prototype.getHeadLeafChild=function(){for(var s=this;!Ke(s.children);)s=cl(s.children);return s},o}(),J1=function(){function o(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return o.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter(function(s){return s.isLeaf})},o.prototype.getNodes=function(s){return void 0!==s?this.allNodesWithoutRoot.filter(function(a){return a.level===s}):this.allNodesWithoutRoot},o.prototype.getNodesLessThanLevel=function(s){return this.allNodesWithoutRoot.filter(function(a){return a.level<=s})},o.prototype.pushNode=function(s,a){void 0===a&&(a=-1),-1===a?this.allNodesWithoutRoot.push(s):this.allNodesWithoutRoot.splice(a,0,s)},o.prototype.pushIndexNode=function(s){this.indexNode.push(s)},o.prototype.getIndexNodes=function(){return this.indexNode},o}(),$f=function o(s,a,u){void 0===a&&(a=!1),void 0===u&&(u=!1),this.label=s,this.isSubTotals=a,this.isGrandTotals=u};function YT(o,s){for(var a={},u=o;u&&u.key;)(!u.isTotals||s)&&(a[u.key]=u.value),u=u.parent;return a}var WT=function(o,s,a,u){return s.layoutArrange?s.layoutArrange(s.spreadsheet,a,u,o):o},j1=function(o,s,a,u){var h,v;if(null===(v=null===(h=o.spreadsheet)||void 0===h?void 0:h.facet)||void 0===v?void 0:v.getHiddenColumnsInfo(a))return!1;var y=!0,w=function(X,tt,ot){void 0===tt&&(tt=-1),void 0===ot&&(ot=-1),-1===tt?(s.children.push(X),u.pushNode(X)):(s.children.splice(tt,0,X),u.pushNode(X,ot))};if(o.layoutHierarchy){var M=o.layoutHierarchy(o.spreadsheet,a);if(M){var A=!!hl(M?.delete)&&M?.delete;y=!A;var L=M.push,O=M.unshift,D=s.children.length,k=u.getNodes().length;Ke(O)||(br(O,function(X){w(X)}),D=s.children.length,k=u.getNodes().length),Ke(L)||br(L,function(X){w(X)}),A||w(a,D,k)}else w(a)}else w(a);return y},tx=function(o,s,a){o?.layoutCoordinate&&(s?.isLeaf||a?.isLeaf)&&o?.layoutCoordinate(o.spreadsheet,s,a)},UT=function o(s){this.label=s},XT=function(o){var s,a=o.addTotalMeasureInTotal,u=o.addMeasureInTotalQuery,h=o.parentNode,v=o.currentField,g=o.fields,y=o.facetCfg,w=o.hierarchy,M=g.indexOf(v),A=y.dataSet,L=y.values,O=y.spreadsheet,D=[],k={};if(h.isTotals)a&&(k=YT(h.parent,!0),D.push.apply(D,Be([],Ae(L.map(function(ht){return new UT(ht)})),!1)));else{k=YT(h,!0);var X=A.getDimensionValues(v,k),tt=WT(X,y,h,v);D.push.apply(D,Be([],Ae(tt||[]),!1));var ot=A.getFieldName(v);Ke(D)&&(v===Jr?D.push.apply(D,Be([],Ae(null===(s=A.fields)||void 0===s?void 0:s.values),!1)):D.push(ot)),function(o,s,a){var u,h,v,g,y=null!==(g=null===(v=a.colCfg)||void 0===v?void 0:v.hideMeasureColumn)&&void 0!==g&&g,w=a.dataSet.fields.valueInCols;try{for(var M=Ma(o),A=M.next();!A.done;A=M.next())y&&w&&s===Jr&&o.splice(o.indexOf(A.value),1)}catch(O){u={error:O}}finally{try{A&&!A.done&&(h=M.return)&&h.call(M)}finally{if(u)throw u.error}}}(D,v,y),function(o){var s,w,M,a=o.isFirstField,u=o.currentField,h=o.fieldValues,y=o.spreadsheet.getTotalsConfig(a?u:o.lastField);a?y?.showGrandTotals&&(w=y.reverseLayout?"unshift":"push",M=new $f(y.label,!1,!0)):y?.showSubTotals&&(xt.size(h)>1||!1!==xt.get(y,"showSubTotals.always"))&&u!==Jr&&(w=y.reverseSubLayout?"unshift":"push",M=new $f(y.subLabel,!0)),null===(s=h[w])||void 0===s||s.call(h,M)}({currentField:v,lastField:g[M-1],isFirstField:0===M,fieldValues:D,spreadsheet:O})}var ft=D.filter(function(ht){return!fo(ht)});VT({currentField:v,fields:g,fieldValues:ft,facetCfg:y,hierarchy:w,parentNode:h,level:M,query:k,addMeasureInTotalQuery:u,addTotalMeasureInTotal:a})},Kc=function(o,s){return"".concat(o).concat(_i).concat(s)},VT=function(o){var s,a,u,h,v,g,y,w,M,A,L,O,D=o.currentField,k=o.fields,X=o.fieldValues,tt=o.facetCfg,ot=o.hierarchy,ft=o.parentNode,ht=o.level,pt=o.query,Wt=o.addMeasureInTotalQuery,de=o.addTotalMeasureInTotal,pe=tt.spreadsheet,Me=tt.collapsedCols,ze=tt.colCfg;try{for(var Oe=Ma(X.entries()),Ze=Oe.next();!Ze.done;Ze=Oe.next()){var tr=Ae(Ze.value,2),vr=tr[0],gr=tr[1],mr=gr instanceof $f,Je=gr instanceof UT,Xr=void 0,$r=void 0,sn=!1,Nr=!1,qn=!1,fn=D;if(mr)Nr=gr.isGrandTotals,qn=gr.isSubTotals,Xr=gi(gr.label),Wt?($r=ue(ue({},pt),((u={})[Jr]=null===(y=pe?.dataSet)||void 0===y?void 0:y.fields.values[0],u)),sn=!0):($r=pt,de||(sn=!0));else if(Je)Xr=gi(gr.label),$r=ue(ue({},pt),((h={})[Jr]=Xr,h)),fn=Jr,sn=!0;else if(pe.isTableMode())Xr=gr,fn=k[vr],$r=ue(ue({},pt),((v={})[fn]=Xr,v)),sn=!0;else{Xr=gr,$r=ue(ue({},pt),((g={})[D]=Xr,g));var qi=null===(M=null===(w=pe.dataCfg.fields)||void 0===w?void 0:w.valueInCols)||void 0===M||M,dn=ze?.hideMeasureColumn&&qi&&pa(k,Jr);sn=ht===k.length-(dn?2:1)}var mi=Kc(ft.id,Xr);if(!mi)return;var Ki=!!hl(Me?.[mi])&&Me?.[mi],Mn=new bi({id:mi,key:fn,value:Xr,level:ht,field:fn,parent:ft,isTotals:mr,isGrandTotals:Nr,isSubTotals:qn,isTotalMeasure:Je,isCollapsed:Ki,hierarchy:ot,query:$r,spreadsheet:pe,isLeaf:sn||Ki}),ra=j1(tt,ft,Mn,ot),xi=null===(A=pe?.facet)||void 0===A?void 0:A.getHiddenColumnsInfo(Mn);xi&&ft&&(ft.hiddenChildNodeInfo=xi),ht>ot.maxLevel&&!Nr&&!ft.isGrandTotals&&!ft.isSubTotals&&!Mn.isSubTotals&&(ot.sampleNodesForAllLevels.push(Mn),ot.maxLevel=ht,ot.sampleNodeForLastLevel=xi?(null===(L=xi?.displaySiblingNode)||void 0===L?void 0:L.next)||(null===(O=xi?.displaySiblingNode)||void 0===O?void 0:O.prev):Mn),sn||Ki||!ra?(Mn.isLeaf=!0,ot.pushIndexNode(Mn),Mn.rowIndex=ot.getIndexNodes().length-1):XT({addTotalMeasureInTotal:de,addMeasureInTotalQuery:Wt,parentNode:Mn,currentField:k[ht+1],fields:k,facetCfg:tt,hierarchy:ot})}}catch(It){s={error:It}}finally{try{Ze&&!Ze.done&&(a=Oe.return)&&a.call(Oe)}finally{if(s)throw s.error}}},$T=function(o,s,a,u){var h=s.facetCfg,v=s.hierarchy,g=s.parentNode,y=h.dataSet;o.forEach(function(w,M){"string"==typeof w&&(w={key:w});var A=w.key,L=A===rc?gi("\u5e8f\u53f7"):y.getFieldName(A),O=u||g;if(VT({currentField:A,fields:[A],fieldValues:[L],facetCfg:h,hierarchy:v,parentNode:O,level:a,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),w.children&&w.children.length){var D=O.children[M];D.isLeaf=!1,$T(w.children,s,a+1,D)}})},$o=function(o,s){return s>0&&o<s},Du=function(o,s,a){return s>0&&o>=a-s},Zp=function(o,s,a){return a>0&&o<s+a},Zf=function(o,s,a){return a>0&&o>=s+1-a},rx=function(o,s,a,u,h,v){var g=Bc(a,function(L,O){var D=o-(fi(v)?0:v)+h.x;return D>=L&&D<a[O+1]},0);g=Math.max(g,0);var y=Bc(a,function(L,O){var D=h.width+o+h.x;return D>=L&&D<a[O+1]},g);y=Math.min(-1===y?1/0:y,a.length-2);var w=u.getIndexRange(s+h.y,h.height+s+h.y);return[g,y,w.start,w.end]},s8=function(o,s,a){var h=Math.abs(o/s);return[(h<=.5?0:o)*a.horizontal,(h>2?0:s)*a.vertical]},Ms=function(o,s,a){var u,h,v=o?.getMatrix(),g=null!==(u=v?.[6])&&void 0!==u?u:0,y=null!==(h=v?.[7])&&void 0!==h?h:0;o?.translate(s-g,a-y)},nx=function(o,s){var a,u=o?.getMatrix(),h=null!==(a=u?.[6])&&void 0!==a?a:0;o?.translate(s-h,0)},l8=function(o,s,a,u){var h=s.frozenColCount,g=s.frozenTrailingColCount,y=s.frozenTrailingRowCount,w=o.colIndex,M=o.rowIndex;return Zp(M,u.start,s.frozenRowCount)?Hn.ROW:Zf(M,u.end,y)?Hn.TRAILING_ROW:$o(w,h)?Hn.COL:Du(w,g,a)?Hn.TRAILING_COL:Hn.SCROLL},ax=function(o,s,a){for(var u,h=o.frozenColCount,v=o.frozenRowCount,g=o.frozenTrailingColCount,y=o.frozenTrailingRowCount,w=((u={})[Hn.TOP]=[],u[Hn.BOTTOM]=[],u),M=0;M<h;M++){for(var A=a.start;A<a.start+v;A++)w[Hn.TOP].push({x:M,y:A});if(y>0)for(A=0;A<y;A++)w[Hn.BOTTOM].push({x:M,y:a.end-A})}for(M=0;M<g;M++){var O=s-1-M;for(A=a.start;A<a.start+v;A++)w[Hn.TOP].push({x:O,y:A});if(y>0)for(A=0;A<y;A++)w[Hn.BOTTOM].push({x:O,y:a.end-A})}return w},ja=function(o,s,a){var u=s,h=a,v=function(g){return g.isLeaf?1:g.children?g.children.reduce(function(y,w){return y+v(w)},0):0};return s&&(u=o.slice(0,s).reduce(function(g,y){return g+v(y)},0)),a&&(h=o.slice(o.length-a).reduce(function(g,y){return g+v(y)},0)),{colCount:u,trailingColCount:h}},Zo=function(o,s){return o.reduce(function(a,u){"string"==typeof u&&(u={key:u});var h=ue({},u);return h.children?(h.children=Zo(h.children,s),a.push(h),a):(s[h.key]&&a.push(h),a)},[])},Da=function(o){return"root"===o.parent.id},Bu=function(o){var s=function(o){var s=[],a=function(u){u.forEach(function(h){"string"!=typeof h&&h.children?a(h.children):s.push(h)})};return a(o),s}(o);return s.map(function(a){return"string"==typeof a?a:a.key})},Qc=function(o){var s=o.children[0];return s?s.isLeaf?s:Qc(s):o},c8="Data Cell Render",Ts=function(){function o(){var s=this;this.debug=!1,this.debugCallback=function(a,u){if(s.debug){var h=performance.now();u();var v=performance.now();console.log(a,"".concat(v-h," ms"))}else u()},this.logger=function(a){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];s.debug&&console.log.apply(console,Be([a],Ae(u),!1))}}return o.getInstance=function(){return o.instance||(o.instance=new o),o.instance},o.prototype.setDebug=function(s){this.debug=s},o}(),jT=Object.freeze({__proto__:null,ArrowDown:'\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="\u2193" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">\u2193</tspan>\n    </text>\n</g>\n</svg>',ArrowUp:'<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u9875\u9762-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="\u2191" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">\u2191</tspan>\n    </text>\n</g>\n</svg>\n',CellDown:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="\u4e00\u671f\u5f00\u53d1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',CellUp:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="\u4e00\u671f\u5f00\u53d1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',GlobalAsc:'<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',GlobalDesc:'<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',GroupAsc:'<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',GroupDesc:'<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',GroupNone:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="\u8bbe\u8ba1\u8f93\u51fa" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="\u8bbe\u8ba1\u8f93\u51fa-\u79fb\u52a8\u7aef\u6307\u6807\u8be6\u60c5\u9875-\u9605\u8bfb\u7aef" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="\u7f16\u7ec4-39" transform="translate(3064.500000, 667.000000)">\n            <g id="\u7f16\u7ec4-36" transform="translate(80.500000, 44.000000)">\n                <g id="\u4e0d\u6392\u5e8f" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="\u5f62\u72b6\u7ed3\u5408"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',Minus:'<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',Plus:'<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',SortDown:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUp:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',SortDownSelected:'<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',SortUpSelected:'<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',InfoCircle:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',ExpandColIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>\u7f16\u7ec4 8\u5907\u4efd 3</title>\n    <g id="----\u9690\u85cf\u5217\u6807\u6ce8\uff01" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="\u9690\u85cf\u5217\u6807\u6ce8" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="\u7f16\u7ec4-8\u5907\u4efd-3" transform="translate(275.000000, 824.000000)">\n                <rect id="\u77e9\u5f62" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="\u77e9\u5f62\u5907\u4efd-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="\u8def\u5f84-2\u5907\u4efd-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',Trend:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',DrillDownIcon:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',EyeOutlined:'<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>'}),tb={},eb=function(o,s){tb[Qm(o)]=s};vn(jT).forEach(function(o){eb(o,jT[o])});var cx="data:image/svg+xml",hx={},ml=function(o){function s(a){var u=o.call(this,a)||this;return u.isOnlineLink=function(h){return/^(https?:)?(\/\/)/.test(h)},u.render(),u}return Ir(s,o),s.prototype.getImage=function(a,u,h){var v=this;return new Promise(function(g,y){var w=function(o){return tb[Qm(o)]}(a);if(w){var M=new Image;M.onload=function(){hx[u]=M,g(M)},M.onerror=y,w.includes(cx)||v.isOnlineLink(w)?M.src=w:(h&&(w=(w=w.replace(/fill=[\'\"]#?\w+[\'\"]/g,"")).replace(/fill>/g,">")),w=w.replace("<svg","".concat("<svg",' fill="').concat(h,'"')),M.src="".concat(cx,";utf-8,").concat(encodeURIComponent(w)))}})},s.prototype.render=function(){var a=this,u=this.cfg,h=u.name,v=u.fill,g=Ic(this.cfg),y=ue(ue({},i1(g,"fill")),{type:s.type}),w=new lC({attrs:y}),M="".concat(h,"-").concat(v),A=hx[M];A?(w.attr("img",A),this.addShape("image",w)):this.getImage(h,M,v).then(function(L){a.destroyed||(w.attr("img",L),a.addShape("image",w))}).catch(function(L){console.error("GuiIcon ".concat(h," load failed"),L)}),this.iconImageShape=w},s.type="__GUI_ICON__",s}(ls),Un=(()=>(function(o){o.TOP="TOP",o.BOTTOM="BOTTOM",o.LEFT="LEFT",o.RIGHT="RIGHT"}(Un||(Un={})),Un))(),xl=(()=>(function(o){o.SUM="SUM",o.MIN="MIN",o.MAX="MAX",o.AVG="AVG"}(xl||(xl={})),xl))(),ei=(()=>(function(o){o.Row="row",o.Col="col",o.Series="series"}(ei||(ei={})),ei))(),b8=function(){function o(){this.store=new Map}return o.prototype.set=function(s,a){return this.store.set(s,a)},o.prototype.get=function(s,a){var u;return null!==(u=this.store.get(s))&&void 0!==u?u:a},o.prototype.clear=function(){this.store.clear()},o.prototype.size=function(){return this.store.size},o}(),qp=function(o,s,a){return o.sort(function(u,h){a&&(u=a(u),h=a(h));var v=s.indexOf(u),g=s.indexOf(h);return-1===v&&-1===g?0:-1===v?1:-1===g?-1:v-g})},Qf=function(o){return Cs(o,function(s){return!fo(s)&&"undefined"!==s})},fx=function(o){var s;return null===(s=vn(o))||void 0===s?void 0:s.reduce(function(a,u){var h=yr(o,u);return Array.isArray(h)?a=a.concat(fx(h)):a?.push(h),a},[])},nb=function(o){var s=[];if(Array.isArray(o))for(var u=(o.length+("undefined"in o?1:0)),h=0,v=function(){var g=h===o.length?o.undefined:o[h];h++,g&&"undefined"in g?vn(g).forEach(function(y){s.push(g[y])}):Array.isArray(g)?s.push.apply(s,Be([],Ae(g),!1)):s.push(g)};h<u;)v();else s.push(o);return s},vx=function(o,s){var a=[];return o?.forEach(function(u,h){void 0===u&&s[h]&&a.push(s[h])}),a},ab=function(o,s){return!Su(o,function(a){return s[a]})};function dx(o,s){var a=s.rows,u=s.columns;return ws(o,function(h,v){return ab([].concat(a).concat(u),v)&&h.push(v),h},[])}"KMBTP".split("");var Jc=function(o){return Number.parseFloat((Yi(o)||0).toPrecision(16))},bs=function(o,s,a){if(void 0===a&&(a=0),!Object.values(o).find(function(g){return g>0}))return o;var u=ue({},o);u.frozenColCount>=s&&(u.frozenColCount=s);var h=s-u.frozenColCount;u.frozenTrailingColCount>h&&(u.frozenTrailingColCount=h),u.frozenRowCount>=a&&(u.frozenRowCount=a);var v=a-u.frozenRowCount;return u.frozenTrailingRowCount>v&&(u.frozenTrailingRowCount=v),u};function xa(o,s,a){var u;return null===(u=o?.addShape)||void 0===u?void 0:u.call(o,"rect",ue({zIndex:1,attrs:s},a||{}))}function jc(o,s){var a;return null===(a=o?.addShape)||void 0===a?void 0:a.call(o,"circle",{attrs:s})}function Pu(o,s,a,u,h,v,g,y){var w;return!Ke(s)&&o&&br(s,function(M){o.contain(M)&&o.removeChild(M,!0)}),null===(w=o?.addShape)||void 0===w?void 0:w.call(o,"text",{attrs:ue(ue({x:a,y:u,text:h,originalText:y},v),g)})}function Ai(o,s,a){var u;return null===(u=o?.addShape)||void 0===u?void 0:u.call(o,"line",{zIndex:100,attrs:ue(ue({},s),a)})}function Ca(o,s,a){Ke(o)||(Mr(o)?o:[o]).forEach(function(h){Nf(h,"attrs.".concat(s),a)})}function Qp(o,s){var a=new ml(s);return o?.add(a),a}function lb(o,s,a,u,h){var v=new ml(ue(ue({name:u?"Plus":"Minus"},s),{fill:a}));return ci(h)&&v.on("click",h),o?.add(v),v}var e0,px="s2-offscreen-canvas",ub=function(o){var s;return null!==(s=o?.position)&&void 0!==s?s:"right"},Jp=function(o,s){var a,u,h,v=o.data,g=o.encode,y=o.type,w=s.getMeta(),M=w.x,A=w.y,L=w.height,O=w.width,D=s.getStyle(Ue.DATA_CELL),k=D.cell,X=D.miniChart,tt=[],ot=cn(v,function(vr){return tt.push(vr?.[g.y]),{x:vr[g.x],y:vr[g.y]}}),ft=vo(tt),ht=t1(tt),pt=ft-ht,Wt=M+k.padding.left,de=M+O-k.padding.right,pe=A+k.padding.top,Me=A+L-k.padding.bottom,ze=Me-pe,Oe=y===$s.Bar?(de-Wt-(tt.length-1)*(null===(a=X?.bar)||void 0===a?void 0:a.intervalPadding))/tt.length+(null===(u=X?.bar)||void 0===u?void 0:u.intervalPadding):null!==(h=(de-Wt)/(tt.length-1))&&void 0!==h?h:0,Ze=[];return{points:cn(ot,function(vr,gr){var mr,Xr,Je=Wt+gr*Oe;if(Xr=0!==pt?Me-(vr?.y-ht)/pt*ze:ht>0?pe:Me,y===$s.Bar){var $r=void 0,sn=void 0;ht<0&&ft>0&&0!==pt?($r=Me-(0-ht)/pt*ze,sn=Math.abs(Xr-$r),vr?.y<0&&(Xr=$r)):($r=ht<0?pe:Me,sn=0===(pt=vo([Math.abs(ft),Math.abs(ht)]))?ze:Math.abs(vr?.y-0)/pt*ze,Xr=$r);var Nr=Oe-(null===(mr=X?.bar)||void 0===mr?void 0:mr.intervalPadding);Ze.push([Nr,sn])}return[Je,Xr]}),box:Ze}},D8=function(o,s,a){var u=Number(s)-Number(o);return Number.isNaN(u)||Number(o)<0?a.bad:u<=.1?a.good:u>.1&&u<=.2?a.satisfactory:a.bad},jp=function(o,s){switch(s?.type){case $s.Line:!function(o,s){if(!Ke(o?.data)&&!Ke(s)){var h=s.getStyle(Ue.DATA_CELL).miniChart.line,v=h.point,g=h.linkLine,y=Jp(o,s).points;!function Kp(o,s){var a;null===(a=o?.addShape)||void 0===a||a.call(o,"polyline",{attrs:s})}(s,{points:y,stroke:g.fill,lineWidth:g.size,opacity:g.opacity});for(var w=0;w<y.length;w++)jc(s,{x:y[w][0],y:y[w][1],r:v.size,fill:v.fill,fillOpacity:v.opacity})}}(s,o);break;case $s.Bar:!function(o,s){if(!Ke(o?.data)&&!Ke(s))for(var h=s.getStyle(Ue.DATA_CELL).miniChart.bar,v=Jp(o,s),g=v.points,y=v.box,w=0;w<g.length;w++)xa(s,{x:g[w][0],y:g[w][1],width:y[w][0],height:y[w][1],fill:h.fill,fillOpacity:h.opacity})}(s,o);break;default:!function(o,s){var a,u=s.getStyle(Ue.DATA_CELL),h=s.getMeta(),v=h.x,g=h.y,y=h.height,w=h.width,M=h.spreadsheet;if(Ke(o))Pu(s,[],v+w-u.cell.padding.right,g+y/2,zu(s,M.options.placeholder),u.text);else{var A=u.miniChart.bullet,L=A.progressBar,O=A.comparativeMeasure,D=A.rangeColors,k=A.backgroundColor,X=o.measure,tt=o.target,ot=Math.max(Number(X),0),ft=Math.max(Number(tt),0),ht=function(o,s){var a,u;void 0===s&&(s={min:0,max:0});var h=Number(o);if(Number.isNaN(h))return o;var v=null!==(a=s?.min)&&void 0!==a?a:s,g=null!==(u=s?.max)&&void 0!==u?u:s;return new Intl.NumberFormat("en-US",{minimumFractionDigits:v,maximumFractionDigits:g,useGrouping:!1,style:"percent"}).format(h)}(X,2),Wt=u.cell.padding,de=w-Wt.left-Wt.right,pe=(L?.widthPercent>1?L?.widthPercent/100:L?.widthPercent)*de,Me=de-pe,ze=v+w-Wt.right-pe,Oe=g+y/2-L.height/2;xa(s,{x:ze,y:Oe,width:pe,height:L.height,fill:k,textBaseline:u.text.textBaseline});var Ze=yr(s.getMeta(),"spreadsheet.options.bullet.getRangeColor"),tr=Math.max(Math.min(pe*ot,pe),0);xa(s,{x:ze,y:Oe+(L.height-L.innerHeight)/2,width:tr,height:L.innerHeight,fill:null!==(a=Ze?.(ot,ft))&&void 0!==a?a:D8(ot,ft,D)});var vr=ze+pe*ft;Ai(s,{x1:vr,y1:g+(y-O.height)/2,x2:vr,y2:g+(y-O.height)/2+O.height},{stroke:O?.fill||O?.color,lineWidth:O.width,opacity:O?.opacity}),Pu(s,[],ze-Wt.right,g+y/2,ku({measureTextWidth:M.measureTextWidth,text:ht,maxWidth:Me-Wt.right,fontParam:u.text}),u.text)}}(s,o)}},hb=function(o,s){return{x:o.x+s?.left,y:o.y+s?.top,width:o.width-s?.left-s?.right,height:o.height-s?.top-s?.bottom}},fb=function(o){return If({size:0,position:"right",margin:{left:0,right:0}},o)},vb=function(o,s){return o-(s=fb(s)).size-s.margin.right-s.margin.left},t0=function(o,s,a){var u=o.y,h=o.height;void 0===a&&(a=0);var v=0;switch(s){case"top":v=u;break;case"middle":v=u+h/2-a/2;break;default:v=u+h-a}return v},th=function(o,s,a,u,h){void 0===a&&(a=0),void 0===h&&(h=1);var k,X,v=o.x,g=o.width,y=s.textAlign,w=s.textBaseline,M=fb(u),A=M.size,L=M.margin,O=M.position,D=h*(A+L.left)+(h?L.right:0);switch(y){case"left":k=v+("left"===O?D:0),X=v+("left"===O?L.left:a+L.left);break;case"center":var ot=v+g/2-(D-("left"===O?L.left:L.right)+a)/2;k=ot+a/2+("left"===O?D-L.left:0),X=ot+("left"===O?0:a+L.left);break;default:k=v+g-("right"===O?D:0),X=v+g-("right"===O?D-L.left:a+D-L.left)}return{text:{x:k,y:t0(o,w,0)},icon:{x:X,y:t0(o,w,A)}}},As=function(o,s,a){var D,k,X,tt,ot,u=s.x,h=s.y,v=s.width,g=s.height,y=a.horizontalBorderWidth,A=a.verticalBorderWidth;if(o===Un.TOP||o===Un.BOTTOM){var ft;k=ft=o===Un.TOP?h+A/2:h+g-A/2,tt=ft,D=u,X=u+v,ot={lineWidth:y,stroke:a.horizontalBorderColor,strokeOpacity:a.horizontalBorderColorOpacity}}if(o===Un.LEFT||o===Un.RIGHT){var ht;D=ht=o===Un.LEFT?u+y/2:u+v-y/2,X=ht,k=h,tt=h+g,ot={lineWidth:A,stroke:a.verticalBorderColor,strokeOpacity:a.verticalBorderColorOpacity}}return{position:{x1:D,x2:X,y1:k,y2:tt},style:ot}},gb=(ou(function(o,s){if(void 0===o&&(o=""),!s)return 0;var a=function(){var o=document.getElementById(px);return o||((o=document.createElement("canvas")).id=px,o.style.display="none",document.body.appendChild(o),o)}().getContext("2d"),v=s.fontFamily;return a.font=[s.fontStyle,s.fontVariant,s.fontWeight,"".concat(s.fontSize,"px"),v].join(" ").trim(),a.measureText("".concat(o)).width},function(o,s){return Be([o],Ae(Uo(s)),!1).join("")}),function(o,s,a,u){var g,v=o(Si,u);g=Mu(s)?s:yn(s);var M,A,y=a,w=[];if(o(s,u)<=a)return s;for(var L=!0;L;){if((A=o(M=g.substr(0,16),u))+v>y&&A>y){L=!1;break}if(w.push(M),y-=A,!(g=g.substr(16)))return w.join("")}for(var O=!0;O;){if((A=o(M=g.substr(0,1),u))+v>y){O=!1;break}if(w.push(M),y-=A,!(g=g.substr(1)))return w.join("")}return"".concat(w.join(""),"...")}),ku=function(o){var s=o.measureTextWidth,a=o.text,u=o.maxWidth,h=o.fontParam,v=o.priorityParam,y={},w=o.placeholder??"-",M=fi(a)||""===a?w:"".concat(a),A=v;if(h&&Mr(h)?A=h:y=h||{},!A||!A.length)return gb(s,M,u,y);var L=[],O=[M];A.forEach(function(tt){O.forEach(function(ot,ft){var ht=-1,pt=ot.match(new RegExp(tt));if(pt){var Wt=pt[0];ht=pt.index,L.push(Wt);var de=ht+Wt.length,ze=[ot.slice(0,ht),ot.slice(de)].filter(function(Oe){return!!Oe});O.splice.apply(O,Be([ft,1],Ae(ze),!1))}})}),O=L.concat(O);var D=M,k=s(Si,y),X=u;return O.forEach(function(tt){if(X<=0){var ot=D.indexOf(tt),ft=D.slice(ot-3,ot);if(ft&&ft!==Si){var ht=s(tt,y);D=D.replace(tt,ht>k?Si:tt)}else D=D.replace(tt,"");X-=k}else if(ht=s(tt,y),X<ht&&ht>k){var pt=gb(s,tt,X,y);D=D.replace(tt,pt),X=0}else X-=ht}),D},mb=function(o,s,a,u){void 0===u&&(u="left");var h=s.right,g=a||0;return"left"===u?o+h/2+g:"right"===u?o-h/2-g:o+s.left/2+g},N8=function(o){var v=o.textStyle,g=o.textCondition,y=v.fill;return g?.mapping&&(y=g?.mapping(o.data,{rowIndex:o.rowIndex,colIndex:o.colIndex,meta:o.meta}).fill),ue(ue({},v),{fill:y})},zu=function(o,s){return ci(s)?s(o):s},xx=function(o,s){return void 0===s&&(s=1),o?.width*s};function Cb(o,s){return!(!o||!s)&&String(o).toLowerCase()===String(s).toLowerCase()}var r0=function(o,s){var a=o.getColumnNodes().find(function(u){return u.id===s});return o.isPivotMode()?a?.value:a?.field},wl=function(o,s){var a=s.getColumnNodes().find(function(h){return h.colIndex===o}),u=r0(s,a.id);return s.options.interaction.copyWithFormat?s.dataSet.getFieldFormatter(u):function(h){return h}},_b=function(o,s,a){return wl(o.colIndex,a)(function(o,s,a){var u,h;if(a.isPivotMode()){var v=Ae(function(o,s){var a=o.rowIndex,u=o.colIndex;return[s.getRowNodes().find(function(h){return h.rowIndex===a}),s.getColumnNodes().find(function(h){return h.colIndex===u})]}(o,a),2),g=v[0],y=v[1],w=function(o){var s,a,u,h;return(null===(h=null===(u=null===(a=o.options)||void 0===a?void 0:a.style)||void 0===u?void 0:u.colCfg)||void 0===h?void 0:h.hideMeasureColumn)&&o.isValueInCols()?((s={})[Jr]=o.dataCfg.fields.values[0],s):{}}(a);return null!==(u=a.dataSet.getCellData({query:ue(ue(ue({},g.query),y.query),w),rowNode:g,isTotals:g.isTotals||g.isTotalMeasure||y.isTotals||y.isTotalMeasure})?.[no])&&void 0!==u?u:""}var A=function(o,s){var a=s.getColumnNodes().find(function(u){return u.colIndex===o});return r0(s,a.id)}(o.colIndex,a);return null===(h=s[o.rowIndex])||void 0===h?void 0:h[A]}(o,s,a))},Cx=function(o){return/\n/.test(o)?'"'+o.replace(/\r\n?/g,"\n")+'"':o},Jf=function(o,s){var a=o.split(_i);return s?a.slice(a.length-s):(a.shift(),a)},Dn=(()=>(function(o){o.PLAIN="text/plain",o.HTML="text/html"}(Dn||(Dn={})),Dn))(),n0=((e0={})[Dn.PLAIN]=function(o){return{type:Dn.PLAIN,content:cn(o,function(s){return s.join("\t")}).join("\r\n")}},e0[Dn.HTML]=function(o){return{type:Dn.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(function a(u,h){return u.map(function(v){return"<".concat(h,">").concat(function s(u,h){return u.map(function(v){return"<".concat(h,">").concat(Pm(v),"</").concat(h,">")}).join("")}(v,"td"),"</").concat(h,">")}).join("")}(o,"tr"),"</tbody></table>")}},e0);function Bi(o){return n0[o]}var wx=function(o,s,a){var u,h,v,g,y,w,M=null!==(h=null===(u=o[0])||void 0===u?void 0:u.length)&&void 0!==h?h:0,A=null!==(v=s?.length)&&void 0!==v?v:0,L=null!==(y=null===(g=a[0])||void 0===g?void 0:g.length)&&void 0!==y?y:0,O=null!==(w=a.length)&&void 0!==w?w:0,D=M+L,k=A+O,X=Array.from(Array(k),function(){return new Array(D)});return X=cn(X,function(tt,ot){return cn(tt,function(ft,ht){return ht>=0&&ht<M&&ot>=0&&ot<A?"":ht>=M&&ht<=D&&ot>=0&&ot<A?s[ot][ht-M]:ht>=0&&ht<M&&ot>=A&&ot<k?o[ot-A][ht]:ht>=M&&ht<=D&&ot>=A&&ot<k?a[ot-A][ht-M]:void 0})}),[Bi(Dn.PLAIN)(X),Bi(Dn.HTML)(X)]},Tb=function(o,s,a){return cn(o,function(u){return s.map(function(h){var v,g=a.dataSet.getCellData({query:ue(ue({},u.query),h.query),rowNode:u,isTotals:u.isTotals||u.isTotalMeasure||h.isTotals||h.isTotalMeasure});return wl(h.colIndex,a)(null!==(v=g?.[no])&&void 0!==v?v:"")})})},q8=function(o,s,a){var u=Tb(s,a,o);return[Bi(Dn.PLAIN)(u),Bi(Dn.HTML)(u)]},K8=function(o,s,a){var u=cn(s,function(g){return Jf(g.id)}),h=Br.apply(void 0,Be([],Ae(cn(a,function(g){return Jf(g.id)})),!1)),v=Tb(s,a,o);return wx(u,h,v)};function bb(o,s,a){return o.options.interaction.copyWithHeader?K8(o,s,a):q8(o,s,a)}var tv=function(o,s,a){return s.isPivotMode()?function(o,s){var a=o.getRowNodes().filter(function(v){return v.isLeaf||o.isHierarchyTreeType()}),u=o.getColumnNodes().filter(function(v){return v.isLeaf}),h=s.length?s.reduce(function(v,g){return v.push.apply(v,Be([],Ae(u.filter(function(y){return y.id.startsWith(g.id)})),!1)),v},[]):u;return bb(o,a,h)}(s,a):function(o,s){var a=o.dataSet.getDisplayDataSet(),u=s.length?s.map(function(v){return{field:r0(o,v.id),formatter:wl(v.colIndex,o)}}):o.dataCfg.fields.columns.map(function(v){return o.getColumnNodes().find(function(g){return g.field===v})}).map(function(v){return{field:r0(o,v.id),formatter:wl(v.colIndex,o)}}),h=a.map(function(v){return u.map(function(g){return Cx((0,g.formatter)(v[g.field]))})});return[Bi(Dn.PLAIN)(h),Bi(Dn.HTML)(h)]}(s,a)};var eD=function(o,s,a){return cn(s,function(u){var h;return null!==(h=o[u])&&void 0!==h?h:a})},Lb=function(o){var s,h,a=o.interaction,u=a.getState().cells||[],v=null!==(s=a.getInteractedCells())&&void 0!==s?s:[];return h=!Ke(v)&&Su(v,function(y){return y.cellType===Ue.ROW_CELL||y.cellType===Ue.COL_CELL})?function Eb(o){var s,a=function j8(o){var s=new Set;return br(o,function(a){var u=a.getMeta().level;s.has(u)||s.add(u)}),s}(o),u=null!==(s=vo(Array.from(a)))&&void 0!==s?s:0,h=function tD(o,s){return Cs(o,function(a){var u=a.getMeta(),h=u.level===s,v=u.isTotals&&Ke(u.children);return h||v})}(o,u),v=o[0].cellType===Ue.COL_CELL,g=function rh(o,s,a){return cn(o,function(u){var h=u.getMeta(),v=h.id,w=h.level,M=v;return h.isTotals&&w!==s&&(M=v+_i+UM(h.label,s-w)),Jf(M,a.size)})}(h,u,a);return v&&(g=Br.apply(void 0,Be([],Ae(g),!1))),[Bi(Dn.PLAIN)(g),Bi(Dn.HTML)(g)]}(v):function nD(o,s){var a,u,h=s.filter(function(A){return A.type===Ue.COL_CELL}),v=s.filter(function(A){return A.type===Ue.ROW_CELL}),g=o.dataSet.getDisplayDataSet();if(o.interaction.getCurrentStateName()===pr.ALL_SELECTED)u=tv(0,o,[]);else if(h.length)u=tv(0,o,h);else if(v.length)u=function(o,s,a){return s.isPivotMode()?function(o,s){var a=o.getRowNodes().filter(function(v){return v.isLeaf||o.isHierarchyTreeType()}),u=o.getColumnNodes().filter(function(v){return v.isLeaf}),h=s.reduce(function(v,g){return v.push.apply(v,Be([],Ae(a.filter(function(y){return y.id.startsWith(g.id)})),!1)),v},[]);return bb(o,h,u)}(s,a):function(o,s){var u=o.dataSet.getDisplayDataSet().filter(function(h,v){return s.map(function(g){return g.rowIndex}).includes(v)}).map(function(h){return Object.keys(h).map(function(v){return o.getColumnNodes().find(function(g){return g.field===v})}).filter(Boolean).map(function(v){return Cx(wl(v.colIndex,o)(h[v.field]))})});return[Bi(Dn.PLAIN)(u),Bi(Dn.HTML)(u)]}(s,a)}(0,o,v);else{if(!s.length)return;var y=function(o){if(!o?.length)return[];var s=Ae([{row:1/0,col:1/0},{row:0,col:0}],2),a=s[0],u=s[1];o.forEach(function(w){var M=w.rowIndex,A=w.colIndex;a.col=Math.min(A,a.col),a.row=Math.min(M,a.row),u.col=Math.max(A,u.col),u.row=Math.max(M,u.row)});var h=Ae([u.row-a.row+1,u.col-a.col+1],2),g=h[1],y=new Array(h[0]).fill("").map(function(){return new Array(g).fill("")});return o.forEach(function(w){var L=Ae([w.rowIndex-a.row,w.colIndex-a.col],2);y[L[0]][L[1]]=w}),y}(s);if(o.interaction.getSelectedCellHighlight().currentRow){var M=o1(s,"rowIndex","asc").map(function(A){return o.dataSet.getRowData(A)});u=function(o,s){var u=o.dataCfg.fields,h=u.rows,v=u.columns,g=u.values,y=zu(o,o.options.placeholder),w=o.getColumnLeafNodes(),M=[];if(o.isTableMode()){var A=Cs(w,function(k){return k.field!==rc});M=cn(s,function(k){return cn(A,function(X){var tt;return null!==(tt=k?.[X.field])&&void 0!==tt?tt:y})})}else if(o.isPivotMode()){var L=Be(Be(Be([],Ae(h),!1),Ae(v),!1),Ae(g),!1);M=ws(fx(s).filter(function(k){return Be(Be([],Ae(h),!1),Ae(v),!1).every(function(X){return!fi(k[X])})}),function(k,X){return Be(Be([],Ae(k),!1),[eD(X,L,y)],!1)},[])}return[Bi(Dn.PLAIN)(M),Bi(Dn.HTML)(M)]}(o,M)}else u=null!==(a=o.options.interaction)&&void 0!==a&&a.copyWithHeader?function(o,s,a){var u=Br.apply(void 0,Be([],Ae(cn(o[0],function(g){var y,w,M=null!==(w=null===(y=g.id.split("-"))||void 0===y?void 0:y[1])&&void 0!==w?w:"";return Jf(M)})),!1)),h=cn(o,function(g){var y,w,M=null!==(w=null===(y=g[0].id.split("-"))||void 0===y?void 0:y[0])&&void 0!==w?w:"";return Jf(M)}),v=cn(o,function(g){return cn(g,function(y){return _b(y,s,a)})});return wx(h,u,v)}(y,g,o):function(o,s,a){var u=s.map(function(h){return h.map(function(v){return v?Cx(_b(v,o,a)):""})});return[Bi(Dn.PLAIN)(u),Bi(Dn.HTML)(u)]}(g,y,o)}return u}(o,u),h&&aD(h),function jf(o,s){return void 0===s&&(s=Dn.PLAIN),Array.isArray(s)?[].concat(o).filter(function(a){return s.includes(a.type)}).map(function(a){return a.content}):[].concat(o).filter(function(a){return a?.type===s}).map(function(a){return a.content})[0]||""}(h,Dn.PLAIN)},Ib=function(o){return new Promise(function(s,a){var u;u=Array.isArray(o)?yr(o.filter(function(g){return g.type===Dn.PLAIN}),"[0].content",""):o.content||"";var h=document.createElement("textarea");h.value=u,document.body.appendChild(h),h.focus({preventScroll:!0}),h.select();var v=document.execCommand("copy");document.body.removeChild(h),v?s():a()})},aD=function(o,s){var a;return void 0===s&&(s=!1),a="string"==typeof o?{content:o,type:Dn.PLAIN}:o,navigator.clipboard&&window.ClipboardItem&&!s?function(o){return navigator.clipboard.write([new ClipboardItem([].concat(o).reduce(function(s,a){var u,h=a.type,v=a.content;return ue(ue({},s),((u={})[h]=new Blob([v],{type:h}),u))},{}))]).catch(function(){return Ib(o)})}(a):Ib(a)},Es=function(o,s,a){var u,h=o.split(_i);if(a)u=[o];else{u=[Kc(h[0],h[1])];for(var v=2;v<h.length;v+=1)u.push(Kc(u[v-2],h[v]))}return Cs(s,function(y){var w;return u.includes(null===(w=y.getMeta())||void 0===w?void 0:w.id)})},pD=function(o,s){return"function"==typeof o?o(s):o.some(function(a){return a===s.key||a===s.id||a===s.valueField})},to=function(o){function s(a,u){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];var g=o.call(this,{})||this;return g.textShapes=[],g.actualTextWidth=0,g.conditionIconShapes=[],g.stateShapes=new Map,g.meta=a,g.spreadsheet=u,g.theme=u.theme,g.conditions=g.spreadsheet.options.conditions,g.handleRestOptions.apply(g,Be([],Ae(h),!1)),g.shouldInit()&&g.initCell(),g}return Ir(s,o),s.prototype.getMeta=function(){return this.meta},s.prototype.setMeta=function(a){this.meta=a},s.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},s.prototype.getTextAndIconPosition=function(a){void 0===a&&(a=1);var u=this.getTextStyle(),h=this.getIconStyle();return th(this.getContentArea(),u,this.actualTextWidth,h,a)},s.prototype.getActualText=function(){return this.actualText},s.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},s.prototype.handleRestOptions=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u]},s.prototype.shouldInit=function(){var a=this.meta;return a.width>0&&a.height>0},s.prototype.getStyle=function(a){return yr(this.theme,a||this.cellType)},s.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},s.prototype.shouldDrawResizeAreaByType=function(a,u){var h=this.spreadsheet.options.interaction.resize;return hl(h)?h:ci(h.visible)?h.visible(u):h[a]},s.prototype.getCellArea=function(){var a=this.meta;return{x:a.x,y:a.y,height:a.height,width:a.width}},s.prototype.getContentArea=function(){var u=(this.getStyle()||this.theme.dataCell)?.cell.padding;return hb(this.getCellArea(),u)},s.prototype.getIconPosition=function(a){return void 0===a&&(a=1),this.getTextAndIconPosition(a).icon},s.prototype.drawTextShape=function(){var a=this.getFormattedFieldValue().formattedValue,u=this.getMaxTextWidth(),h=this.getTextStyle(),v=this.spreadsheet,y=v.measureTextWidth,w=zu(this,v.options.placeholder),M=ku({measureTextWidth:y,text:a,maxWidth:u,fontParam:h,placeholder:w});this.actualText=M,this.actualTextWidth=y(M,h);var A=this.getTextPosition();this.textShape=Pu(this,[this.textShape],A.x,A.y,M,h),this.textShapes.push(this.textShape)},s.prototype.drawLinkFieldShape=function(a,u){if(a){if(!Wn(this.spreadsheet.options.style.device)){var v=this.getTextStyle(),y=this.getTextPosition().x;"center"===v.textAlign?y-=this.actualTextWidth/2:"right"===v.textAlign&&(y-=this.actualTextWidth);var w=this.textShape.getBBox().maxY;this.linkFieldShape=Ai(this,{x1:y,y1:w+1,x2:y+this.actualTextWidth,y2:w+1},{stroke:u,lineWidth:1})}this.textShape.attr({fill:u,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},s.prototype.updateByState=function(a,u){var h=this;this.spreadsheet.interaction.setInteractedCells(u),br(yr(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(a)),function(g,y){vn(a1(TC,function(M){return pa(M,y)})).forEach(function(M){var A=h.stateShapes.has(M),L=A?h.stateShapes.get(M):h[M],O=Mr(L)?L:[L];A&&O.forEach(function(k){k.set("visible",!0)}),"interactiveBorderShape"===M&&"borderWidth"===y&&ga(g)&&br(h.getInteractiveBorderShapeStyle(g),function(k,X){Ca(O,X,k)}),Ca(O,oa[y],g)})})},s.prototype.getInteractiveBorderShapeStyle=function(a){var u=this.getCellArea(),w=this.theme.dataCell.cell,M=w.horizontalBorderWidth,A=w.verticalBorderWidth;return{x:u.x+A/2+a/2,y:u.y+M/2+a/2,width:u.width-A-a,height:u.height-M-a}},s.prototype.hideInteractionShape=function(){this.stateShapes.forEach(function(a){Ca(a,oa.backgroundOpacity,0),Ca(a,oa.backgroundColor,"transparent"),Ca(a,oa.borderOpacity,0),Ca(a,oa.borderWidth,1),Ca(a,oa.borderColor,"transparent")})},s.prototype.clearUnselectedState=function(){Ca(this.backgroundShape,oa.backgroundOpacity,1),Ca(this.textShapes,oa.textOpacity,1),Ca(this.linkFieldShape,oa.opacity,1)},s.prototype.getTextShape=function(){return this.textShape},s.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},s.prototype.addTextShape=function(a){a&&this.textShapes.push(a)},s.prototype.getConditionIconShape=function(){return this.conditionIconShape},s.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},s.prototype.addConditionIconShape=function(a){a&&this.conditionIconShapes.push(a)},s.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(s.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),s.prototype.drawConditionIconShapes=function(){var a,u=this.findFieldCondition(null===(a=this.conditions)||void 0===a?void 0:a.icon);if(u&&u.mapping){var h=this.mappingValue(u),v=this.getIconPosition(),g=this.theme.dataCell.icon.size;Ke(h?.icon)||(this.conditionIconShape=Qp(this,ue(ue({},v),{name:h.icon,width:g,height:g,fill:h.fill})),this.addConditionIconShape(this.conditionIconShape))}},s.prototype.getTextConditionFill=function(a){var u,h,v=a.fill,g=this.findFieldCondition(null===(u=this.conditions)||void 0===u?void 0:u.text);return g?.mapping&&(v=(null===(h=this.mappingValue(g))||void 0===h?void 0:h.fill)||a.fill),v},s}(ls),mo=function(o,s){return s?s(o[Jr],o[no]):o[no]},Ba=function(o,s){var a=s.getMeta().id;return o.some(function(u){return Vi(u.id,a)})},nv=function(o,s){return"".concat(o).concat("-").concat(s)},Sx=function(o){return o.type===Ue.DATA_CELL},_l=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),s.prototype.handleByStateName=function(a,u){Ba(a,this)&&this.updateByState(u)},s.prototype.handleSearchResult=function(a){Ba(a,this)&&(ai(a,function(h){return h?.isTarget}).id===this.getMeta().id?this.updateByState(pr.HIGHLIGHT):this.updateByState(pr.SEARCH_RESULT))},s.prototype.handleSelect=function(a){var u;switch(null===(u=a?.[0])||void 0===u?void 0:u.type){case Ue.COL_CELL:this.changeRowColSelectState("colIndex");break;case Ue.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case Ue.DATA_CELL:!function(o){var s=o.interaction.getSelectedCellHighlight();return s.currentRow||s.currentCol||s.rowHeader||s.colHeader}(this.spreadsheet)?Ba(a,this)?this.updateByState(pr.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(pr.UNSELECTED):function(o,s,a){var u=a.interaction.getSelectedCellHighlight(),h=u.rowHeader,v=u.colHeader,g=u.currentRow,y=u.currentCol,w=s.cellType===Ue.ROW_CELL,M=a.isTableMode()&&a.options.showSeriesNumber&&h&&w;(g||M)&&function(o,s){br(o,function(a){Sx(a)&&a.rowIndex===s.getMeta().rowIndex&&s.updateByState(pr.SELECTED)})}(o,s),y&&function(o,s){br(o,function(a){Sx(a)&&a.colIndex===s.getMeta().colIndex&&s.updateByState(pr.SELECTED)})}(o,s),(h||v)&&function(o,s){br(o,function(a){Sx(a)&&a.rowIndex===s.getMeta().rowIndex&&a.colIndex===s.getMeta().colIndex&&s.updateByState(pr.SELECTED)})}(o,s)}(a,this,this.spreadsheet)}},s.prototype.handleHover=function(a){var u=cl(a);u.type===Ue.DATA_CELL?(this.spreadsheet.options.interaction.hoverHighlight&&(this.meta.colIndex===u?.colIndex||this.meta.rowIndex===u?.rowIndex?this.updateByState(pr.HOVER):this.hideInteractionShape()),Vi(u.id,this.getMeta().id)&&this.updateByState(pr.HOVER_FOCUS)):this.hideInteractionShape()},s.prototype.update=function(){var a=this.spreadsheet.interaction.getCurrentStateName(),u=this.spreadsheet.interaction.getCells();if(a!==pr.ALL_SELECTED){if(!Ke(u)&&a)switch(a){case pr.SELECTED:this.handleSelect(u);break;case pr.HOVER_FOCUS:case pr.HOVER:this.handleHover(u);break;case pr.SEARCH_RESULT:this.handleSearchResult(u);break;default:this.handleByStateName(u,a)}}else this.updateByState(pr.SELECTED)},s.prototype.setMeta=function(a){o.prototype.setMeta.call(this,a),this.initCell()},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},s.prototype.getDefaultTextFill=function(a){var u=a.fill,h=this.getBackgroundColor(),g=h.intelligentReverseTextColor;return Vf(h.backgroundColor)&&a.fill===Ug&&g&&(u=Cd),u},s.prototype.getTextStyle=function(){var u=this.meta.isTotals?this.theme.dataCell.bolderText:this.theme.dataCell.text,h=this.getTextConditionFill(ue(ue({},u),{fill:this.getDefaultTextFill(u)}));return ue(ue({},u),{fill:h})},s.prototype.getIconStyle=function(){var a,u=this.theme.dataCell.icon,h=u.size,v=u.margin,g=this.findFieldCondition(null===(a=this.conditions)||void 0===a?void 0:a.icon);return g&&g.mapping&&{size:h,margin:v,position:ub(g)}},s.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=function(o){var s,a,u,h,v,g;if(!Ke(o)){var y=o.getCellArea(),w=y.x,M=y.y,A=y.height,L=y.width,O=o.findFieldCondition(null===(s=o.cellConditions)||void 0===s?void 0:s.interval);if(O&&O.mapping){var D=o.mappingValue(O);if(!D)return;var k=D.isCompare?D:o.valueRangeByField,X=Jc(k.minValue),tt=Jc(k.maxValue),ot=fi(D?.fieldValue)?Jc(o.getMeta().fieldValue):Jc(D?.fieldValue);if(ot<X||ot>tt)return;var ft=null!==(u=null===(a=o.getStyle().miniChart.interval)||void 0===a?void 0:a.height)&&void 0!==u?u:o.getStyle().cell.miniBarChartHeight,ht=null!==(v=null===(h=o.getStyle().miniChart.interval)||void 0===h?void 0:h.fill)&&void 0!==v?v:o.getStyle().cell.miniBarChartFillColor,pt=function(o,s){void 0===o&&(o=0),void 0===s&&(s=0),o=Jc(o),s=Jc(s);var a=o>=0,u=s>=0&&o<=0,v=u?0:a?o:s,g=s-o;return function(y){var w=a?0:1;return{zeroScale:u?fu(Math.abs(0-o)/g,0,1):w,scale:fu((y-v)/g,-1,1)}}}(X,tt),Wt=pt(ot);return xa(o,{x:w+L*Wt.zeroScale,y:M+A/2-ft/2,width:L*Wt.scale,height:ft,fill:null!==(g=D.fill)&&void 0!==g?g:ht})}}}(this)},s.prototype.shouldHideRowSubtotalData=function(){var a,u=(null!==(a=this.spreadsheet.options.totals)&&void 0!==a?a:{}).row,g=this.spreadsheet.facet.layoutResult.rowLeafNodes[this.meta.rowIndex];return"tree"===this.spreadsheet.options.hierarchyType&&!(void 0===u?{}:u).showSubTotals&&!g?.isGrandTotals&&g?.isTotals},s.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:"-"};var a=this.meta,u=a.rowId,h=a.valueField,v=a.fieldValue,g=a.data,y=this.spreadsheet.dataSet.getFieldMeta(u);return{value:v,formattedValue:this.spreadsheet.dataSet.getFieldFormatter(y?u:h)(v,g,this.meta)}},s.prototype.getMaxTextWidth=function(){var a=this.getContentArea().width;return vb(a,this.getIconStyle())},s.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},s.prototype.getBackgroundColor=function(){var a,u=this.getStyle().cell,h=u.crossBackgroundColor,v=u.backgroundColorOpacity,g=this.getStyle().cell.backgroundColor;if(h&&this.meta.rowIndex%2==0&&(g=h),this.shouldHideRowSubtotalData())return{backgroundColor:g,backgroundColorOpacity:v};var y=this.findFieldCondition(null===(a=this.conditions)||void 0===a?void 0:a.background),w=!1;if(y&&y.mapping){var M=this.mappingValue(y);M&&(g=M.fill,w=M.intelligentReverseTextColor)}return{backgroundColor:g,backgroundColorOpacity:v,intelligentReverseTextColor:w}},s.prototype.drawBackgroundShape=function(){var a=this.getBackgroundColor(),u=a.backgroundColor,h=a.backgroundColorOpacity;this.backgroundShape=xa(this,ue(ue({},this.getCellArea()),{fill:u,fillOpacity:h}))},s.prototype.drawInteractiveBorderShape=function(){var u=this.getCellArea();this.stateShapes.set("interactiveBorderShape",xa(this,{x:u.x+1,y:u.y+1,width:u.width-2,height:u.height-2},{visible:!1}))},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",xa(this,ue({},this.getCellArea()),{visible:!1}))},s.prototype.changeRowColSelectState=function(a){var u=this.spreadsheet.interaction,h=yr(this.meta,a),v=u.getState(),g=v.nodes,y=void 0===g?[]:g,w=v.cells,M=void 0===w?[]:w;(this.spreadsheet.isTableMode()&&y.length?y[0].hierarchy.getLeaves().some(function(O,D){return!!y.some(function(k){return k===O})&&D===h}):Be(Be([],Ae(y),!1),Ae(M),!1).some(function(O){return yr(O,a)===h}))?this.updateByState(pr.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(pr.UNSELECTED):this.hideInteractionShape()},s.prototype.drawBorderShape=function(){var a=this;[Un.BOTTOM,Un.RIGHT].forEach(function(u){var h=As(u,a.getCellArea(),a.getStyle().cell);Ai(a,h.position,h.style)})},s.prototype.findFieldCondition=function(a){var u=this;return zm(a,function(h){return h.field instanceof RegExp?h.field.test(u.meta.valueField):h.field===u.meta.valueField})},s.prototype.mappingValue=function(a){var u=this.meta.fieldValue,h=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return a?.mapping(u,h)},s.prototype.updateByState=function(a){if(o.prototype.updateByState.call(this,a,this),a===pr.UNSELECTED){var u=yr(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(a));u&&this.toggleConditionIntervalShapeOpacity(u.opacity)}},s.prototype.clearUnselectedState=function(){o.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},s.prototype.toggleConditionIntervalShapeOpacity=function(a){Ca(this.conditionIntervalShape,oa.backgroundOpacity,a),Ca(this.conditionIconShapes,oa.opacity,a)},s.prototype.drawLeftBorder=function(){var a=As(Un.LEFT,this.getCellArea(),this.getStyle().cell);Ai(this,a.position,a.style)},s}(to),CD=function(o){function s(a,u,h){return o.call(this,h,a,u)||this}return Ir(s,o),s.prototype.handleRestOptions=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var h=Ae(a,1);this.cells=h[0]},Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.MERGED_CELL},enumerable:!1,configurable:!0}),s.prototype.update=function(){},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},s.prototype.drawBackgroundShape=function(){var a=b7(this.cells),u=this.theme.dataCell.cell;this.backgroundShape=function sb(o,s){var a;return null===(a=o?.addShape)||void 0===a?void 0:a.call(o,"polygon",{attrs:s})}(this,{points:a,stroke:u.horizontalBorderColor,fill:u.backgroundColor,lineHeight:u.horizontalBorderWidth})},s.prototype.drawTextShape=function(){Ke(this.meta)||(Cn(this.meta.fieldValue)?function(o,s,a){var u,h,v,g;void 0===a&&(a=!0);var y=o.getContentArea(),w=y.x,M=y.y,A=y.height,L=y.width,O=s||o.getMeta().fieldValue,D=O.values,k=o.getMeta().spreadsheet,X=k.options,tt=k.measureTextWidth,ot=X.style.cellCfg.valuesCfg,ft=null===(h=null===(u=X?.conditions)||void 0===u?void 0:u.text)||void 0===h?void 0:h[0],ht=null===(g=null===(v=X?.conditions)||void 0===v?void 0:v.icon)||void 0===g?void 0:g[0];if(Mr(D)){var pt=ot?.widthPercent,Wt=0;if(O?.label){var pe=o.getStyle(Ue.DATA_CELL).bolderText,Me=Pu(o,[],w,M+(Wt=A/(D.length+1))/2,ku({measureTextWidth:tt,text:O.label,maxWidth:L,fontParam:pe}),pe);o.addTextShape(Me)}for(var gr,ze=function(o){var s,a,u=o.getMeta().isTotals,h=null===(a=(s=o).isMeasureField)||void 0===a?void 0:a.call(s),v=o.getStyle(h?Ue.COL_CELL:Ue.DATA_CELL);return{cellStyle:v,textStyle:h?v.measureText:u?v.bolderText:v.text}}(o),Ze=ze.textStyle,tr=ze.cellStyle?.icon,vr=ht&&ht.mapping&&{size:tr?.size,margin:tr?.margin,position:ht?.position},mr=function(o,s,a){for(var M,A,L,u=o.x,h=o.y,v=o.width,y=o.height/bu(s),w=[],O=0,D=cn(a,function(ot){return ot>1?ot/100:ot}),k=0;k<bu(s);k++){A=h+y*k;var X=[];M=u,O=0;for(var tt=0;tt<bu(s[k]);tt++)L=Ke(D)?v/bu(s[0]):v*D[tt],M=mb(u,{left:0,right:0},O,"left"),O+=L,X.push({x:M,y:A,width:L,height:y});w.push(X)}return w}({x:w,y:M+Wt,height:A-Wt,width:L},D,pt),Je=0;Je<D.length;Je++)for(var Xr=Ic(D[Je]),$r=0;$r<Xr.length;$r++){gr=Xr[$r];var sn=a?N8({rowIndex:Je,colIndex:$r,meta:o?.getMeta(),data:gr,textStyle:Ze,textCondition:ft}):Ze,Nr=o?.getMeta().spreadsheet.options.placeholder,qn=zu(o?.getMeta(),Nr),fn=vb(mr[Je][$r].width,tr),Zi=ku({measureTextWidth:tt,text:gr,maxWidth:fn,fontParam:sn,placeholder:qn}),qi=tt(Zi,Ze),dn=th(mr[Je][$r],Ze,qi,vr,ht?1:0);if(Me=Pu(o,[],dn.text.x,dn.text.y,Zi,sn,{},gr?.toString()),o.addTextShape(Me),ht&&a){var ri=ht?.mapping(gr,{rowIndex:Je,colIndex:$r,meta:o?.getMeta()});if(ri){var mi=Qp(o,ue(ue({},dn.icon),{name:ri.icon,width:tr?.size,height:tr?.size,fill:ri.fill}));o.addConditionIconShape(mi)}}}}else jp(o,D)}(this):o.prototype.drawTextShape.call(this))},s}(_l),SD=function(o,s){return ai(s,function(a){return Vi(a[0],o[1])})},b7=function(o){var s=[];o.forEach(function(g){var y=g.getMeta();s=s.concat(function(o,s,a,u){var h=[o,s],v=[o+a,s],g=[o+a,s+u],y=[o,s+u];return[[h,v],[v,g],[g,y],[y,h]]}(y.x,y.y,y.width,y.height))}),s=function(o){var s=[];return br(o,function(a){var u=[a[1],a[0]];JSON.stringify(o).includes(JSON.stringify(u))||s.push(a)}),s}(s);for(var a=[],u=s[0],h=u,v=[];!Vi(u,v);)a=a.concat(h),h=v=SD(h,s);return a},Db=function(o,s,a){var u;void 0===a&&(a=[]);var h=function(o,s){var h,a=[],u=[];return br(o,function(v){var g=ai(s,function(y){var w,M=null===(w=y?.getMeta)||void 0===w?void 0:w.call(y);if(M?.colIndex===v?.colIndex&&M?.rowIndex===v?.rowIndex)return y});g?(a.push(g),h=v?.showText?g?.getMeta():h):u.push(v)}),{cells:a,invisibleCellInfo:u,cellsMeta:h}}(a,o),g=h.cells,y=h.invisibleCellInfo,w=h.cellsMeta,M=g;if(y?.length>0&&y.length<a.length){var L=function(o,s){var u,a=[];return br(o,function(h){var v,g,y,w=null===(g=null===(v=s?.facet)||void 0===v?void 0:v.layoutResult)||void 0===g?void 0:g.getCellMeta(h.rowIndex,h.colIndex);if(w){var M=null===(y=s?.facet)||void 0===y?void 0:y.cfg.dataCell(w);u=h?.showText?w:u,a.push(M)}}),{cells:a,cellsMeta:u}}(y,s);w=w||L.cellsMeta,M=g.concat(L.cells)}return!Ke(g)&&!w&&(w=null===(u=M[0])||void 0===u?void 0:u.getMeta()),{cells:M,viewMeta:w}},Tx=function(o,s,a){return o.options.mergedCell?o.options.mergedCell(o,s,a):new CD(o,s,a)},TD=function(o,s,a){var u,h=s||function(o){var a=o.interaction.getActiveCells(),u=[];return br(a,function(h,v){var g=h.getMeta();u.push(ue(ue({},0===v?{showText:!0}:{}),{colIndex:g?.colIndex,rowIndex:g?.rowIndex}))}),u}(o);if(h?.length<=1)console.error("then merged cells must be more than one");else{var v=o.interaction.getPanelGroupAllDataCells(),g=Db(v,o,h),y=g.cells,w=g.viewMeta;if(!Ke(y)){var M=(null===(u=o.options)||void 0===u?void 0:u.mergedCellsInfo)||[];M.push(h),o.setOptions({mergedCellsInfo:M}),o.panelScrollGroup.addMergeCell(Tx(o,y,a?void 0:w))}}},bD=function(o,s){var a,u,h;if(s&&s.cellType===Ue.MERGED_CELL){var v=function(o,s){var a=cn(o.cells,function(u){return{colIndex:u.getMeta().colIndex,rowIndex:u.getMeta().rowIndex}});return Cs(s,function(u){return!Vi(u.map(function(v){return v.showText?{colIndex:v.colIndex,rowIndex:v.rowIndex}:v}),a)})}(s,null===(a=o.options)||void 0===a?void 0:a.mergedCellsInfo);v?.length!==(null===(h=null===(u=o.options)||void 0===u?void 0:u.mergedCellsInfo)||void 0===h?void 0:h.length)&&(o.setOptions({mergedCellsInfo:v}),s.remove(!0))}else console.error("unmergeCell: the ".concat(s," is not a MergedCell"))},Pb=function(o,s){return fp(o,s,function(a,u){return Vi(a.viewMeta.id,u.viewMeta.id)})},kb=function(o){return o.includes(_i)?"id":"field"},LD=function(o,s){void 0===s&&(s=[]);var a=o.getInitColumnLeafNodes();return el(s.map(function(u){var h=kb(u);return a.find(function(v){return v[h]===u})}))},Hb=function(o,s,a){void 0===s&&(s=[]),void 0===a&&(a=!1);var u=function(A,L){void 0===A&&(A=[]),void 0===L&&(L=[]),o.setOptions({interaction:{hiddenColumnFields:A}}),o.interaction.reset(),o.store.set("hiddenColumnsDetail",L),o.render(!1,{reBuildHiddenColumnsDetail:!1})};if(Ke(s)&&a)u();else{var h=o.store.get("hiddenColumnsDetail",[]),v=o.options.interaction.hiddenColumnFields;if(!Vi(s,v)||a){var g=dl(Be(Be([],Ae(s),!1),Ae(v),!1)),y=function(o,s){if(void 0===s&&(s=[]),Ke(s))return{prev:null,next:null};var a=o.getInitColumnLeafNodes(),u=LD(o,s).map(function(w){return w?.colIndex}),h=Math.max.apply(Math,Be([],Ae(u),!1)),v=Math.min.apply(Math,Be([],Ae(u),!1)),g=a.find(function(w){return w.colIndex===h+1});return{prev:a.find(function(w){return w.colIndex===v-1})||null,next:g||null}}(o,s),w={hideColumnNodes:LD(o,s),displaySiblingNode:y},M=Be(Be([],Ae(h),!1),[w],!1);o.emit(_e.LAYOUT_COLS_HIDDEN,w,M),u(g,M)}}},bx=function(o,s,a){void 0===s&&(s=[]),void 0===a&&(a=!1),Ke(s)&&a&&Hb(o,s,!0);var u=function(o){var s=o.dataCfg.fields.columns,a=void 0===s?[]:s;return o.isTableMode()?a:o.getInitColumnLeafNodes().map(function(u){return u.id})}(o),v=function(o,s){if(Ke(s))return[];var a=Number.NEGATIVE_INFINITY;return o.reduce(function(u,h,v){return s.includes(h)?(v===a+1?_n(u).push(h):u.push([h]),a=v,u):u},[])}(Bu(u),s);v.forEach(function(g){Hb(o,g,a)})},Ax=function(o,s){return function(o){var s=function(o){return o?.next||o?.prev}(o);return s?.id}(o)===s},o0=function(o){var s=o.type,a=o.id,u=o.theme,h=o.width,v=o.height,g=Zg(o,["type","id","theme","width","height"]),y=s===Ni.Horizontal?u.size:null,w=s===Ni.Vertical?u.size:null;return{fill:u.background,fillOpacity:u.backgroundOpacity,cursor:"".concat(s,"-resize"),width:y,height:w,appendInfo:ue(ue({},g),{isResizeArea:!0,type:s,id:a,width:h,height:v,size:u.size})}},iv=function(o,s){if(o.foregroundGroup)return o.foregroundGroup.findById(s)||o.foregroundGroup.addGroup({id:s,zIndex:5})},Ex=function(o,s,a){var u=a??{},h=u.scrollX,v=void 0===h?0:h,g=u.scrollY,y=void 0===g?0:g;return!(o.x-v>s.x+s.width||o.x+o.width-v<s.x||o.y-y>s.y+s.height||o.y+o.height-y<s.y)},Lx=function(o,s,a){var u=ai(o,function(v){return function(o,s,a){if(!o)return!1;var u=o.iconNames,h=o.displayCondition,v=o.belongsCell;return!Ke(u)&&v===a&&(!h||u.some(function(g){return h(s,g)}))}(v,s,a)});if(u){var h=u.iconNames;return u.displayCondition&&(h=h.filter(function(v){return u.displayCondition(s,v)})),ue(ue({},u),{iconNames:h})}},Yb=function(o,s){var a=o.label;return Vi(o.field,Jr)?{formattedValue:s||a,value:a}:{formattedValue:a,value:a}};function Wb(o,s){return s.map(function(a){var u=o[a];return void 0===u?u:"".concat(u)})}function Ub(o){return o.map(function(s){var a=s?.split(_i);return a[a?.length-1]||s})}function av(o){var a=o.colDimensionValues,u=o.careUndefined,h=o.isFirstCreate,v=o.onFirstCreate,g=o.rowFields,y=o.colFields,w=o.rowPivotMeta,M=o.colPivotMeta,A=function(k,X,tt,ot){void 0===X&&(X=!0);for(var ft=X?tt:ot,ht=X?g:y,pt=[],Wt=0;Wt<k.length;Wt++){var de=k[Wt];if(!ft.has(de))if(h)ft.set(de,{level:ft.size,children:new Map}),v?.({isRow:X,dimension:ht?.[Wt],dimensionPath:k.slice(0,Wt+1)});else{var pe=ft.get(de);if(pe&&pt.push(pe.level),!u)break}var Me=ft.get(de);fo(de)&&u?pt.push(de):pt.push(Me?.level),Me&&(h&&(Me.childField=ht?.[Wt+1]),ft=Me?.children)}return pt},L=A(o.rowDimensionValues,!0,w,M),O=A(a,!1,w,M);return L.concat.apply(L,Be([],Ae(O),!1))}function Hu(o,s){return ws(o,function(a,u){return a.push(s[u]),a},[])}function s0(o){var s=o.rows,a=o.columns,u=o.originData,h=void 0===u?[]:u,v=o.indexesData,g=void 0===v?[]:v,y=o.totalData,w=void 0===y?[]:y,M=o.sortedDimensionValues,A=o.rowPivotMeta,L=o.colPivotMeta,O=[],D=new Set(Um(s,a)),k=function(tt){var ft=tt.dimension,ht=tt.dimensionPath;!tt.isRow&&D.has(ft)||(M[ft]||(M[ft]=[])).push(ht.map(function(pt){return"".concat(pt)}).join(_i))};return h.concat(w).forEach(function(tt){var ht=av({rowDimensionValues:Wb(tt,s),colDimensionValues:Wb(tt,a),rowPivotMeta:A,colPivotMeta:L,isFirstCreate:!0,onFirstCreate:k,careUndefined:w?.length>0,rowFields:s,colFields:a});O.push(ht),Nf(g,ht,tt)}),{paths:O,indexesData:g,rowPivotMeta:A,colPivotMeta:L,sortedDimensionValues:M}}function Vb(o,s){if(o&&s){var a=s.split(_i),u=_n(a),h=o;br(a,function(v,g){var y=h.get(v);return y?(v===u?(y.children=new Map,y.childField=void 0):h=y.children,!0):0===g&&v===Na})}}var ih=function(o){return"ASC"===Yc(o)},Ix=function(o){return"DESC"===Yc(o)},$b=function(o){return!aM(Number(o))},Zb=function(o,s,a){var u=ih(s)?1:-1,h=["-",void 0];return o?.sort(function(v,g){var y=v,w=g;if(a){if(w=g[a],$b(y=v[a])&&$b(w))return(Number(y)-Number(w))*u;if(y&&h?.includes(y?.toString()))return-u;if(Number(y)&&h?.includes(w?.toString()))return u}return fi(y)||fi(w)?y?u:-u:y.toString().localeCompare(w.toString(),"zh")*u})},qb=function(o,s,a){return a?function(o,s){var a;return null===(a=o?.filter(function(u){return!s?.includes(u)}))||void 0===a?void 0:a.concat(s)}(s,dl(o)):Be([],Ae(new Set(Be(Be([],Ae(o),!1),Ae(s),!1))),!1)},Kb=function(o){var s=o.sortByValues,a=o.originValues,h=a.filter(function(y){return s.find(function(w){return TS(y,w)})}).map(function(y){var w=y.split(_i);return w.length>1?[w.slice(0,w.length-1).join(_i),w[w.length-1]]:w}),v=Array.from(new Set(h.map(function(y){return y[0]})));h.sort(function(y,w){var M=y.slice(0,y.length-1),A=w.slice(0,w.length-1);return M.join()!==A.join()?v.indexOf(M[0])-v.indexOf(A[0]):s.indexOf(y[y.length-1])-s.indexOf(w[w.length-1])});var g=h.map(function(y){return y.join(_i)});return qp(a,g)},PD=function(o){var s=o.sortParam,a=o.originValues,g=s.sortMethod,y=s.sortBy,w=a,M={originValues:a,measureValues:o.measureValues,sortParam:s,dataSet:o.dataSet};return s.sortFunc?w=function(o){var s=o.originValues,u=o.sortParam,h=o.dataSet,g=u.sortFieldId,y=u.sortMethod,w=(0,u.sortFunc)(ue({data:o.measureValues},u));return w?.length?(h.fields.rows.indexOf(g)>0||h.fields.columns.indexOf(g)>0)&&!pa(w[0],_i)?Kb({sortByValues:w,originValues:s}):qb(w,s,ih(y)):s}(M):y?w=Kb({sortByValues:y,originValues:a}):(ih(g)||Ix(g))&&(w=function(o){var D,s=o.sortParam,a=o.measureValues,u=o.originValues,v=s.sortByMeasure,g=s.query,y=s.sortFieldId,w=s.sortMethod,M=o.dataSet.fields,A=M.rows,L=M.columns,O=A.includes(y);if(v){var k=Zb(a,w,v===pC?g[Jr]:v);D=function Xb(o,s,a){var u,h=s.slice(0,s.indexOf(o)+1);return null===(u=a.map(function(v){return h.map(function(g){return v[g]}).join("".concat(_i))}))||void 0===u?void 0:u.filter(function(v){return v})}(y,O?A:Bu(L),k)}else D=cn(Zb(a,w));return qb(D,u,ih(w))}(M)),w},Qb=function(o){return o.filter(function(s){return s!==Jr})},ND=function(o){var v,s=o.dataSet,a=o.sortParam,u=o.originValues;return v=o.isSortByMeasure?function(o){var s=o.dataSet,a=o.sortParam,u=o.originValues,h=s.fields,v=a.sortByMeasure,g=a.query,y=a.sortFieldId,w=s.getMultiData(g),M=Bu(h.columns);if(v!==pC){var A=xu(h.rows,M);return w.filter(function(ft){var ht=new Set(vn(ft));return A.every(function(pt){return ht.has(pt)})})}var L=pa(h.rows,y),O=Qb(L?h.rows:M),D=Qb(L?M:h.rows),k=O[O.indexOf(y)+1],X=vn(g),tt=D.filter(function(ft){return!X.includes(ft)}),ot=w.filter(function(ft){var ht=new Set(vn(ft));return!(!ht.has(y)||ht.has(k))&&tt.every(function(Wt){return!ht.has(Wt)})});return Ke(ot)?el(cn(u,function(ft){var ht=function(o,s,a){var u,h={};if(pa(o,_i))for(var g=JM(o,_i),y=null!==(u=s?.rows)&&void 0!==u&&u.includes(a)?s.rows:Bu(s.columns),w=0;w<=qS(y,a);w++)h[y[w]]=g[w];else h[a]=o;return h}(ft,h,y);return s.getTotalValue(ue(ue({},g),ht))})):ot}(o):u,PD({sortParam:a,originValues:u,measureValues:v,dataSet:s})},Ox=function(o,s){if(o?.sortMethod){if(ih(o?.sortMethod))return"groupAsc";if(Ix(o?.sortMethod))return"groupDesc"}if(s)return"SortDown"},Rx=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.handleRestOptions=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var h=Ae(a,1);this.headerConfig=ue({},h[0]);var g=this.meta,y=g.value,w=g.query,M=this.spreadsheet.dataCfg.sortParams,A=this.isSortCell(),L=ai(Be([],Ae(M),!1).reverse(),function(D){return A&&D?.sortByMeasure===y&&Vi(yr(D,"query"),w)}),O=Ox(L,A);this.headerConfig.sortParam=ue(ue(ue({},this.headerConfig.sortParam),L||{query:w}),{type:O})},s.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},s.prototype.getInteractiveBorderShapeStyle=function(a){var u=this.getCellArea();return{x:u.x+a,y:u.y+a,width:u.width-2*a,height:u.height-2*a}},s.prototype.getFormattedFieldValue=function(){var a=this.meta.label,u=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),h=this.spreadsheet.isTableMode();return{formattedValue:u&&!h?u(a,void 0,this.meta):a,value:a}},s.prototype.getActionIconCfg=function(){return Lx(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},s.prototype.showSortIcon=function(){var a=this.spreadsheet,u=a.options,v=Ke(a.dataCfg.fields.values);if(u.showDefaultHeaderActionIcon&&!v){var g=this.headerConfig.sortParam,y=this.meta.query;return y&&Vi(g?.query,y)&&g?.type&&"none"!==g?.type}return!1},s.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var a=this.getActionIconCfg();return a?a.iconNames.length:0},s.prototype.getActionIconsWidth=function(){var a=this.getStyle().icon;return(a.size+a.margin.left)*this.getActionIconsCount()},s.prototype.drawSortIcons=function(){var a=this;if(this.showSortIcon()){var u=this.getStyle(),h=u.icon,g=this.getTextConditionFill(u.text),y=this.headerConfig.sortParam,w=this.getIconPosition(),M=new ml(ue(ue({name:yr(y,"type","none")},w),{width:h.size,height:h.size,fill:g}));M.on("click",function(A){a.spreadsheet.emit(_e.GLOBAL_ACTION_ICON_CLICK,A),a.spreadsheet.handleGroupSort(A,a.meta)}),this.add(M),this.actionIcons.push(M)}},s.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},s.prototype.addActionIcon=function(a){var u=this,h=a.x,v=a.y,g=a.iconName,y=a.defaultHide,w=a.action,M=a.onClick,A=a.onHover,L=this.getStyle(),O=L.icon,k=this.getTextConditionFill(L.text),tt=new ml({name:g,x:h,y:v,width:O?.size,height:O?.size,fill:O?.fill||k});tt.set("visible",!y),tt.on("mouseover",function(ot){u.spreadsheet.emit(_e.GLOBAL_ACTION_ICON_HOVER,ot),A?.({hovering:!0,iconName:g,meta:u.meta,event:ot})}),tt.on("mouseleave",function(ot){u.spreadsheet.emit(_e.GLOBAL_ACTION_ICON_HOVER_OFF,ot),A?.({hovering:!1,iconName:g,meta:u.meta,event:ot})}),tt.on("click",function(ot){var ft;u.spreadsheet.emit(_e.GLOBAL_ACTION_ICON_CLICK,ot),null===(ft=M||w)||void 0===ft||ft({iconName:g,meta:u.meta,event:ot})}),this.actionIcons.push(tt),this.add(tt)},s.prototype.drawActionIcons=function(){var a=this;if(this.showSortIcon())this.drawSortIcons();else{var u=this.getActionIconCfg();if(u){var h=u.iconNames,v=u.action,g=u.onClick,y=u.onHover,w=u.defaultHide,M=this.getIconPosition(h.length),A=this.getStyle().icon,L=A.size,O=A.margin;br(h,function(D,k){var X=M.x+k*L+k*O.left,tt=M.y,ot="function"==typeof w?w(a.meta,D):w;ot&&(a.hasDefaultHiddenIcon=!0),a.addActionIcon({iconName:D,x:X,y:tt,defaultHide:ot,action:v,onClick:g,onHover:y})})}}},s.prototype.drawBackgroundShape=function(){var a=this.getBackgroundColor(),u=a.backgroundColor,h=a.backgroundColorOpacity;this.backgroundShape=xa(this,ue(ue({},this.getCellArea()),{fill:u,fillOpacity:h}))},s.prototype.isSortCell=function(){var a,u,h,v=null===(u=null===(a=this.meta.spreadsheet)||void 0===a?void 0:a.isValueInCols)||void 0===u?void 0:u.call(a),g=this.meta.level===(null===(h=this.meta.hierarchy)||void 0===h?void 0:h.maxLevel);return v?g&&this.cellType===Ue.COL_CELL:g&&this.cellType===Ue.ROW_CELL},s.prototype.handleByStateName=function(a,u){Ba(a,this)&&this.updateByState(u)},s.prototype.handleSearchResult=function(a){Ba(a,this)&&(ai(a,function(h){return h?.isTarget}).id===this.getMeta().id?this.updateByState(pr.HIGHLIGHT):this.updateByState(pr.SEARCH_RESULT))},s.prototype.handleHover=function(a){var u;Ba(a,this)&&(this.updateByState(pr.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(u=a?.[0])||void 0===u?void 0:u.id))},s.prototype.handleSelect=function(a,u){Ba(a,this)&&this.updateByState(pr.SELECTED),pa(cn(u,"id"),this.meta.id)&&this.updateByState(pr.SELECTED)},s.prototype.getTextStyle=function(){var g,a=this.getStyle(),u=a.text,h=a.bolderText,v=a.measureText;g=this.isMeasureField()?v||u:this.isBolderText()?h:u;var y=this.getTextConditionFill(g);return ue(ue({},g),{fill:y})},s.prototype.getBackgroundColor=function(){var a,u,h=(null===(a=this.getStyle())||void 0===a?void 0:a.cell)||{},g=h.backgroundColorOpacity,y=h.backgroundColor,w=this.findFieldCondition(null===(u=this.conditions)||void 0===u?void 0:u.background);if(w&&w.mapping){var M=this.mappingValue(w);M&&(y=M.fill)}return{backgroundColor:y,backgroundColorOpacity:g}},s.prototype.toggleActionIcon=function(a){if(this.getMeta().id===a){var u=[];br(this.actionIcons,function(h){h.get("visible")||(h.set("visible",!0),u.push(h))}),this.spreadsheet.store.set("visibleActionIcons",u)}},s.prototype.update=function(){var a=this.spreadsheet.interaction,u=a?.getState(),h=a?.getCells([Ue.COL_CELL,Ue.ROW_CELL]);if(cl(h))switch(u?.stateName){case pr.SELECTED:this.handleSelect(h,u?.nodes);break;case pr.HOVER_FOCUS:case pr.HOVER:this.handleHover(h);break;case pr.SEARCH_RESULT:this.handleSearchResult(h);break;default:this.handleByStateName(h,u?.stateName)}},s.prototype.updateByState=function(a){o.prototype.updateByState.call(this,a,this)},s.prototype.hideInteractionShape=function(){o.prototype.hideInteractionShape.call(this)},s.prototype.isMeasureField=function(){return[Jr,ck].includes(this.meta.field)},s.prototype.mappingValue=function(a){var u=this.getMeta().label;return a?.mapping(u,this.meta)},s.prototype.findFieldCondition=function(a){var u=this;return zm(a,function(h){return h.field instanceof RegExp?h.field.test(u.meta.field):h.field===u.meta.field})},s}(to),ov=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.COL_CELL},enumerable:!1,configurable:!0}),s.prototype.initCell=function(){o.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",xa(this,ue({},this.getCellArea()),{visible:!1}))},s.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",xa(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},s.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getActionIconsWidth()},s.prototype.getIconPosition=function(){if(this.meta.isLeaf)return o.prototype.getIconPosition.call(this,this.getActionIconsCount());var a=this.getIconStyle(),u=a.margin.left,h=this.getTextStyle(),v=this.textPosition,g=v.x,y=v.y-a.size/2;return"left"===h.textAlign?{x:g+this.actualTextWidth+u,y}:"right"===h.textAlign?{x:g+u,y}:{x:g+this.actualTextWidth/2+u,y}},s.prototype.isBolderText=function(){var a=this.meta;return!(!a.isTotals&&a.isLeaf)},s.prototype.getTextPosition=function(){var a,u=this.meta.isLeaf,h=this.headerConfig,v=h.width,g=h.scrollContainsRowHeader,y=h.cornerWidth,w=h.scrollX,M=this.getTextStyle(),A=this.getContentArea(),L=this.getIconStyle();if(u)return th(A,M,this.actualTextWidth,L,this.getActionIconsCount()).text;var O={start:w-(g?y:0),width:v+(g?y:0)};this.handleViewport(O);var D=this.getTextStyle().textAlign,k=function(o,s,a){void 0===a&&(a={left:0,right:0});var u=ue({},o);return"left"===s?(u.start+=a.left,u.width-=a.left):"right"===s&&(u.width-=a.right),u}(O,D,null===(a=this.getStyle().cell)||void 0===a?void 0:a.padding),X=this.getActionIconsWidth(),ot=function(o,s,a){var v,g,u=s.start+s.width,h=o.start+o.width;if(s.start<=o.start&&u>=h)v=o.start+o.width/2,g=o.width;else if(s.start<=o.start)v=(y=s.width-(o.start-s.start))<a?u-a/2:u-y/2,g=y;else if(u>=h){var y;v=(y=s.width-(u-h))<a?s.start+a/2:s.start+y/2,g=y}else v=s.start+s.width/2,g=s.width;return{start:v,width:g}}(k,{start:A.x,width:A.width},this.actualTextWidth+X),ft=function(o,s,a,u){var h=s+a,v=o.start;if("center"===u)return v-a/2;var y=o.width-h>0?o.width/2:h/2;return"left"===u?v-y:v+y-a}(ot,this.actualTextWidth,X,D);return this.textPosition={x:ft,y:A.y+A.height/2},this.textPosition},s.prototype.getActionIconsWidth=function(){var a=this.getStyle().icon,u=a.size,h=a.margin,v=this.getActionIconsCount();return(u+h.left)*v+(v>0?h.right:0)},s.prototype.getColResizeAreaKey=function(){return this.meta.key},s.prototype.getColResizeArea=function(){return iv(this.spreadsheet,wC)},s.prototype.getHorizontalResizeAreaName=function(){return"".concat(Wh).concat(this.meta.key)},s.prototype.drawHorizontalResizeArea=function(){var a,u;if(0!==(null===(u=null===(a=this.spreadsheet.options.style)||void 0===a?void 0:a.colCfg)||void 0===u?void 0:u.height)&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var v=this.headerConfig,g=v.cornerWidth,y=v.viewportWidth,w=this.meta,M=w.y,A=w.height,L=this.getResizeAreaStyle(),O=this.getColResizeArea(),D=this.getHorizontalResizeAreaName();if(!O.find(function(tt){return tt.attrs.name===D})){var X=g+y;O.addShape("rect",{attrs:ue(ue({},o0({theme:L,type:Ni.Vertical,id:this.getColResizeAreaKey(),effect:Hi.Field,offsetX:0,offsetY:M,width:X,height:A,meta:this.meta})),{name:D,x:0,y:M+A-L.size/2,width:X})})}}},s.prototype.shouldAddVerticalResizeArea=function(){var a=this.meta,u=a.x,h=a.y,v=a.width,g=a.height,y=this.headerConfig,w=y.scrollX,M=y.scrollY,A=y.scrollContainsRowHeader,L=y.cornerWidth,O=y.height,D=y.width,k=this.getResizeAreaStyle();return Ex({x:u+v-k.size/2,y:h,width:k.size,height:g},{x:A?-L:0,y:0,width:A?L+D:D,height:O},{scrollX:w,scrollY:M})},s.prototype.getVerticalResizeAreaOffset=function(){var a=this.meta,v=this.headerConfig,y=v.position;return{x:y.x+a.x-v.scrollX,y:y.y+a.y}},s.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var a=this.meta,u=a.label,h=a.width,v=a.height,g=this.getResizeAreaStyle(),y=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var w=this.getVerticalResizeAreaOffset(),M=w.x,A=w.y;y.addShape("rect",{attrs:ue(ue({},o0({theme:g,type:Ni.Horizontal,effect:Hi.Cell,id:u,offsetX:M,offsetY:A,width:h,height:v,meta:this.meta})),{x:M+h-g.size/2,y:A,height:v})})}}},s.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},s.prototype.drawHorizontalBorder=function(){var a=As(Un.TOP,this.meta,this.theme.colCell.cell);Ai(this,a.position,a.style)},s.prototype.drawVerticalBorder=function(a){var u=As(a,this.meta,this.theme.colCell.cell);Ai(this,u.position,u.style)},s.prototype.drawBorders=function(){var a=this.spreadsheet,u=a.options;0===this.meta.colIndex&&(0,a.isTableMode)()&&!u.showSeriesNumber&&this.drawVerticalBorder(Un.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(Un.RIGHT)},s.prototype.hasHiddenColumnCell=function(){var a=this,u=this.spreadsheet.options,h=u.interaction.hiddenColumnFields,v=void 0===h?[]:h,g=u.tooltip.operation,y=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(Ke(y)||Ke(v)||!g.hiddenColumns||!y.find(function(w){return Ax(w?.displaySiblingNode,a.meta.id)}))},s.prototype.getExpandIconTheme=function(){return this.getStyle().icon},s.prototype.addExpandColumnSplitLine=function(){var a=this.meta,u=a.x,h=a.y,v=a.width,g=a.height,y=this.theme.splitLine,w=y.horizontalBorderColor,M=y.horizontalBorderWidth,A=y.horizontalBorderColorOpacity,L=this.isLastColumn()?u+v-M:u;Ai(this,{x1:L,y1:h,x2:L,y2:h+g},{stroke:w,lineWidth:M,strokeOpacity:A})},s.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcon())},s.prototype.addExpandColumnIcon=function(){var a=this,u=this.getExpandColumnIconConfig();Qp(this,ue(ue({},u),{name:"ExpandColIcon",cursor:"pointer"})).on("click",function(){a.spreadsheet.emit(_e.LAYOUT_COLS_EXPANDED,a.meta)})},s.prototype.getExpandColumnIconConfig=function(){var a=this.getExpandIconTheme().size,u=this.getCellArea(),v=u.y,g=u.width,y=u.height,w=u.x-a;return{x:this.isLastColumn()?w+g:w,y:v+y/2-a/2,width:2*a,height:a}},s.prototype.isLastColumn=function(){return function(o,s){var a=o.getColumnNodes(),u=o.getInitColumnLeafNodes(),h=kb(s);return yr(_n(a),h)===s&&yr(_n(u),h)!==s}(this.spreadsheet,this.meta.id)},s.prototype.handleViewport=function(a){return a},s}(Rx),Jb=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.isBolderText=function(){return this.meta.cornerType===ei.Col},Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.CORNER_CELL},enumerable:!1,configurable:!0}),s.prototype.update=function(){},s.prototype.initCell=function(){o.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea()},s.prototype.drawCellText=function(){this.drawTextShape()},s.prototype.drawTextShape=function(){var a=this.getContentArea().x,u=this.getCellArea(),h=u.y,v=u.height,g=this.getTextStyle(),y=this.getCornerText(),w=this.getMaxTextWidth(),M=zu(this.meta,this.spreadsheet.options.placeholder),A=this.spreadsheet.measureTextWidth,L=ku({measureTextWidth:A,text:y,maxWidth:w,fontParam:g,placeholder:M});this.actualText=L;var O=L.indexOf(Si),D=L,k="";if(-1!==O&&this.spreadsheet.isHierarchyTreeType()){var X=O+(function HT(){return/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width}()?1:0);D=y.substr(0,X),k=y.slice(X),k=ku({measureTextWidth:A,text:k,maxWidth:w,fontParam:g})}var tt=function(o,s){return th(o,s).text}({x:a+this.getTreeIconWidth(),y:h,width:w,height:v},g).x,ot=h+(Ke(k)?v/2:v/4);this.addTextShape(Pu(this,[this.textShapes[0]],tt,ot,D,g)),Ke(k)||this.addTextShape(Pu(this,[this.textShapes[1]],tt,h+.75*v,k,g)),this.actualTextWidth=vo([A(D,g),A(k,g)])},s.prototype.drawTreeIcon=function(){var a=this;if(this.showTreeIcon()&&this.meta.cornerType!==ei.Col){var u=this.headerConfig.hierarchyCollapse,h=this.getStyle().icon.size,v=this.getTextStyle(),g=v.textBaseline,y=v.fill,w=this.getContentArea();this.treeIcon=lb(this,{x:w.x,y:t0(w,g,h),width:h,height:h},y,u,function(){a.headerConfig.spreadsheet.store.set("scrollY",0),a.headerConfig.spreadsheet.emit(_e.LAYOUT_TREE_ROWS_COLLAPSE_ALL,u)})}},s.prototype.drawBorderShape=function(){var a=this;[Un.TOP,Un.LEFT].forEach(function(u){var h=As(u,a.getCellArea(),a.getStyle().cell);Ai(a,h.position,h.style)})},s.prototype.isLastRowCornerCell=function(){var a=this.meta,h=a.field,v=this.headerConfig.rows;return a.cornerType===ei.Row&&(this.spreadsheet.isHierarchyTreeType()||_n(v)===h)},s.prototype.getResizeAreaEffect=function(){return this.meta.cornerType===ei.Series?Hi.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?Hi.Tree:Hi.Field},s.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var a=this.getResizeAreaStyle(),u=iv(this.spreadsheet,Ng),h=this.headerConfig,v=h.position,g=h.scrollX,M=h.height,A=this.meta,L=A.x,O=A.y,D=A.width,k=A.height,X=A.field;if(A.cornerType!==ei.Col&&Ex({x:L+D-a.size/2,y:O,width:a.size,height:k},{x:0,y:0,width:h.width,height:M},{scrollX:g,scrollY:h.scrollY})){var ht=v.x+L-g,pt=v.y+(this.isLastRowCornerCell()?0:O);u.addShape("rect",{attrs:ue(ue({},o0({theme:a,id:X,type:Ni.Horizontal,effect:this.getResizeAreaEffect(),offsetX:ht,offsetY:pt,width:D,height:k,meta:this.meta})),{x:ht+D-a.size/2,y:pt,height:this.isLastRowCornerCell()?M:k})})}}},s.prototype.showTreeIcon=function(){var a;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(a=this.meta)||void 0===a?void 0:a.x)},s.prototype.getIconPosition=function(){var a,u,h=null===(u=null===(a=this.textShapes)||void 0===a?void 0:a[0])||void 0===u?void 0:u.cfg.attrs,v=this.getTextStyle(),g=v.textBaseline,y=v.textAlign,w=this.getStyle().icon,M=w.size,A=w.margin;return{x:h?.x+wm([[Sp("center"),Bo(this.actualTextWidth/2)],[Sp("right"),Bo(0)],[S1,Bo(this.actualTextWidth)]])(y)+A.left,y:t0(this.getContentArea(),g,M)}},s.prototype.getTreeIconWidth=function(){var a=this.getStyle().icon,u=a.size,h=a.margin;return this.showTreeIcon()?u+h.right:0},s.prototype.getTextStyle=function(){var a=this.getStyle(),u=a.text,h=a.bolderText,v=this.isBolderText()?u:h,g=this.getTextConditionFill(v);return ue(ue({},v),{fill:g})},s.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTreeIconWidth()-this.getActionIconsWidth()},s.prototype.getTextPosition=function(){return{x:0,y:0}},s.prototype.getFormattedFieldValue=function(){return Yb(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},s.prototype.getCornerText=function(){var a;return Vi(this.meta.label,Jr)?(null===(a=this.spreadsheet.options)||void 0===a?void 0:a.cornerText)||gi("\u6307\u6807"):this.getFormattedFieldValue().formattedValue},s}(Rx),l0=function(){function o(s){this.EVENT="gesture",this.gm=s}return o.prototype.do=function(s){switch(s.type){case"touchstart":this.onTouchStart(s);break;case"touchmove":this.onTouchMove(s);break;case"touchend":this.onTouchEnd(s);break;case"touchcancel":this.onTouchCancel(s);break;default:return}},o.prototype.emit=function(s){this.gm.emit(this.EVENT,s)},o}(),sv=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.EVENT="pan",a}return Ir(s,o),s.prototype.onTouchCancel=function(a){},s.prototype.onTouchEnd=function(a){},s.prototype.onTouchMove=function(a){var u=a.x,h=a.y,v=u-this.preX,g=h-this.preY;this.preX=u,this.preY=h,this.emit({x:u,y:h,deltaX:v,deltaY:g,event:a})},s.prototype.onTouchStart=function(a){var h=a.y;this.preX=a.x,this.preY=h},s}(l0),Sl="object"==typeof performance&&performance.now?performance:Date,tA=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.EVENT="press",a}return Ir(s,o),s.prototype.onTouchCancel=function(a){this.clearTimeout()},s.prototype.onTouchEnd=function(a){this.clearTimeout()},s.prototype.onTouchMove=function(a){(a.x-this.touchStartX>10||a.y-this.touchStartY>10)&&this.clearTimeout()},s.prototype.onTouchStart=function(a){var u=this;this.clearTimeout();var h=a.x,v=a.y;this.touchStartTime=Sl.now(),this.touchStartX=h,this.touchStartY=v,this.pressTimeout=window.setTimeout(function(){u.emit({x:h,y:v,event:a})},300)},s.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},s}(l0),u0=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.EVENT="swipe",a.latestMoveTime=0,a.ms=0,a.speedX=0,a.speedY=0,a.preX=0,a.preY=0,a}return Ir(s,o),s.prototype.onTouchCancel=function(a){},s.prototype.onTouchEnd=function(a){var u=this.speedX,h=this.speedY;Sl.now()-this.latestMoveTime<100&&this.emit({x:a.x,y:a.y,speedX:u,speedY:h,event:a})},s.prototype.onTouchMove=function(a){var u=a.x,h=a.y,v=Sl.now(),y=h-this.preY,w=v-this.ms;this.speedX=(u-this.preX)/w,this.speedY=y/w,this.latestMoveTime=v},s.prototype.onTouchStart=function(a){var u=a.x,h=a.y;this.speedX=this.speedY=0,this.preX=u,this.preY=h,this.ms=Sl.now()},s}(l0),YD=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.EVENT="tap",a}return Ir(s,o),s.prototype.onTouchCancel=function(a){},s.prototype.onTouchEnd=function(a){var u=a.x,h=a.y;u-this.touchStartX<2&&h-this.touchStartY<2&&Sl.now()-this.touchStartTime<300&&this.emit({x:u,y:h,event:a})},s.prototype.onTouchMove=function(a){},s.prototype.onTouchStart=function(a){var u=a.x,h=a.y;this.touchStartTime=Sl.now(),this.touchStartX=u,this.touchStartY=h},s}(l0),WD={Pan:sv,Press:tA,Swipe:u0,Tap:YD},Fx=function(o){function s(a,u){void 0===u&&(u={});var h=o.call(this)||this;return h.onTouchStart=function(v){h.preventEvent(v),h.element.on("touchmove",h.onTouchMove),h.element.on("touchend",h.onTouchEnd),h.element.on("touchcancel",h.onTouchCancel),h.emit("touchdown",v),h.doGestures(v)},h.onTouchMove=function(v){h.preventEvent(v),h.emit("touchmove",v),h.doGestures(v)},h.onTouchEnd=function(v){h.preventEvent(v),h.emit("touchend",v),h.element.off("touchmove",h.onTouchMove),h.element.off("touchend",h.onTouchEnd),h.element.off("touchcancel",h.onTouchCancel),h.doGestures(v)},h.onTouchCancel=function(v){h.preventEvent(v),h.emit("touchcancel",v),h.element.off("touchmove",h.onTouchMove),h.element.off("touchend",h.onTouchEnd),h.element.off("touchcancel",h.onTouchCancel),h.doGestures(v)},h.element=a,h.options=u,h.initialGestures(),h.bindTouchStart(),h}return Ir(s,o),s.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},s.prototype.initialGestures=function(){var a=this;this.gestures=(this.options.gestures||["Pan","Press","Swipe","Tap"]).map(function(h){var v=function(o){return WD[o]}(h);return new v(a)})},s.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},s.prototype.preventEvent=function(a){(this.options.prevents||[]).includes(a.type)&&a.preventDefault()},s.prototype.doGestures=function(a){this.gestures.forEach(function(u){u.do(a)})},s}(lr),rA=tg,iA="swipe",h0="pan",Dx="wheel",UD=function(o){function s(a){var u=o.call(this)||this;return u.rafMs=0,u.onPan=function(h){u.raf&&cancelAnimationFrame(u.raf);var y=u.getWrapperEvent(h,h.deltaX,h.deltaY);u.emit(Dx,y)},u.onSwipe=function(h){var v=h.speedX,g=h.speedY;u.rafMs=Sl.now(),u.ms=u.rafMs,(0!==v||0!==g)&&u.rafInertia(h)},u.element=a,u.gm=new Fx(a,{gestures:["Pan","Swipe"]}),u.gm.on(iA,u.onSwipe),u.gm.on(h0,u.onPan),u}return Ir(s,o),s.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},s.prototype.rafInertia=function(a){var u=this,h=a.speedX,v=a.speedY;this.raf=window.requestAnimationFrame(function(){var g=Sl.now(),y=(g-u.ms)/800;if(y<1){y=rA(1-y);var w=g-u.rafMs,L=u.getWrapperEvent(a,h*y*w,v*y*w);u.emit(Dx,L),u.rafMs=g,u.rafInertia(a)}})},s.prototype.getWrapperEvent=function(a,u,h){return ue(ue({},a),{deltaX:-u,deltaY:-h})},s}(lr),uv=function(o,s,a,u,h){var w=a+u;return o+h>=w?o:w<o+(s+h)/2?a+u-h:a>o+(s-h)/2?o+s-a>h?a:o+s-h:o+(s-h)/2},qo=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.ROW_CELL},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){var a;o.prototype.destroy.call(this),null===(a=this.gm)||void 0===a||a.destroy()},s.prototype.initCell=function(){o.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},s.prototype.drawInteractiveBorderShape=function(){this.stateShapes.set("interactiveBorderShape",xa(this,this.getInteractiveBorderShapeStyle(2),{visible:!1}))},s.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",xa(this,ue({},this.getCellArea()),{visible:!1}))},s.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},s.prototype.showTreeLeafNodeAlignDot=function(){var a;return(null===(a=this.spreadsheet.options.style)||void 0===a?void 0:a.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},s.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return yr(this.meta,"parent.belongsCell.treeIcon.cfg")},s.prototype.drawTreeIcon=function(){var a=this;if(this.showTreeIcon()){var u=this.meta,h=u.isCollapsed,v=u.id,g=u.hierarchy,y=this.getContentArea().x,w=this.getTextStyle().fill,M=this.getStyle().icon.size,L=y+this.getContentIndent(),O=this.getIconYPosition();this.treeIcon=lb(this,{x:L,y:O,width:M,height:M},w,h,function(){if(!Wn()){if(!h){var D=a.spreadsheet.store.get("scrollY"),k=a.spreadsheet.facet.panelBBox.viewportHeight||0,X=function(o){var s=0;return o.children?.forEach(function(u){s+=u.height||0}),s}(a.meta),tt=g.height-X;if(D>0&&D+k>tt){var ot=tt-k;a.spreadsheet.store.set("scrollY",ot>0?ot:0)}}a.spreadsheet.emit(_e.ROW_CELL_COLLAPSE_TREE_ROWS,{id:v,isCollapsed:!h,node:a.meta})}}),Wn()&&(this.gm=new Fx(this,{gestures:["Tap"]}),this.gm.on("tap",function(){a.spreadsheet.emit(_e.ROW_CELL_COLLAPSE_TREE_ROWS,{id:v,isCollapsed:!h,node:a.meta})}))}},s.prototype.drawTreeLeafNodeAlignDot=function(){var a=this.getParentTreeIconCfg();if(a){var u=this.getStyle().icon,h=u.size,g=a.x+h+u.margin.right,y=this.getTextPosition().y,w=this.getTextStyle(),L=h/5;this.treeLeafNodeAlignDot=jc(this,{x:g+h/2,y:y+(w.fontSize-L)/2,r:L,fill:w.fill,fillOpacity:.3})}},s.prototype.isBolderText=function(){var a=this.meta;return!a.isLeaf&&0===a.level||a.isTotals},s.prototype.drawTextShape=function(){o.prototype.drawTextShape.call(this),this.drawLinkFieldShape()},s.prototype.drawLinkFieldShape=function(){var a=this.headerConfig.linkFields,u=void 0===a?[]:a,h=this.getTextStyle().linkTextFill,v=pD(u,this.meta);o.prototype.drawLinkFieldShape.call(this,v,h)},s.prototype.drawRectBorder=function(){var a=this,u=this.getCellArea().x,h=this.getContentIndent(),v=this.spreadsheet.isHierarchyTreeType()?u:u+h;[Un.BOTTOM,Un.LEFT].forEach(function(g){var y=As(g,ue(ue({},a.getCellArea()),{x:v}),a.getStyle().cell);Ai(a,y.position,y.style)})},s.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var a=this.getCellArea(),u=a.x,h=a.y,v=a.width,g=a.height,y=this.getResizeAreaStyle(),w=iv(this.spreadsheet,nc),M=this.headerConfig,A=M.position,L=M.seriesNumberWidth,O=M.width,k=M.scrollX,X=M.scrollY;if(Ex({x:u,y:h+g-y.size/2,width:v,height:y.size},{x:0,y:0,width:O,height:M.viewportHeight},{scrollX:k,scrollY:X})){var ft=A?.x+u-k+L,ht=A?.y+h-X,pt=this.spreadsheet.isFrozenRowHeader()?O-L-(u-k):v;w.addShape("rect",{attrs:ue(ue({},o0({id:this.meta.id,theme:y,type:Ni.Vertical,effect:Hi.Cell,offsetX:ft,offsetY:ht,width:v,height:g,meta:this.meta})),{x:ft,y:ht+g-y.size/2,width:pt})})}}},s.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;for(var a=this.getStyle(),u=a.icon,h=a.cell,v=u.size+u.margin.right,g=this.meta.parent,y=0;g;)0!==g.height&&(y+=v),g=g.parent;return this.showTreeLeafNodeAlignDot()&&(y+=this.isTreeLevel()?0:h.padding.right+u.margin.right),y},s.prototype.getTextIndent=function(){var a=this.getStyle().icon,u=a.size,h=a.margin;return this.getContentIndent()+(this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?u+h.right:0)},s.prototype.isTreeLevel=function(){return ai(yr(this.meta,"parent.children"),function(a){return!a.isLeaf})},s.prototype.getIconPosition=function(){var a=this.textShape.cfg.attrs,u=a.x,h=a.y,v=a.textAlign,g=this.getStyle().icon.margin.left;return"left"===v?{x:u+this.actualTextWidth+g,y:h}:"right"===v?{x:u+g,y:h}:{x:u+this.actualTextWidth/2+g,y:h}},s.prototype.getMaxTextWidth=function(){return this.getContentArea().width-this.getTextIndent()-this.getActionIconsWidth()},s.prototype.getTextArea=function(){var a=this.getContentArea(),u=this.getTextIndent();return ue(ue({},a),{x:a.x+u,width:a.width-u})},s.prototype.getTextPosition=function(){var a=this.getTextArea(),u=this.headerConfig,h=u.scrollY,v=u.viewportHeight,g=this.getTextStyle().fontSize,y=uv(a.y,a.height,h,v,g);return{x:th(a,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x,y}},s.prototype.getIconYPosition=function(){var a=this.getTextPosition().y,u=this.getStyle().icon.size;return a+(this.getTextStyle().fontSize-u)/2},s}(Rx),aA=function(o,s,a){var u,h,v=(null===(u=a.icon.margin)||void 0===u?void 0:u.left)||0,g=(null===(h=a.icon.margin)||void 0===h?void 0:h.right)||0,y=o.store.get("hiddenColumnsDetail",[]),w=!1,M=!1;y.forEach(function(L){var O,D,k,X;(null===(D=null===(O=L?.displaySiblingNode)||void 0===O?void 0:O.prev)||void 0===D?void 0:D.field)===s&&(w=!0),(null===(X=null===(k=L?.displaySiblingNode)||void 0===k?void 0:k.next)||void 0===X?void 0:X.field)===s&&(M=!0)});var A=yr(a,"icon.size");return{left:M?A+g:0,right:w?A+v:0}},Bx=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.handleRestOptions=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var h=Ae(a,1);this.headerConfig=ue({},h[0]);var g=this.meta.field,w=ai(this.spreadsheet.dataCfg.sortParams,function(A){return A?.sortFieldId===g}),M=Ox(w,!0);this.headerConfig.sortParam=ue(ue(ue({},this.headerConfig.sortParam),w||{}),{type:M})},s.prototype.isFrozenCell=function(){var a=this.spreadsheet.options,u=a.frozenColCount,h=a.frozenTrailingColCount,v=this.spreadsheet.facet.layoutResult.colNodes.filter(function(y){return Da(y)}),g=function(o){for(;!Da(o);)o=o.parent;return o}(this.meta).colIndex;return $o(g,u)||Du(g,h,v.length)},s.prototype.getFormattedFieldValue=function(){return Yb(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},s.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||o.prototype.shouldAddVerticalResizeArea.call(this)},s.prototype.getVerticalResizeAreaOffset=function(){var a=this.meta,u=a.x,h=a.y,v=this.headerConfig,g=v.scrollX,y=v.position;return this.isFrozenCell()?{x:u,y:h}:{x:y.x+u-g,y:y.y+h}},s.prototype.getColResizeArea=function(){return this.isFrozenCell()?iv(this.spreadsheet,_C):o.prototype.getColResizeArea.call(this)},s.prototype.isSortCell=function(){return!0},s.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},s.prototype.getTextStyle=function(){return this.getStyle()?.bolderText},s.prototype.getContentArea=function(){var a,u=((null===(a=this.getStyle())||void 0===a?void 0:a.cell)||this.theme.dataCell.cell).padding,h=ue({},u),v=aA(this.spreadsheet,this.meta.field,this.getStyle());return v.left&&(h.left=(h.left||0)+v.left),v.right&&(h.right=(h.right||0)+v.right),hb(this.getCellArea(),h)},s.prototype.getHorizontalResizeAreaName=function(){return"".concat(Wh).concat("table-col-cell")},s.prototype.drawBackgroundShape=function(){var a=this.getStyle().cell.backgroundColor;this.backgroundShape=xa(this,ue(ue({},this.getCellArea()),{fill:a}))},s.prototype.handleViewport=function(a){return this.isFrozenCell()&&(a.start=0),a},s}(ov),Px=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.getStyle=function(a){return a?this.theme[a]:yr(this,"theme.cornerCell")},s.prototype.showSortIcon=function(){return!1},s.prototype.drawLeftBorder=function(){var a=As(Un.LEFT,this.getCellArea(),this.getStyle().cell);Ai(this,a.position,a.style)},s.prototype.drawBorders=function(){o.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},s}(Bx),f0=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.drawTextShape=function(){o.prototype.drawTextShape.call(this),this.drawLinkFieldShape()},s.prototype.drawLinkFieldShape=function(){var a=this.spreadsheet.options.interaction.linkFields,h=this.theme.rowCell.text.linkTextFill,v=pD(void 0===a?[]:a,this.meta);o.prototype.drawLinkFieldShape.call(this,v,h)},s.prototype.drawBorderShape=function(){o.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},s.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},s.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var a=this.getCellArea(),u=a.x,h=a.y,v=a.width,g=a.height,y=this.meta.rowIndex,w=this.getResizeAreaStyle(),M=this.spreadsheet.options,A=M.frozenRowCount,L=M.frozenTrailingRowCount,O=this.spreadsheet.facet.getCellRange(),D=Zp(y,O.start,A),k=Zf(y,O.end,L),ot=iv(this.spreadsheet,D||k?mC:nc),ft=this.spreadsheet.facet.layoutResult.colsHierarchy.height,ht=this.spreadsheet.facet.getScrollOffset().scrollY,pt=this.spreadsheet.facet.getPaginationScrollY(),de=h+(k?0:ft);k||(de-=D?pt:ht+pt),ot.addShape("rect",{attrs:ue(ue({},o0({id:String(this.meta.rowIndex),theme:w,type:Ni.Vertical,effect:Hi.Cell,offsetX:u,offsetY:de,width:v,height:g,meta:this.meta})),{x:u,y:de+g-w.size/2,width:v})})}},s}(_l),sA=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),Object.defineProperty(s.prototype,"cellType",{get:function(){return Ue.ROW_CELL},enumerable:!1,configurable:!0}),s.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},s}(f0),v0=function(o){return[Vn.META,Vn.CONTROL].includes(o.key)},xo=function(o){var a=o.getMeta()||{};return{id:a.id,colIndex:a.colIndex,rowIndex:a.rowIndex,type:o.cellType,rowQuery:a.rowQuery}};function kx(o,s){var a=Math.min(o.rowIndex,s.rowIndex),u=Math.max(o.rowIndex,s.rowIndex);return{start:{rowIndex:a,colIndex:Math.min(o.colIndex,s.colIndex)},end:{rowIndex:u,colIndex:Math.max(o.colIndex,s.colIndex)}}}var p0,Co,zx=function(o,s){var a=o.getSelectedCellHighlight(),h=a.rowHeader;a.colHeader&&o.updateCells(o.getAllColHeaderCells()),h&&o.updateCells(o.getAllRowHeaderCells()),s()},lA=function(o){var s=o.store.get("visibleActionIcons"),a=o.interaction.getInteractedCells(),u=o.interaction.getState().cells;return!(Ke(a)&&Ke(u)&&Ke(s))&&(br(s,function(v){v.set("visible",!1)}),o.store.set("visibleActionIcons",[]),br(a,function(v){v.hideInteractionShape()}),o.interaction.resetState(),o.options.interaction.selectedCellsSpotlight&&br(o.interaction.getPanelGroupAllUnSelectedDataCells()||[],function(v){v.clearUnselectedState()}),!0)},JD=function(o,s,a){var u,h,v=a.facet,y=v?.frozenGroupInfo,w=null!==(u=y?.frozenCol.width)&&void 0!==u?u:0,M=null!==(h=y?.frozenTrailingCol.width)&&void 0!==h?h:0,A=v.layoutResult.colLeafNodes[o];return s===si.SCROLL_UP?A.x-w:A.x+A.width-(v.panelBBox.width-M)},oh=function(o,s,a){var u,h,v=a.facet,g=v.viewCellHeights.getCellOffsetY,y=v.panelBBox.height,w=g(o+1);if(fi(w))return 0;var M=v?.frozenGroupInfo,A=null!==(u=M?.frozenRow.height)&&void 0!==u?u:0,L=null!==(h=M?.frozenTrailingRow.height)&&void 0!==h?h:0;return s===si.SCROLL_UP?g(o)-A:w-(y-L)},Is=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=Be(Be([],Ae(o),!1),[function(h,v){if(Mr(h)&&Mr(v))return v}],!1);return Mf.apply(void 0,Be([{}],Ae(u),!1))},jD=function(o){var a=["rows","columns","values"].reduce(function(u,h){var v=o[h],g=dl(v);return Vi(g,v)||console.warn("fields.".concat(h,":[").concat(v,"] should be unique")),u[h]=g,u},{});return ue(ue({},o),a)},Nx=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=Is.apply(void 0,Be([MC],Ae(o),!1));return a.fields=jD(a.fields),(!Ke(a.fields.customTreeItems)||Ke(a.fields.values))&&(a.fields.valueInCols=!1),a},uA=function(o){return Is(dk,o)},Gu=9e15,Pa=1e9,d0="0123456789abcdef",cv="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",sh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",hv={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Gu,maxE:Gu,crypto:!1},Ur=!0,g0="[DecimalError] ",Os=g0+"Invalid argument: ",Hx=g0+"Precision limit exceeded",cA=g0+"crypto unavailable",hA="[object Decimal]",$i=Math.floor,yi=Math.pow,tB=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,eB=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rB=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,fA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wo=1e7,Dr=7,I7=cv.length-1,ea=sh.length-1,De={toStringTag:hA};function Ei(o){var s,a,u,h=o.length-1,v="",g=o[0];if(h>0){for(v+=g,s=1;s<h;s++)(a=Dr-(u=o[s]+"").length)&&(v+=Rs(a)),v+=u;(a=Dr-(u=(g=o[s])+"").length)&&(v+=Rs(a))}else if(0===g)return"0";for(;g%10==0;)g/=10;return v+g}function wa(o,s,a){if(o!==~~o||o<s||o>a)throw Error(Os+o)}function fv(o,s,a,u){var h,v,g,y;for(v=o[0];v>=10;v/=10)--s;return--s<0?(s+=Dr,h=0):(h=Math.ceil((s+1)/Dr),s%=Dr),v=yi(10,Dr-s),y=o[h]%v|0,null==u?s<3?(0==s?y=y/100|0:1==s&&(y=y/10|0),g=a<4&&99999==y||a>3&&49999==y||5e4==y||0==y):g=(a<4&&y+1==v||a>3&&y+1==v/2)&&(o[h+1]/v/100|0)==yi(10,s-2)-1||(y==v/2||0==y)&&0==(o[h+1]/v/100|0):s<4?(0==s?y=y/1e3|0:1==s?y=y/100|0:2==s&&(y=y/10|0),g=(u||a<4)&&9999==y||!u&&a>3&&4999==y):g=((u||a<4)&&y+1==v||!u&&a>3&&y+1==v/2)&&(o[h+1]/v/1e3|0)==yi(10,s-3)-1,g}function Ko(o,s,a){for(var u,v,h=[0],g=0,y=o.length;g<y;){for(v=h.length;v--;)h[v]*=s;for(h[0]+=d0.indexOf(o.charAt(g++)),u=0;u<h.length;u++)h[u]>a-1&&(void 0===h[u+1]&&(h[u+1]=0),h[u+1]+=h[u]/a|0,h[u]%=a)}return h.reverse()}De.absoluteValue=De.abs=function(){var o=new this.constructor(this);return o.s<0&&(o.s=1),wr(o)},De.ceil=function(){return wr(new this.constructor(this),this.e+1,2)},De.clampedTo=De.clamp=function(o,s){var u=this,h=u.constructor;if(o=new h(o),s=new h(s),!o.s||!s.s)return new h(NaN);if(o.gt(s))throw Error(Os+s);return u.cmp(o)<0?o:u.cmp(s)>0?s:new h(u)},De.comparedTo=De.cmp=function(o){var s,a,u,h,v=this,g=v.d,y=(o=new v.constructor(o)).d,w=v.s,M=o.s;if(!g||!y)return w&&M?w!==M?w:g===y?0:!g^w<0?1:-1:NaN;if(!g[0]||!y[0])return g[0]?w:y[0]?-M:0;if(w!==M)return w;if(v.e!==o.e)return v.e>o.e^w<0?1:-1;for(s=0,a=(u=g.length)<(h=y.length)?u:h;s<a;++s)if(g[s]!==y[s])return g[s]>y[s]^w<0?1:-1;return u===h?0:u>h^w<0?1:-1},De.cosine=De.cos=function(){var o,s,a=this,u=a.constructor;return a.d?a.d[0]?(s=u.rounding,u.precision=(o=u.precision)+Math.max(a.e,a.sd())+Dr,u.rounding=1,a=function Ml(o,s){var a,u,h;if(s.isZero())return s;(u=s.d.length)<32?h=(1/y0(4,a=Math.ceil(u/3))).toString():(a=16,h="2.3283064365386962890625e-10"),o.precision+=a,s=lh(o,1,s.times(h),new o(1));for(var v=a;v--;){var g=s.times(s);s=g.times(g).minus(g).times(8).plus(1)}return o.precision-=a,s}(u,mA(u,a)),u.precision=o,u.rounding=s,wr(2==Co||3==Co?a.neg():a,o,s,!0)):new u(1):new u(NaN)},De.cubeRoot=De.cbrt=function(){var o,s,a,u,h,v,g,y,w,M,A=this,L=A.constructor;if(!A.isFinite()||A.isZero())return new L(A);for(Ur=!1,(v=A.s*yi(A.s*A,1/3))&&Math.abs(v)!=1/0?u=new L(v.toString()):(a=Ei(A.d),(v=((o=A.e)-a.length+1)%3)&&(a+=1==v||-2==v?"0":"00"),v=yi(a,1/3),o=$i((o+1)/3)-(o%3==(o<0?-1:2)),(u=new L(a=v==1/0?"5e"+o:(a=v.toExponential()).slice(0,a.indexOf("e")+1)+o)).s=A.s),g=(o=L.precision)+3;;)if(M=(w=(y=u).times(y).times(y)).plus(A),u=bn(M.plus(A).times(y),M.plus(w),g+2,1),Ei(y.d).slice(0,g)===(a=Ei(u.d)).slice(0,g)){if("9999"!=(a=a.slice(g-3,g+1))&&(h||"4999"!=a)){(!+a||!+a.slice(1)&&"5"==a.charAt(0))&&(wr(u,o+1,1),s=!u.times(u).times(u).eq(A));break}if(!h&&(wr(y,o+1,0),y.times(y).times(y).eq(A))){u=y;break}g+=4,h=1}return Ur=!0,wr(u,o,L.rounding,s)},De.decimalPlaces=De.dp=function(){var o,s=this.d,a=NaN;if(s){if(a=((o=s.length-1)-$i(this.e/Dr))*Dr,o=s[o])for(;o%10==0;o/=10)a--;a<0&&(a=0)}return a},De.dividedBy=De.div=function(o){return bn(this,new this.constructor(o))},De.dividedToIntegerBy=De.divToInt=function(o){var a=this.constructor;return wr(bn(this,new a(o),0,1,1),a.precision,a.rounding)},De.equals=De.eq=function(o){return 0===this.cmp(o)},De.floor=function(){return wr(new this.constructor(this),this.e+1,3)},De.greaterThan=De.gt=function(o){return this.cmp(o)>0},De.greaterThanOrEqualTo=De.gte=function(o){var s=this.cmp(o);return 1==s||0===s},De.hyperbolicCosine=De.cosh=function(){var o,s,a,u,h,v=this,g=v.constructor,y=new g(1);if(!v.isFinite())return new g(v.s?1/0:NaN);if(v.isZero())return y;u=g.rounding,g.precision=(a=g.precision)+Math.max(v.e,v.sd())+4,g.rounding=1,(h=v.d.length)<32?s=(1/y0(4,o=Math.ceil(h/3))).toString():(o=16,s="2.3283064365386962890625e-10"),v=lh(g,1,v.times(s),new g(1),!0);for(var w,M=o,A=new g(8);M--;)w=v.times(v),v=y.minus(w.times(A.minus(w.times(A))));return wr(v,g.precision=a,g.rounding=u,!0)},De.hyperbolicSine=De.sinh=function(){var o,s,a,u,h=this,v=h.constructor;if(!h.isFinite()||h.isZero())return new v(h);if(a=v.rounding,v.precision=(s=v.precision)+Math.max(h.e,h.sd())+4,v.rounding=1,(u=h.d.length)<3)h=lh(v,2,h,h,!0);else{o=1.4*Math.sqrt(u),h=lh(v,2,h=h.times(1/y0(5,o=o>16?16:0|o)),h,!0);for(var g,y=new v(5),w=new v(16),M=new v(20);o--;)g=h.times(h),h=h.times(y.plus(g.times(w.times(g).plus(M))))}return v.precision=s,v.rounding=a,wr(h,s,a,!0)},De.hyperbolicTangent=De.tanh=function(){var o,s,a=this,u=a.constructor;return a.isFinite()?a.isZero()?new u(a):(s=u.rounding,u.precision=(o=u.precision)+7,u.rounding=1,bn(a.sinh(),a.cosh(),u.precision=o,u.rounding=s)):new u(a.s)},De.inverseCosine=De.acos=function(){var o,s=this,a=s.constructor,u=s.abs().cmp(1),h=a.precision,v=a.rounding;return-1!==u?0===u?s.isNeg()?So(a,h,v):new a(0):new a(NaN):s.isZero()?So(a,h+4,v).times(.5):(a.precision=h+6,a.rounding=1,s=s.asin(),o=So(a,h+4,v).times(.5),a.precision=h,a.rounding=v,o.minus(s))},De.inverseHyperbolicCosine=De.acosh=function(){var o,s,a=this,u=a.constructor;return a.lte(1)?new u(a.eq(1)?0:NaN):a.isFinite()?(s=u.rounding,u.precision=(o=u.precision)+Math.max(Math.abs(a.e),a.sd())+4,u.rounding=1,Ur=!1,a=a.times(a).minus(1).sqrt().plus(a),Ur=!0,u.precision=o,u.rounding=s,a.ln()):new u(a)},De.inverseHyperbolicSine=De.asinh=function(){var o,s,a=this,u=a.constructor;return!a.isFinite()||a.isZero()?new u(a):(s=u.rounding,u.precision=(o=u.precision)+2*Math.max(Math.abs(a.e),a.sd())+6,u.rounding=1,Ur=!1,a=a.times(a).plus(1).sqrt().plus(a),Ur=!0,u.precision=o,u.rounding=s,a.ln())},De.inverseHyperbolicTangent=De.atanh=function(){var o,s,a,u,h=this,v=h.constructor;return h.isFinite()?h.e>=0?new v(h.abs().eq(1)?h.s/0:h.isZero()?h:NaN):(o=v.precision,s=v.rounding,u=h.sd(),Math.max(u,o)<2*-h.e-1?wr(new v(h),o,s,!0):(v.precision=a=u-h.e,h=bn(h.plus(1),new v(1).minus(h),a+o,1),v.precision=o+4,v.rounding=1,h=h.ln(),v.precision=o,v.rounding=s,h.times(.5))):new v(NaN)},De.inverseSine=De.asin=function(){var o,s,a,u,h=this,v=h.constructor;return h.isZero()?new v(h):(s=h.abs().cmp(1),a=v.precision,u=v.rounding,-1!==s?0===s?((o=So(v,a+4,u).times(.5)).s=h.s,o):new v(NaN):(v.precision=a+6,v.rounding=1,h=h.div(new v(1).minus(h.times(h)).sqrt().plus(1)).atan(),v.precision=a,v.rounding=u,h.times(2)))},De.inverseTangent=De.atan=function(){var o,s,a,u,h,v,g,y,w,M=this,A=M.constructor,L=A.precision,O=A.rounding;if(M.isFinite()){if(M.isZero())return new A(M);if(M.abs().eq(1)&&L+4<=ea)return(g=So(A,L+4,O).times(.25)).s=M.s,g}else{if(!M.s)return new A(NaN);if(L+4<=ea)return(g=So(A,L+4,O).times(.5)).s=M.s,g}for(A.precision=y=L+10,A.rounding=1,o=a=Math.min(28,y/Dr+2|0);o;--o)M=M.div(M.times(M).plus(1).sqrt().plus(1));for(Ur=!1,s=Math.ceil(y/Dr),u=1,w=M.times(M),g=new A(M),h=M;-1!==o;)if(h=h.times(w),v=g.minus(h.div(u+=2)),h=h.times(w),void 0!==(g=v.plus(h.div(u+=2))).d[s])for(o=s;g.d[o]===v.d[o]&&o--;);return a&&(g=g.times(2<<a-1)),Ur=!0,wr(g,A.precision=L,A.rounding=O,!0)},De.isFinite=function(){return!!this.d},De.isInteger=De.isInt=function(){return!!this.d&&$i(this.e/Dr)>this.d.length-2},De.isNaN=function(){return!this.s},De.isNegative=De.isNeg=function(){return this.s<0},De.isPositive=De.isPos=function(){return this.s>0},De.isZero=function(){return!!this.d&&0===this.d[0]},De.lessThan=De.lt=function(o){return this.cmp(o)<0},De.lessThanOrEqualTo=De.lte=function(o){return this.cmp(o)<1},De.logarithm=De.log=function(o){var s,a,u,h,v,g,y,w,M=this,A=M.constructor,L=A.precision,O=A.rounding;if(null==o)o=new A(10),s=!0;else{if(a=(o=new A(o)).d,o.s<0||!a||!a[0]||o.eq(1))return new A(NaN);s=o.eq(10)}if(a=M.d,M.s<0||!a||!a[0]||M.eq(1))return new A(a&&!a[0]?-1/0:1!=M.s?NaN:a?0:1/0);if(s)if(a.length>1)v=!0;else{for(h=a[0];h%10==0;)h/=10;v=1!==h}if(Ur=!1,g=Tl(M,y=L+5),u=s?dv(A,y+10):Tl(o,y),fv((w=bn(g,u,y,1)).d,h=L,O))do{if(g=Tl(M,y+=10),u=s?dv(A,y+10):Tl(o,y),w=bn(g,u,y,1),!v){+Ei(w.d).slice(h+1,h+15)+1==1e14&&(w=wr(w,L+1,0));break}}while(fv(w.d,h+=10,O));return Ur=!0,wr(w,L,O)},De.minus=De.sub=function(o){var s,a,u,h,v,g,y,w,M,A,L,O,D=this,k=D.constructor;if(o=new k(o),!D.d||!o.d)return D.s&&o.s?D.d?o.s=-o.s:o=new k(o.d||D.s!==o.s?D:NaN):o=new k(NaN),o;if(D.s!=o.s)return o.s=-o.s,D.plus(o);if(O=o.d,y=k.precision,w=k.rounding,!(M=D.d)[0]||!O[0]){if(O[0])o.s=-o.s;else{if(!M[0])return new k(3===w?-0:0);o=new k(D)}return Ur?wr(o,y,w):o}if(a=$i(o.e/Dr),A=$i(D.e/Dr),M=M.slice(),v=A-a){for((L=v<0)?(s=M,v=-v,g=O.length):(s=O,a=A,g=M.length),v>(u=Math.max(Math.ceil(y/Dr),g)+2)&&(v=u,s.length=1),s.reverse(),u=v;u--;)s.push(0);s.reverse()}else{for((L=(u=M.length)<(g=O.length))&&(g=u),u=0;u<g;u++)if(M[u]!=O[u]){L=M[u]<O[u];break}v=0}for(L&&(s=M,M=O,O=s,o.s=-o.s),u=O.length-(g=M.length);u>0;--u)M[g++]=0;for(u=O.length;u>v;){if(M[--u]<O[u]){for(h=u;h&&0===M[--h];)M[h]=wo-1;--M[h],M[u]+=wo}M[u]-=O[u]}for(;0===M[--g];)M.pop();for(;0===M[0];M.shift())--a;return M[0]?(o.d=M,o.e=vv(M,a),Ur?wr(o,y,w):o):new k(3===w?-0:0)},De.modulo=De.mod=function(o){var s,a=this,u=a.constructor;return o=new u(o),!a.d||!o.s||o.d&&!o.d[0]?new u(NaN):!o.d||a.d&&!a.d[0]?wr(new u(a),u.precision,u.rounding):(Ur=!1,9==u.modulo?(s=bn(a,o.abs(),0,3,1)).s*=o.s:s=bn(a,o,0,u.modulo,1),s=s.times(o),Ur=!0,a.minus(s))},De.naturalExponential=De.exp=function(){return Yx(this)},De.naturalLogarithm=De.ln=function(){return Tl(this)},De.negated=De.neg=function(){var o=new this.constructor(this);return o.s=-o.s,wr(o)},De.plus=De.add=function(o){var s,a,u,h,v,g,y,w,M,A,L=this,O=L.constructor;if(o=new O(o),!L.d||!o.d)return L.s&&o.s?L.d||(o=new O(o.d||L.s===o.s?L:NaN)):o=new O(NaN),o;if(L.s!=o.s)return o.s=-o.s,L.minus(o);if(A=o.d,y=O.precision,w=O.rounding,!(M=L.d)[0]||!A[0])return A[0]||(o=new O(L)),Ur?wr(o,y,w):o;if(v=$i(L.e/Dr),u=$i(o.e/Dr),M=M.slice(),h=v-u){for(h<0?(a=M,h=-h,g=A.length):(a=A,u=v,g=M.length),h>(g=(v=Math.ceil(y/Dr))>g?v+1:g+1)&&(h=g,a.length=1),a.reverse();h--;)a.push(0);a.reverse()}for((g=M.length)-(h=A.length)<0&&(h=g,a=A,A=M,M=a),s=0;h;)s=(M[--h]=M[h]+A[h]+s)/wo|0,M[h]%=wo;for(s&&(M.unshift(s),++u),g=M.length;0==M[--g];)M.pop();return o.d=M,o.e=vv(M,u),Ur?wr(o,y,w):o},De.precision=De.sd=function(o){var s,a=this;if(void 0!==o&&o!==!!o&&1!==o&&0!==o)throw Error(Os+o);return a.d?(s=Gx(a.d),o&&a.e+1>s&&(s=a.e+1)):s=NaN,s},De.round=function(){var o=this,s=o.constructor;return wr(new s(o),o.e+1,s.rounding)},De.sine=De.sin=function(){var o,s,a=this,u=a.constructor;return a.isFinite()?a.isZero()?new u(a):(s=u.rounding,u.precision=(o=u.precision)+Math.max(a.e,a.sd())+Dr,u.rounding=1,a=function iB(o,s){var a,u=s.d.length;if(u<3)return s.isZero()?s:lh(o,2,s,s);a=1.4*Math.sqrt(u),s=lh(o,2,s=s.times(1/y0(5,a=a>16?16:0|a)),s);for(var h,v=new o(5),g=new o(16),y=new o(20);a--;)h=s.times(s),s=s.times(v.plus(h.times(g.times(h).minus(y))));return s}(u,mA(u,a)),u.precision=o,u.rounding=s,wr(Co>2?a.neg():a,o,s,!0)):new u(NaN)},De.squareRoot=De.sqrt=function(){var o,s,a,u,h,v,g=this,y=g.d,w=g.e,M=g.s,A=g.constructor;if(1!==M||!y||!y[0])return new A(!M||M<0&&(!y||y[0])?NaN:y?g:1/0);for(Ur=!1,0==(M=Math.sqrt(+g))||M==1/0?(((s=Ei(y)).length+w)%2==0&&(s+="0"),M=Math.sqrt(s),w=$i((w+1)/2)-(w<0||w%2),u=new A(s=M==1/0?"5e"+w:(s=M.toExponential()).slice(0,s.indexOf("e")+1)+w)):u=new A(M.toString()),a=(w=A.precision)+3;;)if(u=(v=u).plus(bn(g,v,a+2,1)).times(.5),Ei(v.d).slice(0,a)===(s=Ei(u.d)).slice(0,a)){if("9999"!=(s=s.slice(a-3,a+1))&&(h||"4999"!=s)){(!+s||!+s.slice(1)&&"5"==s.charAt(0))&&(wr(u,w+1,1),o=!u.times(u).eq(g));break}if(!h&&(wr(v,w+1,0),v.times(v).eq(g))){u=v;break}a+=4,h=1}return Ur=!0,wr(u,w,A.rounding,o)},De.tangent=De.tan=function(){var o,s,a=this,u=a.constructor;return a.isFinite()?a.isZero()?new u(a):(s=u.rounding,u.precision=(o=u.precision)+10,u.rounding=1,(a=a.sin()).s=1,a=bn(a,new u(1).minus(a.times(a)).sqrt(),o+10,0),u.precision=o,u.rounding=s,wr(2==Co||4==Co?a.neg():a,o,s,!0)):new u(NaN)},De.times=De.mul=function(o){var s,a,u,h,v,g,y,w,M,A=this,L=A.constructor,O=A.d,D=(o=new L(o)).d;if(o.s*=A.s,!(O&&O[0]&&D&&D[0]))return new L(!o.s||O&&!O[0]&&!D||D&&!D[0]&&!O?NaN:O&&D?0*o.s:o.s/0);for(a=$i(A.e/Dr)+$i(o.e/Dr),(w=O.length)<(M=D.length)&&(v=O,O=D,D=v,g=w,w=M,M=g),v=[],u=g=w+M;u--;)v.push(0);for(u=M;--u>=0;){for(s=0,h=w+u;h>u;)y=v[h]+D[u]*O[h-u-1]+s,v[h--]=y%wo|0,s=y/wo|0;v[h]=(v[h]+s)%wo|0}for(;!v[--g];)v.pop();return s?++a:v.shift(),o.d=v,o.e=vv(v,a),Ur?wr(o,L.precision,L.rounding):o},De.toBinary=function(o,s){return Ux(this,2,o,s)},De.toDecimalPlaces=De.toDP=function(o,s){var a=this,u=a.constructor;return a=new u(a),void 0===o?a:(wa(o,0,Pa),void 0===s?s=u.rounding:wa(s,0,8),wr(a,o+a.e+1,s))},De.toExponential=function(o,s){var a,u=this,h=u.constructor;return void 0===o?a=_o(u,!0):(wa(o,0,Pa),void 0===s?s=h.rounding:wa(s,0,8),a=_o(u=wr(new h(u),o+1,s),!0,o+1)),u.isNeg()&&!u.isZero()?"-"+a:a},De.toFixed=function(o,s){var a,u,h=this,v=h.constructor;return void 0===o?a=_o(h):(wa(o,0,Pa),void 0===s?s=v.rounding:wa(s,0,8),a=_o(u=wr(new v(h),o+h.e+1,s),!1,o+u.e+1)),h.isNeg()&&!h.isZero()?"-"+a:a},De.toFraction=function(o){var s,a,u,h,v,g,y,w,M,A,L,O,D=this,k=D.d,X=D.constructor;if(!k)return new X(D);if(M=a=new X(1),u=w=new X(0),v=(s=new X(u)).e=Gx(k)-D.e-1,s.d[0]=yi(10,(g=v%Dr)<0?Dr+g:g),null==o)o=v>0?s:M;else{if(!(y=new X(o)).isInt()||y.lt(M))throw Error(Os+y);o=y.gt(s)?v>0?s:M:y}for(Ur=!1,y=new X(Ei(k)),A=X.precision,X.precision=v=k.length*Dr*2;L=bn(y,s,0,1,1),1!=(h=a.plus(L.times(u))).cmp(o);)a=u,u=h,M=w.plus(L.times(h=M)),w=h,s=y.minus(L.times(h=s)),y=h;return h=bn(o.minus(a),u,0,1,1),w=w.plus(h.times(M)),a=a.plus(h.times(u)),w.s=M.s=D.s,O=bn(M,u,v,1).minus(D).abs().cmp(bn(w,a,v,1).minus(D).abs())<1?[M,u]:[w,a],X.precision=A,Ur=!0,O},De.toHexadecimal=De.toHex=function(o,s){return Ux(this,16,o,s)},De.toNearest=function(o,s){var a=this,u=a.constructor;if(a=new u(a),null==o){if(!a.d)return a;o=new u(1),s=u.rounding}else{if(o=new u(o),void 0===s?s=u.rounding:wa(s,0,8),!a.d)return o.s?a:o;if(!o.d)return o.s&&(o.s=a.s),o}return o.d[0]?(Ur=!1,a=bn(a,o,0,s,1).times(o),Ur=!0,wr(a)):(o.s=a.s,a=o),a},De.toNumber=function(){return+this},De.toOctal=function(o,s){return Ux(this,8,o,s)},De.toPower=De.pow=function(o){var s,a,u,h,v,g,y=this,w=y.constructor,M=+(o=new w(o));if(!(y.d&&o.d&&y.d[0]&&o.d[0]))return new w(yi(+y,M));if((y=new w(y)).eq(1))return y;if(u=w.precision,v=w.rounding,o.eq(1))return wr(y,u,v);if((s=$i(o.e/Dr))>=o.d.length-1&&(a=M<0?-M:M)<=9007199254740991)return h=dA(w,y,a,u),o.s<0?new w(1).div(h):wr(h,u,v);if((g=y.s)<0){if(s<o.d.length-1)return new w(NaN);if(1&o.d[s]||(g=1),0==y.e&&1==y.d[0]&&1==y.d.length)return y.s=g,y}return(s=0!=(a=yi(+y,M))&&isFinite(a)?new w(a+"").e:$i(M*(Math.log("0."+Ei(y.d))/Math.LN10+y.e+1)))>w.maxE+1||s<w.minE-1?new w(s>0?g/0:0):(Ur=!1,w.rounding=y.s=1,a=Math.min(12,(s+"").length),(h=Yx(o.times(Tl(y,u+a)),u)).d&&fv((h=wr(h,u+5,1)).d,u,v)&&+Ei((h=wr(Yx(o.times(Tl(y,(s=u+10)+a)),s),s+5,1)).d).slice(u+1,u+15)+1==1e14&&(h=wr(h,u+1,0)),h.s=g,Ur=!0,w.rounding=v,wr(h,u,v))},De.toPrecision=function(o,s){var a,u=this,h=u.constructor;return void 0===o?a=_o(u,u.e<=h.toExpNeg||u.e>=h.toExpPos):(wa(o,1,Pa),void 0===s?s=h.rounding:wa(s,0,8),a=_o(u=wr(new h(u),o,s),o<=u.e||u.e<=h.toExpNeg,o)),u.isNeg()&&!u.isZero()?"-"+a:a},De.toSignificantDigits=De.toSD=function(o,s){var u=this.constructor;return void 0===o?(o=u.precision,s=u.rounding):(wa(o,1,Pa),void 0===s?s=u.rounding:wa(s,0,8)),wr(new u(this),o,s)},De.toString=function(){var o=this,s=o.constructor,a=_o(o,o.e<=s.toExpNeg||o.e>=s.toExpPos);return o.isNeg()&&!o.isZero()?"-"+a:a},De.truncated=De.trunc=function(){return wr(new this.constructor(this),this.e+1,1)},De.valueOf=De.toJSON=function(){var o=this,s=o.constructor,a=_o(o,o.e<=s.toExpNeg||o.e>=s.toExpPos);return o.isNeg()?"-"+a:a};var bn=function(){function o(u,h,v){var g,y=0,w=u.length;for(u=u.slice();w--;)u[w]=(g=u[w]*h+y)%v|0,y=g/v|0;return y&&u.unshift(y),u}function s(u,h,v,g){var y,w;if(v!=g)w=v>g?1:-1;else for(y=w=0;y<v;y++)if(u[y]!=h[y]){w=u[y]>h[y]?1:-1;break}return w}function a(u,h,v,g){for(var y=0;v--;)u[v]-=y,u[v]=(y=u[v]<h[v]?1:0)*g+u[v]-h[v];for(;!u[0]&&u.length>1;)u.shift()}return function(u,h,v,g,y,w){var M,A,L,O,D,k,X,tt,ot,ft,ht,pt,Wt,de,pe,Me,ze,Oe,Ze,tr,vr=u.constructor,gr=u.s==h.s?1:-1,mr=u.d,Je=h.d;if(!(mr&&mr[0]&&Je&&Je[0]))return new vr(u.s&&h.s&&(mr?!Je||mr[0]!=Je[0]:Je)?mr&&0==mr[0]||!Je?0*gr:gr/0:NaN);for(w?(D=1,A=u.e-h.e):(w=wo,A=$i(u.e/(D=Dr))-$i(h.e/D)),Ze=Je.length,ze=mr.length,ft=(ot=new vr(gr)).d=[],L=0;Je[L]==(mr[L]||0);L++);if(Je[L]>(mr[L]||0)&&A--,null==v?(de=v=vr.precision,g=vr.rounding):de=y?v+(u.e-h.e)+1:v,de<0)ft.push(1),k=!0;else{if(de=de/D+2|0,L=0,1==Ze){for(O=0,Je=Je[0],de++;(L<ze||O)&&de--;L++)ft[L]=(pe=O*w+(mr[L]||0))/Je|0,O=pe%Je|0;k=O||L<ze}else{for((O=w/(Je[0]+1)|0)>1&&(Je=o(Je,O,w),mr=o(mr,O,w),Ze=Je.length,ze=mr.length),Me=Ze,pt=(ht=mr.slice(0,Ze)).length;pt<Ze;)ht[pt++]=0;(tr=Je.slice()).unshift(0),Oe=Je[0],Je[1]>=w/2&&++Oe;do{O=0,(M=s(Je,ht,Ze,pt))<0?(Wt=ht[0],Ze!=pt&&(Wt=Wt*w+(ht[1]||0)),(O=Wt/Oe|0)>1?(O>=w&&(O=w-1),1==(M=s(X=o(Je,O,w),ht,tt=X.length,pt=ht.length))&&(O--,a(X,Ze<tt?tr:Je,tt,w))):(0==O&&(M=O=1),X=Je.slice()),(tt=X.length)<pt&&X.unshift(0),a(ht,X,pt,w),-1==M&&(M=s(Je,ht,Ze,pt=ht.length))<1&&(O++,a(ht,Ze<pt?tr:Je,pt,w)),pt=ht.length):0===M&&(O++,ht=[0]),ft[L++]=O,M&&ht[0]?ht[pt++]=mr[Me]||0:(ht=[mr[Me]],pt=1)}while((Me++<ze||void 0!==ht[0])&&de--);k=void 0!==ht[0]}ft[0]||ft.shift()}if(1==D)ot.e=A,p0=k;else{for(L=1,O=ft[0];O>=10;O/=10)L++;ot.e=L+A*D-1,wr(ot,y?v+ot.e+1:v,g,k)}return ot}}();function wr(o,s,a,u){var h,v,g,y,w,M,A,L,O,D=o.constructor;t:if(null!=s){if(!(L=o.d))return o;for(h=1,y=L[0];y>=10;y/=10)h++;if((v=s-h)<0)v+=Dr,w=(A=L[O=0])/yi(10,h-(g=s)-1)%10|0;else if((O=Math.ceil((v+1)/Dr))>=(y=L.length)){if(!u)break t;for(;y++<=O;)L.push(0);A=w=0,h=1,g=(v%=Dr)-Dr+1}else{for(A=y=L[O],h=1;y>=10;y/=10)h++;w=(g=(v%=Dr)-Dr+h)<0?0:A/yi(10,h-g-1)%10|0}if(u=u||s<0||void 0!==L[O+1]||(g<0?A:A%yi(10,h-g-1)),M=a<4?(w||u)&&(0==a||a==(o.s<0?3:2)):w>5||5==w&&(4==a||u||6==a&&(v>0?g>0?A/yi(10,h-g):0:L[O-1])%10&1||a==(o.s<0?8:7)),s<1||!L[0])return L.length=0,M?(L[0]=yi(10,(Dr-(s-=o.e+1)%Dr)%Dr),o.e=-s||0):L[0]=o.e=0,o;if(0==v?(L.length=O,y=1,O--):(L.length=O+1,y=yi(10,Dr-v),L[O]=g>0?(A/yi(10,h-g)%yi(10,g)|0)*y:0),M)for(;;){if(0==O){for(v=1,g=L[0];g>=10;g/=10)v++;for(g=L[0]+=y,y=1;g>=10;g/=10)y++;v!=y&&(o.e++,L[0]==wo&&(L[0]=1));break}if(L[O]+=y,L[O]!=wo)break;L[O--]=0,y=1}for(v=L.length;0===L[--v];)L.pop()}return Ur&&(o.e>D.maxE?(o.d=null,o.e=NaN):o.e<D.minE&&(o.e=0,o.d=[0])),o}function _o(o,s,a){if(!o.isFinite())return yA(o);var u,h=o.e,v=Ei(o.d),g=v.length;return s?(a&&(u=a-g)>0?v=v.charAt(0)+"."+v.slice(1)+Rs(u):g>1&&(v=v.charAt(0)+"."+v.slice(1)),v=v+(o.e<0?"e":"e+")+o.e):h<0?(v="0."+Rs(-h-1)+v,a&&(u=a-g)>0&&(v+=Rs(u))):h>=g?(v+=Rs(h+1-g),a&&(u=a-h-1)>0&&(v=v+"."+Rs(u))):((u=h+1)<g&&(v=v.slice(0,u)+"."+v.slice(u)),a&&(u=a-g)>0&&(h+1===g&&(v+="."),v+=Rs(u))),v}function vv(o,s){var a=o[0];for(s*=Dr;a>=10;a/=10)s++;return s}function dv(o,s,a){if(s>I7)throw Ur=!0,a&&(o.precision=a),Error(Hx);return wr(new o(cv),s,1,!0)}function So(o,s,a){if(s>ea)throw Error(Hx);return wr(new o(sh),s,a,!0)}function Gx(o){var s=o.length-1,a=s*Dr+1;if(s=o[s]){for(;s%10==0;s/=10)a--;for(s=o[0];s>=10;s/=10)a++}return a}function Rs(o){for(var s="";o--;)s+="0";return s}function dA(o,s,a,u){var h,v=new o(1),g=Math.ceil(u/Dr+4);for(Ur=!1;;){if(a%2&&xA((v=v.times(s)).d,g)&&(h=!0),0===(a=$i(a/2))){a=v.d.length-1,h&&0===v.d[a]&&++v.d[a];break}xA((s=s.times(s)).d,g)}return Ur=!0,v}function pA(o){return 1&o.d[o.d.length-1]}function gA(o,s,a){for(var u,h=new o(s[0]),v=0;++v<s.length;){if(!(u=new o(s[v])).s){h=u;break}h[a](u)&&(h=u)}return h}function Yx(o,s){var a,u,h,v,g,y,w,M=0,A=0,L=0,O=o.constructor,D=O.rounding,k=O.precision;if(!o.d||!o.d[0]||o.e>17)return new O(o.d?o.d[0]?o.s<0?0:1/0:1:o.s?o.s<0?0:o:NaN);for(null==s?(Ur=!1,w=k):w=s,y=new O(.03125);o.e>-2;)o=o.times(y),L+=5;for(w+=u=Math.log(yi(2,L))/Math.LN10*2+5|0,a=v=g=new O(1),O.precision=w;;){if(v=wr(v.times(o),w,1),a=a.times(++A),Ei((y=g.plus(bn(v,a,w,1))).d).slice(0,w)===Ei(g.d).slice(0,w)){for(h=L;h--;)g=wr(g.times(g),w,1);if(null!=s)return O.precision=k,g;if(!(M<3&&fv(g.d,w-u,D,M)))return wr(g,O.precision=k,D,Ur=!0);O.precision=w+=10,a=v=y=new O(1),A=0,M++}g=y}}function Tl(o,s){var a,u,h,v,g,y,w,M,A,L,O,D=1,X=o,tt=X.d,ot=X.constructor,ft=ot.rounding,ht=ot.precision;if(X.s<0||!tt||!tt[0]||!X.e&&1==tt[0]&&1==tt.length)return new ot(tt&&!tt[0]?-1/0:1!=X.s?NaN:tt?0:X);if(null==s?(Ur=!1,A=ht):A=s,ot.precision=A+=10,u=(a=Ei(tt)).charAt(0),!(Math.abs(v=X.e)<15e14))return M=dv(ot,A+2,ht).times(v+""),X=Tl(new ot(u+"."+a.slice(1)),A-10).plus(M),ot.precision=ht,null==s?wr(X,ht,ft,Ur=!0):X;for(;u<7&&1!=u||1==u&&a.charAt(1)>3;)u=(a=Ei((X=X.times(o)).d)).charAt(0),D++;for(v=X.e,u>1?(X=new ot("0."+a),v++):X=new ot(u+"."+a.slice(1)),L=X,w=g=X=bn(X.minus(1),X.plus(1),A,1),O=wr(X.times(X),A,1),h=3;;){if(g=wr(g.times(O),A,1),Ei((M=w.plus(bn(g,new ot(h),A,1))).d).slice(0,A)===Ei(w.d).slice(0,A)){if(w=w.times(2),0!==v&&(w=w.plus(dv(ot,A+2,ht).times(v+""))),w=bn(w,new ot(D),A,1),null!=s)return ot.precision=ht,w;if(!fv(w.d,A-10,ft,y))return wr(w,ot.precision=ht,ft,Ur=!0);ot.precision=A+=10,M=g=X=bn(L.minus(1),L.plus(1),A,1),O=wr(X.times(X),A,1),h=y=1}w=M,h+=2}}function yA(o){return String(o.s*o.s/0)}function Wx(o,s){var a,u,h;for((a=s.indexOf("."))>-1&&(s=s.replace(".","")),(u=s.search(/e/i))>0?(a<0&&(a=u),a+=+s.slice(u+1),s=s.substring(0,u)):a<0&&(a=s.length),u=0;48===s.charCodeAt(u);u++);for(h=s.length;48===s.charCodeAt(h-1);--h);if(s=s.slice(u,h)){if(h-=u,o.e=a=a-u-1,o.d=[],u=(a+1)%Dr,a<0&&(u+=Dr),u<h){for(u&&o.d.push(+s.slice(0,u)),h-=Dr;u<h;)o.d.push(+s.slice(u,u+=Dr));s=s.slice(u),u=Dr-s.length}else u-=h;for(;u--;)s+="0";o.d.push(+s),Ur&&(o.e>o.constructor.maxE?(o.d=null,o.e=NaN):o.e<o.constructor.minE&&(o.e=0,o.d=[0]))}else o.e=0,o.d=[0];return o}function lh(o,s,a,u,h){var v,g,y,w,M=o.precision,A=Math.ceil(M/Dr);for(Ur=!1,w=a.times(a),y=new o(u);;){if(g=bn(y.times(w),new o(s++*s++),M,1),y=h?u.plus(g):u.minus(g),u=bn(g.times(w),new o(s++*s++),M,1),void 0!==(g=y.plus(u)).d[A]){for(v=A;g.d[v]===y.d[v]&&v--;);if(-1==v)break}v=y,y=u,u=g,g=v}return Ur=!0,g.d.length=A+1,g}function y0(o,s){for(var a=o;--s;)a*=o;return a}function mA(o,s){var a,u=s.s<0,h=So(o,o.precision,1),v=h.times(.5);if((s=s.abs()).lte(v))return Co=u?4:1,s;if((a=s.divToInt(h)).isZero())Co=u?3:2;else{if((s=s.minus(a.times(h))).lte(v))return Co=pA(a)?u?2:3:u?4:1,s;Co=pA(a)?u?1:4:u?3:2}return s.minus(h).abs()}function Ux(o,s,a,u){var h,v,g,y,w,M,A,L,O,D=o.constructor,k=void 0!==a;if(k?(wa(a,1,Pa),void 0===u?u=D.rounding:wa(u,0,8)):(a=D.precision,u=D.rounding),o.isFinite()){for(k?(h=2,16==s?a=4*a-3:8==s&&(a=3*a-2)):h=s,(g=(A=_o(o)).indexOf("."))>=0&&(A=A.replace(".",""),(O=new D(1)).e=A.length-g,O.d=Ko(_o(O),10,h),O.e=O.d.length),v=w=(L=Ko(A,10,h)).length;0==L[--w];)L.pop();if(L[0]){if(g<0?v--:((o=new D(o)).d=L,o.e=v,L=(o=bn(o,O,a,u,0,h)).d,v=o.e,M=p0),g=L[a],y=h/2,M=M||void 0!==L[a+1],M=u<4?(void 0!==g||M)&&(0===u||u===(o.s<0?3:2)):g>y||g===y&&(4===u||M||6===u&&1&L[a-1]||u===(o.s<0?8:7)),L.length=a,M)for(;++L[--a]>h-1;)L[a]=0,a||(++v,L.unshift(1));for(w=L.length;!L[w-1];--w);for(g=0,A="";g<w;g++)A+=d0.charAt(L[g]);if(k){if(w>1)if(16==s||8==s){for(g=16==s?4:3,--w;w%g;w++)A+="0";for(w=(L=Ko(A,h,s)).length;!L[w-1];--w);for(g=1,A="1.";g<w;g++)A+=d0.charAt(L[g])}else A=A.charAt(0)+"."+A.slice(1);A=A+(v<0?"p":"p+")+v}else if(v<0){for(;++v;)A="0"+A;A="0."+A}else if(++v>w)for(v-=w;v--;)A+="0";else v<w&&(A=A.slice(0,v)+"."+A.slice(v))}else A=k?"0p+0":"0";A=(16==s?"0x":2==s?"0b":8==s?"0o":"")+A}else A=yA(o);return o.s<0?"-"+A:A}function xA(o,s){if(o.length>s)return o.length=s,!0}function aB(o){return new this(o).abs()}function O7(o){return new this(o).acos()}function oB(o){return new this(o).acosh()}function sB(o,s){return new this(o).plus(s)}function lB(o){return new this(o).asin()}function uB(o){return new this(o).asinh()}function cB(o){return new this(o).atan()}function R7(o){return new this(o).atanh()}function hB(o,s){o=new this(o),s=new this(s);var a,u=this.precision,h=this.rounding,v=u+4;return o.s&&s.s?o.d||s.d?!s.d||o.isZero()?(a=s.s<0?So(this,u,h):new this(0)).s=o.s:!o.d||s.isZero()?(a=So(this,v,1).times(.5)).s=o.s:s.s<0?(this.precision=v,this.rounding=1,a=this.atan(bn(o,s,v,1)),s=So(this,v,1),this.precision=u,this.rounding=h,a=o.s<0?a.minus(s):a.plus(s)):a=this.atan(bn(o,s,v,1)):(a=So(this,v,1).times(s.s>0?.25:.75)).s=o.s:a=new this(NaN),a}function fB(o){return new this(o).cbrt()}function vB(o){return wr(o=new this(o),o.e+1,2)}function dB(o,s,a){return new this(o).clamp(s,a)}function pB(o){if(!o||"object"!=typeof o)throw Error(g0+"Object expected");var s,a,u,h=!0===o.defaults,v=["precision",1,Pa,"rounding",0,8,"toExpNeg",-Gu,0,"toExpPos",0,Gu,"maxE",0,Gu,"minE",-Gu,0,"modulo",0,9];for(s=0;s<v.length;s+=3)if(a=v[s],h&&(this[a]=hv[a]),void 0!==(u=o[a])){if(!($i(u)===u&&u>=v[s+1]&&u<=v[s+2]))throw Error(Os+a+": "+u);this[a]=u}if(a="crypto",h&&(this[a]=hv[a]),void 0!==(u=o[a])){if(!0!==u&&!1!==u&&0!==u&&1!==u)throw Error(Os+a+": "+u);if(u){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(cA);this[a]=!0}else this[a]=!1}return this}function gB(o){return new this(o).cos()}function yB(o){return new this(o).cosh()}function F7(o,s){return new this(o).div(s)}function mB(o){return new this(o).exp()}function wA(o){return wr(o=new this(o),o.e+1,3)}function xB(){var o,s,a=new this(0);for(Ur=!1,o=0;o<arguments.length;)if((s=new this(arguments[o++])).d)a.d&&(a=a.plus(s.times(s)));else{if(s.s)return Ur=!0,new this(1/0);a=s}return Ur=!0,a.sqrt()}function Xx(o){return o instanceof Mo||o&&o.toStringTag===hA||!1}function CB(o){return new this(o).ln()}function wB(o,s){return new this(o).log(s)}function _A(o){return new this(o).log(2)}function SA(o){return new this(o).log(10)}function _B(){return gA(this,arguments,"lt")}function SB(){return gA(this,arguments,"gt")}function MB(o,s){return new this(o).mod(s)}function TB(o,s){return new this(o).mul(s)}function bB(o,s){return new this(o).pow(s)}function AB(o){var s,a,u,h,v=0,g=new this(1),y=[];if(void 0===o?o=this.precision:wa(o,1,Pa),u=Math.ceil(o/Dr),this.crypto)if(crypto.getRandomValues)for(s=crypto.getRandomValues(new Uint32Array(u));v<u;)(h=s[v])>=429e7?s[v]=crypto.getRandomValues(new Uint32Array(1))[0]:y[v++]=h%1e7;else{if(!crypto.randomBytes)throw Error(cA);for(s=crypto.randomBytes(u*=4);v<u;)(h=s[v]+(s[v+1]<<8)+(s[v+2]<<16)+((127&s[v+3])<<24))>=214e7?crypto.randomBytes(4).copy(s,v):(y.push(h%1e7),v+=4);v=u/4}else for(;v<u;)y[v++]=1e7*Math.random()|0;for(u=y[--v],o%=Dr,u&&o&&(h=yi(10,Dr-o),y[v]=(u/h|0)*h);0===y[v];v--)y.pop();if(v<0)a=0,y=[0];else{for(a=-1;0===y[0];a-=Dr)y.shift();for(u=1,h=y[0];h>=10;h/=10)u++;u<Dr&&(a-=Dr-u)}return g.e=a,g.d=y,g}function EB(o){return wr(o=new this(o),o.e+1,this.rounding)}function LB(o){return(o=new this(o)).d?o.d[0]?o.s:0*o.s:o.s||NaN}function IB(o){return new this(o).sin()}function OB(o){return new this(o).sinh()}function MA(o){return new this(o).sqrt()}function D7(o,s){return new this(o).sub(s)}function RB(){var o=0,s=arguments,a=new this(s[o]);for(Ur=!1;a.s&&++o<s.length;)a=a.plus(s[o]);return Ur=!0,wr(a,this.precision,this.rounding)}function FB(o){return new this(o).tan()}function DB(o){return new this(o).tanh()}function BB(o){return wr(o=new this(o),o.e+1,1)}De[Symbol.for("nodejs.util.inspect.custom")]=De.toString,De[Symbol.toStringTag]="Decimal";var Mo=De.constructor=function CA(o){var s,a,u;function h(v){var g,y,w,M=this;if(!(M instanceof h))return new h(v);if(M.constructor=h,Xx(v))return M.s=v.s,void(Ur?!v.d||v.e>h.maxE?(M.e=NaN,M.d=null):v.e<h.minE?(M.e=0,M.d=[0]):(M.e=v.e,M.d=v.d.slice()):(M.e=v.e,M.d=v.d?v.d.slice():v.d));if("number"==(w=typeof v)){if(0===v)return M.s=1/v<0?-1:1,M.e=0,void(M.d=[0]);if(v<0?(v=-v,M.s=-1):M.s=1,v===~~v&&v<1e7){for(g=0,y=v;y>=10;y/=10)g++;return void(Ur?g>h.maxE?(M.e=NaN,M.d=null):g<h.minE?(M.e=0,M.d=[0]):(M.e=g,M.d=[v]):(M.e=g,M.d=[v]))}return 0*v!=0?(v||(M.s=NaN),M.e=NaN,void(M.d=null)):Wx(M,v.toString())}if("string"!==w)throw Error(Os+v);return 45===(y=v.charCodeAt(0))?(v=v.slice(1),M.s=-1):(43===y&&(v=v.slice(1)),M.s=1),fA.test(v)?Wx(M,v):function nB(o,s){var a,u,h,v,g,y,w,M,A;if(s.indexOf("_")>-1){if(s=s.replace(/(\d)_(?=\d)/g,"$1"),fA.test(s))return Wx(o,s)}else if("Infinity"===s||"NaN"===s)return+s||(o.s=NaN),o.e=NaN,o.d=null,o;if(eB.test(s))a=16,s=s.toLowerCase();else if(tB.test(s))a=2;else{if(!rB.test(s))throw Error(Os+s);a=8}for((v=s.search(/p/i))>0?(w=+s.slice(v+1),s=s.substring(2,v)):s=s.slice(2),v=s.indexOf("."),u=o.constructor,(g=v>=0)&&(v=(y=(s=s.replace(".","")).length)-v,h=dA(u,new u(a),v,2*v)),v=A=(M=Ko(s,a,wo)).length-1;0===M[v];--v)M.pop();return v<0?new u(0*o.s):(o.e=vv(M,A),o.d=M,Ur=!1,g&&(o=bn(o,h,4*y)),w&&(o=o.times(Math.abs(w)<54?yi(2,w):Mo.pow(2,w))),Ur=!0,o)}(M,v)}if(h.prototype=De,h.ROUND_UP=0,h.ROUND_DOWN=1,h.ROUND_CEIL=2,h.ROUND_FLOOR=3,h.ROUND_HALF_UP=4,h.ROUND_HALF_DOWN=5,h.ROUND_HALF_EVEN=6,h.ROUND_HALF_CEIL=7,h.ROUND_HALF_FLOOR=8,h.EUCLID=9,h.config=h.set=pB,h.clone=CA,h.isDecimal=Xx,h.abs=aB,h.acos=O7,h.acosh=oB,h.add=sB,h.asin=lB,h.asinh=uB,h.atan=cB,h.atanh=R7,h.atan2=hB,h.cbrt=fB,h.ceil=vB,h.clamp=dB,h.cos=gB,h.cosh=yB,h.div=F7,h.exp=mB,h.floor=wA,h.hypot=xB,h.ln=CB,h.log=wB,h.log10=SA,h.log2=_A,h.max=_B,h.min=SB,h.mod=MB,h.mul=TB,h.pow=bB,h.random=AB,h.round=EB,h.sign=LB,h.sin=IB,h.sinh=OB,h.sqrt=MA,h.sub=D7,h.sum=RB,h.tan=FB,h.tanh=DB,h.trunc=BB,void 0===o&&(o={}),o&&!0!==o.defaults)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],s=0;s<u.length;)o.hasOwnProperty(a=u[s++])||(o[a]=this[a]);return h.config(o),h}(hv);cv=new Mo(cv),sh=new Mo(sh);var uh,TA=function(o){return"number"==typeof o?Number.isNaN(o):!o||"string"!=typeof o||Number.isNaN(Number(o))},Vx=function(o,s,a){return void 0===a&&(a=!1),o?.length?o.reduce(function(u,h){var v=yr(h,s),g=TA(v);return a&&g||u.push(new Mo(g?0:v)),u},[]):[]},bA=function(o,s){var a=Vx(o,s);return a.length?Mo.sum.apply(Mo,Be([],Ae(a),!1)).toNumber():0},AA=function(o,s,a){var u=Vx(s,a,!0);if(u?.length)return Mo[o].apply(Mo,Be([],Ae(u),!1)).toNumber()},kB=((uh={})[xl.SUM]=bA,uh[xl.MIN]=function(o,s){return AA("min",o,s)},uh[xl.MAX]=function(o,s){return AA("max",o,s)},uh[xl.AVG]=function(o,s){var a=Vx(o,s);return a?.length?Mo.sum.apply(Mo,Be([],Ae(a),!1)).dividedBy(a.length).toNumber():0},uh),$x=function(o){return ue(ue({},o?.colQuery),o?.rowQuery)},m0=function(o,s){var a;if(o){var u=s.style,h=s.className,v=void 0===h?[]:h,g=s.visible;if(u&&Object.assign(o.style,u),v.length){var y=v.filter(Boolean);(a=o.classList).add.apply(a,Be([],Ae(y),!1))}o.classList.toggle(t8,g),o.classList.toggle(e8,!g)}},Zx=function(o,s){var a,u=null===(a=o?.dataSet)||void 0===a?void 0:a.getFieldFormatter(s);return function(h,v){return function(o){var s=ga(o)&&Number.isNaN(o),a=""===o;return fi(o)||s||a?"-":o}(u(h,v))}},x0=function(o,s){var a,u=s.data,h=s.field,v=s.valueField,g=s.useCompleteDataForFormatter,y=void 0===g||g,w=null===(a=o?.dataSet)||void 0===a?void 0:a.getFieldName(h),M=Zx(o,h),A=Cn(u[h])?JSON.stringify(u[h]):u[h];return{name:w,value:M(v||A,y?u:void 0)}},LA=function(o,s,a){return cn(Cs(xu([],s),function(v){return v!==Jr&&a[v]}),function(v){return x0(o,{data:a,field:v,useCompleteDataForFormatter:!1})})},IA=function(o,s,a){void 0===a&&(a=!0);var u=[];return br(s,function(h,v){br(o,function(g){a||-1===g.colIndex?a&&-1!==g.rowIndex&&u.push([g.rowIndex,v]):u.push([v,g.colIndex])})}),u},VB=function(o){var s=o.spreadsheet,a=o.targetCell,u=o.options,h=void 0===u?{}:u,v=[],g={};return s.isTableMode()&&h?.showSingleTips?[{selectedData:s.dataSet.getMultiData({}),name:"",value:""}]:(br(function(o,s,a){var u,h=null===(u=o.facet)||void 0===u?void 0:u.layoutResult,v=function(w){var M=s?.getMeta(),A=M?.isTotals,L=s?.cellType===Ue.COL_CELL;if(!L&&s?.cellType!==Ue.ROW_CELL)return!1;var D=h.colNodes.find(function(tt){return tt.colIndex===w.colIndex}),k=h.rowNodes.find(function(tt){return tt.rowIndex===w.rowIndex});return!A&&w?.isTotals||A&&(L?k?.isTotals:D?.isTotals)};if(a){var g=function(o,s){var a,u=s.rowLeafNodes,h=s.colLeafNodes,v=o.interaction.getState(),g=v.nodes,y=void 0===g?[]:g,w=v.cells,A=null===(a=(void 0===w?[]:w)?.[0])||void 0===a?void 0:a.type;return A===Ue.COL_CELL?IA(y,u,!1):A===Ue.ROW_CELL?IA(y,h):[]}(o,h);return el(cn(g,function(w){var M=Ae(w,2),O=h.getCellMeta(M[0],M[1]);if(!v(O))return O?.data||$x(O)}))}return o.interaction.getCells().filter(function(w){var M=h.getCellMeta(w.rowIndex,w.colIndex);return!v(M)}).map(function(w){var M=h.getCellMeta(w.rowIndex,w.colIndex);return M?.data||$x(M)})}(s,a,h.showSingleTips),function(A){var L;g[A?.[Jr]]?null===(L=g[A?.[Jr]])||void 0===L||L.push(A):g[A?.[Jr]]=[A]}),Jm(g,function(A,L){var O,D=function(o,s,a){var u;if(a)return gi("\u603b\u8ba1");var h=null===(u=o?.dataSet)||void 0===u?void 0:u.getFieldName(s);return h&&"undefined"!==h?h:""}(s,L,h?.isTotals),k="",X="";if(Su(A,function(pt){return TA(yr(pt,no))})){var ot=zu(g,s.options.placeholder);k=ot,X=ot}else{var ft=Zx(s,L),ht=bA(A,no);X=ht,k=null!==(O=ft?.(ht,A))&&void 0!==O?O:parseFloat(ht.toPrecision(16))}v.push({selectedData:A,name:D,value:k,originValue:X})}),v)},RA=function(o){var s=o.spreadsheet,a=o.cellInfos,u=void 0===a?[]:a,h=o.options,v=void 0===h?{}:h,g=o.targetCell,y=null,w=null,M=null,A=function(o){if(o){var s=o.getMeta();if(!s.isTotals){var u=ai(s.spreadsheet.dataCfg.meta,{field:s.field||s.value||s.valueField})?.field;return s.spreadsheet.dataSet.getFieldDescription(u)}}}(g),L=u[0]||{};if(v?.hideSummary)if(v.showSingleTips){var D=Zx(s,L.valueField)(L.value),k=v.enableFormat?s.dataSet.getFieldName(L.value)||D:s.dataSet.getFieldName(L.valueField);L.name=k||""}else w=function(o,s,a){var u,h,v,g,y=(a||{}).isTotals,w=[],M=[];if(s){var A=null===(h=null===(u=o?.dataSet)||void 0===u?void 0:u.fields)||void 0===h?void 0:h.columns,L=null===(g=null===(v=o?.dataSet)||void 0===v?void 0:v.fields)||void 0===g?void 0:g.rows;w=LA(o,Bu(A||[]),s),M=LA(o,L,s)}return Ke(w)&&Ke(M)&&y&&(w=[{value:gi("\u603b\u8ba1")}]),{cols:w,rows:M}}(s,L,v),M=function(o,s,a){if(s){var h=s[Jr],v=s[h],g=[];if(a.isTotals)g.push(x0(o,{data:s,field:h,valueField:yr(s,no)}));else if(function(o){return Cn(o)&&"values"in o}(v)&&o.getTooltipDataItemMappingCallback()){var y=mo(s,o.getTooltipDataItemMappingCallback());br(y,function(w,M){g.push(x0(o,{data:y,field:M}))})}else g.push(x0(o,{data:s,field:h}));return g}}(s,L,v);else y=VB({spreadsheet:s,options:v,targetCell:g});var X=L||{};return{summaries:y,interpretation:X.interpretation,infos:X.infos,tips:X.tips,name:X.name,headInfo:w,details:M,description:A}},ch=function(o){if(!o.interaction.isSelectedState())return[];var s=o.dataCfg.fields.valueInCols;return o.interaction.getCells().reduce(function(a,u){var h=o.facet.layoutResult.getCellMeta(u?.rowIndex,u?.colIndex),v=$x(h);if(Ke(h)||Ke(v))return[];var g=ue(ue({},v),{colIndex:s?h.colIndex:null,rowIndex:s?null:h.rowIndex});return a.find(function(w){return Vi(g,w)})||a.push(g),a},[])},w0=function(o,s){var a;if(s&&o){var u=null===(a=o.getCellType)||void 0===a?void 0:a.call(o,s?.target);return function(o,s){void 0===o&&(o={});var a=function(y){return Is(o,y)},h=o.row,v=o.data,g=o.corner;return s===Ue.COL_CELL?a(o.col):s===Ue.ROW_CELL?a(h):s===Ue.DATA_CELL?a(v):s===Ue.CORNER_CELL?a(g):ue({},o)}(o.options.tooltip,u)}},DA=function(o,s){var a=s.defaultMenus,u=void 0===a?[]:a,h=s.cell,v=function(y){return void 0===y&&(y=[]),y.filter(function(w){var M;return ci(w.visible)?w.visible(h):null===(M=w.visible)||void 0===M||M}).map(function(w){return w.children&&(w.children=v(w.children)),w})},g=v(o.menus);return{onClick:o.onClick,menus:el(Be(Be([],Ae(u),!1),Ae(g),!1))}},BA=function(){function o(s){var a=this;this.getFieldMeta=ou(function(u,h){return ai(a.meta||h,function(v){return v.field===u})}),this.spreadsheet=s}return o.prototype.getFieldName=function(s){return yr(this.getFieldMeta(s,this.meta),"name",s)},o.prototype.getFieldFormatter=function(s){return yr(this.getFieldMeta(s,this.meta),"formatter",Wi)},o.prototype.getFieldDescription=function(s){return yr(this.getFieldMeta(s,this.meta),"description")},o.prototype.setDataCfg=function(s){this.getFieldMeta.cache.clear();var a=this.processDataCfg(s),h=a.meta,v=a.data,g=a.totalData,y=a.sortParams,w=a.filterParams;this.fields=a.fields,this.meta=h,this.originData=v,this.totalData=g,this.sortParams=y,this.filterParams=w,this.displayData=this.originData,this.indexesData=[]},o.prototype.getDisplayDataSet=function(){return this.displayData},o.prototype.getValueRangeByField=function(s){var a,u=function(o,s){return o.store.get(Uh,xd)[s]}(this.spreadsheet,s);if(u)return u;var h=el(cn(this.originData,function(g){var y=g[s];return fi(y)?null:Number.parseFloat(y)})),v={maxValue:vo(h),minValue:t1(h)};return function(o,s){var a=o.store.get(Uh,xd);o.store.set(Uh,ue(ue({},a),s))}(this.spreadsheet,((a={})[s]=v,a)),v},o.prototype.moreThanOneValue=function(){var s,a;return(null===(a=null===(s=this.fields)||void 0===s?void 0:s.values)||void 0===a?void 0:a.length)>1},o}(),hh=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.handleDimensionValuesSort=function(){br(a.sortParams,function(u){var h=u.sortFieldId,v=u.sortByMeasure;if(h){var g=Be([],Ae(a.sortedDimensionValues[h]||[]),!1),y=ND({dataSet:a,sortParam:u,originValues:g,isSortByMeasure:!Ke(v)});a.sortedDimensionValues[h]=y}})},a.getCustomData=function(u){for(var h,v=!1,g=a.indexesData,y=function(M){var A=u[M];v?g=fo(A)?nb(g):null===(h=Uo(g))||void 0===h?void 0:h.map(function(L){return L&&yr(L,A)}):fo(A)?v=!0:g=g?.[A]},w=0;w<u.length;w++)y(w);return g},a.getTotalStatus=function(u){var h=a.fields,v=h.columns,g=h.rows,y=function(M,A){if(A){var L=ai(M,function(O){return!Pc(u,O)});return L&&L!==cl(M)}return Su(M,function(O){return!Pc(u,O)})},w=function(M,A){return A?M.filter(function(L){return L!==Jr}):M};return{isRowTotal:y(w(g,!a.spreadsheet.isValueInCols())),isRowSubTotal:y(g,!0),isColTotal:y(w(v,a.spreadsheet.isValueInCols())),isColSubTotal:y(v,!0)}},a}return Ir(s,o),s.prototype.setDataCfg=function(a){var u=this;o.prototype.setDataCfg.call(this,a),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(dx(a.data,a.fields)).concat(this.totalData),Ts.getInstance().debugCallback("Transform Data",function(){var h=u.fields,y=s0({rows:h.rows,columns:h.columns,originData:u.originData,totalData:u.totalData,indexesData:u.indexesData,sortedDimensionValues:u.sortedDimensionValues,rowPivotMeta:u.rowPivotMeta,colPivotMeta:u.colPivotMeta}).indexesData;u.indexesData=y}),this.handleDimensionValuesSort()},s.prototype.transformDrillDownData=function(a,u,h){var g,v=this,y=this.fields,w=y.columns,M=y.values,L=Be(Be([],Ae(bi.getFieldPath(h,!0)),!1),[a],!1),O=this.spreadsheet.store,D=this.standardTransform(u,M),k=dx(D,{columns:this.fields.columns,rows:L}),X=ll(D,k),tt=h?.id,ot=null!==(g=O.get("drillDownIdPathMap"))&&void 0!==g?g:new Map;ot.has(tt)&&(br(ot.get(tt),function(Me){Yf(v.indexesData,Me)}),Vb(this.rowPivotMeta,tt));var ft=s0({rows:L,columns:w,originData:X,totalData:k,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),ht=ft.paths,Wt=ft.rowPivotMeta,de=ft.colPivotMeta,pe=ft.sortedDimensionValues;this.indexesData=ft.indexesData,this.rowPivotMeta=Wt,this.colPivotMeta=de,this.sortedDimensionValues=pe,ot.set(tt,ht),O.set("drillDownIdPathMap",ot)},s.prototype.clearDrillDownData=function(a){var u=this,h=this.spreadsheet.store,v=h.get("drillDownIdPathMap");if(v){var g=h.get("drillDownDataCache",[]);if(a){var y=v.get(a);y&&br(y,function(D){Yf(u.indexesData,D)}),Vb(this.rowPivotMeta,a),v.delete(a);var w=Cs(g,function(D){return v.has(D?.rowId)});h.set("drillDownDataCache",w);var M=w.map(function(D){return D?.drillLevel}),L=h.get("drillDownFieldInLevel",[]).filter(function(D){return pa(M,D?.drillLevel)});h.set("drillDownFieldInLevel",L)}else{v.clear();var O=this.spreadsheet.store.get("originalDataCfg");Ke(O)||this.spreadsheet.setDataCfg(O),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}h.set("drillDownIdPathMap",v)}},s.prototype.standardTransform=function(a,u){if(Ke(u))return a;var h=[];return br(u,function(v){br(a,function(g){var y;Pc(g,v)&&h.push(ue(ue({},g),((y={})[Jr]=v,y[no]=g[v],y)))})}),h},s.prototype.processDataCfg=function(a){var u,h,v=a.data,g=a.meta,y=void 0===g?[]:g,w=a.fields,M=a.sortParams,A=void 0===M?[]:M,L=a.totalData,O=w.columns,D=w.rows,k=w.values,tt=w.customValueOrder,ot=O,ft=D;w.valueInCols?ot=this.isCustomMeasuresPosition(tt)?this.handleCustomMeasuresOrder(tt,ot):dl(Be(Be([],Ae(O),!1),[Jr],!1)):ft=this.isCustomMeasuresPosition(tt)?this.handleCustomMeasuresOrder(tt,ft):dl(Be(Be([],Ae(D),!1),[Jr],!1));var pt=(null===(h=null===(u=this.spreadsheet)||void 0===u?void 0:u.options)||void 0===h?void 0:h.cornerExtraFieldText)||gi("\u6570\u503c"),Wt={field:Jr,name:pt,formatter:function(ze){return function(ze){return yr(ai(y,function(Ze){return Ze.field===ze}),"name",ze)}(ze)}},de=Be(Be([],Ae(y),!1),[Wt],!1),pe=this.standardTransform(v,k),Me=this.standardTransform(L,k);return{data:pe,meta:de,fields:ue(ue({},w),{rows:ft,columns:ot,values:k}),totalData:Me,sortParams:A}},s.prototype.getDimensionValues=function(a,u){var h,v,g,y,w=this.fields||{},M=w.rows,A=void 0===M?[]:M,L=w.columns,O=void 0===L?[]:L,D=new Map,k=[];if(pa(A,a)?(D=this.rowPivotMeta,k=A):pa(O,a)&&(D=this.colPivotMeta,k=O),!Ke(u)){var X=[],tt=[],ot=function(de){var pe=yr(u,de);tt.push("".concat(pe));var Me=tt.join("".concat(_i));if(D.has(pe)&&!fo(pe)){var ze=null===(g=D.get(pe))||void 0===g?void 0:g.childField;if(D=D.get(pe).children,ai(ft.sortParams,function(Ze){return Ze.sortFieldId===ze})&&ft.sortedDimensionValues[ze]){var Oe=null===(y=ft.sortedDimensionValues[ze])||void 0===y?void 0:y.filter(function(Ze){return Ze?.startsWith(Me)});X=Ub(Be([],Ae(Oe),!1))}else X=Be([],Ae(D.keys()),!1)}},ft=this;try{for(var ht=Ma(k),pt=ht.next();!pt.done;pt=ht.next())ot(pt.value)}catch(de){h={error:de}}finally{try{pt&&!pt.done&&(v=ht.return)&&v.call(ht)}finally{if(h)throw h.error}}return Ke(X)?[]:Qf(qp(Be([],Ae(D.keys()),!1),X))}return Qf(this.sortedDimensionValues[a]?Ub(Be([],Ae(this.sortedDimensionValues[a]),!1)):Be([],Ae(D.keys()),!1))},s.prototype.getTotalValue=function(a){var u,h,v=function E8(o,s){var a=o.isRowTotal,u=o.isRowSubTotal,v=o.isColSubTotal,g=s||{},M=g.row||{},A=M.calcTotals,L=void 0===A?{}:A,O=M.calcSubTotals,D=void 0===O?{}:O,k=g.col||{},X=k.calcTotals,ot=k.calcSubTotals,ft=void 0===ot?{}:ot,ht=function(pt,Wt){if((pt.aggregation||pt.calcFunc)&&Wt)return{aggregation:pt.aggregation,calcFunc:pt.calcFunc}};return ht(void 0===X?{}:X,o.isColTotal)||ht(ft,v)||ht(L,a)||ht(D,u)}(this.getTotalStatus(a),null===(h=this.spreadsheet.options)||void 0===h?void 0:h.totals)||{},y=v.calcFunc,w=kB[v.aggregation];if(w||y){var M=this.getMultiData(a),A=void 0;return y?A=y(a,M):w&&(A=w(M,no)),ue(ue({},a),((u={})[no]=A,u[a[Jr]]=A,u))}},s.prototype.getCellData=function(a){var u,h,v,g=a||{},y=g.query,w=g.rowNode,M=g.isTotals,A=void 0!==M&&M,L=this.fields,O=L.columns,D=L.rows,k=D,X=null===(u=this.spreadsheet)||void 0===u?void 0:u.store.get("drillDownIdPathMap"),tt=Array.from(null!==(h=X?.keys())&&void 0!==h?h:[]).some(function(Wt){return w.id.startsWith(Wt)});(!A||tt)&&(k=null!==(v=bi.getFieldPath(w,tt))&&void 0!==v?v:D);var ht=av({rowDimensionValues:Hu(k,y),colDimensionValues:Hu(O,y),careUndefined:A||ab([].concat(D).concat(O),y),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),pt=yr(this.indexesData,ht);return pt||(A?this.getTotalValue(y):pt)},s.prototype.getMultiData=function(a,u,h,v){var g;if(Ke(a))return el(fx(this.indexesData));var y=this.fields,w=y.rows,M=y.columns,A=y.values,O=Hu(Ke(v)?w:w.concat(v),a),D=Hu(M,a),k=av({rowDimensionValues:O,colDimensionValues:D,careUndefined:!0,isFirstCreate:!0,rowFields:w,colFields:M,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),X=this.getCustomData(k),tt=el(nb(X));if(u){var ot=[],ft=vx(O,w),ht=vx(D,M);if(h)ot=ft;else if(1===(null===(g=vn(a))||void 0===g?void 0:g.length)&&Pc(a,Jr))ot=ht;else{var Wt=function(Me){return function(o){return o?.every(function(s){return fo(s)})}(Me?.filter(function(ze){return!A?.includes(ze)}))},de=Wt(D),pe=Wt(O);ot=de?ft:pe?ht:Be(Be([],Ae(ft),!1),Ae(ht),!1)}tt=tt.filter(function(Me){return!ot?.find(function(ze){var Oe;return ze!==Jr&&(null===(Oe=vn(Me))||void 0===Oe?void 0:Oe.includes(ze))})})}return tt||[]},s.prototype.getFieldFormatter=function(a,u){return a===pC?this.getFieldFormatterForTotalValue(u):o.prototype.getFieldFormatter.call(this,a)},s.prototype.getFieldFormatterForTotalValue=function(a){var u;return!this.spreadsheet.isValueInCols()&&a&&(u=yr(a.rowQuery,Jr)),u=u??yr(this.fields.values,0),o.prototype.getFieldFormatter.call(this,u)},s.prototype.handleCustomMeasuresOrder=function(a,u){var h=dl(Be([],Ae(u),!1));return u.length>=a?(h.splice(a,0,Jr),h):Be(Be([],Ae(h),!1),[Jr],!1)},s.prototype.isCustomMeasuresPosition=function(a){return ga(a)},s.prototype.getRowData=function(a){return this.getMultiData(a.rowQuery)},s}(BA),Kx=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.handleDimensionValueFilter=function(){br(a.filterParams,function(u){var h=u.filterKey,v=u.filteredValues,g=u.customFilter,y=function(w){return!pa(v,w[h])};a.displayData=Be(Be(Be([],Ae(a.getStartRows()),!1),Ae(Cs(a.getMovableRows(),function(w){return g?g(w)&&y(w):y(w)})),!1),Ae(a.getEndRows()),!1)})},a.handleDimensionValuesSort=function(){br(a.sortParams,function(u){var h=u.sortFieldId,v=u.sortBy,g=u.sortFunc,y=u.sortMethod,w=u.query;if(h){var M=a.getMovableRows(),A=[];if(w){var L=[];M.forEach(function(X){for(var tt=Object.keys(w),ot=!0,ft=0;ft<tt.length;ft++){var ht=tt[ft];if(X[ht]!==w[ht]){ot=!1,A.push(X);break}}ot&&L.push(X)}),M=L}var O=M;if(g)O=g(ue(ue({},u),{data:M}));else if(v&&!ci(v)){var D=Be([],Ae(v),!1).reverse();O=M.sort(function(X,tt){var ot=D.indexOf(X[h]);return D.indexOf(tt[h])-ot})}else(ih(y)||Ix(y))&&(O=o1(M,[(ci(v)?v:null)||h],[y.toLocaleLowerCase()]));A.length&&(O=Be(Be([],Ae(O),!1),Ae(A),!1)),a.displayData=Be(Be(Be([],Ae(a.getStartRows()),!1),Ae(O),!1),Ae(a.getEndRows()),!1)}})},a}return Ir(s,o),s.prototype.processDataCfg=function(a){return a},s.prototype.setDataCfg=function(a){o.prototype.setDataCfg.call(this,a),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},s.prototype.getStartRows=function(){var a=(this.spreadsheet.options||{}).frozenRowCount;return a?this.displayData.slice(0,a):[]},s.prototype.getEndRows=function(){var a=(this.spreadsheet.options||{}).frozenTrailingRowCount;return a?this.displayData.slice(-a):[]},s.prototype.getMovableRows=function(){var u=this.spreadsheet.options||{};return this.displayData.slice(u.frozenRowCount||0,-u.frozenTrailingRowCount||void 0)},s.prototype.getDimensionValues=function(a,u){return[]},s.prototype.getCellData=function(a){var u=a.query;if(0!==this.displayData.length||0!==u.rowIndex){var h=this.displayData[u.rowIndex];return"col"in u&&Cn(h)?h[u.col]:h}},s.prototype.getMultiData=function(a,u){return this.displayData},s.prototype.getRowData=function(a){return this.getCellData({query:{rowIndex:a.rowIndex}})},s}(BA),Qx=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.getCellData=function(a){var u=a.query,h=this.fields,v=h.columns,g=h.rows,M=av({rowDimensionValues:Hu(g,u),colDimensionValues:Hu(v,u),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:g,colFields:v});return yr(this.indexesData,M)},s.prototype.setDataCfg=function(a){o.prototype.setDataCfg.call(this,a),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var u=this.fields,g=s0({rows:u.rows,columns:u.columns,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=g,this.handleDimensionValuesSort()},s.prototype.processDataCfg=function(a){a.fields.rows=[Jr],a.fields.valueInCols=!1;var u=a.data,h=Zg(a,["data"]),v=a.fields.values,g=[];return br(u,function(y){Ke(Um(vn(y),v))?g.push(y):br(v,function(w){var M;Pc(y,w)&&g.push(ue(ue({},y),((M={})[Jr]=w,M[no]=y[w],M)))})}),ue({data:dl(g)},h)},s}(hh),bl=(()=>(function(o){o.ScrollChange="scroll-change",o.ScrollEnd="scroll-end"}(bl||(bl={})),bl))(),_0=function(o){function s(a){var u=o.call(this,a)||this;u.isMobile=!1,u.eventHandlers=[],u.scrollFrameId=null,u.getCoordinatesName=function(){return{from:u.isHorizontal?"x1":"y1",to:u.isHorizontal?"x2":"y2"}},u.getCoordinatesWithBBoxExtraPadding=function(){var D=u.theme.size;return{start:u.thumbOffset+(u.isHorizontal?0:D/2),end:u.thumbOffset+u.thumbLen-(u.isHorizontal?D:D/2)}},u.current=function(){return u.thumbOffset/u.trackLen/(1-u.thumbLen/u.trackLen)},u.updateThumbLen=function(D){if(u.thumbLen!==D){u.thumbLen=D;var k=u.getCoordinatesName();u.thumbShape.attr(k.to,u.thumbOffset+D),u.emitScrollChange(u.thumbOffset/(u.trackLen-u.thumbLen)*u.scrollTargetMaxOffset,!1)}},u.updateThumbOffset=function(D,k){var X;void 0===k&&(k=!0);var tt=u.validateRange(D);if(u.thumbOffset!==tt||0===tt){u.thumbOffset=tt;var ft=u.getCoordinatesName(),ht=ft.from,pt=ft.to,Wt=u.getCoordinatesWithBBoxExtraPadding(),pe=Wt.end;u.thumbShape.attr(((X={})[ht]=Wt.start,X[pt]=pe,X)),k&&u.emitScrollChange(tt/(u.trackLen-u.thumbLen)*u.scrollTargetMaxOffset,!1)}},u.onlyUpdateThumbOffset=function(D){var k;u.updateThumbOffset(D,!1),null===(k=u.get("canvas"))||void 0===k||k.draw()},u.emitScrollChange=function(D,k){void 0===k&&(k=!0),cancelAnimationFrame(u.scrollFrameId),u.scrollFrameId=requestAnimationFrame(function(){u.emit(bl.ScrollChange,{offset:D,updateThumbOffset:k})})},u.addEventListener=function(D,k,X){return D?.addEventListener(k,X,!1),{remove:function(){D?.removeEventListener(k,X,!1)}}},u.addEvent=function(D,k,X){D.on(k,X),u.eventHandlers.push({target:D,type:k,handler:X})},u.initScrollBar=function(){u.scrollBarGroup=u.createScrollBarGroup(),u.scrollBarGroup.move(u.position.x,u.position.y),u.bindEvents()},u.createScrollBarGroup=function(){var D=u.addGroup({className:u.isHorizontal?"horizontalBar":"verticalBar"});return u.trackShape=u.createTrackShape(D),u.thumbShape=u.createThumbShape(D),D},u.createTrackShape=function(D){var k=u.theme,X=k.lineCap,ft=k.size,ht={lineWidth:ft,stroke:k.trackColor,lineCap:void 0===X?"round":X};return D.addShape("line",u.isHorizontal?{attrs:ue(ue({},ht),{x1:0,y1:ft/2,x2:u.trackLen,y2:ft/2})}:{attrs:ue(ue({},ht),{x1:ft/2,y1:0,x2:ft/2,y2:u.trackLen})})},u.createThumbShape=function(D){var k=u.theme,X=k.size,tt=k.lineCap,ht={lineWidth:X,stroke:k.thumbColor,lineCap:void 0===tt?"round":tt,cursor:"default"},pt=u.getCoordinatesWithBBoxExtraPadding(),Wt=pt.start,de=pt.end;return D.addShape("line",u.isHorizontal?{attrs:ue(ue({},ht),{x1:Wt,y1:X/2,x2:de,y2:X/2})}:{attrs:ue(ue({},ht),{x1:X/2,y1:Wt,x2:X/2,y2:de})})},u.bindEvents=function(){u.on("mousedown",u.onStartEvent(!1)),u.on("mouseup",u.onMouseUp),u.on("touchstart",u.onStartEvent(!0)),u.on("touchend",u.onMouseUp),u.trackShape.on("click",u.onTrackClick),u.thumbShape.on("mouseover",u.onTrackMouseOver),u.thumbShape.on("mouseout",u.onTrackMouseOut)},u.onStartEvent=function(D){return function(k){k.preventDefault(),u.isMobile=D;var X=u.isMobile?yr(k,"touches.0",k):k;u.startPos=u.isHorizontal?X.clientX:X.clientY,u.bindLaterEvent()}},u.bindLaterEvent=function(){var D=u.get("canvas"),k=document.body,X=[];u.isMobile?(X=[u.addEventListener(k,"touchmove",u.onMouseMove),u.addEventListener(k,"touchend",u.onMouseUp),u.addEventListener(k,"touchcancel",u.onMouseUp)],u.addEvent(D,"touchend",u.onMouseUp),u.addEvent(D,"touchcancel",u.onMouseUp)):(X=[u.addEventListener(k,"mousemove",u.onMouseMove),u.addEventListener(k,"mouseup",u.onMouseUp),u.addEventListener(k,"mouseleave",u.onMouseUp)],u.addEvent(D,"mouseup",u.onMouseUp)),u.clearEvents=function(){X.forEach(function(tt){tt?.remove()}),br(u.eventHandlers,function(tt){var ot;null===(ot=tt.target)||void 0===ot||ot.off(tt.type,tt.handler)}),u.eventHandlers.length=0}},u.onTrackClick=function(D){var X=u.validateRange(u.isHorizontal?D.x-u.position.x-u.thumbLen/2:D.y-u.position.y-u.thumbLen/2);u.updateThumbOffset(X)},u.onMouseMove=function(D){D.preventDefault();var k=u.isMobile?yr(D,"touches.0",D):D,ot=u.isHorizontal?k.clientX:k.clientY,ft=ot-u.startPos;u.startPos=ot,u.updateThumbOffset(u.thumbOffset+ft)},u.onMouseUp=function(D){var k;u.emit(bl.ScrollEnd,{}),D.preventDefault(),null===(k=u.clearEvents)||void 0===k||k.call(u)},u.onTrackMouseOver=function(){var D=u.theme,X=D.hoverSize;u.thumbShape.attr("stroke",D.thumbHoverColor),u.thumbShape.attr("lineWidth",X)},u.onTrackMouseOut=function(){var D=u.theme,X=D.size;u.thumbShape.attr("stroke",D.thumbColor),u.thumbShape.attr("lineWidth",X)},u.validateRange=function(D){var k=D;return D+u.thumbLen>u.trackLen?k=u.trackLen-u.thumbLen:D+u.thumbLen<u.thumbLen&&(k=0),k};var h=a.isHorizontal,g=a.trackLen,y=a.thumbLen,w=a.position,M=a.thumbOffset,A=void 0===M?0:M,L=a.theme,O=a.scrollTargetMaxOffset;return u.isHorizontal=void 0!==h&&h,u.thumbOffset=A,u.trackLen=g,u.thumbLen=y,u.position=w,u.theme=L,u.scrollTargetMaxOffset=O,u.initScrollBar(),u}return Ir(s,o),s}(ls),Jx=function(o,s,a){return o.filter(function(u){return u.level>=s}).map(function(u){return u[a]}).reduce(function(u,h){return u+h},0)},pv=function(o,s,a){if(a<=0)return{start:0,end:0};var u=Bc(o,function(v,g){return s>=v&&s<o[g+1]},0);u=Math.max(u,0);var h=a===s?u:Bc(o,function(v,g){return a>v&&a<=o[g+1]},u);return{start:u,end:h=Math.min(-1===h?1/0:h,o.length-2)}},jx=function(o,s){var h=Math.min(s.originalWidth-s.width,o);return h<0?0:h},t2=function(o,s,a){var u=Math.min(s-a,o);return u<0?0:u},gv=function(o,s){if(void 0===o&&(o=[]),Ke(o))return[];var a=[];return o.forEach(function(u){u instanceof s&&a.push(u),u instanceof ls&&u.getChildren().forEach(function(v){v instanceof s&&a.push(v)})}),a},PA=function(o,s,a){return a.slice(o,s+1).map(function(u){return u.x+u.width})},S0=function(o,s,a){for(var u=[],h=o;h<s+1;h++)u.push(a.getCellOffsetY(h+1));return u},zA=function(o,s,a){var u=Ae(a,4);return o>=u[0]&&o<=u[1]&&s>=u[2]&&s<=u[3]},NA=function(o){for(var s=Ae(o,4),u=s[1],h=s[2],v=s[3],g=[],y=s[0];y<=u;y+=1)for(var w=h;w<=v;w+=1)g.push([y,w]);return g},QB=function(o,s){var a=[],u=[];return Object.keys(s).forEach(function(h){var v=function(o,s){var a=[],u=[];if(Ke(o))return Ke(s)?{add:a,remove:u}:{add:NA(s),remove:u};if(Ke(s))return{add:a,remove:NA(o)};for(var h=Ae(o,4),v=h[0],g=h[1],y=h[2],w=h[3],M=Ae(s,4),A=M[0],L=M[1],O=M[2],D=M[3],k=v;k<=g;k++)for(var X=y;X<=w;X++)zA(k,X,s)||u.push([k,X]);for(k=A;k<=L;k+=1)for(X=O;X<=D;X+=1)zA(k,X,o)||a.push([k,X]);return{add:a,remove:u}}(o?.[h]||[],s[h]),y=v.remove;a.push.apply(a,Be([],Ae(v.add),!1)),u.push.apply(u,Be([],Ae(y),!1))}),{add:a,remove:u}},HA=function o(s,a){void 0===a&&(a=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=s,this.spreadsheet=s.spreadsheet,this.layoutResult=s.layoutResult,a&&this.calculateBBox()},GA=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.calculateBBox=function(){var a=this.getCornerBBoxWidth(),u=this.getCornerBBoxHeight();this.width=a,this.height=u,this.maxX=a,this.maxY=u},s.prototype.getCornerBBoxOriginalHeight=function(){var a=this.layoutResult.colsHierarchy,u=this.spreadsheet.options.style.colCfg;return a.sampleNodeForLastLevel?Math.floor(a.height):u?.height},s.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},s.prototype.getCornerBBoxWidth=function(){return this.originalWidth=Math.floor(this.layoutResult.rowsHierarchy.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},s.prototype.adjustCornerBBoxWidth=function(){var u=this.spreadsheet.options.width,h=.5*u,v=this.layoutResult.colsHierarchy?.width,g=u-this.originalWidth;if(this.originalWidth<=h||v<=g)return this.originalWidth;return Math.floor(v<=u-h?this.originalWidth-(v-g):h)},s}(HA),JB=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var a=this.facet.cornerBBox,u={x:Math.floor(a.maxX),y:Math.floor(a.maxY)},h=this.spreadsheet.theme.scrollBar.size,v=this.spreadsheet.options,y=v.height,w=Math.max(0,v.width-u.x),M=Math.max(0,y-u.y-h);this.x=u.x,this.y=u.y,this.width=w,this.height=M,this.viewportHeight=Math.abs(Math.floor(Math.min(M,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(w,this.originalWidth))),this.maxX=u.x+this.viewportWidth,this.maxY=u.y+this.viewportHeight,this.minX=u.x,this.minY=u.y;var A=this.spreadsheet.options,O=A.frozenTrailingRowCount;A.frozenTrailingColCount>0&&(this.viewportWidth=this.width,this.maxX=u.x+this.width),O>0&&(this.viewportHeight=this.height,this.maxY=u.y+this.height)},s}(HA),M0=function(o){function s(a){var u=o.call(this,a)||this;return u.isHeaderCellInViewport=function(h,v,g,y){return h+v>=g&&g+y>=h},u.headerConfig=a,u}return Ir(s,o),s.prototype.getConfig=function(){return this.headerConfig},s.prototype.clearResizeAreaGroup=function(a){var h=this.get("parent")?.findById(a);h?.clear()},s.prototype.render=function(a){this.clearResizeAreaGroup(a),this.clear(),this.layout(),this.offset(),this.clip()},s.prototype.onScrollXY=function(a,u,h){this.headerConfig.scrollX=a,this.headerConfig.scrollY=u,this.render(h)},s.prototype.onRowScrollX=function(a,u){this.headerConfig.scrollX=a,this.render(u)},s.prototype.clear=function(){o.prototype.clear.call(this)},s}(ls),e2=function(o){function s(a){var u=o.call(this,a)||this;return u.scrollGroup=u.addGroup({name:d3,zIndex:r3}),u}return Ir(s,o),s.prototype.onColScroll=function(a,u){this.headerConfig.scrollX!==a&&(this.headerConfig.scrollX=a,this.render(u))},s.prototype.clip=function(){var a=this.headerConfig,u=a.width,h=a.height,v=a.scrollX,y=a.spreadsheet.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:y?v:0,y:0,width:y?u:u+v,height:h}})},s.prototype.clear=function(){var a,u;null===(a=this.scrollGroup)||void 0===a||a.clear(),null===(u=this.background)||void 0===u||u.remove(!0)},s.prototype.getCellInstance=function(a,u,h){return new ov(a,u,h)},s.prototype.getCellGroup=function(a){return this.scrollGroup},s.prototype.isColCellInRect=function(a){var u=this.headerConfig,v=u.cornerWidth,y=u.scrollX;return u.width+y>a.x&&y-(u.spreadsheet.isFrozenRowHeader()?0:v)<a.x+a.width},s.prototype.layout=function(){var a=this,u=this.headerConfig,v=u.spreadsheet,g=v.options.colCell;br(u.data,function(y){var w=y;if(a.isColCellInRect(w)){var M=g?.(w,v,a.headerConfig)||a.getCellInstance(w,v,a.headerConfig);w.belongsCell=M,a.getCellGroup(w).add(M)}})},s.prototype.offset=function(){var a=this.headerConfig;nx(this.scrollGroup,a.position.x-a.scrollX)},s}(M0),YA=function(o){function s(a){return o.call(this,a)||this}return Ir(s,o),s.getCornerHeader=function(a,u,h,v,g,y){var w=a.width,M=a.height,A=u.originalWidth,L=u.originalHeight,O=u.width,D=u.height;return new s({data:this.getCornerNodes({x:u.x,y:u.y},A,L,v.rows,v.columns,g.rowsHierarchy,g.colsHierarchy,v.dataSet,h,y),position:{x:u.x,y:u.y},width:O,height:D,originalHeight:L,originalWidth:A,viewportWidth:w,viewportHeight:M,hierarchyType:v.hierarchyType,hierarchyCollapse:v.hierarchyCollapse,rows:v.rows,columns:v.columns,seriesNumberWidth:h,spreadsheet:y})},s.getCornerNodes=function(a,u,h,v,g,y,w,M,A,L){var O,D,k,X=[],ot=w?.sampleNodeForLastLevel,ft=null!==(O=ot?.y)&&void 0!==O?O:0,ht=null!==(k=null!==(D=ot?.height)&&void 0!==D?D:L.options.style.colCfg?.height)&&void 0!==k?k:0;if(A){var pt=new bi({id:"",key:"series-number-node",value:gi("\u5e8f\u53f7")});pt.x=a?.x,pt.y=ft,pt.width=A,pt.height=ht,pt.isPivotMode=!0,pt.spreadsheet=L,pt.cornerType=ei.Series,X.push(pt)}if(L.isHierarchyTreeType()){var de=L.store.get("drillDownFieldInLevel",[]).map(function(Me){return Me.drillField}),pe=new bi({key:"",id:"",value:v.filter(function(Me){return!pa(de,Me)}).map(function(Me){return M.getFieldName(Me)}).join("/")});pe.x=a.x+A,pe.y=ft,pe.width=u-A,pe.height=ht,pe.seriesNumberWidth=A,pe.isPivotMode=!0,pe.spreadsheet=L,pe.cornerType=ei.Row,X.push(pe)}else y.sampleNodesForAllLevels.forEach(function(Me){var ze=v[Me.level],Oe=new bi({key:ze,id:"",value:M.getFieldName(ze)});Oe.x=Me.x+A,Oe.y=ft,Oe.width=Me.width,Oe.height=ht,Oe.field=ze,Oe.isPivotMode=!0,Oe.cornerType=ei.Row,Oe.spreadsheet=L,X.push(Oe)});return w.sampleNodesForAllLevels.forEach(function(Me){if(Me.level<w.maxLevel){var ze=g[Me.level],Oe=new bi({key:ze,id:"",value:M.getFieldName(ze)});Oe.x=a.x,Oe.y=Me.y,Oe.width=u,Oe.height=Me.height,Oe.field=ze,Oe.isPivotMode=!0,Oe.cornerType=ei.Col,Oe.spreadsheet=L,X.push(Oe)}}),X},s.prototype.onCorScroll=function(a,u){this.headerConfig.scrollX=a,this.render(u)},s.prototype.destroy=function(){o.prototype.destroy.call(this)},s.prototype.layout=function(){this.renderCells()},s.prototype.renderCells=function(){var u,h,v,g,a=this,y=this.headerConfig,w=y.data,M=y.spreadsheet,A=null===(h=null===(u=M?.facet)||void 0===u?void 0:u.cfg)||void 0===h?void 0:h.cornerHeader,L=null===(g=null===(v=M?.facet)||void 0===v?void 0:v.cfg)||void 0===g?void 0:g.cornerCell;A?A(this,M,this.headerConfig):w.forEach(function(O){var D;L&&(D=L(O,a.headerConfig.spreadsheet,a.headerConfig)),Ke(D)&&(D=new Jb(O,a.headerConfig.spreadsheet,a.headerConfig)),a.add(D)})},s.prototype.offset=function(){nx(this,-this.headerConfig.scrollX)},s.prototype.clip=function(){var a=this.headerConfig;this.setClip({type:"rect",attrs:{x:a.scrollX,y:0,width:a.width,height:a.height}})},s.prototype.getNodes=function(){return this.headerConfig.data||[]},s}(M0),jB=function(o){function s(a){var u=o.call(this,a)||this;return u.render(),u}return Ir(s,o),s.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},s.prototype.render=function(){this.clear(),this.layout()},s.prototype.onBorderScroll=function(a){this.cfg.scrollX=a,Ms(this,this.cfg.position.x-a,0),this.render()},s.prototype.onChangeShadowVisibility=function(a,u){this.cfg.showViewportLeftShadow=a>0,this.cfg.showViewportRightShadow=Math.floor(a)<Math.floor(u),this.render()},s.prototype.addCornerRightBorder=function(){var a,u=this.cfg;if(u.isPivotMode){var w=u.position,A=null===(a=u.spreadsheet.theme)||void 0===a?void 0:a.splitLine,L=w.x+u.width;this.addShape("line",{attrs:{x1:L,y1:w.y,x2:L,y2:w.y+u.height+u.viewportHeight,stroke:A.verticalBorderColor,lineWidth:A.verticalBorderWidth,opacity:A.verticalBorderColorOpacity}})}},s.prototype.addCornerBottomBorder=function(){var a,u=this.cfg,y=u.position,L=null===(a=u.spreadsheet.theme)||void 0===a?void 0:a.splitLine,O=y.x,k=y.y+u.height-1;this.addShape("line",{attrs:{x1:O,y1:k,x2:O+u.width+u.viewportWidth+(u.scrollContainsRowHeader?u.scrollX:0),y2:k,stroke:L.horizontalBorderColor,lineWidth:L.horizontalBorderWidth,opacity:L.horizontalBorderColorOpacity}})},s.prototype.addSplitLineShadow=function(){var a,u=this.cfg,v=u.spreadsheet,g=null===(a=v.theme)||void 0===a?void 0:a.splitLine;!u.isPivotMode||!g.showShadow||!v.isFrozenRowHeader()||(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},s.prototype.addSplitLineLeftShadow=function(){var a,u,h;if(this.cfg.showViewportLeftShadow){var v=this.cfg,M=v.position,L=null===(a=v.spreadsheet.theme)||void 0===a?void 0:a.splitLine;this.addShape("rect",{attrs:{x:M.x+v.width,y:M.y,width:L.shadowWidth,height:v.viewportHeight+v.height,fill:"l (0) 0:".concat(null===(u=L.shadowColors)||void 0===u?void 0:u.left," 1:").concat(null===(h=L.shadowColors)||void 0===h?void 0:h.right)}})}},s.prototype.addSplitLineRightShadow=function(){var a,u,h;if(this.cfg.showViewportRightShadow){var v=this.cfg,A=v.position,O=null===(a=v.spreadsheet.theme)||void 0===a?void 0:a.splitLine;this.addShape("rect",{attrs:{x:A.x+v.width+v.viewportWidth-O.shadowWidth,y:A.y,width:O.shadowWidth,height:v.viewportHeight+v.height,fill:"l (0) 0:".concat(null===(u=O.shadowColors)||void 0===u?void 0:u.right," 1:").concat(null===(h=O.shadowColors)||void 0===h?void 0:h.left)}})}},s}(ls),WA=function(o){function s(a){return o.call(this,a)||this}return Ir(s,o),s.prototype.destroy=function(){o.prototype.destroy.call(this),this.gm&&this.gm.destroy()},s.prototype.layout=function(){var u,h,a=this,v=this.headerConfig,y=v.spreadsheet,w=v.width,M=v.viewportHeight,A=v.seriesNumberWidth,L=v.scrollY,O=v.scrollX,D=null===(h=null===(u=y?.facet)||void 0===u?void 0:u.cfg)||void 0===h?void 0:h.rowCell;br(v.data,function(X){if(function(X){return M+L>X.y&&L<X.y+X.height&&w-A+O>X.x&&O-A<X.x+X.width}(X)&&0!==X.height){var tt=void 0;D&&(tt=D(X,y,a.headerConfig)),Ke(tt)&&y.isPivotMode()&&(tt=new qo(X,y,a.headerConfig)),X.belongsCell=tt,a.add(tt)}})},s.prototype.offset=function(){var a=this.headerConfig,v=a.position;Ms(this,v.x-a.scrollX+a.seriesNumberWidth,v.y-a.scrollY)},s.prototype.clip=function(){var a=this.headerConfig;this.setClip({type:"rect",attrs:{x:a.scrollX-a.seriesNumberWidth,y:a.scrollY,width:a.width,height:a.viewportHeight}})},s}(M0),tP=function(o){function s(a){return o.call(this,a)||this}return Ir(s,o),s.getSeriesNumberHeader=function(a,u,h,v,g){var y=a.height,w=a.viewportHeight,M=[],A=v.isHierarchyTreeType();return h.forEach(function(L){if(!L.isTotals||A){var O=new bi({id:"",key:"",value:"".concat(M.length+1)});O.x=L.x,O.y=L.y,O.height=L.height,O.width=u,M.push(O)}}),new s({width:g,height:y,viewportWidth:g,viewportHeight:w,position:{x:0,y:a.y},data:M,spreadsheet:v})},s.prototype.clip=function(){var a=this.headerConfig;this.setClip({type:"rect",attrs:{x:0,y:a.scrollY,width:a.width,height:a.viewportHeight}})},s.prototype.layout=function(){var a=this,u=this.headerConfig,h=u.data,v=u.scrollY,g=u.viewportHeight;u.spreadsheet.isPivotMode&&this.addBackGround();var w=this.addGroup();br(h,function(M){var O=M.isLeaf;if(a.isHeaderCellInViewport(M.y,M.height,v,g)){var k=a.addGroup();a.addText(k,M),a.add(k),O||a.addBorder(w,M)}})},s.prototype.offset=function(){var a=this.headerConfig,u=a.scrollY,v=a.position;Ms(this,v.x-a.scrollX,v.y-u),this.backgroundShape&&this.backgroundShape.translate(v.x,v.y+u),this.leftBorderShape&&this.leftBorderShape.translate(v.x,v.y+u)},s.prototype.addBackGround=function(){var a=this.getStyle().cell,u=this.headerConfig,h=u.position,v=u.width,g=u.viewportHeight;this.backgroundShape=xa(this,{x:h.x,y:-h.y,width:v,height:g,fill:a.backgroundColor,stroke:"transparent",opacity:a.backgroundColorOpacity});var y=As(Un.LEFT,{x:h.x,y:-h.y,width:v,height:g},a);this.leftBorderShape=Ai(this,y.position,y.style)},s.prototype.addBorder=function(a,u){var h=this.getStyle().cell,v=As(Un.BOTTOM,u,h);Ai(a,v.position,v.style)},s.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},s.prototype.addText=function(a,u){var h=this.headerConfig,v=h.scrollY,g=h.viewportHeight,y=ue(ue({},this.getStyle().seriesText),{textBaseline:"top"}),w=u.label,M=u.x,A=u.y,O=u.height,D=this.getTextPadding(w,u.width),k=uv(A+D.top,O-D.top-D.bottom,v,g,y.fontSize);a.addShape("text",{attrs:ue(ue({x:M+D.left,y:k,text:w},y),{cursor:"pointer"})})},s.prototype.getTextPadding=function(a,u){var h=this.getStyle(),v=this.headerConfig.spreadsheet.measureTextWidth(a,h.seriesText),g=Math.max(Math.abs((u-v)/2),4);return ue(ue({},h.cell.padding),{left:g,right:g})},s}(M0),UA=function(){function o(s){var a=this;this.scrollFrameId=null,this.hideScrollBar=function(){var u,h,v;null===(u=a.hRowScrollBar)||void 0===u||u.hide(),null===(h=a.hScrollBar)||void 0===h||h.hide(),null===(v=a.vScrollBar)||void 0===v||v.hide()},this.delayHideScrollBar=ms(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){Wn()&&a.delayHideScrollBar()},this.showVerticalScrollBar=function(){var u;null===(u=a.vScrollBar)||void 0===u||u.show()},this.showHorizontalScrollBar=function(){var u,h;null===(u=a.hRowScrollBar)||void 0===u||u.show(),null===(h=a.hScrollBar)||void 0===h||h.show()},this.onContainerWheel=function(){a.onContainerWheelForPc(),a.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){a.spreadsheet.getCanvasElement()?.addEventListener("wheel",a.onWheel)},this.onContainerWheelForMobile=function(){a.mobileWheel=new UD(a.spreadsheet.container),a.mobileWheel.on("wheel",function(u){a.spreadsheet.hideTooltip();var v=u.deltaX,g=u.deltaY,y=u.x,w=u.y;a.onWheel(ue(ue({},u.event),{deltaX:v,deltaY:g,offsetX:y,offsetY:w}))})},this.bindEvents=function(){a.onContainerWheel(),a.emitPaginationEvent()},this.setScrollOffset=function(u){Object.keys(u).forEach(function(h){var v=u[h];fo(v)||a.spreadsheet.store.set(h,Math.floor(v))})},this.getScrollOffset=function(){var u=a.spreadsheet.store;return{scrollX:u.get("scrollX",0),scrollY:u.get("scrollY",0),rowHeaderScrollX:u.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var u=a.cfg.pagination;if(u){var h=u.current,v=void 0===h?yo:h,g=u.pageSize,y=a.viewCellHeights.getTotalLength(),w=Math.floor((y-1)/g)+1;a.cfg.spreadsheet.emit(_e.LAYOUT_PAGINATION,{pageSize:g,pageCount:w,total:y,current:v})}},this.unbindEvents=function(){a.spreadsheet.getCanvasElement()?.removeEventListener("wheel",a.onWheel),a.mobileWheel.destroy()},this.clipPanelGroup=function(){var u;a.foregroundGroup=a.spreadsheet.foregroundGroup,a.backgroundGroup=a.spreadsheet.backgroundGroup,a.panelGroup=a.spreadsheet.panelGroup;var h=a.panelBBox;null===(u=a.spreadsheet.panelScrollGroup)||void 0===u||u.setClip({type:"rect",attrs:{x:0,y:a.cornerBBox.height,width:h.width,height:h.height}})},this.calculateCellWidthHeight=function(){var h=ws(a.layoutResult.colLeafNodes,function(v,g){return v.push(_n(v)+g.width),v},[0]);a.viewCellWidths=h,a.viewCellHeights=a.getViewCellHeights(a.layoutResult)},this.getRealScrollX=function(u,h){return void 0===h&&(h=0),a.cfg.spreadsheet.isScrollContainsRowHeader()?u:h},this.calculatePanelBBox=function(){a.panelBBox=new JB(a,!0)},this.getRealWidth=function(){return _n(a.viewCellWidths)},this.getRealHeight=function(){var h=a.viewCellHeights;if(a.cfg.pagination){var v=a.getCellRange(),g=v.start;return h.getCellOffsetY(v.end+1)-h.getCellOffsetY(g)}return h.getTotalHeight()},this.clearAllGroup=function(){for(var u=a.panelGroup.getChildren()||[],h=u.length-1;h>=0;h--){var v=u[h];v instanceof ls?v.set("children",[]):u[h].remove()}a.foregroundGroup.set("children",[]),a.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(u,h,v){var g,y,w,M;void 0===u&&(u={}),void 0===h&&(h=200);var A=a.getAdjustedScrollOffset({scrollX:(null===(g=u.offsetX)||void 0===g?void 0:g.value)||0,scrollY:(null===(y=u.offsetY)||void 0===y?void 0:y.value)||0,rowHeaderScrollX:(null===(w=u.rowHeaderOffsetX)||void 0===w?void 0:w.value)||0}),L=A.scrollX,O=A.scrollY,D=A.rowHeaderScrollX;null===(M=a.timer)||void 0===M||M.stop();var k=a.getScrollOffset(),X=[L??k.scrollX,O??k.scrollY,D??k.rowHeaderScrollX],tt=ia(Object.values(k),X);a.timer=_h(function(ot){var ft=Math.min(ot/h,1),ht=Ae(tt(ft),3);a.setScrollOffset({rowHeaderScrollX:ht[2],scrollX:ht[0],scrollY:ht[1]}),a.startScroll(),ot>h&&(a.timer.stop(),v?.())})},this.scrollImmediately=function(u){var h,v,g;void 0===u&&(u={});var y=a.getAdjustedScrollOffset({scrollX:(null===(h=u.offsetX)||void 0===h?void 0:h.value)||0,scrollY:(null===(v=u.offsetY)||void 0===v?void 0:v.value)||0,rowHeaderScrollX:(null===(g=u.rowHeaderOffsetX)||void 0===g?void 0:g.value)||0});a.setScrollOffset({scrollX:y.scrollX,scrollY:y.scrollY,rowHeaderScrollX:y.rowHeaderScrollX}),a.startScroll()},this.startScroll=function(u){var h,v,g;void 0===u&&(u=!1);var y=a.getScrollOffset(),M=y.scrollX,A=y.scrollY;null===(h=a.hRowScrollBar)||void 0===h||h.onlyUpdateThumbOffset(a.getScrollBarOffset(y.rowHeaderScrollX,a.hRowScrollBar)),null===(v=a.hScrollBar)||void 0===v||v.onlyUpdateThumbOffset(a.getScrollBarOffset(M,a.hScrollBar)),null===(g=a.vScrollBar)||void 0===g||g.onlyUpdateThumbOffset(a.getScrollBarOffset(A,a.vScrollBar)),a.dynamicRenderCell(u)},this.getRendererHeight=function(){var u=a.getCellRange(),h=u.start;return a.viewCellHeights.getCellOffsetY(u.end+1)-a.viewCellHeights.getCellOffsetY(h)},this.getAdjustedScrollOffset=function(u){var v=u.scrollY,g=u.rowHeaderScrollX;return{scrollX:t2(u.scrollX,a.layoutResult.colsHierarchy.width,a.panelBBox.width),scrollY:t2(v,a.getRendererHeight(),a.panelBBox.height),rowHeaderScrollX:jx(g,a.cornerBBox)}},this.renderRowScrollBar=function(u){if(!a.cfg.spreadsheet.isScrollContainsRowHeader()&&a.cornerBBox.width<a.cornerBBox.originalWidth){var h=a.cornerBBox.originalWidth-a.cornerBBox.width,v=a.getScrollbarPosition().maxY,g=a.spreadsheet.theme,y=g.splitLine,M=Math.max(a.cornerBBox.width*a.cornerBBox.width/a.cornerBBox.originalWidth,g.scrollBar?.thumbHorizontalMinSize);a.hRowScrollBar=new _0({isHorizontal:!0,trackLen:a.cornerBBox.width,thumbLen:M-y?.verticalBorderWidth,position:{x:a.cornerBBox.minX+a.scrollBarSize/2,y:v},thumbOffset:u*(a.cornerBBox.width-M)/h,theme:a.scrollBarTheme,scrollTargetMaxOffset:h}),a.hRowScrollBar.on(bl.ScrollChange,function(L){var O,D,X=a.getValidScrollBarOffset(L.offset,h),tt=Math.floor(X);a.setScrollOffset({rowHeaderScrollX:tt}),null===(O=a.rowHeader)||void 0===O||O.onRowScrollX(tt,nc),null===(D=a.rowIndexHeader)||void 0===D||D.onRowScrollX(tt,CC),a.cornerHeader.onRowScrollX(tt,Ng);var ot=a.getScrollBarOffset(tt,a.hRowScrollBar),ft=a.getScrollOffset(),Wt={scrollX:ft.scrollX,scrollY:ft.scrollY,rowHeaderScrollX:ot};a.hRowScrollBar.updateThumbOffset(ot,!1),a.spreadsheet.emit(_e.ROW_CELL_SCROLL,Wt),a.spreadsheet.emit(_e.GLOBAL_SCROLL,Wt)}),a.foregroundGroup.add(a.hRowScrollBar)}},this.getValidScrollBarOffset=function(u,h){return fu(u,0,h)},this.renderHScrollBar=function(u,h,v){if(Math.floor(u)<Math.floor(h)){var g=a.scrollBarSize/2,y=a.getScrollbarPosition().maxY,w=u+(a.cfg.spreadsheet.isScrollContainsRowHeader()?a.cornerBBox.width:0),M={x:a.panelBBox.minX+(a.cfg.spreadsheet.isScrollContainsRowHeader()?-a.cornerBBox.width+g:g),y},A=h+(a.cfg.spreadsheet.isScrollContainsRowHeader()?a.cornerBBox.width:0),O=A-w,D=Math.max(w/A*w,a.spreadsheet.theme.scrollBar?.thumbHorizontalMinSize);a.hScrollBar=new _0({isHorizontal:!0,trackLen:w,thumbLen:D,position:M,thumbOffset:v*(w-D)/O,theme:a.scrollBarTheme,scrollTargetMaxOffset:O}),a.hScrollBar.on(bl.ScrollChange,function(k){var tt=k.updateThumbOffset,ot=a.getValidScrollBarOffset(k.offset,O);tt&&a.hScrollBar.updateThumbOffset(a.getScrollBarOffset(ot,a.hScrollBar),!1),a.setScrollOffset({scrollX:ot}),a.dynamicRenderCell()}),a.foregroundGroup.add(a.hScrollBar)}},this.getScrollbarPosition=function(){var u=a.panelBBox,h=u.maxX,v=u.maxY,g=a.getCanvasHW(),M=a.spreadsheet.options.interaction.scrollbarPosition===uc.CONTENT;return{maxX:(M?h:g.width)-a.scrollBarSize,maxY:M?v:g.height-a.scrollBarSize}},this.renderVScrollBar=function(u,h,v){if(u<h){var y=Math.max(u/h*u,a.spreadsheet.theme.scrollBar?.thumbVerticalMinSize),w=h-u,M=a.getScrollbarPosition().maxX;a.vScrollBar=new _0({isHorizontal:!1,trackLen:u,thumbLen:y,thumbOffset:v*(u-y)/w,position:{x:M,y:a.panelBBox.minY},theme:a.scrollBarTheme,scrollTargetMaxOffset:w}),a.vScrollBar.on(bl.ScrollChange,function(A){var O=A.updateThumbOffset,D=a.getValidScrollBarOffset(A.offset,w);O&&a.vScrollBar.updateThumbOffset(a.getScrollBarOffset(D,a.vScrollBar),!1),a.setScrollOffset({scrollY:D}),a.dynamicRenderCell()}),a.foregroundGroup.add(a.vScrollBar)}},this.getScrollBarOffset=function(u,h){return u*(h.trackLen-h.thumbLen)/h.scrollTargetMaxOffset},this.isScrollOverThePanelArea=function(u){var h=u.offsetX,v=u.offsetY;return h>a.panelBBox.minX&&h<a.panelBBox.maxX&&v>a.panelBBox.minY&&v<a.panelBBox.maxY},this.isScrollOverTheCornerArea=function(u){var h=u.offsetX,v=u.offsetY;return h>a.cornerBBox.minX&&h<a.cornerBBox.maxX&&v>a.cornerBBox.minY&&v<a.cornerBBox.maxY+a.panelBBox.height},this.updateHorizontalRowScrollOffset=function(u){var h,v=u.offset;a.isScrollOverTheCornerArea({offsetX:u.offsetX,offsetY:u.offsetY})&&(null===(h=a.hRowScrollBar)||void 0===h||h.emitScrollChange(v))},this.updateHorizontalScrollOffset=function(u){var h,v=u.offset;(!a.hRowScrollBar||a.isScrollOverThePanelArea({offsetX:u.offsetX,offsetY:u.offsetY}))&&(null===(h=a.hScrollBar)||void 0===h||h.emitScrollChange(v))},this.isScrollToLeft=function(u){var h=u.deltaX;if(!a.hScrollBar&&!a.hRowScrollBar)return!0;var y=!a.hRowScrollBar||a.isScrollOverThePanelArea({offsetY:u.offsetY,offsetX:u.offsetX})||a.hRowScrollBar.thumbOffset<=0;return h<=0&&(!a.hScrollBar||a.hScrollBar.thumbOffset<=0)&&y},this.isScrollToRight=function(u){var h,v,g,y,w,M,A=u.deltaX,L=u.offsetX,O=u.offsetY;if(!a.hScrollBar&&!a.hRowScrollBar)return!0;var D=a.spreadsheet.isFrozenRowHeader()?null===(h=a.panelBBox)||void 0===h?void 0:h.width:null===(v=a.panelBBox)||void 0===v?void 0:v.maxX,k=!a.hRowScrollBar||a.isScrollOverThePanelArea({offsetY:O,offsetX:L})||(null===(g=a.hRowScrollBar)||void 0===g?void 0:g.thumbOffset)+(null===(y=a.hRowScrollBar)||void 0===y?void 0:y.thumbLen)>=a.cornerBBox.width,X=a.hRowScrollBar&&a.isScrollOverTheCornerArea({offsetX:L,offsetY:O})||(null===(w=a.hScrollBar)||void 0===w?void 0:w.thumbOffset)+(null===(M=a.hScrollBar)||void 0===M?void 0:M.thumbLen)>=D;return A>=0&&X&&k},this.isScrollToTop=function(u){var h;return!a.vScrollBar||u<=0&&(null===(h=a.vScrollBar)||void 0===h?void 0:h.thumbOffset)<=0},this.isScrollToBottom=function(u){var h,v,g;return!a.vScrollBar||u>=0&&(null===(h=a.vScrollBar)||void 0===h?void 0:h.thumbOffset)+(null===(v=a.vScrollBar)||void 0===v?void 0:v.thumbLen)>=(null===(g=a.panelBBox)||void 0===g?void 0:g.height)},this.isVerticalScrollOverTheViewport=function(u){return!a.isScrollToTop(u)&&!a.isScrollToBottom(u)},this.isHorizontalScrollOverTheViewport=function(u){return!a.isScrollToLeft(u)&&!a.isScrollToRight(u)},this.isScrollOverTheViewport=function(u){var h=u.deltaY,v=u.deltaX;return!(u.offsetY<=a.cornerBBox.maxY)&&(0!==h?a.isVerticalScrollOverTheViewport(h):0!==v&&a.isHorizontalScrollOverTheViewport(u))},this.cancelScrollFrame=function(){return!(Wn()&&a.scrollFrameId||(cancelAnimationFrame(a.scrollFrameId),0))},this.clearScrollFrameIdOnMobile=function(){Wn()&&(a.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(u){"auto"!==a.spreadsheet.options.interaction.overscrollBehavior&&a.stopScrollChaining(u)},this.stopScrollChaining=function(u){var h,v,g;null===(h=u?.preventDefault)||void 0===h||h.call(u),null===(g=null===(v=u?.originalEvent)||void 0===v?void 0:v.preventDefault)||void 0===g||g.call(v)},this.onWheel=function(u){var v=u.deltaX,g=u.deltaY,y=u.offsetX,w=u.offsetY;u.shiftKey&&(y=y-v+g,v=g,w-=g,g=0);var A=Ae(s8(v,g,a.spreadsheet.options.interaction.scrollSpeedRatio),2),L=A[0],O=A[1];a.spreadsheet.hideTooltip(),a.spreadsheet.interaction.clearHoverTimer(),a.isScrollOverTheViewport({deltaX:L,deltaY:O,offsetX:y,offsetY:w})?(a.stopScrollChaining(u),a.spreadsheet.interaction.addIntercepts([Lr.HOVER]),a.cancelScrollFrame()&&(a.scrollFrameId=requestAnimationFrame(function(){var D,k=a.getScrollOffset(),X=k.scrollX,tt=k.scrollY,ot=k.rowHeaderScrollX;0!==L&&(a.showHorizontalScrollBar(),a.updateHorizontalRowScrollOffset({offsetX:y,offsetY:w,offset:L+ot}),a.updateHorizontalScrollOffset({offsetX:y,offsetY:w,offset:L+X})),0!==O&&(a.showVerticalScrollBar(),null===(D=a.vScrollBar)||void 0===D||D.emitScrollChange(O+tt)),a.delayHideScrollbarOnMobile(),a.clearScrollFrameIdOnMobile()}))):a.stopScrollChainingIfNeeded(u)},this.addCell=function(u){a.spreadsheet.panelScrollGroup?.add(u)},this.realCellRender=function(u,h){var v=a.calculateXYIndexes(u,h);Ts.getInstance().logger("renderIndex:",a.preCellIndexes,v);var g=QB(a.preCellIndexes,v),y=g.add,w=g.remove;Ts.getInstance().debugCallback(c8,function(){br(y,function(A){var L=Ae(A,2),O=L[0],D=L[1],k=a.layoutResult.getCellMeta(D,O);if(k){var X=a.cfg.dataCell(k);X.set("name","".concat(O,"-").concat(D)),a.addCell(X)}});var M=gv(a.panelGroup.getChildren(),_l);br(w,function(A){var L=Ae(A,2),O=L[0],D=L[1];ai(M,function(X){return X.get("name")==="".concat(O,"-").concat(D)})?.remove(!0)}),Ts.getInstance().logger("Render Cell Panel: ".concat(M?.length,", Add: ").concat(y?.length,", Remove: ").concat(w?.length))}),a.preCellIndexes=v,a.spreadsheet.emit(_e.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:y,remove:w,spreadsheet:a.spreadsheet})},this.getGridInfo=function(){var u=Ae(a.preCellIndexes.center,4),g=u[2],y=u[3];return{cols:PA(u[0],u[1],a.layoutResult.colLeafNodes),rows:S0(g,y,a.viewCellHeights)}},this.onAfterScroll=ms(function(){a.spreadsheet.interaction.isSelectedState()||a.spreadsheet.interaction.removeIntercepts([Lr.HOVER])},300),this.cfg=s,this.spreadsheet=s.spreadsheet,this.init()}return Object.defineProperty(o.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),o.prototype.getCellCustomWidth=function(s,a){return ci(a)?a?.(s):a},o.prototype.getCellDraggedWidth=function(s){return yr(this.cfg.colCfg?.widthByFieldValue,"".concat(s.value))},o.prototype.render=function(){this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell()},o.prototype.adjustScrollOffset=function(){var s=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(s)},o.prototype.getSeriesNumberWidth=function(){return this.cfg.showSeriesNumber?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},o.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},o.prototype.getContentHeight=function(){var s=this.layoutResult;return s.rowsHierarchy.height+s.colsHierarchy.height},o.prototype.updateScrollOffset=function(s){var a,u,h,v,g,y;void 0===(null===(a=s.rowHeaderOffsetX)||void 0===a?void 0:a.value)?void 0===(null===(h=s.offsetX)||void 0===h?void 0:h.value)?void 0!==(null===(g=s.offsetY)||void 0===g?void 0:g.value)&&(null!==(y=s.offsetY)&&void 0!==y&&y.animate?this.scrollWithAnimation(s):this.scrollImmediately(s)):null!==(v=s.offsetX)&&void 0!==v&&v.animate?this.scrollWithAnimation(s):this.scrollImmediately(s):null!==(u=s.rowHeaderOffsetX)&&void 0!==u&&u.animate?this.scrollWithAnimation(s):this.scrollImmediately(s)},o.prototype.getPaginationScrollY=function(){var s=this.cfg.pagination;if(s){var a=s.current,v=this.viewCellHeights,g=Math.max(((void 0===a?yo:a)-1)*s.pageSize,0);return v.getCellOffsetY(g)}return 0},o.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},o.prototype.calculateXYIndexes=function(s,a){var u=this.panelBBox;return{center:rx(s,a,this.viewCellWidths,this.viewCellHeights,{width:u.viewportWidth,height:u.viewportHeight,x:0,y:0},this.getRealScrollX(this.cornerBBox.width))}},o.prototype.calculateCornerBBox=function(){this.cornerBBox=new GA(this,!0)},o.prototype.getCellRange=function(){return function(o,s){var a=o,u=0,h=a.getTotalLength()-1;if(s){var v=s.current,g=void 0===v?yo:v,y=s.pageSize;u=Math.max((g-1)*y,0),h=Math.min(g*y-1,a.getTotalLength()-1)}return{start:u,end:h}}(this.viewCellHeights,this.cfg.pagination)},o.prototype.clip=function(s,a){var u,h=this.spreadsheet.isFrozenRowHeader();null===(u=this.spreadsheet.panelScrollGroup)||void 0===u||u.setClip({type:"rect",attrs:{x:h?s:0,y:a,width:this.panelBBox.width+(h?0:s),height:this.panelBBox.height}})},o.prototype.translateRelatedGroups=function(s,a,u){var h,v;Ms(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-s,this.cornerBBox.height-a),null===(h=this.rowHeader)||void 0===h||h.onScrollXY(this.getRealScrollX(s,u),a,nc),null===(v=this.rowIndexHeader)||void 0===v||v.onScrollXY(this.getRealScrollX(s,u),a,CC),this.cornerHeader.onCorScroll(this.getRealScrollX(s,u),Ng),this.centerFrame.onChangeShadowVisibility(s,this.getRealWidth()-this.panelBBox.width),this.centerFrame.onBorderScroll(this.getRealScrollX(s)),this.columnHeader.onColScroll(s,wC)},o.prototype.init=function(){var s=this;Ts.getInstance().debugCallback("Header Layout",function(){s.layoutResult=s.doLayout(),s.saveInitColumnLeafNodes(s.layoutResult.colLeafNodes),s.spreadsheet.emit(_e.LAYOUT_AFTER_HEADER_LAYOUT,s.layoutResult)}),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},o.prototype.renderBackground=function(){var s=this.getCanvasHW(),h=this.spreadsheet.theme.background;this.backgroundGroup.addShape("rect",{attrs:{fill:h.color,opacity:h.opacity,x:0,y:0,width:s.width,height:s.height}})},o.prototype.renderScrollBars=function(){var s=this.getScrollOffset(),a=s.scrollX,u=s.scrollY,h=s.rowHeaderScrollX,v=this.panelBBox,g=v.width,y=v.height,w=this.layoutResult.colsHierarchy.width,M=this.getRealHeight();this.renderRowScrollBar(h),this.renderHScrollBar(g,w,a),this.renderVScrollBar(y,M,u)},o.prototype.renderHeaders=function(){var s=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),s>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},o.prototype.getRowHeader=function(){var s,a,u;if(!this.rowHeader){var h=this.panelBBox,v=h.y,g=h.viewportHeight,y=h.viewportWidth,w=h.height,M=this.getSeriesNumberWidth();return new WA({width:this.cornerBBox.width,height:w,viewportWidth:y,viewportHeight:g,position:{x:0,y:v},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(u=null===(a=null===(s=this.cfg.spreadsheet.options)||void 0===s?void 0:s.interaction)||void 0===a?void 0:a.linkFields)&&void 0!==u?u:[],seriesNumberWidth:M,spreadsheet:this.spreadsheet})}return this.rowHeader},o.prototype.getColHeader=function(){if(!this.columnHeader){var s=this.panelBBox;return new e2({width:s.width,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:s.viewportWidth,viewportHeight:s.viewportHeight,position:{x:s.x,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},o.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:YA.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},o.prototype.getSeriesNumberHeader=function(){return tP.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},o.prototype.getCenterFrame=function(){var s;if(!this.centerFrame){var a=this.panelBBox,y=null===(s=this.cfg)||void 0===s?void 0:s.frame,w={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:a.viewportWidth,viewportHeight:a.viewportHeight,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return y?y(w):new jB(w)}return this.centerFrame},o.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},o.prototype.dynamicRenderCell=function(s){var a=this.getScrollOffset(),u=a.scrollX,v=a.rowHeaderScrollX,g=a.scrollY+this.getPaginationScrollY(),y=t2(g,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(u,y),this.updatePanelScrollGroup(),this.translateRelatedGroups(u,y,v),this.clip(u,y),s||this.emitScrollEvent({scrollX:u,scrollY:y,rowHeaderScrollX:v}),this.onAfterScroll()},o.prototype.emitScrollEvent=function(s){this.spreadsheet.emit(_e.LAYOUT_CELL_SCROLL,s),this.spreadsheet.emit(_e.GLOBAL_SCROLL,s)},o.prototype.saveInitColumnLeafNodes=function(s){void 0===s&&(s=[]);var a=this.spreadsheet,u=a.store;s.length+a.options.interaction.hiddenColumnFields.length!==u.get("initColumnLeafNodes",[]).length&&u.set("initColumnLeafNodes",s)},o.prototype.getHiddenColumnsInfo=function(s){var a=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return Ke(a)?null:a.find(function(u){return u.hideColumnNodes.some(function(h){return h.id===s.id})})},o.prototype.getCornerNodes=function(){var s;return(null===(s=this.cornerHeader)||void 0===s?void 0:s.getNodes())||[]},o}(),XA=function(o){var s,a,u,h=o.facetCfg,v=o.customTreeItems,g=void 0===v?[]:v,y=o.level,w=o.parentNode,M=o.hierarchy,A=h.spreadsheet,L=h.collapsedRows,O=h.hierarchyCollapse;try{for(var D=Ma(g),k=D.next();!k.done;k=D.next()){var X=k.value,tt=X.key,ot=X.title,ft=X.collapsed,ht=X.children,pt=Zg(X,["key","title","collapsed","children"]),Wt=((u={})[Jr]=tt,u),de=Kc(w.id,ot),pe=ft??!1,ze=yr(L,de)??(O||pe),Oe=new bi({id:de,key:tt,label:ot,value:ot,level:y,parent:w,field:tt,isTotals:!1,isCollapsed:ze,hierarchy:M,query:Wt,spreadsheet:A,extra:pt});y>M.maxLevel&&(M.maxLevel=y),Ke(ht)&&(Oe.isLeaf=!0);var Ze=j1(h,w,Oe,M);!Ke(ht)&&!ze&&Ze&&XA({facetCfg:h,parentNode:Oe,level:y+1,hierarchy:M,customTreeItems:ht})}}catch(tr){s={error:tr}}finally{try{k&&!k.done&&(a=D.return)&&a.call(D)}finally{if(s)throw s.error}}},rP=(Na+_i).length,VA=function(o){var s,a,u,h,v,g,y,w=o.parentNode,M=o.currentField,A=o.level,L=o.facetCfg,O=o.hierarchy,D=o.pivotMeta,k=L.spreadsheet,tt=L.collapsedRows,ot=L.hierarchyCollapse,ft=L.rowExpandDepth,ht=w.query,pt=w.id,Wt=(null===(h=k.dataCfg.fields.rows)||void 0===h?void 0:h.length)<=A,de=(null===(v=L.dataSet?.sortedDimensionValues)||void 0===v?void 0:v[M])||[],pe=Qf(Array.from(D.keys())),Me=qp(pe,de,function(Ki){return Na===pt?Ki:Kc(pt,Ki).slice(rP)}),ze=WT(Me,L,w,M),Oe=k.store.get("drillItemsNum");Wt&&Oe>0&&(ze=ze.slice(0,Oe)),0===A&&function(o,s,a){var u=o.getTotalsConfig(s);u.showGrandTotals&&a[u.reverseLayout?"unshift":"push"](new $f(u.label,!1,!0))}(k,M,ze);try{for(var Ze=Ma(ze),tr=Ze.next();!tr.done;tr=Ze.next()){var vr=tr.value,gr=vr instanceof $f,mr=gr?null:D.get(vr),Je=void 0,Xr=ht,$r=!1,sn=!1;gr?($r=vr.isGrandTotals,sn=vr.isSubTotals,Je=gi(vr.label),Xr=ht):(Je=vr,Xr=ue(ue({},ht),((u={})[M]=Je,u)));var qn=Kc(pt,Je),fn=tt?.[qn],Zi=ga(ft)?A>ft:null,qi=null!==(g=fn??Zi)&&void 0!==g?g:ot,dn=new bi({id:qn,key:M,label:Je,value:Je,level:A,parent:w,field:M,isTotals:gr,isGrandTotals:$r,isSubTotals:sn,isCollapsed:qi,hierarchy:O,query:Xr,spreadsheet:k});A>O.maxLevel&&(O.maxLevel=A);var ri=!(null!==(y=mr?.children)&&void 0!==y&&y.size);(ri||gr)&&(dn.isLeaf=!0),ri||(dn.isTotals=!0);var mi=j1(L,w,dn,O);!ri&&!qi&&!gr&&mi&&VA({level:A+1,currentField:mr.childField,pivotMeta:mr.children,facetCfg:L,parentNode:dn,hierarchy:O})}}catch(Ki){s={error:Ki}}finally{try{tr&&!tr.done&&(a=Ze.return)&&a.call(Ze)}finally{if(s)throw s.error}}},T0=function(o){var w,M,s=o.isValueInCols,a=o.moreThanOneValue,g=o.fields;o.isRowHeader?(w=!s&&a,M=!s&&!a):(w=s&&a,M=s&&!a),XT({addTotalMeasureInTotal:w,addMeasureInTotalQuery:M,parentNode:o.rootNode,currentField:g[0],fields:g,facetCfg:o.facetCfg,hierarchy:o.hierarchy})},b0=function(o){var s=o.isRowHeader,a=o.facetCfg,u=a.spreadsheet,h=a.rows,v=void 0===h?[]:h,g=a.columns,y=void 0===g?[]:g,w=u.dataCfg.fields.valueInCols,M=u.isPivotMode(),A=a.dataSet.moreThanOneValue(),L=bi.rootNode(),O=new J1,D={isValueInCols:w,isPivotMode:M,moreThanOneValue:A,rootNode:L,hierarchy:O,spreadsheet:u,facetCfg:a,fields:s?v:y,isRowHeader:s};return s?function(o){o.spreadsheet.isHierarchyTreeType()?function(o){var s=o.facetCfg;"tree"===s.hierarchyType?VA({level:0,currentField:s.rows[0],pivotMeta:s.dataSet.rowPivotMeta,facetCfg:s,parentNode:o.rootNode,hierarchy:o.hierarchy}):function(o){var s=o.facetCfg;XA({customTreeItems:s.dataSet.fields.customTreeItems,facetCfg:s,level:0,parentNode:o.rootNode,hierarchy:o.hierarchy})}(o)}(o):T0(o)}(D):function(o){var a=o.hierarchy,u=o.rootNode,h=o.facetCfg;o.isPivotMode?T0(o):function(o){var s=o.facetCfg,a=s.columns,h=s.spreadsheet.store.get("hiddenColumnsDetail"),v=s?.showSeriesNumber,w=Be([],Ae(Bu(a).filter(function(L){return!h||h.every(function(O){return O.hideColumnNodes.every(function(D){return D.field!==L})})})),!1),M=Be([],Ae(a),!1),A={};v&&(M.unshift({key:rc}),A[rc]=!0),w.reduce(function(L,O){return L[O]=!0,L},A),$T(Zo(M,A),o,0,null)}({parentNode:u,hierarchy:a,facetCfg:h})}(D),{hierarchy:O,leafNodes:s&&u.isHierarchyTreeType()?O.getNodes():O.getLeaves()}},mv=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),Object.defineProperty(s.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),s.prototype.doLayout=function(){var a=b0({isRowHeader:!0,facetCfg:this.cfg}),u=a.leafNodes,h=a.hierarchy,v=b0({isRowHeader:!1,facetCfg:this.cfg}),g=v.leafNodes,y=v.hierarchy;this.calculateNodesCoordinate(u,h,g,y);var w=this.cfg,M=w.dataSet,A=w.spreadsheet,O={colNodes:y.getNodes(),colsHierarchy:y,rowNodes:h.getNodes(),rowsHierarchy:h,rowLeafNodes:u,colLeafNodes:g,getCellMeta:function(D,k){var X,tt,ot,ft=D||0,ht=k||0,pt=u[ft],Wt=g[ht];if(!pt||!Wt)return null;var gr,de=pt.query,pe=Wt.query,Me=pt.isTotals||pt.isTotalMeasure||Wt.isTotals||Wt.isTotalMeasure,ze=A.options.hierarchyType,Ze=null!==(tt=yr(A,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==tt&&tt&&"customTree"!==ze?((X={})[Jr]=null===(ot=M.fields.values)||void 0===ot?void 0:ot[0],X):{},tr=If({},de,pe,Ze),vr=M.getCellData({query:tr,rowNode:pt,isTotals:Me}),mr=null;return Ke(vr)?gr=yr(tr,[Jr],""):(gr=yr(vr,[Jr],""),mr=yr(vr,[no],null),Me&&(gr=yr(tr,[Jr],""),mr=yr(vr,gr,null))),{spreadsheet:A,x:Wt.x,y:pt.y,width:Wt.width,height:pt.height,data:vr,rowIndex:ft,colIndex:ht,isTotals:Me,valueField:gr,fieldValue:mr,rowQuery:de,colQuery:pe,rowId:pt.id,colId:Wt.id,id:nv(pt.id,Wt.id)}},spreadsheet:A};return function(o,s){var a=o?.layoutDataPosition;if(a){var h=a(o.spreadsheet,s.getCellMeta);return ue(ue({},s),{getCellMeta:h})}return s}(this.cfg,O)},s.prototype.calculateNodesCoordinate=function(a,u,h,v){this.calculateRowNodesCoordinate(a,u,h),this.calculateColNodesCoordinate(h,v,a,u.width)},s.prototype.calculateColNodesCoordinate=function(a,u,h,v){var g,y,w,M,A=bi.blankNode(),L=u.getNodes();try{for(var O=Ma(u.sampleNodesForAllLevels),D=O.next();!D.done;D=O.next()){var k=D.value;k.height=this.getColNodeHeight(k),u.height+=k.height}}catch(ht){g={error:ht}}finally{try{D&&!D.done&&(y=O.return)&&y.call(O)}finally{if(g)throw g.error}}for(var X=0,tt=function(ht){var pt=L[ht];if(pt.isLeaf&&(pt.colIndex=X,X+=1,pt.x=A.x+A.width,pt.width=ot.calculateColLeafNodesWidth(pt,a,h,v),u.width+=pt.width,A=pt),0===pt.level)pt.y=0;else{var Wt=u.sampleNodesForAllLevels.find(function(de){return de.level===pt.level-1});pt.y=null!==(w=Wt?.y+Wt?.height)&&void 0!==w?w:0}pt.height=pt.isGrandTotals&&pt.isLeaf?u.height:ot.getColNodeHeight(pt),tx(ot.cfg,null,pt)},ot=this,ft=0;ft<L.length;ft++)tt(ft);this.autoCalculateColNodeWidthAndX(a),Ke(null===(M=this.spreadsheet.options.totals)||void 0===M?void 0:M.col)||(this.adjustTotalNodesCoordinate(u),this.adjustSubTotalNodesCoordinate(u))},s.prototype.autoCalculateColNodeWidthAndX=function(a){for(var u,h=null,v=a.slice(0);v.length;){var y=v.shift().parent;if(h!==y&&y){v.push(y);var M=(null===(u=y.children)||void 0===u?void 0:u.find(function(L){return!L.hiddenChildNodeInfo}))?.x,A=M1(y.children,"width");y.x=M,y.width=A,h=y}}},s.prototype.calculateColLeafNodesWidth=function(a,u,h,v){var g,y,w,M,A,L=this.cfg,O=L.colCfg,D=L.dataSet,k=L.filterDisplayDataItem,X=this.getCellDraggedWidth(a);if(ga(X))return X;var tt=this.getCellCustomWidth(a,O?.width);if(ga(tt))return tt;if(this.spreadsheet.getLayoutWidthType()===li.Compact){for(var ot=this.spreadsheet.theme.colCell,ft=ot.bolderText,ht=ot.cell,pt=ot.icon,de=null!==(g=this.spreadsheet.dataSet.getFieldFormatter(a.field)?.(a.value))&&void 0!==g?g:a.label,pe=this.getExpectedCellIconWidth(Ue.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,pt),Me=this.spreadsheet.measureTextWidthRoughly(de)+pe,ze=void 0,Oe=0,Ze=0;Ze<50;Ze++){var tr=h[Ze];if(tr){var vr=D.getCellData({query:ue(ue({},a.query),tr.query),rowNode:tr,isTotals:a.isTotals||a.isTotalMeasure||tr.isTotals||tr.isTotalMeasure});if(vr){var gr=mo(vr,k),mr=null!==(w=null===(y=this.spreadsheet.dataSet.getFieldFormatter(vr[Jr]))||void 0===y?void 0:y(gr))&&void 0!==w?w:gr,Je="".concat(mr),Xr=this.spreadsheet.measureTextWidthRoughly(Je);Xr>Oe&&(ze=Je,Oe=Xr)}}}var $r=Me>Oe,sn=$r?de:ze,Nr=$r?pe:0;return Ts.getInstance().logger("Max Label In Col:",a.field,sn),this.spreadsheet.measureTextWidth(sn,ft)+(null===(M=ht.padding)||void 0===M?void 0:M.left)+(null===(A=ht.padding)||void 0===A?void 0:A.right)+Nr}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(a,u,h):this.getAdaptGridColWidth(u,v)},s.prototype.getColNodeHeight=function(a){var u=this.cfg.colCfg;return yr(u,"heightByField.".concat(a.key))??u?.height},s.prototype.getExpectedCellIconWidth=function(a,u,h){var v,g=0;return(g=u?1:null!==(v=Lx(cn(this.spreadsheet.options.headerActionIcons,function(w){return ue(ue({},w),{displayCondition:function(){return!0}})}),null,a)?.iconNames.length)&&void 0!==v?v:0)?g*(h.size+h.margin.left)+h.margin.right:0},s.prototype.calculateRowNodesCoordinate=function(a,u,h){var v,g,y,w,M,A,L,O,D,k,X=this.cfg,tt=X.cellCfg,ot=X.spreadsheet,ft=ot.isHierarchyTreeType(),ht=yr(ot,"options.style.rowCfg.heightByField",{}),pt=null!==(y=u.sampleNodesForAllLevels)&&void 0!==y?y:[];if(ft)u.width=this.getTreeRowHeaderWidth();else try{for(var Wt=Ma(u.sampleNodesForAllLevels),de=Wt.next();!de.done;de=Wt.next()){var pe=de.value;pe.width=this.calculateGridRowNodesWidth(pe,h),u.width+=pe.width;var Me=null!==(w=pt[pe.level-1])&&void 0!==w?w:{x:0,width:0};pe.x=Me?.x+Me?.width}}catch(mr){v={error:mr}}finally{try{de&&!de.done&&(g=Wt.return)&&g.call(Wt)}finally{if(v)throw v.error}}for(var ze=bi.blankNode(),Oe=u.getNodes(),Ze=0;Ze<Oe.length;Ze++){var tr=Oe[Ze];(ft||!ft&&tr.isLeaf)&&(null!==(M=tr.rowIndex)&&void 0!==M||(tr.rowIndex=Ze),null!==(A=tr.colIndex)&&void 0!==A||(tr.colIndex=Ze),tr.y=ze.y+ze.height,tr.height=(null!==(L=ht?.[tr.id])&&void 0!==L?L:tt?.height)+(null===(O=this.rowCellTheme.padding)||void 0===O?void 0:O.top)+(null===(D=this.rowCellTheme.padding)||void 0===D?void 0:D.bottom),ze=tr,u.height+=tr.height),tr.x=ft||0===tr.level?0:(Me=pt[tr.level-1])?.x+Me?.width,tr.width=ft?this.getTreeRowHeaderWidth():pt[tr.level]?.width,tx(this.cfg,tr,null)}ft||(this.autoCalculateRowNodeHeightAndY(a),Ke(null===(k=ot.options.totals)||void 0===k?void 0:k.row)||(this.adjustTotalNodesCoordinate(u,!0),this.adjustSubTotalNodesCoordinate(u,!0)))},s.prototype.autoCalculateRowNodeHeightAndY=function(a){for(var u=null,h=a.slice(0);h.length;){var g=h.shift().parent;u!==g&&g&&(h.push(g),g.y=g.children[0].y,g.height=g.children.map(function(y){return y.height}).reduce(function(y,w){return y+w},0),u=g)}},s.prototype.adjustTotalNodesCoordinate=function(a,u){var h,v,g,y=this.cfg.dataSet.moreThanOneValue(),w=a.maxLevel,M=ai(a.getNodes(0),function(D){return D.isGrandTotals});if(M instanceof bi){var A=M.children;if(u)M.width=a.width,br(A,function(D){D.x=a.getNodes(w)[0].x});else if(w>1||w<=1&&!y){var L=null!==(v=null===(h=A?.[0])||void 0===h?void 0:h.height)&&void 0!==v?v:0;M.height=a.height-L;var O=null===(g=ai(a.getNodes(w),function(D){return!D.isTotalMeasure}))||void 0===g?void 0:g.y;br(A,function(D){D.y=O})}}},s.prototype.adjustSubTotalNodesCoordinate=function(a,u){var h=a.getNodes().filter(function(g){return g.isSubTotals});if(!Ke(h)){var v=a.maxLevel;br(h,function(g){var y,w,M,A=g.children;if(u)g.width=Jx(a.sampleNodesForAllLevels,g.level,"width"),br(A,function(k){k.x=a.getNodes(v)[0].x});else{var L=Jx(a.sampleNodesForAllLevels,g.level,"height"),O=null!==(w=null===(y=A?.[0])||void 0===y?void 0:y.height)&&void 0!==w?w:0;g.height=L-O,br(A,function(k){k.y=a.getNodes(v)[0].y});var D=null===(M=ai(a.getNodes(v),function(k){return!k.isTotalMeasure}))||void 0===M?void 0:M.y;br(A,function(k){k.y=D})}})}},s.prototype.calculateGridRowNodesWidth=function(a,u){var h=this.cfg,v=h.rowCfg,g=h.spreadsheet,y=yr(v,"widthByField.".concat(a.key));if(ga(y))return y;var w=this.getCellCustomWidth(a,v?.width);return ga(w)?w:g.getLayoutWidthType()!==li.Adaptive?this.getCompactGridRowWidth(a):this.getAdaptGridColWidth(u)},s.prototype.getAdaptTreeColWidth=function(a,u,h){var g=this.getCanvasHW().width-this.getSeriesNumberWidth(),y=Math.min(g/2,this.getTreeRowHeaderWidth()),w=Math.max(1,u.length);return Math.max(xx(this.cfg.cellCfg,this.getColLabelLength(a,h)),(g-y)/w)},s.prototype.getColLabelLength=function(a,u){var h,v=function(o){try{return JSON.parse(o)}catch{return null}}(a?.value);if(Mr(v))return v.length;for(var g=1,y=0;y<50;y++){var w=u[y];if(!w)return g;for(var M=this.cfg.dataSet.getCellData({query:ue(ue({},a.query),w.query),rowNode:w,isTotals:a.isTotals||a.isTotalMeasure||w.isTotals||w.isTotalMeasure}),A=vn(M),L=0;L<A.length;L++){var D=bu(null===(h=M[A[L]]?.values)||void 0===h?void 0:h[0]);D>g&&(g=D)}}return g},s.prototype.getAdaptGridColWidth=function(a,u){var h=this.cfg,g=h.cellCfg,y=h.rows.length,w=a.length,A=this.getCanvasHW().width-this.getSeriesNumberWidth(),L=Math.max(1,y+w);return u?Math.max(xx(g),(A-u)/w):Math.max(xx(g),A/L)},s.prototype.getTreeRowHeaderWidth=function(){var a,u,h,v,g=this.cfg,y=g.rows,w=g.dataSet,M=g.rowCfg,L=g.treeRowsWidth??M?.treeRowsWidth;if(L)return L;var O=this.getCellCustomWidth(null,M?.width);if(O)return O;var D=y.map(function(ft){return w.getFieldName(ft)}).join("/"),k=this.spreadsheet.theme.cornerCell,tt=k.icon,ot=this.spreadsheet.measureTextWidth(D,k.bolderText)+2*tt.size+(null===(a=tt.margin)||void 0===a?void 0:a.left)+(null===(u=tt.margin)||void 0===u?void 0:u.right)+(null===(h=this.rowCellTheme.padding)||void 0===h?void 0:h.left)+(null===(v=this.rowCellTheme.padding)||void 0===v?void 0:v.right);return Math.max(L??120,ot)},s.prototype.getCompactGridRowWidth=function(a){var h,u=this,v=this.cfg,g=v.dataSet,y=v.spreadsheet,w=y.theme.rowCell,M=w.bolderText,A=w.icon,L=w.cell,O=y.theme.cornerCell,D=O.bolderText,k=O.icon,X=O.cell,tt=a.field,ot=a.isLeaf,ft=this.getExpectedCellIconWidth(Ue.ROW_CELL,!y.isValueInCols()&&ot&&y.options.showDefaultHeaderActionIcon,A),pt=jm(null===(h=g.getDimensionValues(tt))||void 0===h?void 0:h.slice(0,50).map(function(ze){var Oe,Ze;return null!==(Ze=null===(Oe=u.spreadsheet.dataSet.getFieldFormatter(tt))||void 0===Oe?void 0:Oe(ze))&&void 0!==Ze?Ze:ze}),function(ze){return"".concat(ze).length}),Wt=y.measureTextWidth(pt,M)+ft+L.padding.left+L.padding.right,de=g.getFieldName(tt),pe=this.getExpectedCellIconWidth(Ue.CORNER_CELL,!1,k),Me=y.measureTextWidth(de,D)+pe+X.padding.left+X.padding.right;return Ts.getInstance().logger("Max Label In Row:",tt,Wt>Me?pt:de),Math.max(Wt,Me)},s.prototype.getViewCellHeights=function(a){var h=ws(a.rowLeafNodes,function(v,g){return v.push(_n(v)+g.height),v},[0]);return{getTotalHeight:function(){return _n(h)},getCellOffsetY:function(v){return h[v]},getTotalLength:function(){return h.length-1},getIndexRange:function(v,g){return pv(h,v,g)}}},s}(UA),ZA=function(o){function s(a){var h,u=this;(u=o.call(this,a)||this).getScrollGroupClipBBox=function(){var w,M=u.headerConfig,A=M.width,L=M.height,O=M.scrollX,D=M.spreadsheet,k=D.options;if(!k.frozenColCount&&!k.frozenTrailingColCount)return{x:O,y:0,width:A,height:L};for(var X=null===(w=D.facet)||void 0===w?void 0:w.layoutResult.colLeafNodes,tt=bs(D.options,X.length),ot=tt.frozenColCount,ft=tt.frozenTrailingColCount,ht=0,pt=0,Wt=0;Wt<ot;Wt++)ht+=X[Wt].width;for(Wt=0;Wt<ft;Wt++)pt+=X[X.length-1-Wt].width;return{x:O+ht,y:0,width:A-ht-pt,height:L}};var v=null===(h=u.headerConfig.spreadsheet)||void 0===h?void 0:h.options,y=v.frozenTrailingColCount;return v.frozenColCount&&(u.frozenColGroup=u.addGroup({name:Fo,zIndex:Bg})),y&&(u.frozenTrailingColGroup=u.addGroup({name:p3,zIndex:Bg})),u}return Ir(s,o),s.prototype.isFrozenCell=function(a){var u=this.headerConfig.spreadsheet,h=u?.options,g=h.frozenTrailingColCount,y=a.colIndex,w=u?.facet.layoutResult.colLeafNodes;return $o(y,h.frozenColCount)||Du(y,g,w.length)},s.prototype.clear=function(){var a,u,h=this.headerConfig.spreadsheet;o.prototype.clear.call(this),null===(a=this.frozenTrailingColGroup)||void 0===a||a.clear(),null===(u=this.frozenColGroup)||void 0===u||u.clear();var v=h?.foregroundGroup.findById(_C);v?.clear()},s.prototype.getCellInstance=function(a,u,h){return a.field===rc?new Px(a,u,h):new Bx(a,u,h)},s.prototype.getCellGroup=function(a){var u,h,v=this.headerConfig.spreadsheet,g=v?.options,y=g.frozenColCount,w=g.frozenTrailingColCount,M=null===(u=v?.facet)||void 0===u?void 0:u.layoutResult.colNodes.filter(function(D){return Da(D)}),A=ja(M,y,w),L=A.colCount,O=A.trailingColCount;return $o(Qc(a).colIndex,L)?this.frozenColGroup:Du(Qc(a).colIndex,O,null===(h=v?.facet)||void 0===h?void 0:h.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},s.prototype.isColCellInRect=function(a){var u,h,v=this.headerConfig.spreadsheet,g=v?.options,y=g.frozenColCount,w=g.frozenTrailingColCount,M=null===(u=v?.facet)||void 0===u?void 0:u.layoutResult.colLeafNodes.length,A=null===(h=v?.facet)||void 0===h?void 0:h.layoutResult.colNodes.filter(function(k){return Da(k)}),L=ja(A,y,w),O=L.colCount,D=L.trailingColCount;return!(!$o(Qc(a).colIndex,O)&&!Du(Qc(a).colIndex,D,M))||o.prototype.isColCellInRect.call(this,a)},s.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},s}(e2),aP=function(o){function s(a){var u,h=o.call(this,a)||this;h.frozenGroupInfo=((u={})[Sa.FROZEN_COL]={width:0},u[Sa.FROZEN_ROW]={height:0},u[Sa.FROZEN_TRAILING_ROW]={height:0},u[Sa.FROZEN_TRAILING_COL]={width:0},u),h.panelScrollGroupIndexes=[],h.onSortHandler=function(g){var y=h.spreadsheet,w=g;Array.isArray(g)||(w=[g]);var M=y.dataCfg.sortParams||[];w=w.map(function(L){var O,D,k=ue(ue({},L),{sortFieldId:null!==(O=L.sortKey)&&void 0!==O?O:L.sortFieldId}),X=null!==(D=M.find(function(tt){return tt.sortFieldId===k.sortFieldId}))&&void 0!==D?D:{};return ue(ue({},X),k)});var A=M.filter(function(L){return!w.find(function(D){return D.sortFieldId===L.sortFieldId})});Nf(y.dataCfg,"sortParams",Be(Be([],Ae(A),!1),Ae(w),!1)),y.setDataCfg(y.dataCfg),y.render(!0),y.emit(_e.RANGE_SORTED,y.dataSet.getDisplayDataSet())},h.onFilterHandler=function(g){var y=h.spreadsheet,w=!g.filteredValues||0===g.filteredValues.length,M=y.dataCfg.filterParams||[],A=M.findIndex(function(L){return L.filterKey===g.filterKey});-1!==A?w?M.splice(A):M[A]=g:M.push(g),Nf(y.dataCfg,"filterParams",M),y.render(!0),y.emit(_e.RANGE_FILTERED,y.dataSet.getDisplayDataSet())},h.initFrozenGroupPosition=function(){var g=h.getScrollOffset(),y=g.scrollY,w=g.scrollX,M=h.getPaginationScrollY();Ms(h.spreadsheet.frozenRowGroup,h.cornerBBox.width-w,h.cornerBBox.height-M),Ms(h.spreadsheet.frozenColGroup,h.cornerBBox.width,h.cornerBBox.height-y-M),Ms(h.spreadsheet.frozenTrailingColGroup,h.cornerBBox.width,h.cornerBBox.height-y-M),Ms(h.spreadsheet.frozenTopGroup,h.cornerBBox.width,h.cornerBBox.height-M)},h.getTotalHeightForRange=function(g,y){if(g<0||y<0)return 0;if(h.rowOffsets)return h.rowOffsets[y+1]-h.rowOffsets[g];for(var w=0,M=g;M<y+1;M++)w+=h.getDefaultCellHeight();return w},h.getShadowFill=function(g){var y,w,M=yr(h.cfg,"spreadsheet.theme.splitLine");return"l (".concat(g,") 0:").concat(null===(y=M.shadowColors)||void 0===y?void 0:y.left," 1:").concat(null===(w=M.shadowColors)||void 0===w?void 0:w.right)},h.renderFrozenGroupSplitLine=function(g,y){var w,M=h.panelBBox,A=M.width,L=M.height,O=M.viewportWidth,D=M.viewportHeight,k=h.cornerBBox.height,X=h.layoutResult.colNodes.filter(function($r){return Da($r)}),tt=h.getCellRange(),ft=bs(h.spreadsheet.options,X.length,tt.end-tt.start),ht=ft.frozenRowCount,pt=ft.frozenColCount,Wt=ft.frozenTrailingColCount,de=ft.frozenTrailingRowCount,pe=Math.floor(y-h.getPaginationScrollY()),Me=Math.max(0,_n(h.viewCellWidths)-O),ze=Math.max(0,h.viewCellHeights.getCellOffsetY(tt.end+1)-h.viewCellHeights.getCellOffsetY(tt.start)-D);null===(w=h.foregroundGroup.findById(xC))||void 0===w||w.remove();var gr,mr,Je,Xr,Oe=yr(h.cfg,"spreadsheet.theme.splitLine"),Ze=h.foregroundGroup.addGroup({id:xC,zIndex:Bg}),tr={lineWidth:Oe?.verticalBorderWidth,stroke:Oe?.verticalBorderColor,opacity:Oe?.verticalBorderColorOpacity},vr={lineWidth:Oe?.horizontalBorderWidth,stroke:Oe?.horizontalBorderColor,opacity:Oe?.horizontalBorderColorOpacity};pt>0&&(Ai(Ze,{x1:gr=X.reduce(function($r,sn,Nr){return Nr<pt?$r+sn.width:$r},0),x2:gr,y1:k,y2:k+(mr=de>0?L:D)},ue({},tr)),Oe.showShadow&&g>0&&Ze.addShape("rect",{attrs:{x:gr,y:k,width:Oe.shadowWidth,height:mr,fill:h.getShadowFill(0)}})),ht>0&&(Ai(Ze,{x1:0,x2:Xr=Wt>0?A:O,y1:Je=k+h.getTotalHeightForRange(tt.start,tt.start+ht-1),y2:Je},ue({},vr)),Oe.showShadow&&pe>0&&Ze.addShape("rect",{attrs:{x:0,y:Je,width:Xr,height:Oe.shadowWidth,fill:h.getShadowFill(90)}})),Wt>0&&(Ai(Ze,{x1:gr=X[X.length-Wt].x,x2:gr,y1:k,y2:k+(mr=de?L:D)},ue({},tr)),Oe.showShadow&&Math.floor(g)<Math.floor(Me)&&Ze.addShape("rect",{attrs:{x:gr-Oe.shadowWidth,y:k,width:Oe.shadowWidth,height:mr,fill:h.getShadowFill(180)}})),de>0&&(Ai(Ze,{x1:0,x2:Xr=Wt>0?A:O,y1:Je=h.panelBBox.maxY-h.getTotalHeightForRange(tt.end-de+1,tt.end),y2:Je},ue({},vr)),Oe.showShadow&&pe<Math.floor(ze)&&Ze.addShape("rect",{attrs:{x:0,y:Je-Oe.shadowWidth,width:Xr,height:Oe.shadowWidth,fill:h.getShadowFill(270)}})),h.foregroundGroup.sort()},h.renderFrozenPanelCornerGroup=function(){var g=h.layoutResult.colNodes.filter(function(ot){return Da(ot)}),y=h.getCellRange(),w=bs(h.spreadsheet.options,g.length,y.end-y.start+1),M=w.frozenRowCount,L=w.frozenTrailingRowCount,D=ja(g,w.frozenColCount,w.frozenTrailingColCount),tt=ax({frozenRowCount:M,frozenColCount:D.colCount,frozenTrailingRowCount:L,frozenTrailingColCount:D.trailingColCount},h.layoutResult.colLeafNodes.length,y);Object.keys(tt).forEach(function(ot){var ht=h.spreadsheet[Xg[ot]];ht&&tt[ot].forEach(function(pt){h.addFrozenCell(pt.x,pt.y,ht)})})},h.addFrozenCell=function(g,y,w){var M=h.layoutResult.getCellMeta(y,g);if(M.isFrozenCorner=!0,M){var A=h.cfg.dataCell(M);w.add(A)}},h.getRealFrozenColumns=function(g,y){var w,M=g,A=y;if(g||y){var L=h.layoutResult.colsHierarchy.getNodes();L=L.filter(function(O){return Da(O)}),M=(w=ja(L,g,y)).colCount,A=w.trailingColCount}return{colCount:M,trailingColCount:A}},h.addCell=function(g){var y=h.spreadsheet.options,w=y.frozenRowCount,M=y.frozenColCount,A=y.frozenTrailingRowCount,L=y.frozenTrailingColCount,O=h.layoutResult.colsHierarchy.getLeaves().length,D=h.getCellRange(),k=h.getRealFrozenColumns(M,L),X=k.colCount,tt=k.trailingColCount,ot=l8(g.getMeta(),{frozenRowCount:w,frozenColCount:X,frozenTrailingRowCount:A,frozenTrailingColCount:tt},O,D),ft=Xg[ot];ft&&h.spreadsheet[ft].add(g)},h.getFrozenOptions=function(){var g=h.layoutResult.colLeafNodes.length,y=h.getCellRange();return bs(h.cfg,g,y.end-y.start+1)};var v=h.spreadsheet;return v.on(_e.RANGE_SORT,h.onSortHandler),v.on(_e.RANGE_FILTER,h.onFilterHandler),h}return Ir(s,o),Object.defineProperty(s.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){var a=this.spreadsheet;a.off(_e.RANGE_SORT,this.onSortHandler),a.off(_e.RANGE_FILTER,this.onFilterHandler),o.prototype.destroy.call(this)},s.prototype.calculateCornerBBox=function(){var u=Math.floor(this.layoutResult.colsHierarchy.height);this.cornerBBox=new GA(this),this.cornerBBox.height=u,this.cornerBBox.maxY=u},s.prototype.doLayout=function(){var a=this,u=this.cfg,h=u.dataSet,v=u.spreadsheet,g=new J1,y=b0({isRowHeader:!1,facetCfg:this.cfg}),w=y.leafNodes,M=y.hierarchy;return this.calculateColNodesCoordinate(w,M),{colNodes:M.getNodes(),colsHierarchy:M,rowNodes:g.getNodes(),rowsHierarchy:g,rowLeafNodes:g.getLeaves(),colLeafNodes:w,getCellMeta:function(O,D){var k,pt,X=a.cfg.showSeriesNumber,tt=w[D],ot=a.getCellHeight(O),ft=a.getCellRange(),ht=bs(a.cfg,w.length,ft.end-ft.start+1).frozenTrailingRowCount,Wt=tt.x,de=a.viewCellHeights.getCellOffsetY(O);return Zf(O,ft.end,ht)&&(de=a.panelBBox.maxY-a.getTotalHeightForRange(O,ft.end)),pt=X&&tt.field===rc?O+1:h.getCellData({query:{col:tt.field,rowIndex:O}}),{spreadsheet:v,x:Wt,y:de,width:tt.width,height:ot,data:(k={},k[tt.field]=pt,k),rowIndex:O,colIndex:D,isTotals:!1,colId:tt.id,rowId:String(O),valueField:tt.field,fieldValue:pt,id:nv(String(O),tt.id)}},spreadsheet:v}},s.prototype.getAdaptiveColWidth=function(a){var u=this.cfg.cellCfg,h=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==li.Compact){var v=this.getSeriesNumberWidth(),g=a.length-(h?1:0),y=this.getCanvasHW().width-v;return Math.max(u?.width,y/Math.max(1,g))}return u?.width},s.prototype.getColNodeHeight=function(a,u){var h=this.cfg.colCfg,g=Uo(h?.heightByField)[0]||h?.height;if(!u||a.children&&a.children.length)return g;for(;a.parent;)u-=Da(a)?0:g,a=a.parent;return u},s.prototype.calculateColNodesCoordinate=function(a,u){var h,v,g,y,w,M,A=bi.blankNode(),L=u.getNodes();try{for(var O=Ma(u.sampleNodesForAllLevels),D=O.next();!D.done;D=O.next()){var k=D.value;k.height=this.getColNodeHeight(k),u.height+=k.height}}catch(Me){h={error:Me}}finally{try{D&&!D.done&&(v=O.return)&&v.call(O)}finally{if(h)throw h.error}}for(var X=this.getAdaptiveColWidth(a),tt=0,ot=0;ot<L.length;ot++)(ft=L[ot]).isLeaf&&(ft.colIndex=tt,tt+=1,ft.x=A.x+A.width,ft.width=this.calculateColLeafNodesWidth(ft,X),tx(this.cfg,null,ft),u.width+=ft.width,A=ft),ft.y=0===ft.level?0:null!==(w=(null===(g=ft.parent)||void 0===g?void 0:g.y)+(null===(y=ft.parent)||void 0===y?void 0:y.height))&&void 0!==w?w:0,ft.height=this.getColNodeHeight(ft,u.height);var ht=L.filter(function(Me){return Da(Me)}),pt=bs(null===(M=this.spreadsheet)||void 0===M?void 0:M.options,ht.length).frozenTrailingColCount;A=bi.blankNode();var Wt=this.getCanvasHW().width;if(pt>0){var de=ja(ht,0,pt).trailingColCount,pe=L.filter(function(Me){return Me.isLeaf});for(ot=1;ot<=de;ot++){var ft;(ft=pe[pe.length-ot]).x=1===ot?Wt-ft.width:A.x-ft.width,A=ft}}this.autoCalculateColNodeWidthAndX(a)},s.prototype.autoCalculateColNodeWidthAndX=function(a){for(var u=null,h=a.slice(0);h.length;){var g=h.shift().parent;u!==g&&g&&(h.push(g),g.x=g.children[0].x,g.width=g.children.map(function(y){return y.width}).reduce(function(y,w){return y+w},0),u=g)}},s.prototype.calculateColLeafNodesWidth=function(a,u){var h=this.cfg,v=h.colCfg,g=h.dataSet,y=h.spreadsheet,w=this.spreadsheet.getLayoutWidthType(),M=this.getCellDraggedWidth(a);if(ga(M))return M;var L,A=this.getCellCustomWidth(a,v?.width);if(ga(A))return A;if(w===li.Compact){var O=g.getDisplayDataSet(),D=g.getFieldFormatter(a.field),k=jm(O?.slice(0,50).map(function(de){var pe;return"".concat(null!==(pe=D?.(de[a.field]))&&void 0!==pe?pe:de[a.field])}),function(de){return y.measureTextWidthRoughly(de)});Ts.getInstance().logger("Max Label In Col:",a.field,k);var X=y.theme.colCell.bolderText,tt=y.theme.dataCell,ft=tt.cell,pt=y.measureTextWidth(k,tt.text)+ft.padding.left+ft.padding.right+1,Wt=y.measureTextWidth(a.label,X)+function(o,s,a){var u=yr(a,"cell.padding"),h=aA(o,s.field,a);return u.left+u.right+function(o,s,a,u){var h,v,w,g=yr(u,"size"),y=yr(u,"margin");return(w=o.options.showDefaultHeaderActionIcon?1:null!==(v=null===(h=Lx(o.options.headerActionIcons,s,a))||void 0===h?void 0:h.iconNames.length)&&void 0!==v?v:0)*(g+y.left)+(w>0?y.right:0)}(o,s,Ue.COL_CELL,yr(a,"icon"))+h.left+h.right}(this.spreadsheet,a,y.theme.colCell);L=Math.max(Wt,pt)}else L=u;return a.field===rc&&(L=this.getSeriesNumberWidth()),L},s.prototype.getDefaultCellHeight=function(){return this.cfg.cellCfg?.height},s.prototype.getCellHeight=function(a){if(this.rowOffsets){var h=yr(this.spreadsheet,"options.style.rowCfg.heightByField",{})?.[String(a)];if(ga(h))return h}return this.getDefaultCellHeight()},s.prototype.initRowOffsets=function(){var a=this,u=this.cfg.dataSet,h=yr(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(h).length){var v=u.getDisplayDataSet();this.rowOffsets=[0];var g=0;v.forEach(function(y,w){var M,A=null!==(M=h?.[String(w)])&&void 0!==M?M:a.getDefaultCellHeight(),L=g+A;a.rowOffsets.push(L),g=L})}},s.prototype.getViewCellHeights=function(){var a=this,u=this.cfg.dataSet;this.initRowOffsets();var h=this.getDefaultCellHeight();return{getTotalHeight:function(){return a.rowOffsets?_n(a.rowOffsets):h*u.getDisplayDataSet().length},getCellOffsetY:function(v){if(v<=0)return 0;if(a.rowOffsets)return a.rowOffsets[v];for(var g=0,y=0;y<v;y++)g+=h;return g},getTotalLength:function(){return u.getDisplayDataSet().length},getIndexRange:function(v,g){if(a.rowOffsets)return pv(a.rowOffsets,v,g);var y=Math.floor(v/h),w=g%h==0?g/h-1:Math.floor(g/h);return{start:Math.max(0,y),end:Math.max(0,w)}}}},s.prototype.init=function(){o.prototype.init.call(this);var a=this.panelBBox;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:a.width,height:a.height}})},s.prototype.getColHeader=function(){if(!this.columnHeader){var a=this.panelBBox;return new ZA({width:a.width,height:this.cornerBBox.height,viewportWidth:a.viewportWidth,viewportHeight:a.viewportHeight,cornerWidth:this.cornerBBox.width,position:{x:a.x,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},s.prototype.updateRowResizeArea=function(){var a=this.spreadsheet,u=a.foregroundGroup,v=yr(a.options,"interaction.resize");if(hl(v)?v:v?.rowCellVertical){var y=u.findById(nc),w=u.findById(mC);y&&y.set("children",[]),w&&w.set("children",[]),gv(this.panelGroup.getChildren(),f0).filter(function(A){return A.shouldDrawResizeArea()}).forEach(function(A){A.drawResizeArea()})}},s.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),o.prototype.render.call(this),this.initFrozenGroupPosition()},s.prototype.calculateFrozenGroupInfo=function(){var a=this.getFrozenOptions(),u=a.frozenColCount,h=a.frozenRowCount,v=a.frozenTrailingColCount,g=a.frozenTrailingRowCount,y=this.layoutResult.colNodes.filter(function(X){return Da(X)}),w=this.viewCellHeights,M=this.getCellRange(),A=this.frozenGroupInfo,L=A.frozenCol,O=A.frozenTrailingCol,D=A.frozenRow,k=A.frozenTrailingRow;u>0&&(L.width=y[u-1].x+y[u-1].width-0,L.range=[0,u-1]),h>0&&(D.height=w.getCellOffsetY(M.start+h)-w.getCellOffsetY(M.start),D.range=[M.start,M.start+h-1]),v>0&&(O.width=y[y.length-1].x-y[y.length-v].x+y[y.length-1].width,O.range=[y.length-v,y.length-1]),g>0&&(k.height=w.getCellOffsetY(M.end+1)-w.getCellOffsetY(M.end+1-g),k.range=[M.end-g+1,M.end])},s.prototype.getRowHeader=function(){return null},s.prototype.getSeriesNumberHeader=function(){return null},s.prototype.translateRelatedGroups=function(a,u,h){var v=this,g=this.spreadsheet,y=g.frozenColGroup,w=g.frozenTrailingColGroup;[g.frozenRowGroup,g.frozenTrailingRowGroup].forEach(function(L){nx(L,v.cornerBBox.width-a)}),[y,w].forEach(function(L){!function(o,s){var a,u=o?.getMatrix(),h=null!==(a=u?.[7])&&void 0!==a?a:0;o?.translate(0,s-h)}(L,v.cornerBBox.height-u)}),o.prototype.translateRelatedGroups.call(this,a,u,h),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(a,u)},s.prototype.calculateXYIndexes=function(a,u){var h=this.layoutResult.colLeafNodes.length,v=this.getCellRange(),g=this.panelBBox,y=g.viewportHeight,w=g.viewportWidth,M=this.getFrozenOptions(),A=M.frozenColCount,L=M.frozenRowCount,O=M.frozenTrailingColCount,D=M.frozenTrailingRowCount,k={width:w,height:y,x:0,y:0};if(O>0||A>0){var X=this.frozenGroupInfo,ot=X.frozenCol;k.width-=X.frozenTrailingCol.width+ot.width,k.x+=ot.width}if(D>0||L>0){var ft=this.frozenGroupInfo,ht=ft.frozenRow,pt=ft.frozenTrailingRow;k.height<ht.height+pt.height?(k.height=0,k.y=0):(k.height-=ht.height+pt.height,k.y+=ht.height)}var Wt=rx(a,u,this.viewCellWidths,this.viewCellHeights,k,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=Wt;var de=this.getRealFrozenColumns(A,O);return function(o,s,a,u){var h=s.frozenColCount,v=s.frozenRowCount,g=s.frozenTrailingColCount,y=s.frozenTrailingRowCount,w=Be([],Ae(o),!1);$o(w[0],h)&&(w[0]=h),Du(w[1],g,a)&&(w[1]=a-g-1),Zp(w[2],u.start,v)&&(w[2]=u.start+v),Zf(w[3],u.end,y)&&(w[3]=u.end-y);var M=Be([],Ae(w),!1);M[2]=u.start,M[3]=u.start+v-1;var A=Be([],Ae(w),!1);A[0]=0,A[1]=h-1;var L=Be([],Ae(w),!1);L[2]=u.end+1-y,L[3]=u.end;var O=Be([],Ae(w),!1);return O[0]=a-g,O[1]=a-1,{center:w,frozenRow:M,frozenCol:A,frozenTrailingCol:O,frozenTrailingRow:L}}(Wt,{frozenColCount:de.colCount,frozenRowCount:L,frozenTrailingColCount:de.trailingColCount,frozenTrailingRowCount:D},h,v)},s.prototype.clip=function(a,u){var h,v,g=this.layoutResult.colLeafNodes,y=this.getPaginationScrollY(),w=this.spreadsheet,M=w.frozenRowGroup,A=w.frozenColGroup,L=w.frozenTrailingColGroup,O=w.frozenTrailingRowGroup,D=w.panelScrollGroup,k=A.getBBox().width,X=M.getBBox().height,tt=L.getBBox(),ot=O.getBBox().height,ft=this.panelBBox.width-k-L.getBBox().width,ht=this.panelBBox.height-X-ot;D.setClip({type:"rect",attrs:{x:a+k,y:u+X,width:ft,height:ht}}),M.setClip({type:"rect",attrs:{x:a+k,y,width:ft,height:X}}),O.setClip({type:"rect",attrs:{x:a+k,y:O.getBBox().minY,width:ft,height:ot}});var pt={y:u+X,height:ht};A.setClip({type:"rect",attrs:ue(ue({},pt),{x:0,width:k})}),L.setClip({type:"rect",attrs:ue(ue({},pt),{x:tt.minX,width:tt.width})});var Wt=this.spreadsheet.foregroundGroup.findById(nc);Wt&&Wt.setClip({type:"rect",attrs:{x:0,y:X+this.cornerBBox.height,width:null!==(v=null===(h=g?.[0])||void 0===h?void 0:h.width)&&void 0!==v?v:0,height:ht}})},s.prototype.updatePanelScrollGroup=function(){var a=this;o.prototype.updatePanelScrollGroup.call(this),[Sa.FROZEN_COL,Sa.FROZEN_ROW,Sa.FROZEN_TRAILING_COL,Sa.FROZEN_TRAILING_ROW].forEach(function(u){if(a.frozenGroupInfo[u].range){var h=[],v=[];if(u.toLowerCase().includes("row")){var g=Ae(a.frozenGroupInfo[u].range,2),y=g[0],w=g[1];if(h=a.gridInfo.cols,v=S0(y,w,a.viewCellHeights),u===Sa.FROZEN_TRAILING_ROW){var M=a.spreadsheet.frozenTrailingRowGroup.getBBox().minY;v=function(o,s,a,u){var h=S0(o,s,u),v=u.getCellOffsetY(o);return h.map(function(g){return g-v+a})}(y,w,Math.ceil(M),a.viewCellHeights)}}else{var A=Ae(a.frozenGroupInfo[u].range,2),L=A[0],O=A[1],D=a.layoutResult.colNodes.filter(function(k){return Da(k)});h=PA(L,O,D),v=a.gridInfo.rows}a.spreadsheet["".concat(u,"Group")].updateGrid({cols:h,rows:v},"".concat(u,"Group"))}})},s}(UA),qA=function(o){function s(a){var u=o.call(this,a)||this;return u.gridInfo={cols:[],rows:[]},u.updateGrid=function(h,v){void 0===v&&(v=yd);var g=u.getBBox(),y=u.s2,A=y.theme.dataCell.cell,L=(0,y.isTableMode)()&&(v===yd||v===yC);(!u.gridGroup||!u.findById(v))&&(u.gridGroup=u.addGroup({id:v})),u.gridGroup.clear(),u.gridInfo=h,L&&u.gridInfo.cols.unshift(0);var O=A.verticalBorderWidth,D=A.verticalBorderWidth/2;u.gridInfo.cols.forEach(function(tt){Ai(u.gridGroup,{x1:tt,x2:tt,y1:Math.ceil(g.minY+D),y2:Math.floor(g.maxY-D)},{stroke:A.verticalBorderColor,strokeOpacity:A.verticalBorderColorOpacity,lineWidth:O,lineCap:Wg})});var k=A.horizontalBorderWidth,X=A.horizontalBorderWidth/2;u.gridInfo.rows.forEach(function(tt){Ai(u.gridGroup,{x1:Math.ceil(g.minX+X),x2:Math.floor(g.maxX-X),y1:tt,y2:tt},{stroke:A.horizontalBorderColor,strokeOpacity:A.horizontalBorderColorOpacity,lineWidth:k,lineCap:Wg})}),u.gridGroup.toFront()},u.s2=a.s2,u}return Ir(s,o),s}(ls),oP=function(o){function s(a){var u=o.call(this,a)||this;return u.initMergedCellsGroup(),u}return Ir(s,o),s.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(zg)||(this.mergedCellsGroup=this.addGroup({id:zg}))},s.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),function(o,s){var a,u=null===(a=o.options)||void 0===a?void 0:a.mergedCellsInfo;if(!Ke(u)){var h=o.interaction.getPanelGroupAllDataCells();if(!Ke(h)){var v=[];u.forEach(function(A){var L=Db(h,o,A);L.cells.length>0&&v.push(L)});var g=s.getChildren(),y=function(o){return cn(o,function(s){return{cells:s.cells,viewMeta:s.getMeta()}})}(g),w=Pb(y,v),M=Pb(v,y);br(w,function(A){ai(g,function(O){return Vi(O.getMeta().id,A.viewMeta.id)})?.remove(!0)}),br(M,function(A){s.add(Tx(o,A.cells,A.viewMeta))})}}}(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},s.prototype.addMergeCell=function(a){var u;null===(u=this.mergedCellsGroup)||void 0===u||u.add(a)},s.prototype.update=function(a){this.updateGrid(a),this.updateMergedCells()},s}(qA),To=function(){function o(s){var a=this;this.isLinkFieldText=function(u){return a.getCellAppendInfo(u)?.isLinkFieldText},this.spreadsheet=s,this.bindEvents()}return o.prototype.getCellAppendInfo=function(s){var a,u;return(null===(a=s?.attr)||void 0===a?void 0:a.call(s,"appendInfo"))||(null===(u=s?.attrs)||void 0===u?void 0:u.appendInfo)||{}},o.prototype.reset=function(){},o}(),sP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.bindEvents=function(){this.bindDataCellClick()},s.prototype.bindDataCellClick=function(){var a=this;this.spreadsheet.on(_e.DATA_CELL_CLICK,function(u){var h;u.stopPropagation();var v=a.spreadsheet.interaction;if(v.clearHoverTimer(),!v.hasIntercepts([Lr.CLICK])){if(a.isLinkFieldText(u.target))return void a.emitLinkFieldClickEvent(u);var g=a.spreadsheet.getCell(u.target),y=g.getMeta();if(y){if(v.addIntercepts([Lr.HOVER]),v.isSelectedCell(g))return void(1===(null===(h=u.originalEvent)||void 0===h?void 0:h.detail)&&v.reset());v.changeState({cells:[xo(g)],stateName:pr.SELECTED,onUpdateCells:zx}),a.spreadsheet.emit(_e.GLOBAL_SELECTED,[g]),a.showTooltip(u,y)}}})},s.prototype.getTooltipOperator=function(a,u){var h=this,v={key:"trend",text:gi("\u8d8b\u52bf"),icon:"Trend"},g=this.spreadsheet.getCell(a.target),y=w0(this.spreadsheet,a).operation,w=y.trend&&ue(ue({},v),{onClick:function(){h.spreadsheet.emit(_e.DATA_CELL_TREND_ICON_CLICK,ue(ue({},u),{record:h.spreadsheet.isTableMode()?h.spreadsheet.dataSet.getCellData({query:{rowIndex:u.rowIndex}}):void 0})),h.spreadsheet.hideTooltip()}});return DA(y,{defaultMenus:[w],cell:g})},s.prototype.showTooltip=function(a,u){var v=u.isTotals,g=void 0!==v&&v,y=u.value,w=u.fieldValue,M=u.field,A=u.valueField,L=u.data,O=this.spreadsheet.isTableMode(),k=[(O?ue(ue({},L),{value:y||w,valueField:M||A}):L)||ue(ue({},u.rowQuery),u.colQuery)],X=this.getTooltipOperator(a,u);this.spreadsheet.showTooltipWithInfo(a,k,{isTotals:g,operator:X,enterable:!0,hideSummary:!0,showSingleTips:O})},s.prototype.emitLinkFieldClickEvent=function(a){var u=this.getCellAppendInfo(a.target).cellData;this.spreadsheet.emit(_e.GLOBAL_LINK_FIELD_JUMP,{key:u.valueField,cellData:u,record:Object.assign({rowIndex:u.rowIndex},u.data)})},s}(To),lP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.bindEvents=function(){this.bindDataCellClick()},s.prototype.bindDataCellClick=function(){var a=this;this.spreadsheet.on(_e.MERGED_CELLS_CLICK,function(u){u.stopPropagation();var h=a.spreadsheet.interaction;h.hasIntercepts([Lr.CLICK])||h.addIntercepts([Lr.HOVER])})},s}(To),uP=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.isMultiSelection=!1,a.handleRowColClick=function(u){if(u.stopPropagation(),!a.isLinkFieldText(u.target)){var h=a.spreadsheet,v=h.interaction,g=h.options,y=a.spreadsheet.getCell(u.target);v.selectHeaderCell({cell:y,isMultiSelection:!(!g.interaction.multiSelection||!a.isMultiSelection)})&&a.showTooltip(u)}},a.getHideColumnField=function(u){return a.spreadsheet.isTableMode()?u.field:u.id},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand()},s.prototype.bindKeyboardDown=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_DOWN,function(u){v0(u)&&(a.isMultiSelection=!0)})},s.prototype.bindKeyboardUp=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_UP,function(u){v0(u)&&(a.isMultiSelection=!1,a.spreadsheet.interaction.removeIntercepts([Lr.CLICK]))})},s.prototype.bindRowCellClick=function(){var a=this;this.spreadsheet.on(_e.ROW_CELL_CLICK,function(u){a.handleRowColClick(u)})},s.prototype.bindColCellClick=function(){var a=this;this.spreadsheet.on(_e.COL_CELL_CLICK,function(u){a.handleRowColClick(u)})},s.prototype.showTooltip=function(a){var u=w0(this.spreadsheet,a),h=u.operation;if(u.showTooltip){var g=this.spreadsheet.interaction,y=g.isSelectedState()?function(o){return cn(o,function(s){var a=s.getMeta();return af({},a.query||{},f1(a,["colIndex","rowIndex"]))})}(g.getActiveCells()):[],w=this.getTooltipOperator(a,h);this.spreadsheet.showTooltipWithInfo(a,y,{showSingleTips:!0,operator:w})}},s.prototype.getTooltipOperator=function(a,u){var h=this,v=this.spreadsheet.getCell(a.target),g=v.getMeta(),y=v.cellType===Ue.COL_CELL,w=1===this.spreadsheet.getColumnLeafNodes().length,M={key:"hiddenColumns",text:gi("\u9690\u85cf"),icon:"EyeOutlined"},L=y&&!w&&g.isLeaf&&u.hiddenColumns&&ue(ue({},M),{onClick:function(){h.hideSelectedColumns()}});return DA(u,{defaultMenus:[L],cell:v})},s.prototype.bindTableColExpand=function(){var a=this;this.spreadsheet.on(_e.LAYOUT_COLS_EXPANDED,function(u){a.handleExpandIconClick(u)})},s.prototype.hideSelectedColumns=function(){var h=this.spreadsheet.interaction.getActiveCells().map(function(v){return v.getMeta()}).map(this.getHideColumnField);bx(this.spreadsheet,h,!0)},s.prototype.handleExpandIconClick=function(a){var u=this.spreadsheet.store.get("hiddenColumnsDetail",[]),h=(u.find(function(A){return Ax(A.displaySiblingNode,a.id)})||{}).hideColumnNodes,g=this.spreadsheet.options.interaction.hiddenColumnFields,y=(void 0===h?[]:h).map(this.getHideColumnField),w=ll(g,y),M=u.filter(function(A){return!Ax(A.displaySiblingNode,a.id)});this.spreadsheet.setOptions({interaction:{hiddenColumnFields:w}}),this.spreadsheet.store.set("hiddenColumnsDetail",M),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},s}(To),cP=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.getRowData=function(u){var h,v=u.getHeadLeafChild(),g=a.spreadsheet.dataSet.getMultiData(v?.query,v?.isTotals,!0)[0];return ue(ue({},g),{rowIndex:null!==(h=u.rowIndex)&&void 0!==h?h:v.rowIndex})},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindRowCellClick()},s.prototype.bindRowCellClick=function(){var a=this;this.spreadsheet.on(_e.ROW_CELL_CLICK,function(u){if(!a.spreadsheet.interaction.hasIntercepts([Lr.CLICK])&&a.isLinkFieldText(u.target)){var h=a.getCellAppendInfo(u.target).cellData,v=h.key,g=a.getRowData(h);a.spreadsheet.emit(_e.GLOBAL_LINK_FIELD_JUMP,{key:v,cellData:h,record:g})}})},s}(To),hP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.bindEvents=function(){this.bindCornerCellClick()},s.prototype.bindCornerCellClick=function(){var a=this;this.spreadsheet.on(_e.CORNER_CELL_CLICK,function(u){var h,v=a.spreadsheet.interaction,g=a.spreadsheet.getCell(u.target);if(g){var y=g.getMeta(),w=a.getRowNodesByField(y?.field),M=null===(h=w[0])||void 0===h?void 0:h.belongsCell,A=a.getRowCells(w);if(M&&v.isSelectedCell(M))return v.reset(),void a.spreadsheet.emit(_e.GLOBAL_SELECTED,v.getActiveCells());Ke(w)||Ke(A)||(v.addIntercepts([Lr.HOVER]),v.changeState({cells:A,stateName:pr.SELECTED}),v.highlightNodes(w),a.showTooltip(u),a.spreadsheet.emit(_e.GLOBAL_SELECTED,v.getActiveCells()))}})},s.prototype.getRowNodesByField=function(a){return this.spreadsheet.getRowNodes().filter(function(u){return u.field===a})},s.prototype.getRowCells=function(a){return a.map(function(u){return{id:u.id,colIndex:-1,rowIndex:-1,type:Ue.ROW_CELL}})},s.prototype.showTooltip=function(a){var u=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(a,[],{data:{summaries:[{selectedData:u,name:"",value:null}]}})},s}(To),fP=function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},s.prototype.updateRowColCells=function(a){var u=a.rowId,v=this.spreadsheet.interaction;(function(o,s,a){o&&br(Es(o,s),function(h){h.updateByState(a)})})(a.colId,v.getAllColHeaderCells(),pr.HOVER),u&&br(Es(u,v.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType()),function(y){y.updateByState(pr.HOVER)})},s.prototype.changeStateToHoverFocus=function(a,u,h){var g,v=this,y=this.spreadsheet.interaction,w=this.spreadsheet.options.interaction,M=w.hoverFocus;y.clearHoverTimer();var A=function(){if(!y.hasIntercepts([Lr.HOVER])){y.changeState({cells:[xo(a)],stateName:pr.HOVER_FOCUS});var D=v.spreadsheet.isTableMode(),k={isTotals:h.isTotals,enterable:!0,hideSummary:!0,showSingleTips:D};w.hoverHighlight&&v.updateRowColCells(h);var X=v.getCellData(h,D);v.spreadsheet.showTooltipWithInfo(u,X,k)}},L=800;if(hl(M)||(L=null!==(g=M?.duration)&&void 0!==g?g:800),0===L)A();else{var O=window.setTimeout(function(){return A()},L);y.setHoverTimer(O)}},s.prototype.handleHeaderHover=function(a){var u=this.spreadsheet.getCell(a.target);if(!Ke(u)){var h=this.spreadsheet.interaction;h.clearHoverTimer(),!h.isActiveCell(u)&&(h.changeState({cells:[xo(u)],stateName:pr.HOVER}),u.update(),this.showEllipsisTooltip(a,u))}},s.prototype.showEllipsisTooltip=function(a,u){if(u&&u.getActualText()!==u.getFieldValue()){var h=u.getMeta(),g={isTotals:h.isTotals,enterable:!0,hideSummary:!0,showSingleTips:!0,enableFormat:this.spreadsheet.isPivotMode()},y=this.getCellData(h,!0);this.spreadsheet.showTooltipWithInfo(a,y,g)}},s.prototype.getCellData=function(a,u){void 0===a&&(a={});var g=a.value,y=a.field,w=a.fieldValue,M=a.valueField,A=a.rowQuery,L=a.colQuery,O=a.data;return u?[ue(ue({},a.query),{value:g||w,valueField:y||M})]:[O||ue(ue({},A),L)]},s.prototype.bindDataCellHover=function(){var a=this;this.spreadsheet.on(_e.DATA_CELL_HOVER,function(u){var h=a.spreadsheet.getCell(u.target);if(!Ke(h)){var v=a.spreadsheet,g=v.interaction,w=v.options.interaction,M=h?.getMeta();g.isActiveCell(h)||(g.changeState({cells:[xo(h)],stateName:pr.HOVER}),w.hoverHighlight&&a.updateRowColCells(M),w.hoverFocus&&a.changeStateToHoverFocus(h,u,M))}})},s.prototype.bindRowCellHover=function(){var a=this;this.spreadsheet.on(_e.ROW_CELL_HOVER,function(u){a.handleHeaderHover(u)})},s.prototype.bindColCellHover=function(){var a=this;this.spreadsheet.on(_e.COL_CELL_HOVER,function(u){a.handleHeaderHover(u)})},s.prototype.bindCornerCellHover=function(){var a=this;this.spreadsheet.on(_e.CORNER_CELL_HOVER,function(u){var h=a.spreadsheet.getCell(u.target);a.showEllipsisTooltip(u,h)})},s}(To),vP=function(){function o(s){var a=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(u){return u instanceof lC&&u.attrs.type===ml.type},this.onCanvasMousedown=function(u){if(a.target=u.target,a.spreadsheet.interaction.clearHoverTimer(),a.isResizeArea(u)){a.spreadsheet.emit(_e.LAYOUT_RESIZE_MOUSE_DOWN,u);var h=function(g){if(!a.spreadsheet.getCanvasElement())return!1;a.spreadsheet.getCanvasElement()!==g.target&&(u.clientX=g.clientX,u.clientY=g.clientY,u.originalEvent=g,a.spreadsheet.emit(_e.LAYOUT_RESIZE_MOUSE_MOVE,u))};return window.addEventListener("mousemove",h),void window.addEventListener("mouseup",function(){window.removeEventListener("mousemove",h)},{once:!0})}switch(a.spreadsheet.getCellType(u.target)){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_MOUSE_DOWN,u);break;case Ue.ROW_CELL:a.spreadsheet.emit(_e.ROW_CELL_MOUSE_DOWN,u);break;case Ue.COL_CELL:a.spreadsheet.emit(_e.COL_CELL_MOUSE_DOWN,u);break;case Ue.CORNER_CELL:a.spreadsheet.emit(_e.CORNER_CELL_MOUSE_DOWN,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_MOUSE_DOWN,u)}},this.onCanvasMousemove=function(u){if(a.isResizeArea(u))return a.activeResizeArea(u),void a.spreadsheet.emit(_e.LAYOUT_RESIZE_MOUSE_MOVE,u);a.resetResizeArea();var h=a.spreadsheet.getCell(u.target);if(h){var v=h.cellType;switch(v){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_MOUSE_MOVE,u);break;case Ue.ROW_CELL:a.spreadsheet.emit(_e.ROW_CELL_MOUSE_MOVE,u);break;case Ue.COL_CELL:a.spreadsheet.emit(_e.COL_CELL_MOUSE_MOVE,u);break;case Ue.CORNER_CELL:a.spreadsheet.emit(_e.CORNER_CELL_MOUSE_MOVE,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_MOUSE_MOVE,u)}if(!a.hasBrushSelectionIntercepts())switch(a.spreadsheet.emit(_e.GLOBAL_HOVER,u),v){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_HOVER,u);break;case Ue.ROW_CELL:a.spreadsheet.emit(_e.ROW_CELL_HOVER,u);break;case Ue.COL_CELL:a.spreadsheet.emit(_e.COL_CELL_HOVER,u);break;case Ue.CORNER_CELL:a.spreadsheet.emit(_e.CORNER_CELL_HOVER,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_HOVER,u)}}},this.onCanvasMouseup=function(u){if(a.isResizeArea(u))a.spreadsheet.emit(_e.LAYOUT_RESIZE_MOUSE_UP,u);else{var h=a.spreadsheet.getCell(u.target);if(h){var v=h.cellType;if(a.target===u.target){var g=a.isGuiIconShape(u.target);switch(v){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_CLICK,u);break;case Ue.ROW_CELL:if(g)break;a.spreadsheet.emit(_e.ROW_CELL_CLICK,u);break;case Ue.COL_CELL:if(g)break;a.spreadsheet.emit(_e.COL_CELL_CLICK,u);break;case Ue.CORNER_CELL:if(g)break;a.spreadsheet.emit(_e.CORNER_CELL_CLICK,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_CLICK,u)}}switch(v){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_MOUSE_UP,u);break;case Ue.ROW_CELL:a.spreadsheet.emit(_e.ROW_CELL_MOUSE_UP,u);break;case Ue.COL_CELL:a.spreadsheet.emit(_e.COL_CELL_MOUSE_UP,u);break;case Ue.CORNER_CELL:a.spreadsheet.emit(_e.CORNER_CELL_MOUSE_UP,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_MOUSE_UP,u)}}}},this.onCanvasClick=function(u){a.spreadsheet.emit(_e.GLOBAL_CLICK,u)},this.onCanvasDoubleClick=function(u){var h=a.spreadsheet;if(a.isResizeArea(u))h.emit(_e.LAYOUT_RESIZE_MOUSE_UP,u);else{h.emit(_e.GLOBAL_DOUBLE_CLICK,u);var v=h.getCell(u.target);if(v&&a.target===u.target)switch(v.cellType){case Ue.DATA_CELL:h.emit(_e.DATA_CELL_DOUBLE_CLICK,u);break;case Ue.ROW_CELL:h.emit(_e.ROW_CELL_DOUBLE_CLICK,u);break;case Ue.COL_CELL:h.emit(_e.COL_CELL_DOUBLE_CLICK,u);break;case Ue.CORNER_CELL:h.emit(_e.CORNER_CELL_DOUBLE_CLICK,u);break;case Ue.MERGED_CELL:h.emit(_e.MERGED_CELLS_DOUBLE_CLICK,u)}}},this.onCanvasMouseout=function(u){if(a.isAutoResetSheetStyle&&!u?.shape){var h=a.spreadsheet.interaction;!h.isSelectedState()&&!(h.intercepts.size>0)&&h.reset()}},this.onCanvasContextMenu=function(u){var h=a.spreadsheet;if(a.isResizeArea(u))h.emit(_e.LAYOUT_RESIZE_MOUSE_UP,u);else switch(h.emit(_e.GLOBAL_CONTEXT_MENU,u),a.spreadsheet.getCellType(u.target)){case Ue.DATA_CELL:a.spreadsheet.emit(_e.DATA_CELL_CONTEXT_MENU,u);break;case Ue.ROW_CELL:a.spreadsheet.emit(_e.ROW_CELL_CONTEXT_MENU,u);break;case Ue.COL_CELL:a.spreadsheet.emit(_e.COL_CELL_CONTEXT_MENU,u);break;case Ue.CORNER_CELL:a.spreadsheet.emit(_e.CORNER_CELL_CONTEXT_MENU,u);break;case Ue.MERGED_CELL:a.spreadsheet.emit(_e.MERGED_CELLS_CONTEXT_MENU,u)}},this.spreadsheet=s,this.bindEvents()}return Object.defineProperty(o.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),o.prototype.bindEvents=function(){var s=this;this.clearAllEvents(),this.addCanvasEvent(wi.CLICK,this.onCanvasClick),this.addCanvasEvent(wi.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(wi.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(wi.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(wi.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(wi.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(wi.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(_e.GLOBAL_ACTION_ICON_CLICK,function(){s.spreadsheet.interaction.addIntercepts([Lr.HOVER]),s.spreadsheet.interaction.clearState()}),this.addDomEventListener(window,wi.CLICK,function(a){s.resetSheetStyle(a),s.isCanvasEffect=s.isMouseOnTheCanvasContainer(a)}),this.addDomEventListener(window,wi.KEY_DOWN,function(a){s.onKeyboardCopy(a),s.onKeyboardEsc(a),s.spreadsheet.emit(_e.GLOBAL_KEYBOARD_DOWN,a)}),this.addDomEventListener(window,wi.KEY_UP,function(a){s.spreadsheet.emit(_e.GLOBAL_KEYBOARD_UP,a)}),this.addDomEventListener(window,wi.MOUSE_UP,function(a){s.spreadsheet.emit(_e.GLOBAL_MOUSE_UP,a)}),this.addDomEventListener(window,wi.MOUSE_MOVE,function(a){s.spreadsheet.emit(_e.GLOBAL_MOUSE_MOVE,a)})},o.prototype.onKeyboardCopy=function(s){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&Cb(s.key,Vn.COPY)&&(s.metaKey||s.ctrlKey)){var a=Lb(this.spreadsheet);fi(a)||this.spreadsheet.emit(_e.GLOBAL_COPIED,a)}},o.prototype.onKeyboardEsc=function(s){this.isCanvasEffect&&Cb(s.key,Vn.ESC)&&this.resetSheetStyle(s)},o.prototype.resetSheetStyle=function(s){if(this.isAutoResetSheetStyle&&this.spreadsheet){var a=this.spreadsheet.interaction;if(a.hasIntercepts([Lr.BRUSH_SELECTION,Lr.COL_BRUSH_SELECTION,Lr.ROW_BRUSH_SELECTION]))return void a.removeIntercepts([Lr.BRUSH_SELECTION,Lr.ROW_BRUSH_SELECTION,Lr.COL_BRUSH_SELECTION]);this.isMouseOnTheTooltip(s)||this.isMouseOnTheCanvasContainer(s)||(this.spreadsheet.emit(_e.GLOBAL_RESET,s),a.reset())}},o.prototype.isMouseOnTheCanvasContainer=function(s){if(s instanceof MouseEvent){var a=this.spreadsheet.getCanvasElement();if(!a)return!1;var u=a.getBoundingClientRect()||{},h=u.x,v=u.y,g=this.getContainerRect(),y=g.width,w=g.height;return a.contains(s.target)&&s.clientX<=h+y&&s.clientY<=v+w}return!1},o.prototype.getContainerRect=function(){var s,a=(null===(s=this.spreadsheet.facet)||void 0===s?void 0:s.panelBBox)||{},h=a.maxY,v=this.spreadsheet.options,y=v.height;return{width:Math.min(v.width,a.maxX),height:Math.min(y,h)}},o.prototype.isMouseOnTheTooltip=function(s){var a,u,h,v;if(!w0(this.spreadsheet,s).showTooltip)return!1;var g=(null===(h=null===(u=null===(a=this.spreadsheet.tooltip)||void 0===a?void 0:a.container)||void 0===u?void 0:u.getBoundingClientRect)||void 0===h?void 0:h.call(u))||{},y=g.x,w=g.y,M=g.width,A=g.height;return s.target instanceof Node&&this.spreadsheet.tooltip.visible?function(o,s){for(var a=!1,u=s;u&&u!==document.body;){if(o===u){a=!0;break}u=u.parentElement}return a}(null===(v=this.spreadsheet.tooltip)||void 0===v?void 0:v.container,s.target):s instanceof MouseEvent&&s.clientX>=y&&s.clientX<=y+M&&s.clientY>=w&&s.clientY<=w+A},o.prototype.isResizeArea=function(s){return yr(s.target,"attrs.appendInfo")?.isResizeArea},o.prototype.activeResizeArea=function(s){this.resetResizeArea();var a=s.target;this.spreadsheet.store.set("activeResizeArea",a),a.attr(oa.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},o.prototype.resetResizeArea=function(){var s=this.spreadsheet.store.get("activeResizeArea");Ke(s)||s.attr(oa.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",s)},o.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([Lr.HOVER,Lr.BRUSH_SELECTION,Lr.ROW_BRUSH_SELECTION,Lr.COL_BRUSH_SELECTION])},o.prototype.clear=function(){this.unbindEvents()},o.prototype.unbindEvents=function(){this.clearAllEvents()},o.prototype.addCanvasEvent=function(s,a){var u;null===(u=this.canvasContainer)||void 0===u||u.on(s,a),this.canvasEventHandlers.push({type:s,handler:a})},o.prototype.addS2Event=function(s,a){this.spreadsheet.on(s,a),this.s2EventHandlers.push({type:s,handler:a})},o.prototype.addDomEventListener=function(s,a,u){if(s.addEventListener){var h=this.spreadsheet.options.interaction.eventListenerOptions;s.addEventListener(a,u,h),this.domEventListeners.push({target:s,type:a,handler:u,options:h})}else console.error("Please make sure ".concat(s," has addEventListener function"))},o.prototype.clearAllEvents=function(){var s=this;br(this.canvasEventHandlers,function(a){var u;null===(u=s.canvasContainer)||void 0===u||u.off(a.type,a.handler)}),br(this.s2EventHandlers,function(a){s.spreadsheet.off(a.type,a.handler)}),br(this.domEventListeners,function(a){a.target.removeEventListener(a.type,a.handler,a.options)}),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},o}(),KA=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.isRangeSelection=!1,a.handleColClick=function(u){u.stopPropagation();var h=a.spreadsheet.interaction,v=a.spreadsheet.getCell(u.target),g=v?.getMeta();if(!fi(g?.x)){h.addIntercepts([Lr.HOVER]);var y=[xo(v)],w=a.spreadsheet.store.get("lastClickedCell");if(a.isRangeSelection&&w&&w.cellType===v.cellType&&w.getMeta().level===v.getMeta().level){var M=Ae([a.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,a.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),A=M[0],L=M[1],O=kx(w.getMeta(),v.getMeta()),D=O.start,k=O.end;v instanceof _l?y=a.handleSeriesNumberRowSelected(D.rowIndex,k.rowIndex,v):v.cellType===Ue.ROW_CELL&&v.getMeta().level===A?y=a.handleRowSelected(D.rowIndex,k.rowIndex,v):v.cellType===Ue.COL_CELL&&v.getMeta().level===L&&(y=a.handleColSelected(D.colIndex,k.colIndex,v)),h.changeState({cells:y,stateName:pr.SELECTED})}else a.spreadsheet.store.set("lastClickedCell",v);var X=y.map(function(tt){return tt.id});h.updateCells(h.getRowColActiveCells(X)),a.spreadsheet.emit(_e.GLOBAL_SELECTED,h.getActiveCells())}},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp()},s.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([Lr.CLICK])},s.prototype.bindKeyboardDown=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_DOWN,function(u){u.key===Vn.SHIFT&&(a.isRangeSelection=!0,a.spreadsheet.interaction.addIntercepts([Lr.CLICK]))})},s.prototype.bindKeyboardUp=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_UP,function(u){u.key===Vn.SHIFT&&a.reset()})},s.prototype.bindColCellClick=function(){var a=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(_e.ROW_CELL_CLICK,function(u){a.handleColClick(u)}),this.spreadsheet.on(_e.COL_CELL_CLICK,function(u){a.handleColClick(u)})},s.prototype.bindDataCellClick=function(){var a=this;this.spreadsheet.on(_e.DATA_CELL_CLICK,function(u){u.stopPropagation();var h=a.spreadsheet.getCell(u.target),v=h.getMeta(),g=a.spreadsheet.interaction;if(v){var y=a.spreadsheet.store.get("lastClickedCell");if(!a.isRangeSelection||y?.cellType!==h.cellType)return void a.spreadsheet.store.set("lastClickedCell",h);var M=kx(y.getMeta(),h.getMeta()),A=M.start,L=M.end,O=Nc(A.colIndex,L.colIndex+1).flatMap(function(D){var k=a.spreadsheet.facet.layoutResult.colLeafNodes[D].id;return Nc(A.rowIndex,L.rowIndex+1).map(function(X){return{id:(a.spreadsheet.facet.getSeriesNumberWidth()||a.spreadsheet.isTableMode()?String(X):a.spreadsheet.facet.layoutResult.rowLeafNodes[X].id)+"-"+k,colIndex:D,rowIndex:X,type:h.cellType}})});g.addIntercepts([Lr.CLICK,Lr.HOVER]),g.changeState({cells:O,stateName:pr.SELECTED}),a.spreadsheet.showTooltipWithInfo(u,ch(a.spreadsheet)),a.spreadsheet.emit(_e.GLOBAL_SELECTED,g.getActiveCells())}})},s.prototype.handleSeriesNumberRowSelected=function(a,u,h){var v=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return Nc(a,u+1).map(function(g){return{id:String(g)+"-"+v,colIndex:0,rowIndex:g,type:h.cellType}})},s.prototype.handleRowSelected=function(a,u,h){return this.spreadsheet.facet.layoutResult.rowNodes.filter(function(v){return Gm(v.rowIndex,a,u+1)}).map(function(v){return{id:v.id,colIndex:v.colIndex,rowIndex:v.rowIndex,type:h.cellType}})},s.prototype.handleColSelected=function(a,u,h){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter(function(v){return Gm(v.colIndex,a,u+1)}).map(function(v){return{id:v.id,colIndex:v.colIndex,rowIndex:v.rowIndex,type:h.cellType}})},s}(To),dP=[Vn.ARROW_LEFT,Vn.ARROW_RIGHT,Vn.ARROW_UP,Vn.ARROW_DOWN],pP=function(o){function s(a){return o.call(this,a)||this}return Ir(s,o),s.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},s.prototype.bindEvents=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_DOWN,function(u){if(a.isCanvasEffect()){var h=u.shiftKey,v=u.metaKey,y=!1,w=!1,M=!1;dP.includes(u.key)&&(v&&h?(y=!1,w=!0,M=!1):v?(y=!0,w=!0,M=!0):h?(y=!1,w=!1,M=!1):(y=!0,w=!1,M=!0),a.handleMove({event:u,changeStartCell:y,isJumpMode:w,isSingleSelection:M}))}}),this.spreadsheet.on(_e.DATA_CELL_CLICK,function(u){var h=a.spreadsheet.getCell(u.target).getMeta();h&&(a.startCell=a.getCellMetaFromViewMeta(h),a.endCell=a.startCell)})},s.prototype.getCellMetaFromViewMeta=function(a){return{rowIndex:a.rowIndex,colIndex:a.colIndex,id:a.id,type:Ue.DATA_CELL}},s.prototype.handleMove=function(a){var h=a.changeStartCell,g=a.isSingleSelection,y=this,w=y.spreadsheet,M=y.startCell,O=this.getMoveInfo(a.event.key,h?M:y.endCell,a.isJumpMode);if(O){var D=Ae([O.row,O.col],2),k=D[0],X=D[1];this.scrollToActiveCell(w,k,X);var tt=this.generateCellMeta(w,k,X),ot=g?[tt]:this.getRangeCells(w,M,tt);(function(o,s){var a=o.interaction;a.changeState({stateName:pr.SELECTED,cells:s}),o.emit(_e.GLOBAL_SELECTED,a.getActiveCells())})(w,ot),h&&(this.startCell=tt),this.endCell=tt,this.spreadsheet.emit(_e.DATA_CELL_SELECT_MOVE,ot)}},s.prototype.generateCellMeta=function(a,u,h){var g=a.facet.layoutResult,y=g.colLeafNodes,w=g.rowLeafNodes,M=(0,a.isTableMode)()?String(u):w[u].id;return{rowIndex:u,colIndex:h,id:nv(M,y[h].id),type:Ue.DATA_CELL}},s.prototype.getRangeCells=function(a,u,h){for(var v=kx(u,h),g=v.start,w=g.colIndex,M=v.end,A=M.rowIndex,L=M.colIndex,O=[],D=g.rowIndex;D<=A;D++)for(var k=w;k<=L;k++)O.push(this.generateCellMeta(a,D,k));return O},s.prototype.getMoveInfo=function(a,u,h){var v=this.spreadsheet,g=v.options,y=g.frozenColCount,M=g.frozenRowCount,A=void 0===M?0:M,L=g.frozenTrailingColCount,D=g.frozenTrailingRowCount,k=void 0===D?0:D,X=v.facet.layoutResult,tt=X.rowLeafNodes,ft=Ae([0+(void 0===y?0:y),X.colLeafNodes.length-(void 0===L?0:L)-1],2),ht=ft[0],pt=ft[1],Wt=Ae([0+A,(v.isTableMode()?v.dataSet.getDisplayDataSet().length:tt.length)-k-1],2),de=Wt[0],pe=Wt[1];if(u)switch(a){case Vn.ARROW_RIGHT:return u.colIndex+1>pt?void 0:{row:u.rowIndex,col:h?pt:u.colIndex+1};case Vn.ARROW_LEFT:return u.colIndex-1<ht?void 0:{row:u.rowIndex,col:h?ht:u.colIndex-1};case Vn.ARROW_UP:return u.rowIndex-1<de?void 0:{row:h?de:u.rowIndex-1,col:u.colIndex};case Vn.ARROW_DOWN:return u.rowIndex+1>pe?void 0:{row:h?pe:u.rowIndex+1,col:u.colIndex}}},s.prototype.calculateOffset=function(a,u,h){var v=a.options,g=v.frozenRowCount,y=void 0===g?0:g,w=v.frozenTrailingRowCount,M=void 0===w?0:w,A=a.facet,L=a.frozenColGroup,O=a.frozenTrailingColGroup,D=a.frozenRowGroup,k=a.frozenTrailingRowGroup,X=A.layoutResult.colLeafNodes,tt=A.getScrollOffset(),ot=tt.scrollX,ft=tt.scrollY,ht=A.panelBBox,pt=ht.viewportHeight,Wt=ht.viewportWidth,de=yr(a,"theme.splitLine"),pe=L?Math.floor(L.getBBox().width-de.verticalBorderWidth/2):0,Me=O?Math.floor(O.getBBox().width):0,ze=D?Math.floor(D.getBBox().height-de.horizontalBorderWidth/2):0,Oe=k?Math.floor(k.getBBox().height):0,Ze=rx(ot,ft,A.viewCellWidths,A.viewCellHeights,{width:Wt-pe-Me,height:pt-ze-Oe,x:pe,y:ze},A.getRealScrollX(A.cornerBBox.width)),tr=-1,vr=-1,gr=X.find(function(Je){return Je.colIndex===h});return h<=Ze[0]?tr=gr.x-pe:h>=Ze[1]&&h<X.length-M&&(tr=gr.x+gr.width-Wt+Me),u<=Ze[2]?vr=A.viewCellHeights.getCellOffsetY(u-y):u>=Ze[3]&&(vr=A.viewCellHeights.getCellOffsetY(u+1)+Oe-pt),{offsetX:tr,offsetY:vr}},s.prototype.scrollToActiveCell=function(a,u,h){var v=this.calculateOffset(a,u,h),g=v.offsetX,y=v.offsetY,w=a.facet,M=a.facet.getScrollOffset();w.scrollWithAnimation({offsetX:{value:g>-1?g:M.scrollX},offsetY:{value:y>-1?y:M.scrollY}})},s}(To),r2=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.displayedCells=[],a.brushRangeCells=[],a.brushSelectionStage=In.UN_DRAGGED,a.brushSelectionMinimumMoveDistance=5,a.scrollAnimationComplete=!0,a.mouseMoveDistanceFromCanvas=0,a.setMoveDistanceFromCanvas=function(u,h,v){var g=0;if(h&&(g=u.x),v){var y=u.y;g=h?Math.max(y,g):y}a.mouseMoveDistanceFromCanvas=g},a.formatBrushPointForScroll=function(u,h){var v,g,y,w;void 0===h&&(h=!1);var L=a.spreadsheet.facet,O=h?L.cornerBBox:L.panelBBox,D=O.minX,k=O.maxX,X=L.panelBBox,tt=X.minY,ot=X.maxY,ft=(null===(v=a.endBrushPoint)||void 0===v?void 0:v.x)+u.x,ht=(null===(g=a.endBrushPoint)||void 0===g?void 0:g.y)+u.y,pt=!0,Wt=!0,de=null===(w=null===(y=L.vScrollBar)||void 0===y?void 0:y.getBBox())||void 0===w?void 0:w.width;return ft>k?ft=k-de-2:ft<D?ft=D+2:pt=!1,ht>ot?ht=ot-2:ht<=tt?ht=tt+2:Wt=!1,{x:{value:ft,needScroll:pt},y:{value:ht,needScroll:Wt}}},a.rectanglesIntersect=function(u,h){return u.maxX>h.minX&&u.minX<h.maxX&&u.minY<h.maxY&&u.maxY>h.minY},a.autoScrollIntervalId=null,a.autoScrollConfig=hm(lc),a.validateYIndex=function(u){var h,v,g=a.spreadsheet.facet,y=g.frozenGroupInfo,w=0,M=null===(h=y?.frozenRow)||void 0===h?void 0:h.range;if(M&&(w=M[1]+1),u<w)return null;var A=g.getCellRange().end,L=null===(v=y?.frozenTrailingRow)||void 0===v?void 0:v.range;return L&&(A=L[0]-1),u>A?null:u},a.validateXIndex=function(u){var h,v,g=a.spreadsheet.facet,y=g.frozenGroupInfo,w=0,M=null===(h=y?.frozenCol)||void 0===h?void 0:h.range;if(M&&(w=M[1]+1),u<w)return null;var A=g.layoutResult.colLeafNodes.length-1,L=null===(v=y?.frozenTrailingCol)||void 0===v?void 0:v.range;return L&&(A=L[0]-1),u>A?null:u},a.adjustNextColIndexWithFrozen=function(u,h){var v=a.spreadsheet,g=v.facet,w=v.options,M=v.dataSet.getDisplayDataSet().length,A=g.layoutResult.colLeafNodes.length,L=bs(w,A,M),O=L.frozenTrailingColCount,D=L.frozenColCount,k=g.panelScrollGroupIndexes;return O>0&&h===si.SCROLL_DOWN&&Du(u,O,A)?k[1]:D>0&&h===si.SCROLL_UP&&$o(u,D)?k[0]:u},a.adjustNextRowIndexWithFrozen=function(u,h){var v=a.spreadsheet,g=v.facet,w=v.options,M=v.dataSet.getDisplayDataSet().length,A=g.layoutResult.colLeafNodes.length,L=g.getCellRange(),O=bs(w,A,M),D=O.frozenTrailingRowCount,k=O.frozenRowCount,X=g.panelScrollGroupIndexes;return D>0&&h===si.SCROLL_DOWN&&Zf(u,L.end,D)?X[3]:k>0&&h===si.SCROLL_UP&&Zp(u,L.start,k)?X[2]:u},a.getWillScrollRowIndexDiff=function(u){return u===si.SCROLL_DOWN?Xh.SCROLL_DOWN:Xh.SCROLL_UP},a.getDefaultWillScrollToRowIndex=function(u){var v=a.adjustNextRowIndexWithFrozen(a.endBrushPoint.rowIndex,u)+a.getWillScrollRowIndexDiff(u);return a.validateYIndex(v)},a.getWillScrollToRowIndex=function(u){return a.getDefaultWillScrollToRowIndex(u)},a.getNextScrollDelta=function(u){var h=a.spreadsheet.facet.getScrollOffset(),v=h.scrollX,g=h.scrollY,y=0,w=0;if(u.y.scroll){var A=a.getWillScrollToRowIndex(M=u.y.value>0?si.SCROLL_DOWN:si.SCROLL_UP),L=oh(A,M,a.spreadsheet)-g;w=fi(A)||fi(L)||Number.isNaN(L)?0:L}if(u.x.scroll){var M,D=a.adjustNextColIndexWithFrozen(a.endBrushPoint.colIndex,M=u.x.value>0?si.SCROLL_DOWN:si.SCROLL_UP),k=a.validateXIndex(D+(u.x.value>0?1:-1));y=fi(k)?0:JD(k,M,a.spreadsheet)-v}return{x:y,y:w}},a.onScrollAnimationComplete=function(){a.scrollAnimationComplete=!0,a.brushSelectionStage!==In.UN_DRAGGED&&a.renderPrepareSelected(a.endBrushPoint)},a.autoScroll=function(u){if(void 0===u&&(u=!1),a.brushSelectionStage!==In.UN_DRAGGED&&a.scrollAnimationComplete){var h=a.autoScrollConfig,v=a.spreadsheet.facet.getScrollOffset(),g=u?"rowHeaderOffsetX":"offsetX",y={rowHeaderOffsetX:{value:v.rowHeaderScrollX,animate:!0},offsetX:{value:v.scrollX,animate:!0},offsetY:{value:v.scrollY,animate:!0}},w=a.getNextScrollDelta(h),M=w.x,A=w.y;if(0===A&&0===M)return void a.clearAutoScroll();if(h.y.scroll&&(y.offsetY.value+=A),h.x.scroll){var L=y[g];L.value+=M,L.value<0&&(L.value=0)}a.scrollAnimationComplete=!1;var O=3;h.x.scroll&&(O=1),a.spreadsheet.facet.scrollWithAnimation(y,Math.max(16,300-a.mouseMoveDistanceFromCanvas*O),a.onScrollAnimationComplete)}},a.handleScroll=I1(function(u,h,v){if(void 0===v&&(v=!1),a.brushSelectionStage!==In.UN_DRAGGED){var g=a.formatBrushPointForScroll({x:u,y:h},v),y=g.x,w=y.value,M=y.needScroll,A=g.y,L=A.value,O=A.needScroll,D=a.autoScrollConfig;O&&(D.y.value=h,D.y.scroll=!0),M&&(D.x.value=u,D.x.scroll=!0),a.setMoveDistanceFromCanvas({x:u,y:h},M,O),a.renderPrepareSelected({x:w,y:L}),(O||M)&&(a.clearAutoScroll(),a.autoScroll(v),a.autoScrollIntervalId=setInterval(function(){a.autoScroll(v)},16))}},30),a.clearAutoScroll=function(){a.autoScrollIntervalId&&(clearInterval(a.autoScrollIntervalId),a.autoScrollIntervalId=null,a.resetScrollDelta())},a.onUpdateCells=function(u,h){return h()},a.showPrepareSelectedCells=function(){a.brushRangeCells=a.getBrushRangeCells(),a.spreadsheet.interaction.changeState({cells:cn(a.brushRangeCells,function(u){return xo(u)}),stateName:pr.PREPARE_SELECT,force:!0,onUpdateCells:a.onUpdateCells})},a.renderPrepareSelected=function(u){var h=u.x,v=u.y,g=a.spreadsheet.container.getShape(h,v),y=a.spreadsheet.getCell(g);if(y&&(y instanceof _l||y instanceof qo||y instanceof ov)){var M=y.getMeta();a.endBrushPoint={x:h,y:v,rowIndex:M.rowIndex,colIndex:M.colIndex};var O=a.spreadsheet.interaction;O.addIntercepts([Lr.HOVER]),O.clearStyleIndependent(),a.isValidBrushSelection()&&(a.showPrepareSelectedCells(),a.updatePrepareSelectMask())}},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.getPrepareSelectMaskTheme=function(){var a;return null===(a=this.spreadsheet.theme)||void 0===a?void 0:a.prepareSelectMask},s.prototype.initPrepareSelectMaskShape=function(){var a=this.spreadsheet.foregroundGroup;if(a){a.removeChild(this.prepareSelectMaskShape);var u=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=a.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:u?.backgroundColor,fillOpacity:u?.backgroundOpacity,zIndex:5},capture:!1})}},s.prototype.setBrushSelectionStage=function(a){this.brushSelectionStage=a},s.prototype.isPointInCanvas=function(a){var u=this.spreadsheet.facet.getCanvasHW(),g=this.spreadsheet.facet.panelBBox;return a.x>g.minX&&a.x<u.width&&a.y>g.minY&&a.y<u.height},s.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(In.UN_DRAGGED)},s.prototype.isValidBrushSelection=function(){var a=this.getBrushRange(),u=a.start,h=a.end;return h.x-u.x>this.brushSelectionMinimumMoveDistance||h.y-u.y>this.brushSelectionMinimumMoveDistance},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},s.prototype.updatePrepareSelectMask=function(){var a=this.getBrushRange();this.prepareSelectMaskShape.attr({x:a.start.x,y:a.start.y,width:a.width,height:a.height}),this.prepareSelectMaskShape.show()},s.prototype.hidePrepareSelectMaskShape=function(){var a;null===(a=this.prepareSelectMaskShape)||void 0===a||a.hide()},s.prototype.resetScrollDelta=function(){this.autoScrollConfig=hm(lc)},s.prototype.getBrushPoint=function(a){var u=this.spreadsheet.facet.getScrollOffset(),h=u.scrollY,v=u.scrollX,g={x:a?.x,y:a?.y},w=this.spreadsheet.getCell(a.target).getMeta(),M=w.colIndex,A=w.rowIndex;return ue(ue({},g),{rowIndex:A,colIndex:M,scrollY:h,scrollX:v})},s.prototype.getBrushRange=function(){var a,u,h,v,g,y,w,M,A=this.spreadsheet.facet.getScrollOffset(),L=A.scrollX,O=A.scrollY,D=Math.min(this.startBrushPoint.rowIndex,null===(a=this.endBrushPoint)||void 0===a?void 0:a.rowIndex),k=Math.max(this.startBrushPoint.rowIndex,null===(u=this.endBrushPoint)||void 0===u?void 0:u.rowIndex),X=Math.min(this.startBrushPoint.colIndex,null===(h=this.endBrushPoint)||void 0===h?void 0:h.colIndex),tt=Math.max(this.startBrushPoint.colIndex,null===(v=this.endBrushPoint)||void 0===v?void 0:v.colIndex),ot=this.startBrushPoint.x+this.startBrushPoint.scrollX-L,ft=this.startBrushPoint.y+this.startBrushPoint.scrollY-O,ht=Math.min(ot,null===(g=this.endBrushPoint)||void 0===g?void 0:g.x),pt=Math.max(ot,null===(y=this.endBrushPoint)||void 0===y?void 0:y.x),Wt=Math.min(ft,null===(w=this.endBrushPoint)||void 0===w?void 0:w.y),de=Math.max(ft,null===(M=this.endBrushPoint)||void 0===M?void 0:M.y);return{start:{rowIndex:D,colIndex:X,x:ht,y:Wt},end:{rowIndex:k,colIndex:tt,x:pt,y:de},width:pt-ht,height:de-Wt}},s.prototype.getBrushRangeCells=function(){var a=this;return this.setDisplayedCells(),this.displayedCells.filter(function(u){var h=u.getMeta();return a.isInBrushRange(h)})},s.prototype.mouseDown=function(a){var u;null===(u=a?.preventDefault)||void 0===u||u.call(a),!this.spreadsheet.interaction.hasIntercepts([Lr.CLICK])&&(this.setBrushSelectionStage(In.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(a))},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Lr.BRUSH_SELECTION])},s.prototype.bindMouseUp=function(a){var u=this;void 0===a&&(a=!1),this.spreadsheet.on(_e.GLOBAL_MOUSE_UP,function(h){if(u.brushSelectionStage===In.DRAGGED){if(a&&u.clearAutoScroll(),u.isValidBrushSelection()){u.addBrushIntercepts(),u.updateSelectedCells();var v=ch(u.spreadsheet);u.spreadsheet.showTooltipWithInfo(h,v)}u.spreadsheet.interaction.getCurrentStateName()===pr.PREPARE_SELECT&&u.spreadsheet.interaction.reset(),u.resetDrag()}else u.resetDrag()}),this.spreadsheet.on(_e.GLOBAL_CONTEXT_MENU,function(){u.brushSelectionStage!==In.UN_DRAGGED&&(u.spreadsheet.interaction.removeIntercepts([Lr.HOVER]),u.resetDrag())})},s.prototype.autoBrushScroll=function(a,u){var h,v;if(void 0===u&&(u=!1),this.clearAutoScroll(),!this.isPointInCanvas(a)){var g=a?.x-(null===(h=this.endBrushPoint)||void 0===h?void 0:h.x),y=a?.y-(null===(v=this.endBrushPoint)||void 0===v?void 0:v.y);return this.handleScroll(g,y,u),!0}return!1},s.prototype.emitBrushSelectionEvent=function(a,u){this.spreadsheet.emit(a,u),this.spreadsheet.emit(_e.GLOBAL_SELECTED,u),Ke(u)&&this.spreadsheet.interaction.removeIntercepts([Lr.HOVER])},s.prototype.getVisibleBrushRangeCells=function(a){return this.brushRangeCells.find(function(u){return u.getMeta()?.id===a})},s.prototype.isInBrushRange=function(a){return!1},s.prototype.bindMouseDown=function(){},s.prototype.bindMouseMove=function(){},s.prototype.updateSelectedCells=function(){},s}(To),gP=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.displayedCells=[],a.brushRangeCells=[],a.getSelectedCellMetas=function(u){var h=[],v=a.spreadsheet.facet.layoutResult,g=v.rowLeafNodes,y=void 0===g?[]:g,w=v.colLeafNodes,M=void 0===w?[]:w,A=Nc(u.start.rowIndex,u.end.rowIndex+1),L=Nc(u.start.colIndex,u.end.colIndex+1);return A.forEach(function(O){L.forEach(function(D){var k=String(M[D].id),X=Ke(y)?String(O):String(y[O].id);h.push({colIndex:D,rowIndex:O,id:"".concat(X,"-").concat(k),type:Ue.DATA_CELL,rowId:X,colId:k,spreadsheet:a.spreadsheet})})}),h},a}return Ir(s,o),s.prototype.bindMouseDown=function(){var a=this;this.spreadsheet.on(_e.DATA_CELL_MOUSE_DOWN,function(u){o.prototype.mouseDown.call(a,u),a.resetScrollDelta()})},s.prototype.bindMouseMove=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_MOUSE_MOVE,function(u){if(a.brushSelectionStage!==In.UN_DRAGGED){a.setBrushSelectionStage(In.DRAGGED);var h=a.spreadsheet.container.getPointByEvent(u);a.autoBrushScroll(h)||a.renderPrepareSelected(h)}})},s.prototype.isInBrushRange=function(a){var u=this.getBrushRange(),h=u.start,v=u.end,g=a.rowIndex,y=a.colIndex;return g>=h.rowIndex&&g<=v.rowIndex&&y>=h.colIndex&&y<=v.colIndex},s.prototype.updateSelectedCells=function(){var a=this.getBrushRange(),u=this.getSelectedCellMetas(a);this.spreadsheet.interaction.changeState({cells:u,stateName:pr.SELECTED,onUpdateCells:zx});var h=this.getScrollBrushRangeCells(u);this.emitBrushSelectionEvent(_e.DATA_CELL_BRUSH_SELECTION,h)},s.prototype.getScrollBrushRangeCells=function(a){var u=this;return a.map(function(h){var v=u.getVisibleBrushRangeCells(h.id);if(v)return v;var g=u.spreadsheet.facet.layoutResult.getCellMeta(h.rowIndex,h.colIndex);return new _l(g,u.spreadsheet)})},s.prototype.bindMouseUp=function(){o.prototype.bindMouseUp.call(this,!0)},s}(r2),n2=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.displayedCells=[],a.brushRangeCells=[],a.onUpdateCells=function(u){return u.updateCells(u.getAllColHeaderCells())},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.bindMouseDown=function(){var a=this;this.spreadsheet.on(_e.COL_CELL_MOUSE_DOWN,function(u){o.prototype.mouseDown.call(a,u)})},s.prototype.isPointInCanvas=function(a){var u=this.spreadsheet.facet.getCanvasHW().width,h=this.spreadsheet.facet.cornerBBox;return a.x>=h.width&&a.x<=u&&a.y>=h.minY&&a.y<=h.maxY},s.prototype.bindMouseMove=function(){var a=this;this.spreadsheet.on(_e.COL_CELL_MOUSE_MOVE,function(u){if(a.brushSelectionStage!==In.UN_DRAGGED){a.setBrushSelectionStage(In.DRAGGED);var h=a.spreadsheet.container.getPointByEvent(u.originalEvent);a.isPointInCanvas(h)&&a.renderPrepareSelected(h)}})},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},s.prototype.isInBrushRange=function(a){var u=this.getBrushRange(),h=u.start,v=u.end,g=this.spreadsheet.facet.getScrollOffset().scrollX,y=this.spreadsheet.facet.cornerBBox,w=a.x,M=void 0===w?0:w,A=a.y,L=void 0===A?0:A,O=a.width,k=a.height;return this.rectanglesIntersect({minX:h.x-y.width+g,minY:h.y,maxX:v.x-y.width+g,maxY:v.y},{minX:M,maxX:M+(void 0===O?0:O),minY:L,maxY:L+(void 0===k?0:k)})},s.prototype.updateSelectedCells=function(){var a=this.spreadsheet.interaction;a.changeState({cells:cn(this.brushRangeCells,xo),stateName:pr.SELECTED,onUpdateCells:function(u){u.updateCells(u.getAllColHeaderCells())}}),this.spreadsheet.emit(_e.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(_e.GLOBAL_SELECTED,this.brushRangeCells),Ke(this.brushRangeCells)&&a.removeIntercepts([Lr.HOVER])},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Lr.COL_BRUSH_SELECTION])},s}(r2),i2=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.isInBrushRange=function(u){var h=a.getBrushRange(),v=h.start,g=h.end,y=a.spreadsheet.facet.getScrollOffset(),w=y.scrollY,M=y.rowHeaderScrollX,A=a.spreadsheet.facet.cornerBBox,L=u.x,O=void 0===L?0:L,D=u.y,k=void 0===D?0:D,X=u.width,ot=u.height;return a.rectanglesIntersect({minX:v.x+M,minY:v.y-A.height+w,maxX:g.x+M,maxY:g.y-A.height+w},{minX:O,maxX:O+(void 0===X?0:X),minY:k,maxY:k+(void 0===ot?0:ot)})},a.onUpdateCells=function(u){return u.updateCells(u.getAllRowHeaderCells())},a.getSelectedRowNodes=function(){return a.spreadsheet.getRowNodes().filter(a.isInBrushRange)},a.getVisibleRowLeafCellByScrollDirection=function(u){var h=a.spreadsheet.interaction.getAllRowHeaderCells();return u===si.SCROLL_DOWN?_n(h):h.find(function(v){return v.getMeta().isLeaf})},a.getWillScrollToRowIndex=function(u){var h,v;if(!fi(a.endBrushPoint.rowIndex))return a.getDefaultWillScrollToRowIndex(u);var w=(null!==(v=null===(h=a.getVisibleRowLeafCellByScrollDirection(u)?.getMeta())||void 0===h?void 0:h.rowIndex)&&void 0!==v?v:0)+a.getWillScrollRowIndexDiff(u);return a.validateYIndex(w)},a}return Ir(s,o),s.prototype.bindMouseDown=function(){var a=this;this.spreadsheet.on(_e.ROW_CELL_MOUSE_DOWN,function(u){o.prototype.mouseDown.call(a,u)})},s.prototype.isPointInCanvas=function(a){var u=this.spreadsheet.facet.getCanvasHW().height,h=this.spreadsheet.facet.cornerBBox;return a.x>=h.minX&&a.x<=h.maxX&&a.y>=h.height&&a.y<=u},s.prototype.bindMouseMove=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_MOUSE_MOVE,function(u){if(a.brushSelectionStage!==In.UN_DRAGGED){a.setBrushSelectionStage(In.DRAGGED);var h=a.spreadsheet.container.getPointByEvent(u);a.autoBrushScroll(h,!0)||a.renderPrepareSelected(h)}})},s.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},s.prototype.updateSelectedCells=function(){var a=this.getSelectedRowNodes(),u=this.getScrollBrushRangeCells(a),h=cn(u,xo);this.spreadsheet.interaction.changeState({cells:h,stateName:pr.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(_e.ROW_CELL_BRUSH_SELECTION,u)},s.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Lr.ROW_BRUSH_SELECTION])},s.prototype.getScrollBrushRangeCells=function(a){var u=this;return a.map(function(h){return u.getVisibleBrushRangeCells(h.id)||new qo(h,u.spreadsheet)})},s}(r2),yP=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.isMultiSelection=!1,a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp()},s.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Lr.CLICK])},s.prototype.bindKeyboardDown=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_DOWN,function(u){v0(u)&&(a.isMultiSelection=!0,a.spreadsheet.interaction.addIntercepts([Lr.CLICK]))})},s.prototype.bindKeyboardUp=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_KEYBOARD_UP,function(u){v0(u)&&a.reset()})},s.prototype.getSelectedCells=function(a){var u=a.getMeta().id,h=this.spreadsheet.interaction,v=h.getCells([Ue.DATA_CELL]);return h.getCurrentStateName()!==pr.SELECTED&&(v=[]),v.find(function(y){return y.id===u})?v.filter(function(y){return y.id!==u}):Be(Be([],Ae(v),!1),[xo(a)],!1)},s.prototype.bindDataCellClick=function(){var a=this;this.spreadsheet.on(_e.DATA_CELL_CLICK,function(u){u.stopPropagation();var h=a.spreadsheet.getCell(u.target),v=h.getMeta(),y=a.spreadsheet.interaction;if(a.isMultiSelection&&v){var w=a.getSelectedCells(h);if(Ke(w))return y.clearState(),void a.spreadsheet.hideTooltip();y.addIntercepts([Lr.CLICK,Lr.HOVER]),a.spreadsheet.hideTooltip(),y.changeState({cells:w,stateName:pr.SELECTED,onUpdateCells:zx}),a.spreadsheet.emit(_e.GLOBAL_SELECTED,y.getActiveCells()),a.spreadsheet.showTooltipWithInfo(u,ch(a.spreadsheet))}})},s}(To),mP=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.resizeStartPosition={},a.resizeMouseMove=function(u){var h,v;if(null!==(h=a.resizeReferenceGroup)&&void 0!==h&&h.get("visible")){null===(v=u?.preventDefault)||void 0===v||v.call(u);var g=u.originalEvent,y=a.getResizeInfo(),w=a.resizeReferenceGroup.getChildren()||[];if(!Ke(w)){var A=Ae(w,2)[1],L=Ae(Ic(A.attr("path")),2),O=L[0],D=L[1];y.type===Ni.Horizontal?a.updateHorizontalResizingEndGuideLinePosition(g,y,O,D):a.updateVerticalResizingEndGuideLinePosition(g,y,O,D),a.updateResizeGuideLineTheme(A),A.attr("path",[O,D])}}},a}return Ir(s,o),s.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},s.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var a=this.spreadsheet.options,u=a.width,h=a.height,v=this.getResizeAreaTheme(),M={path:"",lineDash:v.guideLineDash,stroke:v.guideLineColor,lineWidth:v.size};this.resizeReferenceGroup.addShape("path",{id:"RESIZE_START_GUIDE_LINE",attrs:M}),this.resizeReferenceGroup.addShape("path",{id:"RESIZE_END_GUIDE_LINE",attrs:M}),this.resizeReferenceGroup.addShape("rect",{id:"RESIZE_MASK",attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:u,height:h,fill:"transparent"}})}},s.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},s.prototype.setResizeTarget=function(a){this.resizeTarget=a},s.prototype.getGuideLineWidthAndHeight=function(){var a=this.spreadsheet.options,h=a.height,v=this.spreadsheet.facet.panelBBox,g=v.maxY;return{width:Math.min(v.maxX,a.width),height:Math.min(g,h)}},s.prototype.getResizeShapes=function(){var a;return(null===(a=this.resizeReferenceGroup)||void 0===a?void 0:a.get("children"))||[]},s.prototype.setResizeMaskCursor=function(a){Ae(this.getResizeShapes(),3)[2]?.attr("cursor",a)},s.prototype.updateResizeGuideLinePosition=function(a,u){var h=this.getResizeShapes();if(!Ke(h)){var v=Ae(h,2),g=v[0],y=v[1],w=u.type,M=u.offsetX,A=u.offsetY,L=u.width,O=u.height,D=this.getGuideLineWidthAndHeight(),k=D.width,X=D.height;if(this.setResizeMaskCursor("".concat(w,"-resize")),w===Ni.Horizontal)return g.attr("path",[["M",M,A],["L",M,X]]),y.attr("path",[["M",M+L,A],["L",M+L,X]]),void(this.resizeStartPosition.offsetX=a.offsetX);g.attr("path",[["M",M,A],["L",k,A]]),y.attr("path",[["M",M,A+O],["L",k,A+O]]),this.resizeStartPosition.offsetY=a.offsetY}},s.prototype.bindMouseDown=function(){var a=this;this.spreadsheet.on(_e.LAYOUT_RESIZE_MOUSE_DOWN,function(u){var h=u.target,v=u.originalEvent,g=a.getCellAppendInfo(u.target);a.spreadsheet.store.set("resized",!1),g?.isResizeArea&&(a.spreadsheet.interaction.reset(),a.spreadsheet.interaction.addIntercepts([Lr.RESIZE]),a.setResizeTarget(h),a.showResizeGroup(),a.updateResizeGuideLinePosition(v,g))})},s.prototype.bindMouseMove=function(){var a=this;this.spreadsheet.on(_e.LAYOUT_RESIZE_MOUSE_MOVE,function(u){I1(a.resizeMouseMove,33)(u)})},s.prototype.getResizeGuideLinePosition=function(){var a=Ae(this.resizeReferenceGroup.getChildren()||[],2),h=a[1],v=a[0]?.attr("path")||[],g=h?.attr("path")||[],y=Ae(v[0]||[],3),w=y[1],M=void 0===w?0:w,A=y[2],L=void 0===A?0:A,O=Ae(g[0]||[],3),D=O[1],X=O[2];return{start:{x:M,y:L},end:{x:void 0===D?0:D,y:void 0===X?0:X}}},s.prototype.getDisAllowResizeInfo=function(){var a,u=this.getResizeInfo(),h=this.spreadsheet.options.interaction.resize,v=u.width,g=u.height,y=u.resizedWidth,w=u.resizedHeight,M=null===(a=h?.disable)||void 0===a?void 0:a.call(h,u);return{displayWidth:M?v:y,displayHeight:M?g:w,isDisabled:M}},s.prototype.getResizeWidthDetail=function(){var a,u,h=this.getResizeInfo(),v=this.getDisAllowResizeInfo().displayWidth;switch(h.effect){case Hi.Field:return{eventType:_e.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(a={},a[h.id]=v,a)}}};case Hi.Tree:return{eventType:_e.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:v,rowCfg:{treeRowsWidth:v}}};case Hi.Cell:return{eventType:_e.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(u={},u[h.id]=v,u)}}};case Hi.Series:return{eventType:_e.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:v};default:return null}},s.prototype.getResizeHeightDetail=function(){var a,u,L,h=this.spreadsheet.options,v=h.interaction.resize,g=h.style.rowCfg.heightByField,y=this.spreadsheet.theme.rowCell.cell.padding,w=this.getResizeInfo(),M=this.getDisAllowResizeInfo().displayHeight,A=M-y.top-y.bottom;switch(w.effect){case Hi.Field:return{eventType:_e.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(a={},a[w.id]=M,a)}}};case Hi.Cell:return L=g?.[String(w.id)]||v?.rowResizeType===Zs.CURRENT?{rowCfg:{heightByField:(u={},u[w.id]=A,u)}}:{cellCfg:{height:A}},{eventType:_e.LAYOUT_RESIZE_ROW_HEIGHT,style:L};default:return null}},s.prototype.getResizeDetail=function(){return this.getResizeInfo().type===Ni.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},s.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},s.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},s.prototype.bindMouseUp=function(){var a=this;this.spreadsheet.on(_e.GLOBAL_MOUSE_UP,function(){var u;a.setResizeMaskCursor("default"),a.resizeReferenceGroup&&!Ke(null===(u=a.resizeReferenceGroup)||void 0===u?void 0:u.getChildren())&&(a.hideResizeGroup(),a.renderResizedResult())})},s.prototype.updateResizeGuideLineTheme=function(a){var u=this.getResizeAreaTheme(),h=u.guideLineColor,v=u.guideLineDisableColor,g=this.getDisAllowResizeInfo().isDisabled;a.attr("stroke",g?v:h),this.setResizeMaskCursor(g?"no-drop":"default")},s.prototype.updateHorizontalResizingEndGuideLinePosition=function(a,u,h,v){var g=a.offsetX-this.resizeStartPosition.offsetX;u.width+g<28&&(g=-(u.width-28));var y=u.offsetX+u.width+g;h[1]=y,v[1]=y,this.resizeTarget.attr({x:y-u.size/2})},s.prototype.updateVerticalResizingEndGuideLinePosition=function(a,u,h,v){var g=a.offsetY-this.resizeStartPosition.offsetY;u.height+g<16&&(g=-(u.height-16));var y=u.offsetY+u.height+g;h[2]=y,v[2]=y,this.resizeTarget.attr({y:y-u.size/2})},s.prototype.renderResizedResult=function(){var a=this.getResizeInfo(),u=this.getResizeDetail()||{},h=u.style,v=u.seriesNumberWidth,g=u.eventType,y={info:a,style:h};this.spreadsheet.emit(_e.LAYOUT_RESIZE,y),this.spreadsheet.emit(g,y),h&&this.spreadsheet.setOptions({style:h}),v&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:v}}),this.spreadsheet.store.set("resized",!0),this.render()},s.prototype.getResizeInfo=function(){var a=this.getCellAppendInfo(this.resizeTarget),u=this.getResizeGuideLinePosition(),h=u.start,v=u.end,g=Math.floor(v.x-h.x),y=Math.floor(v.y-h.y);return ue(ue({},a),{resizedWidth:g,resizedHeight:y})},s.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},s}(To),xP=function(){function o(s){var a=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){a.interactions.forEach(function(u){u.reset()})},this.selectAll=function(){a.changeState({stateName:pr.ALL_SELECTED})},this.getCellChildrenNodes=function(u){var h,v=null===(h=u?.getMeta)||void 0===h?void 0:h.call(u),g=u?.cellType===Ue.ROW_CELL;return a.spreadsheet.isHierarchyTreeType()&&g?bi.getAllLeaveNodes(v).filter(function(w){return w.rowIndex===v.rowIndex}):bi.getAllChildrenNodes(v)},this.selectHeaderCell=function(u){var h;void 0===u&&(u={});var v=u.cell;if(!Ke(v)){var g=null===(h=v?.getMeta)||void 0===h?void 0:h.call(v);if(g&&!fi(g?.x)){a.addIntercepts([Lr.HOVER]);var y=a.spreadsheet.isHierarchyTreeType(),w=v?.cellType===Ue.COL_CELL,M=a.getState(),A=a.isSelectedCell(v),L=u?.isMultiSelection&&a.isSelectedState(),O=A?[]:a.getCellChildrenNodes(v),D=A?[]:[xo(v)];if(L&&(D=xu(M?.cells,D),O=xu(M?.nodes,O),A&&(D=D.filter(function(tt){return tt.id!==g.id}),O=O.filter(function(tt){return!tt?.id.includes(g.id)}))),Ke(D))return a.reset(),void a.spreadsheet.emit(_e.GLOBAL_SELECTED,a.getActiveCells());var k=O.filter(function(tt){return tt?.isLeaf});a.changeState({cells:D,nodes:k,stateName:pr.SELECTED});var X=D.map(function(tt){return tt.id});return a.updateCells(a.getRowColActiveCells(X)),(!y||w)&&a.highlightNodes(O),a.spreadsheet.emit(_e.GLOBAL_SELECTED,a.getActiveCells()),!0}}},this.highlightNodes=function(u){void 0===u&&(u=[]),u.forEach(function(h){var v;null===(v=h?.belongsCell)||void 0===v||v.updateByState(pr.SELECTED,h.belongsCell)})},this.mergeCells=function(u,h){TD(a.spreadsheet,u,h)},this.unmergeCell=function(u){bD(a.spreadsheet,u)},this.spreadsheet=s,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return o.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},o.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},o.prototype.setState=function(s){!function(o,s){var a=s?.stateName;o.interaction.isEqualStateName(a)||(lA(o),o.hideTooltip(),o.store.set(oc,s))}(this.spreadsheet,s)},o.prototype.getState=function(){return this.spreadsheet.store.get(oc)||this.defaultState},o.prototype.setInteractedCells=function(s){var a=this.getInteractedCells().concat([s]),u=this.getState();u.interactedCells=a,this.setState(u)},o.prototype.getInteractedCells=function(){return this.getState()?.interactedCells||[]},o.prototype.resetState=function(){this.spreadsheet.store.set(oc,this.defaultState)},o.prototype.getCurrentStateName=function(){return this.getState().stateName},o.prototype.isEqualStateName=function(s){return this.getCurrentStateName()===s},o.prototype.isStateOf=function(s){return this.getState()?.stateName===s},o.prototype.isSelectedState=function(){return this.isStateOf(pr.SELECTED)},o.prototype.isAllSelectedState=function(){return this.isStateOf(pr.ALL_SELECTED)},o.prototype.isHoverFocusState=function(){return this.isStateOf(pr.HOVER_FOCUS)},o.prototype.isHoverState=function(){return this.isStateOf(pr.HOVER)},o.prototype.isActiveCell=function(s){return!!this.getCells().find(function(a){return s.getMeta().id===a.id})},o.prototype.isSelectedCell=function(s){return this.isSelectedState()&&this.isActiveCell(s)},o.prototype.getCells=function(s){var u=this.getState()?.cells||[];return fi(s)?u:u.filter(function(h){return s.includes(h.type)})},o.prototype.getActiveCells=function(){var s=this.getCells().map(function(u){return u.id}),a=this.getAllCells();return cn(s,function(u){return ai(a,function(h){var v;return(null===(v=h?.getMeta())||void 0===v?void 0:v.id)===u})}).filter(function(u){return u})},o.prototype.clearStyleIndependent=function(){!this.isSelectedState()&&!this.isHoverState()&&!this.isAllSelectedState()||this.getPanelGroupAllDataCells().forEach(function(s){s.hideInteractionShape()})},o.prototype.getPanelGroupAllUnSelectedDataCells=function(){var s=this;return this.getPanelGroupAllDataCells().filter(function(a){return!s.isActiveCell(a)})},o.prototype.getPanelGroupAllDataCells=function(){var s;return gv(null===(s=this.spreadsheet.panelGroup)||void 0===s?void 0:s.getChildren(),_l)},o.prototype.getAllRowHeaderCells=function(){var s,a,v=(null===(a=((null===(s=this.spreadsheet.foregroundGroup)||void 0===s?void 0:s.getChildren())||[]).find(function(g){return g instanceof WA})?.cfg)||void 0===a?void 0:a.children)||[];return gv(v,qo).filter(function(g){return g.cellType===Ue.ROW_CELL})},o.prototype.getAllColHeaderCells=function(){var s,a,v=(null===(a=((null===(s=this.spreadsheet.foregroundGroup)||void 0===s?void 0:s.getChildren())||[]).find(function(g){return g instanceof e2})?.cfg)||void 0===a?void 0:a.children)||[];return gv(v,ov).filter(function(g){return g.cellType===Ue.COL_CELL})},o.prototype.getRowColActiveCells=function(s){return xu(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter(function(a){return s.includes(a.getMeta().id)})},o.prototype.getAllCells=function(){return xu(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},o.prototype.hideColumns=function(s,a){void 0===s&&(s=[]),void 0===a&&(a=!0),bx(this.spreadsheet,s,a)},o.prototype.getBrushSelectionInfo=function(s){var a,u,h;return hl(s)?{dataBrushSelection:s,rowBrushSelection:s,colBrushSelection:s}:{dataBrushSelection:null!==(a=s?.data)&&void 0!==a&&a,rowBrushSelection:null!==(u=s?.row)&&void 0!==u&&u,colBrushSelection:null!==(h=s?.col)&&void 0!==h&&h}},o.prototype.getDefaultInteractions=function(){var s=this.spreadsheet.options.interaction,a=s.resize,h=s.multiSelection,v=s.rangeSelection,g=s.selectedCellMove,y=this.getBrushSelectionInfo(s.brushSelection),w=y.dataBrushSelection,M=y.rowBrushSelection,A=y.colBrushSelection;return[{key:Ri.CORNER_CELL_CLICK,interaction:hP},{key:Ri.DATA_CELL_CLICK,interaction:sP},{key:Ri.ROW_COLUMN_CLICK,interaction:uP},{key:Ri.ROW_TEXT_CLICK,interaction:cP},{key:Ri.MERGED_CELLS_CLICK,interaction:lP},{key:Ri.HOVER,interaction:fP,enable:!Wn()},{key:Ri.BRUSH_SELECTION,interaction:gP,enable:!Wn()&&w},{key:Ri.ROW_BRUSH_SELECTION,interaction:i2,enable:!Wn()&&M},{key:Ri.COL_BRUSH_SELECTION,interaction:n2,enable:!Wn()&&A},{key:Ri.COL_ROW_RESIZE,interaction:mP,enable:!Wn()&&a},{key:Ri.DATA_CELL_MULTI_SELECTION,interaction:yP,enable:!Wn()&&h},{key:Ri.RANGE_SELECTION,interaction:KA,enable:!Wn()&&v},{key:Ri.SELECTED_CELL_MOVE,interaction:pP,enable:!Wn()&&g}]},o.prototype.registerInteractions=function(){var s=this,a=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear(),this.getDefaultInteractions().forEach(function(h){!1!==h.enable&&s.interactions.set(h.key,new(0,h.interaction)(s.spreadsheet))}),Ke(a)||br(a,function(h){s.interactions.set(h.key,new(0,h.interaction)(s.spreadsheet))})},o.prototype.registerEventController=function(){this.eventController=new vP(this.spreadsheet)},o.prototype.draw=function(){this.spreadsheet.container.draw()},o.prototype.clearState=function(){lA(this.spreadsheet)&&this.draw()},o.prototype.changeState=function(s){var a=this,u=this.spreadsheet.interaction,h=s.cells,g=s.force,y=s.stateName,w=s.onUpdateCells;if(Ke(void 0===h?[]:h)&&y===pr.SELECTED)g&&u.changeState({cells:[],stateName:pr.UNSELECTED});else{this.getCurrentStateName()===pr.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(s);var M=function(){a.updatePanelGroupAllDataCells()};w?w(this,M):M(),this.draw()}},o.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},o.prototype.updateCells=function(s){void 0===s&&(s=[]),s.forEach(function(a){a.update()})},o.prototype.addIntercepts=function(s){var a=this;void 0===s&&(s=[]),s.forEach(function(u){a.intercepts.add(u)})},o.prototype.hasIntercepts=function(s){var a=this;return void 0===s&&(s=[]),s.some(function(u){return a.intercepts.has(u)})},o.prototype.removeIntercepts=function(s){var a=this;void 0===s&&(s=[]),s.forEach(function(u){a.intercepts.delete(u)})},o.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},o.prototype.setHoverTimer=function(s){this.hoverTimer=s},o.prototype.getHoverTimer=function(){return this.hoverTimer},o.prototype.getSelectedCellHighlight=function(){var s=this.spreadsheet.options.interaction.selectedCellHighlight;if(hl(s))return{rowHeader:s,colHeader:s,currentRow:!1,currentCol:!1};var a=s??{},u=a.rowHeader,v=a.colHeader,y=a.currentRow,M=a.currentCol;return{rowHeader:void 0!==u&&u,colHeader:void 0!==v&&v,currentRow:void 0!==y&&y,currentCol:void 0!==M&&M}},o}(),A0=function(){function o(s){var a=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){a.initDevicePixelRatioListener(),a.initDeviceZoomListener()},this.destroy=function(){a.removeDevicePixelRatioListener(),a.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var u;null!==(u=a.devicePixelRatioMedia)&&void 0!==u&&u.removeEventListener?a.devicePixelRatioMedia.removeEventListener("change",a.renderByDevicePixelRatioChanged):a.devicePixelRatioMedia.removeListener(a.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var u,h;Wn()||null===(h=null===(u=a.viewport)||void 0===u?void 0:u.visualViewport)||void 0===h||h.addEventListener("resize",a.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var u,h;Wn()||null===(h=null===(u=a.viewport)||void 0===u?void 0:u.visualViewport)||void 0===h||h.removeEventListener("resize",a.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(u){a.isDevicePixelRatioChange=!1,a.renderByZoomScale(u)},this.renderByDevicePixelRatioChanged=function(){a.isDevicePixelRatioChange=!0,a.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(u){void 0===u&&(u=window.devicePixelRatio);var h=a.spreadsheet,v=h.container,g=h.options,y=g.width,w=g.height,M=g.devicePixelRatio,A=a.spreadsheet.getCanvasElement();if(v.get("pixelRatio")!==u&&A){var O=Math.max(u,M,hs);v.set("pixelRatio",O),v.changeSize(y,w),a.spreadsheet.render(!1)}},this.renderByZoomScale=ms(function(u){var h=Math.ceil(u.target.scale);h>=1&&!a.isDevicePixelRatioChange&&a.renderByDevicePixelRatio(h)},350),this.spreadsheet=s}return o.prototype.initDevicePixelRatioListener=function(){var s;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),null!==(s=this.devicePixelRatioMedia)&&void 0!==s&&s.addEventListener?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},o}(),QA=function(){function o(s){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=s}return o.prototype.show=function(s){var a,u,h,v=s.position,y=s.content,w=s.event,M=function(o){return ue({operator:{onClick:ey,menus:[]},enterable:!0,enableFormat:!0},o)}(s.options).enterable,A=this.spreadsheet.options.tooltip||{},L=A.autoAdjustBoundary,O=A.adjustPosition;this.visible=!0,this.options=s;var D=this.getContainer();this.renderContent(y);var k=function(o){var s=o.spreadsheet,a=o.position,u=o.tooltipContainer,h=o.autoAdjustBoundary,v=s.getCanvasElement(),g=a.x+NT_x,y=a.y+10;if(!h||!v)return{x:g,y};var w="body"===h,M=s.facet.panelBBox,A=M.maxX,L=M.maxY,O=s.options,D=O.width,k=O.height,X=v.getBoundingClientRect(),tt=X.top,ot=X.left,ft=u.getBoundingClientRect(),ht=ft.width,pt=ft.height,Wt=document.body.getBoundingClientRect(),pe=Wt.height,Me=w?Wt.width:Math.min(D,A)+ot,ze=w?pe:Math.min(k,L)+tt;return g+ht>=Me&&(g=Me-ht),y+pt>=ze&&(y=ze-pt),{x:g,y}}({spreadsheet:this.spreadsheet,position:v,tooltipContainer:D,autoAdjustBoundary:L}),X=k.x,tt=k.y;this.position=null!==(a=O?.({position:{x:X,y:tt},event:w}))&&void 0!==a?a:{x:X,y:tt},m0(D,{style:{left:"".concat(null===(u=this.position)||void 0===u?void 0:u.x,"px"),top:"".concat(null===(h=this.position)||void 0===h?void 0:h.y,"px"),pointerEvents:M?"all":"none"},visible:!0})},o.prototype.hide=function(){this.visible=!1,this.container&&(m0(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},o.prototype.destroy=function(){var s,a;this.visible=!1,this.container&&(this.resetPosition(),null===(a=(s=this.container).remove)||void 0===a||a.call(s),this.container=null)},o.prototype.renderContent=function(s){if(this.container){this.clearContent();var u=s??(this.spreadsheet.options.tooltip||{}).content;if(!fi(u)){if("string"==typeof u)return void(this.container.innerHTML=u);u instanceof Element&&this.container.appendChild(u)}}},o.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},o.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&m0(this.container,{style:{pointerEvents:"none"}})},o.prototype.resetPosition=function(){this.position={x:0,y:0}},o.prototype.getContainer=function(){var s;if(!this.container){var a=this.spreadsheet.options.tooltip,u=(null===(s=a.getContainer)||void 0===s?void 0:s.call(a))||document.body,h=document.createElement("div");return m0(h,{style:a.style,className:[Z1].concat(a.className)}),u.appendChild(h),this.container=h,this.container}return this.container},o}(),JA=function(o){function s(a,u,h){var v=o.call(this)||this;return v.store=new b8,v.untypedOn=v.on,v.untypedEmit=v.emit,v.on=function(g,y){return v.untypedOn(g,y)},v.emit=function(g){for(var y=[],w=1;w<arguments.length;w++)y[w-1]=arguments[w];return v.untypedEmit.apply(v,Be([g],Ae(y),!1))},v.initHiddenColumnsDetail=function(){var g=v.options.interaction.hiddenColumnFields,y=v.store.get("hiddenColumnsDetail");Ke(g)&&Ke(y)||bx(v,g,!0)},v.measureText=ou(function(g,y){var w;if(void 0===g&&(g=""),!y)return null;var M=null===(w=v.getCanvasElement())||void 0===w?void 0:w.getContext("2d"),O=y.fontFamily;return M.font=[y.fontStyle,y.fontVariant,y.fontWeight,"".concat(y.fontSize,"px"),O].join(" ").trim(),M.measureText(String(g))},function(g,y){return Be([g],Ae(Uo(y)),!1).join("")}),v.measureTextWidth=function(g,y){return void 0===g&&(g=""),v.measureText(g,y)?.width||0},v.measureTextHeight=function(g,y){void 0===g&&(g="");var w=v.measureText(g,y);return w?w.actualBoundingBoxAscent+w.actualBoundingBoxDescent:0},v.measureTextWidthRoughly=function(g,y){var w,M;void 0===y&&(y={});var A=v.measureTextWidth("a",y),L=v.measureTextWidth("\u8682",y),O=0;if(!g)return O;try{for(var D=Ma(g),k=D.next();!k.done;k=D.next()){var tt=k.value.charCodeAt(0);O+=tt>=0&&tt<=255?A:L}}catch(ot){w={error:ot}}finally{try{k&&!k.done&&(M=D.return)&&M.call(D)}finally{if(w)throw w.error}}return O},v.dataCfg=Nx(u),v.options=uA(h),v.dataSet=v.getDataSet(v.options),v.setDebug(),v.initTooltip(),v.initGroups(a),v.bindEvents(),v.initInteraction(),v.initTheme(),v.initHdAdapter(),v.registerIcons(),v.setOverscrollBehavior(),v}return Ir(s,o),s.prototype.setOverscrollBehavior=function(){var a=this.options.interaction.overscrollBehavior,u=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior");u&&"auto"!==u?this.store.set("initOverscrollBehavior",u):a&&(document.body.style.overscrollBehavior=a)},s.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},s.prototype.setDebug=function(){Ts.getInstance().setDebug(this.options.debug)},s.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},s.prototype.getMountContainer=function(a){var u=Mu(a)?document.querySelector(a):a;if(!u)throw new Error("Target mount container is not a DOM element");return u},s.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new A0(this),this.hdAdapter.init())},s.prototype.initInteraction=function(){this.interaction=new xP(this)},s.prototype.initTooltip=function(){var a,u;this.tooltip=this.renderTooltip(),this.tooltip instanceof QA||console.warn("[Custom Tooltip]: ".concat(null===(u=null===(a=this.tooltip)||void 0===a?void 0:a.constructor)||void 0===u?void 0:u.toString()," should be extends from BaseTooltip"))},s.prototype.renderTooltip=function(){var a,u;return(null===(u=null===(a=this.options.tooltip)||void 0===a?void 0:a.renderTooltip)||void 0===u?void 0:u.call(a,this))||new QA(this)},s.prototype.showTooltip=function(a){var u,h,v=a.content,y=this.getCell(a.event?.target),w=ci(v)?v(y,a):v;null===(h=(u=this.tooltip).show)||void 0===h||h.call(u,ue(ue({},a),{content:w}))},s.prototype.showTooltipWithInfo=function(a,u,h){var v,g=w0(this,a),w=g.content;if(g.showTooltip){var M=this.getCell(a?.target),A=null!==(v=h?.data)&&void 0!==v?v:RA({spreadsheet:this,cellInfos:u,targetCell:M,options:ue({enableFormat:!0},h)});this.showTooltip({data:A,position:{x:a.clientX,y:a.clientY},options:ue({enterable:!0},h),event:a,content:w})}},s.prototype.hideTooltip=function(){var a,u;null===(u=(a=this.tooltip).hide)||void 0===u||u.call(a)},s.prototype.destroyTooltip=function(){var a,u;null===(u=(a=this.tooltip).destroy)||void 0===u||u.call(a)},s.prototype.registerIcons=function(){var a=this.options.customSVGIcons;Ke(a)||br(a,function(u){eb(u.name,u.svg)})},s.prototype.setDataCfg=function(a,u){this.store.set("originalDataCfg",a),this.dataCfg=u?Nx(a):Nx(this.dataCfg,a),function(o){o.store.set(Uh,xd)}(this)},s.prototype.setOptions=function(a,u){this.hideTooltip(),this.options=u?uA(a):Is(this.options,a),this.registerIcons()},s.prototype.render=function(a,u){if(void 0===a&&(a=!0),void 0===u&&(u={}),this.getCanvasElement()){var h=u.reBuildDataSet,v=void 0!==h&&h,g=u.reBuildHiddenColumnsDetail,y=void 0===g||g;this.emit(_e.LAYOUT_BEFORE_RENDER),v&&(this.dataSet=this.getDataSet(this.options)),a&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),y&&this.initHiddenColumnsDetail(),this.emit(_e.LAYOUT_AFTER_RENDER)}},s.prototype.destroy=function(){var a,u,h,v,g;this.restoreOverscrollBehavior(),this.emit(_e.LAYOUT_DESTROY),null===(a=this.facet)||void 0===a||a.destroy(),null===(u=this.hdAdapter)||void 0===u||u.destroy(),null===(h=this.interaction)||void 0===h||h.destroy(),null===(v=this.store)||void 0===v||v.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(g=this.container)||void 0===g||g.destroy(),function(){var o;null===(o=document.getElementById(px))||void 0===o||o.remove()}()},s.prototype.setThemeCfg=function(a){void 0===a&&(a={});var u=a?.theme||{},h=function(o){var s,a,u,h,v,g=o?.palette||function(o){return kT[(o||"default").toLowerCase()]}(o?.name),y=g.basicColors,w=g.semanticColors,M=g.others,A=null===(s=o?.spreadsheet)||void 0===s?void 0:s.isTableMode(),L=function GT(){return/windows/i.test(navigator.userAgent)}()?"bold":700,O=function(){var D,k;return{bolderText:{fontFamily:Ja,fontSize:12,fontWeight:L,fill:y[13],opacity:1,textAlign:"right",textBaseline:"middle"},text:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[13],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{crossBackgroundColor:y[1],backgroundColor:y[8],backgroundColorOpacity:1,horizontalBorderColor:y[9],horizontalBorderColorOpacity:1,verticalBorderColor:y[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:y[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:y[2],backgroundOpacity:.6,borderColor:y[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:y[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(D=M?.results)&&void 0!==D?D:y[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(k=M?.highlight)&&void 0!==k?k:y[6],backgroundOpacity:1},prepareSelect:{borderColor:y[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:y[6],opacity:1},linkLine:{size:1.5,fill:y[6],opacity:.6}},bar:{intervalPadding:4,fill:y[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:y[13],opacity:.25},rangeColors:{good:w?.green,satisfactory:w.yellow,bad:w.red},backgroundColor:"#E9E9E9"},interval:{height:12,fill:y[7]}},icon:{fill:y[13],downIconColor:w.red,upIconColor:w.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:Ja,fontSize:12,fontWeight:L,fill:y[0],opacity:1,textAlign:A?"center":"left",textBaseline:"middle"},text:{fontFamily:Ja,fontSize:12,fontWeight:L,fill:y[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:y[3],backgroundColorOpacity:1,horizontalBorderColor:y[10],horizontalBorderColorOpacity:1,verticalBorderColor:y[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:y[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[14],linkTextFill:y[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[14],linkTextFill:y[6],opacity:1,textAlign:A?"center":"left",textBaseline:"top"},bolderText:{fontFamily:Ja,fontSize:12,fontWeight:L,fill:y[14],linkTextFill:y[6],opacity:1,textAlign:A?"center":"left",textBaseline:"top"},text:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[14],linkTextFill:y[6],opacity:1,textBaseline:"top",textAlign:A?"center":"left"},cell:{backgroundColor:y[1],backgroundColorOpacity:1,horizontalBorderColor:y[9],horizontalBorderColorOpacity:1,verticalBorderColor:y[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:y[2],backgroundOpacity:.6},selected:{backgroundColor:y[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:y[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(a=M?.results)&&void 0!==a?a:y[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(u=M?.highlight)&&void 0!==u?u:y[6],backgroundOpacity:1}}},icon:{fill:y[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:Ja,fontSize:12,fontWeight:L,fill:y[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:Ja,fontSize:12,fontWeight:"normal",fill:y[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:y[3],backgroundColorOpacity:1,horizontalBorderColor:y[10],horizontalBorderColorOpacity:1,verticalBorderColor:y[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:y[4],backgroundOpacity:.6},selected:{backgroundColor:y[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:y[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(h=M?.results)&&void 0!==h?h:y[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(v=M?.highlight)&&void 0!==v?v:y[6],backgroundOpacity:1}}},icon:{fill:y[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:O(),mergedCell:O(),resizeArea:{size:3,background:y[7],backgroundOpacity:0,guideLineColor:y[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:y[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:Wn()?3:6,hoverSize:Wn()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:y[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:y[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:y[5],backgroundOpacity:.3},background:{color:y[8],opacity:1}}}(ue(ue({},a),{spreadsheet:this}));this.theme=Is(h,u)},s.prototype.setTheme=function(a){this.theme=Is(this.theme,a)},s.prototype.updatePagination=function(a){this.options=Is(this.options,{pagination:a}),this.store.set("scrollX",0),this.store.set("scrollY",0)},s.prototype.getContentHeight=function(){return this.facet.getContentHeight()},s.prototype.changeSize=function(a,u){void 0===a&&(a=this.options.width),void 0===u&&(u=this.options.height),this.changeSheetSize(a,u)},s.prototype.changeSheetSize=function(a,u){void 0===a&&(a=this.options.width),void 0===u&&(u=this.options.height);var h=this.getCanvasElement(),v=this.container.get("width"),g=this.container.get("height");a===v&&u===g||!h||(this.options=Is(this.options,{width:a,height:u}),this.container.changeSize(a,u))},s.prototype.getCanvasElement=function(){return this.container.get("el")},s.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},s.prototype.getRowNodes=function(a){return void 0===a&&(a=-1),-1===a?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter(function(u){return u.level===a})},s.prototype.getRowLeafNodes=function(){var a;return(null===(a=this.facet)||void 0===a?void 0:a.layoutResult.rowLeafNodes)||[]},s.prototype.getColumnNodes=function(a){var u;void 0===a&&(a=-1);var h=(null===(u=this.facet)||void 0===u?void 0:u.layoutResult.colNodes)||[];return-1===a?h:h.filter(function(v){return v.level===a})},s.prototype.getColumnLeafNodes=function(){var a;return(null===(a=this.facet)||void 0===a?void 0:a.layoutResult.colLeafNodes)||[]},s.prototype.updateScrollOffset=function(a){this.facet.updateScrollOffset(Is({offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}},a))},s.prototype.getTooltipDataItemMappingCallback=function(){var a;return null===(a=this.options)||void 0===a?void 0:a.mappingDisplayDataItem},s.prototype.getCell=function(a){for(var u,h=a;h&&!(h instanceof e3);){if(h instanceof to)return h;h=null===(u=h.get)||void 0===u?void 0:u.call(h,"parent")}return null},s.prototype.getCellType=function(a){return this.getCell(a)?.cellType},s.prototype.getTotalsConfig=function(a){var v=yr(this.options.totals,pa(this.dataSet.fields.rows,a)?"row":"col",{});return{showSubTotals:!(!v.showSubTotals||!pa(v.subTotalsDimensions,a))&&v.showSubTotals,showGrandTotals:v.showGrandTotals,reverseLayout:v.reverseLayout,reverseSubLayout:v.reverseSubLayout,label:v.label||gi("\u603b\u8ba1"),subLabel:v.subLabel||gi("\u5c0f\u8ba1")}},s.prototype.initGroups=function(a){var u=this.options,h=u.width,v=u.height,g=u.supportCSSTransform,y=u.devicePixelRatio;this.container=new e3({container:this.getMountContainer(a),width:h,height:v,localRefresh:!1,supportCSSTransform:g,pixelRatio:Math.max(y,hs)}),this.backgroundGroup=this.container.addGroup({name:"backGroundGroup",zIndex:0}),this.panelGroup=this.container.addGroup({name:"panelGroup",zIndex:1}),this.foregroundGroup=this.container.addGroup({name:"foreGroundGroup",zIndex:3}),this.initPanelGroupChildren(),this.updateContainerStyle()},s.prototype.updateContainerStyle=function(){var a=this.getCanvasElement();a&&(a.style.display="block")},s.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new oP({name:"panelScrollGroup",zIndex:1,s2:this}),this.panelGroup.add(this.panelScrollGroup)},s.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},s.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},s.prototype.clearCanvasEvent=function(){var a=this;VS(this.getEvents(),function(h,v){a.off(v)})},s.prototype.updateSortMethodMap=function(a,u,h){var v;void 0===h&&(h=!1);var g=h?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",ue(ue({},g),((v={})[a]=u,v)))},s.prototype.getMenuDefaultSelectedKeys=function(a){var h=yr(this.store.get("sortMethodMap"),a);return h?[h]:[]},s}(lr),jA=(function(o){function s(){return null!==o&&o.apply(this,arguments)||this}Ir(s,o),s.prototype.getDataSet=function(a){var u=a.dataSet,h=a.hierarchyType;return u?u(this):"customTree"===h?new Qx(this):new hh(this)},s.prototype.isPivotMode=function(){return!0},s.prototype.isTableMode=function(){return!1},s.prototype.isHierarchyTreeType=function(){var a=this.options.hierarchyType;return"tree"===a||"customTree"===a},s.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},s.prototype.isFrozenRowHeader=function(){var a;return null===(a=this.options)||void 0===a?void 0:a.frozenRowHeader},s.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},s.prototype.clearDrillDownData=function(a,u){this.dataSet instanceof hh&&(this.dataSet.clearDrillDownData(a),u||(this.interaction.reset(),this.render(!1)))},s.prototype.getFacetCfgFromDataSetAndOptions=function(){var a=this,u=this.dataSet,h=u.fields,v=u.meta,g=this.options,y=g.style,w=g.dataCell;return ue(ue(ue(ue({},this.options),h),y),{meta:v,spreadsheet:this,dataSet:this.dataSet,dataCell:w??function(A){return new _l(A,a)}})},s.prototype.buildFacet=function(){var a,u=this.getFacetCfgFromDataSetAndOptions();null===(a=this.facet)||void 0===a||a.destroy(),this.facet=new mv(u),this.facet.render()},s.prototype.bindEvents=function(){this.off(_e.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(_e.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(_e.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(_e.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},s.prototype.handleRowCellCollapseTreeRows=function(a){var u,g={style:{collapsedRows:(u={},u[a.id]=a.isCollapsed,u)}};this.emit(_e.LAYOUT_COLLAPSE_ROWS,{collapsedRows:g.style.collapsedRows,meta:a?.node}),this.setOptions(g),this.render(!1),this.emit(_e.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:g.style.collapsedRows,meta:a?.node})},s.prototype.handleTreeRowsCollapseAll=function(a){this.setOptions({style:{hierarchyCollapse:!a,collapsedRows:null,rowExpandDepth:null}}),this.render(!1)},s.prototype.groupSortByMethod=function(a,u){var h=this.dataCfg.fields,v=h.rows,g=h.columns,y=this.options.style.colCfg.hideMeasureColumn,w=this.isValueInCols()?_n(v):_n(g),A=u.value,L=Ic(u.query),O=A;y&&this.isValueInCols()&&(L[Jr]=O=this.dataSet.fields.values[0]);var D={sortFieldId:w,sortMethod:a,sortByMeasure:O,query:L},k=this.dataCfg.sortParams.filter(function(tt){return tt?.sortFieldId!==w});this.updateSortMethodMap(u.id,a,!0);var X=Be(Be([],Ae(k),!1),[D],!1);this.emit(_e.RANGE_SORT,X),this.setDataCfg(ue(ue({},this.dataCfg),{sortParams:X})),this.render()},s.prototype.handleGroupSort=function(a,u){var h=this;a.stopPropagation(),this.interaction.addIntercepts([Lr.HOVER]);var v=this.getMenuDefaultSelectedKeys(u?.id),g={onClick:function(y){h.groupSortByMethod(y.key,u),h.emit(_e.RANGE_SORTED,a)},menus:[{key:"asc",icon:"groupAsc",text:gi("\u7ec4\u5185\u5347\u5e8f")},{key:"desc",icon:"groupDesc",text:gi("\u7ec4\u5185\u964d\u5e8f")},{key:"none",text:gi("\u4e0d\u6392\u5e8f")}],defaultSelectedKeys:v};this.showTooltipWithInfo(a,[],{operator:g,onlyMenu:!0,forceRender:!0})}}(JA),function(o){function s(){return null!==o&&o.apply(this,arguments)||this}return Ir(s,o),s}(qA)),tE=function(o){function s(){var a=null!==o&&o.apply(this,arguments)||this;return a.onSortTooltipClick=function(u,h){var v=u.key,y={sortFieldId:h.field,sortMethod:v};a.updateSortMethodMap(h.id,v),a.emit(_e.RANGE_SORT,[y])},a}return Ir(s,o),s.prototype.getDataSet=function(a){var u=a.dataSet;return u?u(this):new Kx(this)},s.prototype.isPivotMode=function(){return!1},s.prototype.isTableMode=function(){return!0},s.prototype.isHierarchyTreeType=function(){return!1},s.prototype.isScrollContainsRowHeader=function(){return!1},s.prototype.isFrozenRowHeader=function(){return!1},s.prototype.clearDrillDownData=function(){},s.prototype.isValueInCols=function(){return!1},s.prototype.bindEvents=function(){},s.prototype.initPanelGroupChildren=function(){var a,u=this;o.prototype.initPanelGroupChildren.call(this);var h={zIndex:2,s2:this};a=Ae([u3,yC,Vs,c3,h3,f3].map(function(v){var g=new jA(ue({name:v},h));return u.panelGroup.add(g),g}),6),this.frozenRowGroup=a[0],this.frozenColGroup=a[1],this.frozenTrailingRowGroup=a[2],this.frozenTrailingColGroup=a[3],this.frozenTopGroup=a[4],this.frozenBottomGroup=a[5]},s.prototype.getFacetCfgFromDataSetAndOptions=function(){var a=this,u=this.dataSet,h=u.fields,v=u.meta,g=this.options,y=g.style,w=g.dataCell;return ue(ue(ue(ue({},this.options),h),y),{meta:v,spreadsheet:this,dataSet:this.dataSet,dataCell:w??function(A){return a.options.showSeriesNumber&&0===A.colIndex?new sA(A,a):new f0(A,a)}})},s.prototype.buildFacet=function(){var a,u=this.getFacetCfgFromDataSetAndOptions();null===(a=this.facet)||void 0===a||a.destroy(),this.facet=new aP(u),this.facet.render()},s.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},s.prototype.destroy=function(){o.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(_e.RANGE_SORT),this.off(_e.RANGE_FILTER)},s.prototype.handleGroupSort=function(a,u){var h=this;a.stopPropagation(),this.interaction.addIntercepts([Lr.HOVER]);var v=this.getMenuDefaultSelectedKeys(u?.id),g={onClick:function(y){h.onSortTooltipClick({key:y.key},u)},menus:[{key:"asc",icon:"groupAsc",text:gi("\u5347\u5e8f")},{key:"desc",icon:"groupDesc",text:gi("\u964d\u5e8f")},{key:"none",text:gi("\u4e0d\u6392\u5e8f")}],defaultSelectedKeys:v};this.showTooltipWithInfo(a,[],{operator:g,onlyMenu:!0,forceRender:!0})},s}(JA)},8250:(rr,be,ct)=>{"use strict";ct.d(be,{Ct:()=>J0,f0:()=>zv,uZ:()=>_r,VS:()=>Xu,d9:()=>Iv,FX:()=>Zt,Ds:()=>X0,b$:()=>V0,e5:()=>Mt,S6:()=>Ut,yW:()=>St,hX:()=>zt,sE:()=>Ht,cx:()=>qt,Wx:()=>kt,ri:()=>Sr,xH:()=>nt,U5:()=>B0,U2:()=>q0,Lo:()=>Uv,rx:()=>K,ru:()=>Xe,vM:()=>Te,Ms:()=>He,wH:()=>P0,YM:()=>it,q9:()=>Zt,cq:()=>Bv,kJ:()=>ut,jn:()=>xh,J_:()=>ka,kK:()=>Uu,xb:()=>Gl,Xy:()=>Yl,mf:()=>me,BD:()=>C,UM:()=>Ct,Ft:()=>Av,hj:()=>zr,vQ:()=>ks,Kn:()=>dt,PO:()=>oe,HD:()=>bt,P9:()=>ne,o8:()=>kl,XP:()=>yt,Z$:()=>z,vl:()=>z0,UI:()=>kv,Q8:()=>Z0,Fp:()=>he,UT:()=>Wu,HP:()=>Vu,VV:()=>Fe,F:()=>wv,CD:()=>zv,wQ:()=>Fl,ZT:()=>Th,CE:()=>Gv,ei:()=>K0,u4:()=>at,Od:()=>Lt,U7:()=>zl,t8:()=>Nv,dp:()=>Qi,G:()=>ee,MR:()=>Ce,ng:()=>gh,P2:()=>Wl,qo:()=>Yv,c$:()=>D0,BB:()=>es,jj:()=>we,EL:()=>Q0,jC:()=>Tv,VO:()=>E,I:()=>Re});const Nt=function(st){return null!==st&&"function"!=typeof st&&isFinite(st.length)},Zt=function(st,Ft){return!!Nt(st)&&st.indexOf(Ft)>-1},zt=function(st,Ft){if(!Nt(st))return st;for(var jt=[],fe=0;fe<st.length;fe++){var Le=st[fe];Ft(Le,fe)&&jt.push(Le)}return jt},Mt=function(st,Ft){return void 0===Ft&&(Ft=[]),zt(st,function(jt){return!Zt(Ft,jt)})};var Vt={}.toString;const ne=function(st,Ft){return Vt.call(st)==="[object "+Ft+"]"},me=function(st){return ne(st,"Function")},Ct=function(st){return null==st},ut=function(st){return Array.isArray?Array.isArray(st):ne(st,"Array")},dt=function(st){var Ft=typeof st;return null!==st&&"object"===Ft||"function"===Ft},Ut=function Yt(st,Ft){if(st)if(ut(st))for(var fe=0,Le=st.length;fe<Le&&!1!==Ft(st[fe],fe);fe++);else if(dt(st))for(var $e in st)if(st.hasOwnProperty($e)&&!1===Ft(st[$e],$e))break},yt=Object.keys?function(st){return Object.keys(st)}:function(st){var Ft=[];return Ut(st,function(jt,fe){me(st)&&"prototype"===fe||Ft.push(fe)}),Ft},C=function $(st,Ft){var jt=yt(Ft),fe=jt.length;if(Ct(st))return!fe;for(var Le=0;Le<fe;Le+=1){var $e=jt[Le];if(Ft[$e]!==st[$e]||!($e in st))return!1}return!0},At=function(st){return"object"==typeof st&&null!==st},oe=function(st){if(!At(st)||!ne(st,"Object"))return!1;if(null===Object.getPrototypeOf(st))return!0;for(var Ft=st;null!==Object.getPrototypeOf(Ft);)Ft=Object.getPrototypeOf(Ft);return Object.getPrototypeOf(st)===Ft},Ht=function Rt(st,Ft){if(!ut(st))return null;var jt;if(me(Ft)&&(jt=Ft),oe(Ft)&&(jt=function(Le){return C(Le,Ft)}),jt)for(var fe=0;fe<st.length;fe+=1)if(jt(st[fe]))return st[fe];return null},qt=function ye(st,Ft,jt){void 0===jt&&(jt=0);for(var fe=jt;fe<st.length;fe++)if(Ft(st[fe],fe))return fe;return-1},kt=function(st,Ft){for(var jt=null,fe=0;fe<st.length;fe++){var $e=st[fe][Ft];if(!Ct($e)){jt=ut($e)?$e[0]:$e;break}}return jt},nt=function(st){if(!ut(st))return[];for(var Ft=[],jt=0;jt<st.length;jt++)Ft=Ft.concat(st[jt]);return Ft},he=function(st){if(ut(st))return st.reduce(function(Ft,jt){return Math.max(Ft,jt)},st[0])},Fe=function(st){if(ut(st))return st.reduce(function(Ft,jt){return Math.min(Ft,jt)},st[0])},K=function(st){var Ft=st.filter(function(dr){return!isNaN(dr)});if(!Ft.length)return{min:0,max:0};if(ut(st[0])){for(var jt=[],fe=0;fe<st.length;fe++)jt=jt.concat(st[fe]);Ft=jt}var Le=he(Ft);return{min:Fe(Ft),max:Le}};var rt=Array.prototype.splice;const at=function(st,Ft,jt){if(!ut(st)&&!oe(st))return st;var fe=jt;return Ut(st,function(Le,$e){fe=Ft(fe,Le,$e)}),fe},Lt=function(st,Ft){var jt=[];if(!Nt(st))return jt;for(var fe=-1,Le=[],$e=st.length;++fe<$e;){var dr=st[fe];Ft(dr,fe,st)&&(jt.push(dr),Le.push(fe))}return function(Ft,jt){if(!Nt(Ft))return[];for(var fe=Ft?jt.length:0,Le=fe-1;fe--;){var $e=void 0,dr=jt[fe];(fe===Le||dr!==$e)&&($e=dr,rt.call(Ft,dr,1))}}(st,Le),jt},bt=function(st){return ne(st,"String")},Ce=function re(st,Ft){var jt;if(me(Ft))jt=function(Le,$e){return Ft(Le)-Ft($e)};else{var fe=[];bt(Ft)?fe.push(Ft):ut(Ft)&&(fe=Ft),jt=function(Le,$e){for(var dr=0;dr<fe.length;dr+=1){var an=fe[dr];if(Le[an]>$e[an])return 1;if(Le[an]<$e[an])return-1}return 0}}return st.sort(jt),st};function we(st,Ft){void 0===Ft&&(Ft=new Map);var jt=[];if(Array.isArray(st))for(var fe=0,Le=st.length;fe<Le;fe++){var $e=st[fe];Ft.has($e)||(jt.push($e),Ft.set($e,!0))}return jt}const Re=function(st,Ft){for(var jt=[],fe={},Le=0;Le<st.length;Le++){var dr=st[Le][Ft];if(!Ct(dr)){ut(dr)||(dr=[dr]);for(var an=0;an<dr.length;an++){var Oi=dr[an];fe[Oi]||(jt.push(Oi),fe[Oi]=!0)}}}return jt};function it(st){if(Nt(st))return st[0]}function z(st){if(Nt(st))return st[st.length-1]}const St=function(st,Ft){for(var jt=0;jt<st.length;jt++)if(!Ft(st[jt],jt))return!1;return!0},ee=function(st,Ft){for(var jt=0;jt<st.length;jt++)if(Ft(st[jt],jt))return!0;return!1};var ie=Object.prototype.hasOwnProperty;const Te=function Ee(st,Ft){if(!Ft||!ut(st))return{};for(var Le,jt={},fe=me(Ft)?Ft:function(an){return an[Ft]},$e=0;$e<st.length;$e++){var dr=st[$e];Le=fe(dr),ie.call(jt,Le)?jt[Le].push(dr):jt[Le]=[dr]}return jt};function He(st,Ft){if(!Ft)return{0:st};if(!me(Ft)){var jt=ut(Ft)?Ft:Ft.replace(/\s+/g,"").split("*");Ft=function(fe){for(var Le="_",$e=0,dr=jt.length;$e<dr;$e++)Le+=fe[jt[$e]]&&fe[jt[$e]].toString();return Le}}return Te(st,Ft)}const Xe=function(st,Ft){if(!Ft)return[st];var jt=He(st,Ft),fe=[];for(var Le in jt)fe.push(jt[Le]);return fe},_r=function(st,Ft,jt){return st<Ft?Ft:st>jt?jt:st},Sr=function(st,Ft){var jt=Ft.toString(),fe=jt.indexOf(".");if(-1===fe)return Math.round(st);var Le=jt.substr(fe+1).length;return Le>20&&(Le=20),parseFloat(st.toFixed(Le))},zr=function(st){return ne(st,"Number")};var Pi=1e-5;function ks(st,Ft,jt){return void 0===jt&&(jt=Pi),Math.abs(st-Ft)<jt}const Wu=function(st,Ft){if(ut(st)){for(var jt,fe=-1/0,Le=0;Le<st.length;Le++){var $e=st[Le],dr=me(Ft)?Ft($e):$e[Ft];dr>fe&&(jt=$e,fe=dr)}return jt}},wv=function(st,Ft){if(ut(st)){for(var jt,fe=1/0,Le=0;Le<st.length;Le++){var $e=st[Le],dr=me(Ft)?Ft($e):$e[Ft];dr<fe&&(jt=$e,fe=dr)}return jt}},Fl=function(st,Ft){return(st%Ft+Ft)%Ft};Math,parseInt;var _v=Math.PI/180;const D0=function(st){return _v*st},B0=Ut,P0=function(st,Ft){return st.hasOwnProperty(Ft)},E=Object.values?function(st){return Object.values(st)}:function(st){var Ft=[];return Ut(st,function(jt,fe){me(st)&&"prototype"===fe||Ft.push(jt)}),Ft},es=function(st){return Ct(st)?"":st.toString()},z0=function(st){return es(st).toLowerCase()},gh=function Mv(st,Ft){return st&&Ft?st.replace(/\\?\{([^{}]+)\}/g,function(jt,fe){return"\\"===jt.charAt(0)?jt.slice(1):void 0===Ft[fe]?"":Ft[fe]}):st},Tv=function(st){var Ft=es(st);return Ft.charAt(0).toUpperCase()+Ft.substring(1)};var Dl={}.toString;const xh=function(st){return ne(st,"Boolean")},ka=function(st){return ne(st,"Date")},Av=function(st){return null===st};var Ev=Object.prototype;const kl=function(st){return void 0===st},Uu=function(st){return st instanceof Element||st instanceof HTMLDocument};function zl(st){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(jt){return setTimeout(jt,16)})(st)}function Xu(st){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(st)}var ns=function(st){if("object"!=typeof st||null===st)return st;var Ft;if(ut(st)){Ft=[];for(var jt=0,fe=st.length;jt<fe;jt++)Ft[jt]="object"==typeof st[jt]&&null!=st[jt]?ns(st[jt]):st[jt]}else for(var Le in Ft={},st)Ft[Le]="object"==typeof st[Le]&&null!=st[Le]?ns(st[Le]):st[Le];return Ft};const Iv=ns,X0=function Ov(st,Ft,jt){var fe;return function(){var Le=this,$e=arguments,an=jt&&!fe;clearTimeout(fe),fe=setTimeout(function(){fe=null,jt||st.apply(Le,$e)},Ft),an&&st.apply(Le,$e)}},Vu=function(st,Ft){if(!me(st))throw new TypeError("Expected a function");var jt=function(){for(var fe=[],Le=0;Le<arguments.length;Le++)fe[Le]=arguments[Le];var $e=Ft?Ft.apply(this,fe):fe[0],dr=jt.cache;if(dr.has($e))return dr.get($e);var an=st.apply(this,fe);return dr.set($e,an),an};return jt.cache=new Map,jt};var _h=5;function Rv(st,Ft,jt,fe){for(var Le in jt=jt||0,fe=fe||_h,Ft)if(Ft.hasOwnProperty(Le)){var $e=Ft[Le];null!==$e&&oe($e)?(oe(st[Le])||(st[Le]={}),jt<fe?Rv(st[Le],$e,jt+1,fe):st[Le]=Ft[Le]):ut($e)?(st[Le]=[],st[Le]=st[Le].concat($e)):void 0!==$e&&(st[Le]=$e)}}const V0=function(st){for(var Ft=[],jt=1;jt<arguments.length;jt++)Ft[jt-1]=arguments[jt];for(var fe=0;fe<Ft.length;fe+=1)Rv(st,Ft[fe]);return st},Bv=function(st,Ft){if(!Nt(st))return-1;var jt=Array.prototype.indexOf;if(jt)return jt.call(st,Ft);for(var fe=-1,Le=0;Le<st.length;Le++)if(st[Le]===Ft){fe=Le;break}return fe};var Nl=Object.prototype.hasOwnProperty;const Gl=function Hl(st){if(Ct(st))return!0;if(Nt(st))return!st.length;var Ft=function(st){return Dl.call(st).replace(/^\[object /,"").replace(/]$/,"")}(st);if("Map"===Ft||"Set"===Ft)return!st.size;if(function(st){var Ft=st&&st.constructor;return st===("function"==typeof Ft&&Ft.prototype||Ev)}(st))return!Object.keys(st).length;for(var jt in st)if(Nl.call(st,jt))return!1;return!0};var Eo=function(st,Ft){if(st===Ft)return!0;if(!st||!Ft||bt(st)||bt(Ft))return!1;if(Nt(st)||Nt(Ft)){if(st.length!==Ft.length)return!1;for(var jt=!0,fe=0;fe<st.length&&(jt=Eo(st[fe],Ft[fe]));fe++);return jt}if(At(st)||At(Ft)){var Le=Object.keys(st),$e=Object.keys(Ft);if(Le.length!==$e.length)return!1;for(jt=!0,fe=0;fe<Le.length&&(jt=Eo(st[Le[fe]],Ft[Le[fe]]));fe++);return jt}return!1};const Yl=Eo,kv=function(st,Ft){if(!Nt(st))return st;for(var jt=[],fe=0;fe<st.length;fe++)jt.push(Ft(st[fe],fe));return jt};var $0=function(st){return st};const Z0=function(st,Ft){void 0===Ft&&(Ft=$0);var jt={};return dt(st)&&!Ct(st)&&Object.keys(st).forEach(function(fe){jt[fe]=Ft(st[fe],fe)}),jt};function Mh(st,Ft){for(var jt in Ft)Ft.hasOwnProperty(jt)&&"constructor"!==jt&&void 0!==Ft[jt]&&(st[jt]=Ft[jt])}function zv(st,Ft,jt,fe){return Ft&&Mh(st,Ft),jt&&Mh(st,jt),fe&&Mh(st,fe),st}const q0=function(st,Ft,jt){for(var fe=0,Le=bt(Ft)?Ft.split("."):Ft;st&&fe<Le.length;)st=st[Le[fe++]];return void 0===st||fe<Le.length?jt:st},Nv=function(st,Ft,jt){var fe=st,Le=bt(Ft)?Ft.split("."):Ft;return Le.forEach(function($e,dr){dr<Le.length-1?(dt(fe[$e])||(fe[$e]=zr(Le[dr+1])?[]:{}),fe=fe[$e]):fe[$e]=jt}),st};var Hv=Object.prototype.hasOwnProperty;const K0=function(st,Ft){if(null===st||!oe(st))return{};var jt={};return Ut(Ft,function(fe){Hv.call(st,fe)&&(jt[fe]=st[fe])}),jt},Gv=function(st,Ft){return at(st,function(jt,fe,Le){return Ft.includes(Le)||(jt[Le]=fe),jt},{})},Wl=function(st,Ft,jt){var fe,Le,$e,dr,an=0;jt||(jt={});var Oi=function(){an=!1===jt.leading?0:Date.now(),fe=null,dr=st.apply(Le,$e),fe||(Le=$e=null)},Ji=function(){var ia=Date.now();!an&&!1===jt.leading&&(an=ia);var $u=Ft-(ia-an);return Le=this,$e=arguments,$u<=0||$u>Ft?(fe&&(clearTimeout(fe),fe=null),an=ia,dr=st.apply(Le,$e),fe||(Le=$e=null)):!fe&&!1!==jt.trailing&&(fe=setTimeout(Oi,$u)),dr};return Ji.cancel=function(){clearTimeout(fe),an=0,fe=Le=$e=null},Ji},Yv=function(st){return Nt(st)?Array.prototype.slice.call(st):[]};var is={};const Q0=function(st){return is[st=st||"g"]?is[st]+=1:is[st]=1,st+is[st]},Th=function(){};function Qi(st){return Ct(st)?0:Nt(st)?st.length:Object.keys(st).length}var Ul,Wv=ct(655);const Gs=Vu(function(st,Ft){void 0===Ft&&(Ft={});var jt=Ft.fontSize,fe=Ft.fontFamily,Le=Ft.fontWeight,$e=Ft.fontStyle,dr=Ft.fontVariant;return Ul||(Ul=document.createElement("canvas").getContext("2d")),Ul.font=[$e,dr,Le,jt+"px",fe].join(" "),Ul.measureText(bt(st)?st:"").width},function(st,Ft){return void 0===Ft&&(Ft={}),(0,Wv.pr)([st],E(Ft)).join("")}),Uv=function(st,Ft,jt,fe){void 0===fe&&(fe="...");var Ji,ia,$e=Gs(fe,jt),dr=bt(st)?st:es(st),an=Ft,Oi=[];if(Gs(st,jt)<=Ft)return st;for(;Ji=dr.substr(0,16),!((ia=Gs(Ji,jt))+$e>an&&ia>an);)if(Oi.push(Ji),an-=ia,!(dr=dr.substr(16)))return Oi.join("");for(;Ji=dr.substr(0,1),!((ia=Gs(Ji,jt))+$e>an);)if(Oi.push(Ji),an-=ia,!(dr=dr.substr(1)))return Oi.join("");return""+Oi.join("")+fe},J0=function(){function st(){this.map={}}return st.prototype.has=function(Ft){return void 0!==this.map[Ft]},st.prototype.get=function(Ft,jt){var fe=this.map[Ft];return void 0===fe?jt:fe},st.prototype.set=function(Ft,jt){this.map[Ft]=jt},st.prototype.clear=function(){this.map={}},st.prototype.delete=function(Ft){delete this.map[Ft]},st.prototype.size=function(){return Object.keys(this.map).length},st}()},364:(rr,be,ct)=>{"use strict";ct.r(be),ct.d(be,{BiModule:()=>mH});var ae={};ct.r(ae),ct.d(ae,{assign:()=>us,default:()=>Ue,defaultI18n:()=>Yg,format:()=>Xg,parse:()=>Ri,setGlobalDateI18n:()=>$s,setGlobalDateMasks:()=>Sa});var Nt={};ct.r(Nt),ct.d(Nt,{CONTAINER_CLASS:()=>ua,CONTAINER_CLASS_CUSTOM:()=>Wa,CROSSHAIR_X:()=>Ey,CROSSHAIR_Y:()=>Ly,LIST_CLASS:()=>uf,LIST_ITEM_CLASS:()=>ii,MARKER_CLASS:()=>yc,NAME_CLASS:()=>zw,TITLE_CLASS:()=>Ho,VALUE_CLASS:()=>Ua});var ve={};ct.r(ve),ct.d(ve,{Arc:()=>n4,DataMarker:()=>l4,DataRegion:()=>c4,Html:()=>p4,Image:()=>s4,Line:()=>t4,Region:()=>o4,RegionFilter:()=>f4,Shape:()=>yn,Text:()=>kd});var Zt={};ct.r(Zt),ct.d(Zt,{ellipsisHead:()=>m4,ellipsisMiddle:()=>x4,ellipsisTail:()=>Nd,getDefault:()=>y4});var Qt={};ct.r(Qt),ct.d(Qt,{equidistance:()=>Uw,equidistanceWithReverseBoth:()=>_4,getDefault:()=>Oy,reserveBoth:()=>w4,reserveFirst:()=>Ww,reserveLast:()=>C4});var zt={};ct.r(zt),ct.d(zt,{fixedAngle:()=>La,getDefault:()=>M4,unfixedAngle:()=>Qs});var Bt={};ct.r(Bt),ct.d(Bt,{autoEllipsis:()=>Zt,autoHide:()=>Qt,autoRotate:()=>zt});var Mt={};ct.r(Mt),ct.d(Mt,{Base:()=>Ry,Circle:()=>O4,Html:()=>D4,Line:()=>Xw});var Vt={};ct.r(Vt),ct.d(Vt,{Base:()=>ho,Circle:()=>SS,Ellipse:()=>MS,Image:()=>O5,Line:()=>F5,Marker:()=>AS,Path:()=>Su,Polygon:()=>N5,Polyline:()=>DS,Rect:()=>Bc,Text:()=>ai});var se={};ct.r(se),ct.d(se,{Canvas:()=>W5,Group:()=>$a,Shape:()=>Vt,getArcParams:()=>up,version:()=>zm});var ne={};ct.r(ne),ct.d(ne,{Base:()=>qa,Circle:()=>q5,Dom:()=>XS,Ellipse:()=>J5,Image:()=>tI,Line:()=>eI,Marker:()=>yp,Path:()=>iI,Polygon:()=>oI,Polyline:()=>lI,Rect:()=>hI,Text:()=>pI});var me={};ct.r(me),ct.d(me,{Canvas:()=>EI,Group:()=>Nm,Shape:()=>ne,version:()=>LI});var Dt={};ct.r(Dt),ct.d(Dt,{cluster:()=>fP,hierarchy:()=>oh,pack:()=>oA,packEnclose:()=>tA,packSiblings:()=>UD,partition:()=>ZA,stratify:()=>r2,tree:()=>JA,treemap:()=>s,treemapBinary:()=>a,treemapDice:()=>mv,treemapResquarify:()=>h,treemapSlice:()=>a2,treemapSliceDice:()=>u,treemapSquarify:()=>o});var Ct=ct(6895),ut=ct(9132),dt=(()=>{return(e=dt||(dt={})).Number="Number",e.Line="Line",e.StepLine="StepLine",e.Bar="Bar",e.PercentStackedBar="PercentStackedBar",e.Area="Area",e.PercentageArea="PercentageArea",e.Column="Column",e.Waterfall="Waterfall",e.StackedColumn="StackedColumn",e.Pie="Pie",e.Ring="Ring",e.Rose="Rose",e.Scatter="Scatter",e.Radar="Radar",e.WordCloud="WordCloud",e.Funnel="Funnel",e.Bubble="Bubble",e.Sankey="Sankey",e.RadialBar="RadialBar",e.Chord="Chord",e.tpl="tpl",e.table="table",dt;var e})(),Yt=(()=>{return(e=Yt||(Yt={})).backend="backend",e.front="front",e.none="none",Yt;var e})(),Ut=(()=>{return(e=Ut||(Ut={})).INPUT="INPUT",e.TAG="TAG",e.NUMBER="NUMBER",e.NUMBER_RANGE="NUMBER_RANGE",e.DATE="DATE",e.DATE_RANGE="DATE_RANGE",e.DATETIME="DATETIME",e.DATETIME_RANGE="DATETIME_RANGE",e.TIME="TIME",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR",e.REFERENCE="REFERENCE",e.REFERENCE_CASCADE="REFERENCE_CASCADE",e.REFERENCE_MULTI="REFERENCE_MULTI",e.REFERENCE_TREE_RADIO="REFERENCE_TREE_RADIO",e.REFERENCE_TREE_MULTI="REFERENCE_TREE_MULTI",e.REFERENCE_RADIO="REFERENCE_RADIO",e.REFERENCE_CHECKBOX="REFERENCE_CHECKBOX",Ut;var e})(),Xt=(()=>{return(e=Xt||(Xt={})).STRING="string",e.NUMBER="number",e.DATE="date",e.DRILL="drill",Xt;var e})(),yt=ct(9991),$=ct(9651),C=ct(4650),gt=ct(5379),At=ct(774),Kt=ct(538),oe=ct(2463);let Rt=(()=>{class e{constructor(t,n,i){this._http=t,this.menuSrv=n,this.tokenService=i}getBiBuild(t){return this._http.get(gt.zP.bi+"/"+t,null,{observe:"body",headers:{erupt:t}})}getBiData(t,n,i,l,c,f){let d={index:n,size:i};return l&&c&&(d.sort=l,d.direction=c?"ascend"===c:null),this._http.post(gt.zP.bi+"/data/"+t,f,d,{headers:{erupt:t}})}getBiDrillData(t,n,i,l,c){return this._http.post(gt.zP.bi+"/drill/data/"+t+"/"+n,c,{pageIndex:i,pageSize:l},{headers:{erupt:t}})}getBiChart(t,n,i){return this._http.post(gt.zP.bi+"/"+t+"/chart/"+n,i,null,{headers:{erupt:t}})}getBiReference(t,n,i){return this._http.post(gt.zP.bi+"/"+t+"/reference/"+n,i||{},null,{headers:{erupt:t}})}exportExcel_bak(t,n,i){At.D.postExcelFile(gt.zP.bi+"/"+n+"/excel/"+t,{condition:encodeURIComponent(JSON.stringify(i)),[At.D.PARAM_ERUPT]:n,[At.D.PARAM_TOKEN]:this.tokenService.get().token})}exportExcel(t,n,i,l){this._http.post(gt.zP.bi+"/"+n+"/excel/"+t,i,null,{responseType:"arraybuffer",observe:"events",headers:{erupt:n}}).subscribe(c=>{4===c.type&&((0,yt.Sv)(c),l())},()=>{l()})}getChartTpl(t,n,i){return gt.zP.bi+"/"+n+"/custom-chart/"+t+"?_token="+this.tokenService.get().token+"&_t="+(new Date).getTime()+"&_erupt="+n+"&condition="+encodeURIComponent(JSON.stringify(i))}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(oe.lP),C.LFG(oe.hl),C.LFG(Kt.T))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ht=(()=>{class e{constructor(t){this.msg=t,this.datePipe=new Ct.uU("zh-cn")}buildDimParam(t,n=!0,i=!1){let l={};for(let c of t.dimensions){let f=c.$value;if(f)switch(c.type){case Ut.DATE_RANGE:f[0]=this.datePipe.transform(f[0],"yyyy-MM-dd 00:00:00"),f[1]=this.datePipe.transform(f[1],"yyyy-MM-dd 23:59:59");break;case Ut.DATETIME_RANGE:f[0]=this.datePipe.transform(f[0],"yyyy-MM-dd HH:mm:ss"),f[1]=this.datePipe.transform(f[1],"yyyy-MM-dd HH:mm:ss");break;case Ut.DATE:f=this.datePipe.transform(f,"yyyy-MM-dd");break;case Ut.DATETIME:f=this.datePipe.transform(f,"yyyy-MM-dd HH:mm:ss");break;case Ut.TIME:f=this.datePipe.transform(f,"HH:mm:ss");break;case Ut.YEAR:f=this.datePipe.transform(f,"yyyy");break;case Ut.MONTH:f=this.datePipe.transform(f,"yyyy-MM");break;case Ut.WEEK:f=this.datePipe.transform(f,"yyyy-ww")}if(c.notNull&&!c.$value&&(n&&this.msg.error(c.title+"\u5fc5\u586b"),!i)||c.notNull&&Array.isArray(c.$value)&&!c.$value[0]&&!c.$value[1]&&(n&&this.msg.error(c.title+"\u5fc5\u586b"),!i))return null;l[c.code]=Array.isArray(f)&&0==f.length?null:f||null}return l}}return e.\u0275fac=function(t){return new(t||e)(C.LFG($.dD))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ye=ct(9804),qt=ct(6152),Jt=ct(5681),kt=ct(1634);const Q=["st"];function nt(e,r){if(1&e&&C._uU(0),2&e){const t=C.oxw(2);C.hij("\u5171",t.biTable.total,"\u6761")}}const Et=function(e){return{x:e}};function te(e,r){if(1&e){const t=C.EpF();C.ynx(0),C._UZ(1,"st",2,3),C.TgZ(3,"nz-pagination",4),C.NdJ("nzPageSizeChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.pageSizeChange(i))})("nzPageIndexChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.pageIndexChange(i))}),C.qZA(),C.YNc(4,nt,1,1,"ng-template",null,5,C.W1O),C.BQk()}if(2&e){const t=C.MAs(5),n=C.oxw();C.xp6(1),C.Q6J("columns",n.biTable.columns)("data",n.biTable.data)("ps",n.biTable.size)("page",n.biTable.page)("scroll",C.VKq(13,Et,(n.clientWidth>768?150*n.biTable.columns.length:0)+"px"))("bordered",n.settingSrv.layout.bordered)("size","small"),C.xp6(2),C.Q6J("nzPageIndex",n.biTable.index)("nzPageSize",n.biTable.size)("nzTotal",n.biTable.total)("nzPageSizeOptions",n.bi.pageSizeOptions)("nzSize","small")("nzShowTotal",t)}}const he=function(){return[]};function Fe(e,r){1&e&&(C.ynx(0),C._UZ(1,"nz-list",6),C.BQk()),2&e&&(C.xp6(1),C.Q6J("nzDataSource",C.DdM(1,he)))}let W=(()=>{class e{constructor(t,n,i,l,c){this.dataService=t,this.route=n,this.handlerService=i,this.settingSrv=l,this.msg=c,this.querying=!1,this.clientWidth=document.body.clientWidth,this.biTable={index:1,size:10,total:0,page:{show:!1}}}ngOnInit(){this.biTable.size=this.bi.pageSize,this.query(1,this.bi.pageSize)}query(t,n){this.querying=!0,this.dataService.getBiDrillData(this.bi.code,this.drillCode.toString(),t,n,this.row).subscribe(i=>{if(this.querying=!1,this.biTable.total=i.total,this.biTable.columns=[],i.columns){for(let l of i.columns)l.display&&this.biTable.columns.push({title:l.name,index:l.name,className:"text-center",width:l.width});this.biTable.data=i.list}else this.biTable.data=[]})}pageIndexChange(t){this.query(t,this.biTable.size)}pageSizeChange(t){this.biTable.size=t,this.query(1,t)}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Rt),C.Y36(ut.gz),C.Y36(Ht),C.Y36(oe.gb),C.Y36($.dD))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-drill"]],viewQuery:function(t,n){if(1&t&&C.Gf(Q,5),2&t){let i;C.iGM(i=C.CRH())&&(n.st=i.first)}},inputs:{bi:"bi",drillCode:"drillCode",row:"row"},decls:3,vars:3,consts:[[2,"width","100%","text-align","center","min-height","80px",3,"nzSpinning"],[4,"ngIf"],[2,"margin-bottom","12px",3,"columns","data","ps","page","scroll","bordered","size"],["st",""],["nzShowSizeChanger","","nzShowQuickJumper","",2,"text-align","center",3,"nzPageIndex","nzPageSize","nzTotal","nzPageSizeOptions","nzSize","nzShowTotal","nzPageSizeChange","nzPageIndexChange"],["totalTemplate",""],[3,"nzDataSource"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0),C.YNc(1,te,6,15,"ng-container",1),C.YNc(2,Fe,2,2,"ng-container",1),C.qZA()),2&t&&(C.Q6J("nzSpinning",n.querying),C.xp6(1),C.Q6J("ngIf",n.biTable.columns&&n.biTable.columns.length>0),C.xp6(1),C.Q6J("ngIf",!n.biTable.columns||0==n.biTable.columns.length))},dependencies:[Ct.O5,ye.A5,qt.n_,Jt.W,kt.dE],encapsulation:2}),e})();var K=ct(7),J=ct(7632),U=ct(433),vt=ct(6616),mt=ct(7044),j=ct(1811),rt=ct(3679),P=ct(8213),Z=ct(9582),q=ct(1102),at=ct(1971),Tt=ct(2577),Lt=ct(545),bt=ct(445),re=ct(6287),Ce=ct(7579),we=ct(2722);function Re(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"span",6),C.BQk()),2&e){const t=r.$implicit;C.xp6(1),C.Q6J("nzType",t)}}function it(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Re,2,1,"ng-container",5),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.icon)}}function z(e,r){1&e&&C.Hsn(0,1,["*ngIf","!icon"])}function R(e,r){if(1&e&&(C.ynx(0),C.YNc(1,it,2,1,"ng-container",2),C.YNc(2,z,1,0,"ng-content",2),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngIf",t.icon),C.xp6(1),C.Q6J("ngIf",!t.icon)}}function N(e,r){if(1&e&&(C.TgZ(0,"div",8),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzTitle," ")}}function V(e,r){if(1&e&&(C.ynx(0),C.YNc(1,N,2,1,"div",7),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function lt(e,r){1&e&&C.Hsn(0,2,["*ngIf","!nzTitle"])}function _t(e,r){if(1&e&&(C.TgZ(0,"div",10),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzSubTitle," ")}}function St(e,r){if(1&e&&(C.ynx(0),C.YNc(1,_t,2,1,"div",9),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzSubTitle)}}function Gt(e,r){1&e&&C.Hsn(0,3,["*ngIf","!nzSubTitle"])}function ee(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.hij(" ",t.nzExtra," ")}}function ie(e,r){if(1&e&&(C.TgZ(0,"div",11),C.YNc(1,ee,2,1,"ng-container",5),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzExtra)}}function Ee(e,r){1&e&&C.Hsn(0,4,["*ngIf","!nzExtra"])}function Te(e,r){1&e&&C._UZ(0,"nz-result-not-found")}function He(e,r){1&e&&C._UZ(0,"nz-result-server-error")}function Xe(e,r){1&e&&C._UZ(0,"nz-result-unauthorized")}function ke(e,r){if(1&e&&(C.ynx(0,12),C.YNc(1,Te,1,0,"nz-result-not-found",13),C.YNc(2,He,1,0,"nz-result-server-error",13),C.YNc(3,Xe,1,0,"nz-result-unauthorized",13),C.BQk()),2&e){const t=C.oxw();C.Q6J("ngSwitch",t.nzStatus),C.xp6(1),C.Q6J("ngSwitchCase","404"),C.xp6(1),C.Q6J("ngSwitchCase","500"),C.xp6(1),C.Q6J("ngSwitchCase","403")}}const qe=[[["nz-result-content"],["","nz-result-content",""]],[["","nz-result-icon",""]],[["div","nz-result-title",""]],[["div","nz-result-subtitle",""]],[["div","nz-result-extra",""]]],Qe=["nz-result-content, [nz-result-content]","[nz-result-icon]","div[nz-result-title]","div[nz-result-subtitle]","div[nz-result-extra]"];let er=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-not-found"]],exportAs:["nzResultNotFound"],decls:62,vars:0,consts:[["width","252","height","294"],["d","M0 .387h251.772v251.772H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .012)"],["fill","#fff"],["d","M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321","fill","#E4EBF7","mask","url(#b)"],["d","M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66","fill","#FFF"],["d","M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788","stroke","#FFF","strokeWidth","2"],["d","M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175","fill","#FFF"],["d","M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932","fill","#FFF"],["d","M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011","par","","stroke","#FFF","strokeWidth","2"],["d","M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382","fill","#FFF"],["d","M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"],["d","M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742","fill","#FFF"],["d","M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48","fill","#1890FF"],["d","M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894","fill","#FFF"],["d","M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88","fill","#FFB594"],["d","M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624","fill","#FFC6A0"],["d","M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682","fill","#FFF"],["d","M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573","fill","#CBD1D1"],["d","M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z","fill","#2B0849"],["d","M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558","fill","#A4AABA"],["d","M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z","fill","#CBD1D1"],["d","M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062","fill","#2B0849"],["d","M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15","fill","#A4AABA"],["d","M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165","fill","#7BB2F9"],["d","M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M107.275 222.1s2.773-1.11 6.102-3.884","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038","fill","#192064"],["d","M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81","fill","#FFF"],["d","M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642","fill","#192064"],["d","M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268","fill","#FFC6A0"],["d","M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456","fill","#FFC6A0"],["d","M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z","fill","#520038"],["d","M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254","fill","#552950"],["stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round","d","M110.13 74.84l-.896 1.61-.298 4.357h-2.228"],["d","M110.846 74.481s1.79-.716 2.506.537","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.287 72.93s1.83 1.113 4.137.954","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M129.405 122.865s-5.272 7.403-9.422 10.768","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M119.306 107.329s.452 4.366-2.127 32.062","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01","fill","#F2D7AD"],["d","M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92","fill","#F4D19D"],["d","M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z","fill","#F2D7AD"],["fill","#CC9B6E","d","M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"],["d","M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83","fill","#F4D19D"],["fill","#CC9B6E","d","M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"],["fill","#CC9B6E","d","M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"],["d","M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238","fill","#FFC6A0"],["d","M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647","fill","#5BA02E"],["d","M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647","fill","#92C110"],["d","M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187","fill","#F2D7AD"],["d","M88.979 89.48s7.776 5.384 16.6 2.842","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"defs"),C._UZ(2,"path",1),C.qZA(),C.TgZ(3,"g",2)(4,"g",3),C._UZ(5,"mask",4)(6,"path",5),C.qZA(),C._UZ(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"path",20)(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25)(27,"path",26)(28,"path",27)(29,"path",28)(30,"path",29)(31,"path",30)(32,"path",31)(33,"path",32)(34,"path",33)(35,"path",34)(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38)(40,"path",39)(41,"path",40)(42,"path",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50)(52,"path",51)(53,"path",52)(54,"path",53)(55,"path",54)(56,"path",55)(57,"path",56)(58,"path",57)(59,"path",58)(60,"path",59)(61,"path",60),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-server-error"]],exportAs:["nzResultServerError"],decls:69,vars:0,consts:[["width","254","height","294"],["d","M0 .335h253.49v253.49H0z"],["d","M0 293.665h253.49V.401H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .067)"],["fill","#fff"],["d","M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134","fill","#E4EBF7","mask","url(#b)"],["d","M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671","fill","#FFF"],["d","M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861","stroke","#FFF","strokeWidth","2"],["d","M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238","fill","#FFF"],["d","M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775","fill","#FFF"],["d","M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68","fill","#FF603B"],["d","M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733","fill","#FFF"],["d","M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487","fill","#FFB594"],["d","M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235","fill","#FFF"],["d","M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246","fill","#FFB594"],["d","M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508","fill","#FFC6A0"],["d","M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z","fill","#520038"],["d","M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26","fill","#552950"],["stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round","d","M99.206 73.644l-.9 1.62-.3 4.38h-2.24"],["d","M99.926 73.284s1.8-.72 2.52.54","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68","stroke","#DB836E","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.326 71.724s1.84 1.12 4.16.96","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954","stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round"],["d","M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044","stroke","#E4EBF7","strokeWidth","1.136","strokeLinecap","round","strokeLinejoin","round"],["d","M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583","fill","#FFF"],["d","M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75","fill","#FFC6A0"],["d","M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713","fill","#FFC6A0"],["d","M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16","fill","#FFC6A0"],["d","M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575","fill","#FFF"],["d","M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47","fill","#CBD1D1"],["d","M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z","fill","#2B0849"],["d","M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671","fill","#A4AABA"],["d","M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z","fill","#CBD1D1"],["d","M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162","fill","#2B0849"],["d","M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156","fill","#A4AABA"],["d","M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69","fill","#7BB2F9"],["d","M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M96.973 219.373s2.882-1.153 6.34-4.034","stroke","#648BD8","strokeWidth","1.032","strokeLinecap","round","strokeLinejoin","round"],["d","M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62","fill","#192064"],["d","M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843","fill","#FFF"],["d","M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668","fill","#192064"],["d","M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69","fill","#FFC6A0"],["d","M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593","stroke","#DB836E","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594","fill","#FFC6A0"],["d","M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M109.278 112.533s3.38-3.613 7.575-4.662","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M107.375 123.006s9.697-2.745 11.445-.88","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955","stroke","#BFCDDD","strokeWidth","2","strokeLinecap","round","strokeLinejoin","round"],["d","M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01","fill","#A3B4C6"],["d","M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813","fill","#A3B4C6"],["fill","#A3B4C6","mask","url(#d)","d","M154.098 190.096h70.513v-84.617h-70.513z"],["d","M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208","fill","#BFCDDD","mask","url(#d)"],["d","M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209","fill","#BFCDDD","mask","url(#d)"],["d","M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751","stroke","#7C90A5","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407","fill","#BFCDDD","mask","url(#d)"],["d","M177.259 207.217v11.52M201.05 207.217v11.52","stroke","#A3B4C6","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422","fill","#5BA02E","mask","url(#d)"],["d","M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423","fill","#92C110","mask","url(#d)"],["d","M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209","fill","#F2D7AD","mask","url(#d)"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"defs"),C._UZ(2,"path",1)(3,"path",2),C.qZA(),C.TgZ(4,"g",3)(5,"g",4),C._UZ(6,"mask",5)(7,"path",6),C.qZA(),C._UZ(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"path",20)(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25)(27,"path",26)(28,"path",27)(29,"path",28)(30,"path",29)(31,"path",30)(32,"path",31)(33,"path",32)(34,"path",33)(35,"path",34)(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38)(40,"path",39)(41,"path",40)(42,"path",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50)(52,"path",51)(53,"path",52)(54,"path",53)(55,"path",54)(56,"path",55)(57,"mask",5)(58,"path",56)(59,"path",57)(60,"path",58)(61,"path",59)(62,"path",60)(63,"path",61)(64,"path",62)(65,"path",63)(66,"path",64)(67,"path",65)(68,"path",66),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),sr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result-unauthorized"]],exportAs:["nzResultUnauthorized"],decls:56,vars:0,consts:[["width","251","height","294"],["fill","none","fillRule","evenodd"],["d","M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023","fill","#E4EBF7"],["d","M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65","fill","#FFF"],["d","M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73","stroke","#FFF","strokeWidth","2"],["d","M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126","fill","#FFF"],["d","M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873","fill","#FFF"],["d","M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36","stroke","#FFF","strokeWidth","2"],["d","M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375","fill","#FFF"],["d","M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"],["d","M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321","fill","#A26EF4"],["d","M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734","fill","#FFF"],["d","M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717","fill","#FFF"],["d","M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61","fill","#5BA02E"],["d","M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611","fill","#92C110"],["d","M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17","fill","#F2D7AD"],["d","M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085","fill","#FFF"],["d","M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233","fill","#FFC6A0"],["d","M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367","fill","#FFB594"],["d","M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95","fill","#FFC6A0"],["d","M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929","fill","#FFF"],["d","M78.18 94.656s.911 7.41-4.914 13.078","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437","stroke","#E4EBF7","strokeWidth",".932","strokeLinecap","round","strokeLinejoin","round"],["d","M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z","fill","#FFC6A0"],["d","M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91","fill","#FFB594"],["d","M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103","fill","#5C2552"],["d","M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145","fill","#FFC6A0"],["stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round","d","M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"],["d","M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32","fill","#552950"],["d","M91.132 86.786s5.269 4.957 12.679 2.327","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25","fill","#DB836E"],["d","M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073","stroke","#5C2552","strokeWidth","1.526","strokeLinecap","round","strokeLinejoin","round"],["d","M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M66.508 86.763s-1.598 8.83-6.697 14.078","stroke","#E4EBF7","strokeWidth","1.114","strokeLinecap","round","strokeLinejoin","round"],["d","M128.31 87.934s3.013 4.121 4.06 11.785","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M64.09 84.816s-6.03 9.912-13.607 9.903","stroke","#DB836E","strokeWidth",".795","strokeLinecap","round","strokeLinejoin","round"],["d","M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73","fill","#FFC6A0"],["d","M130.532 85.488s4.588 5.757 11.619 6.214","stroke","#DB836E","strokeWidth",".75","strokeLinecap","round","strokeLinejoin","round"],["d","M121.708 105.73s-.393 8.564-1.34 13.612","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M115.784 161.512s-3.57-1.488-2.678-7.14","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68","fill","#CBD1D1"],["d","M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z","fill","#2B0849"],["d","M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62","fill","#A4AABA"],["d","M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z","fill","#CBD1D1"],["d","M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078","fill","#2B0849"],["d","M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15","fill","#A4AABA"],["d","M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954","fill","#7BB2F9"],["d","M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M108.459 220.905s2.759-1.104 6.07-3.863","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017","fill","#192064"],["d","M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806","fill","#FFF"],["d","M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64","fill","#192064"],["d","M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,n){1&t&&(C.O4$(),C.TgZ(0,"svg",0)(1,"g",1),C._UZ(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22)(23,"path",23)(24,"path",24)(25,"path",25)(26,"path",26)(27,"path",27)(28,"path",28)(29,"path",29)(30,"path",30)(31,"path",31)(32,"path",32)(33,"path",33)(34,"path",34)(35,"path",35)(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40)(41,"path",41)(42,"path",42)(43,"path",43)(44,"path",44)(45,"path",45)(46,"path",46)(47,"path",47)(48,"path",48)(49,"path",49)(50,"path",50)(51,"path",51)(52,"path",52)(53,"path",53)(54,"path",54)(55,"path",55),C.qZA()())},encapsulation:2,changeDetection:0}),e})(),zr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=C.lG2({type:e,selectors:[["div","nz-result-extra",""]],hostAttrs:[1,"ant-result-extra"],exportAs:["nzResultExtra"]}),e})();const xn={success:"check-circle",error:"close-circle",info:"exclamation-circle",warning:"warning"},na=["404","500","403"];let oi=(()=>{class e{constructor(t,n){this.cdr=t,this.directionality=n,this.nzStatus="info",this.isException=!1,this.dir="ltr",this.destroy$=new Ce.x}ngOnInit(){this.directionality.change?.pipe((0,we.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(){this.setStatusIcon()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusIcon(){const t=this.nzIcon;this.isException=-1!==na.indexOf(this.nzStatus),this.icon=t?"string"==typeof t&&xn[t]||t:this.isException?void 0:xn[this.nzStatus]}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(bt.Is,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-result"]],hostAttrs:[1,"ant-result"],hostVars:10,hostBindings:function(t,n){2&t&&C.ekj("ant-result-success","success"===n.nzStatus)("ant-result-error","error"===n.nzStatus)("ant-result-info","info"===n.nzStatus)("ant-result-warning","warning"===n.nzStatus)("ant-result-rtl","rtl"===n.dir)},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",nzStatus:"nzStatus",nzSubTitle:"nzSubTitle",nzExtra:"nzExtra"},exportAs:["nzResult"],features:[C.TTD],ngContentSelectors:Qe,decls:11,vars:8,consts:[[1,"ant-result-icon"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","ant-result-extra",4,"ngIf"],["exceptionTpl",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","fill",3,"nzType"],["class","ant-result-title",4,"nzStringTemplateOutlet"],[1,"ant-result-title"],["class","ant-result-subtitle",4,"nzStringTemplateOutlet"],[1,"ant-result-subtitle"],[1,"ant-result-extra"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,n){if(1&t&&(C.F$t(qe),C.TgZ(0,"div",0),C.YNc(1,R,3,2,"ng-container",1),C.qZA(),C.YNc(2,V,2,1,"ng-container",2),C.YNc(3,lt,1,0,"ng-content",2),C.YNc(4,St,2,1,"ng-container",2),C.YNc(5,Gt,1,0,"ng-content",2),C.Hsn(6),C.YNc(7,ie,2,1,"div",3),C.YNc(8,Ee,1,0,"ng-content",2),C.YNc(9,ke,4,4,"ng-template",null,4,C.W1O)),2&t){const i=C.MAs(10);C.xp6(1),C.Q6J("ngIf",!n.isException)("ngIfElse",i),C.xp6(1),C.Q6J("ngIf",n.nzTitle),C.xp6(1),C.Q6J("ngIf",!n.nzTitle),C.xp6(1),C.Q6J("ngIf",n.nzSubTitle),C.xp6(1),C.Q6J("ngIf",!n.nzSubTitle),C.xp6(2),C.Q6J("ngIf",n.nzExtra),C.xp6(1),C.Q6J("ngIf",!n.nzExtra)}},dependencies:[Ct.O5,Ct.RF,Ct.n9,re.f,q.Ls,er,Ye,sr],encapsulation:2,changeDetection:0}),e})(),Ol=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[bt.vT,Ct.ez,re.T,q.PV]}),e})();var jo=ct(4788),Ps=ct(8440),Pi=ct(5635),ks=ct(8395);const ts=["tree"];function Yu(e,r){1&e&&C._UZ(0,"i",7)}let Rl=(()=>{class e{constructor(t,n){this.dataService=t,this.handlerService=n,this.loading=!1}ngOnInit(){this.multiple=this.dimension.type===Ut.REFERENCE_MULTI||this.dimension.type===Ut.REFERENCE_TREE_MULTI;let t=this.dimension.type==Ut.REFERENCE_TREE_MULTI||this.dimension.type==Ut.REFERENCE_TREE_RADIO;this.loading=!0,this.dataService.getBiReference(this.code,this.dimension.id,this.handlerService.buildDimParam(this.bi,!1,!0)).subscribe(n=>{if(n){if(t)this.data=this.recursiveTree(n,null);else{let i=[];n.forEach(l=>{i.push({isLeaf:!0,key:l.id,title:l.title})}),this.data=i}if(this.multiple&&(this.data=[{key:null,title:"\u5168\u90e8",expanded:!0,children:this.data,all:!0}]),this.dimension.$value)switch(this.dimension.type){case Ut.REFERENCE:this.data.forEach(i=>{i.key==this.dimension.$value&&(i.selected=!0)});break;case Ut.REFERENCE_MULTI:this.data[0].children.forEach(i=>{-1!=this.dimension.$value.indexOf(i.key)&&(i.checked=!0)});break;case Ut.REFERENCE_TREE_RADIO:this.findAllNode(this.data).forEach(i=>{i.key==this.dimension.$value&&(i.selected=!0)});break;case Ut.REFERENCE_TREE_MULTI:this.findAllNode(this.data).forEach(i=>{-1!=this.dimension.$value.indexOf(i.key)&&(i.checked=!0)})}}else this.data=[];this.loading=!1})}recursiveTree(t,n){let i=[];return t.forEach(l=>{if(l.pid==n){let c={key:l.id,title:l.title,expanded:!0,children:this.recursiveTree(t,l.id)};c.isLeaf=!c.children.length,i.push(c)}}),i}nodeClickEvent(t){this.dimension.$viewValue=t.node.origin.title,this.dimension.$value=t.node.origin.key}nodeCheck(t){let n=this.findAllNode(t.checkedKeys),i=[],l=[];n.forEach(c=>{c.origin.key&&(l.push(c.origin.key),i.push(c.origin.title))}),this.dimension.$value=l.length+1===this.findAllNode(this.data).length?[]:l,this.dimension.$viewValue=i.join(" | ")}findAllNode(t,n=[]){return t.forEach(i=>{i.children&&this.findAllNode(i.children,n),n.push(i)}),n}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Rt),C.Y36(Ht))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-reference-select"]],viewQuery:function(t,n){if(1&t&&C.Gf(ts,5),2&t){let i;C.iGM(i=C.CRH())&&(n.tree=i.first)}},inputs:{dimension:"dimension",code:"code",bi:"bi"},decls:9,vars:9,consts:[[3,"nzSpinning"],[1,"mb-sm",2,"width","100%",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search",3,"ngModel","ngModelChange"],["searchSuffixIcon",""],[2,"max-height","450px","min-height","300px","overflow","auto"],["nzDraggable","",1,"tree-container",3,"nzCheckStrictly","nzCheckable","nzShowLine","nzHideUnMatched","nzData","nzSearchValue","nzClick","nzCheckBoxChange"],["tree",""],["nz-icon","","nzType","search"]],template:function(t,n){if(1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-input-group",1)(2,"input",2),C.NdJ("ngModelChange",function(l){return n.searchValue=l}),C.qZA()(),C.YNc(3,Yu,1,0,"ng-template",null,3,C.W1O),C._UZ(5,"br"),C.TgZ(6,"div",4)(7,"nz-tree",5,6),C.NdJ("nzClick",function(l){return n.multiple||n.nodeClickEvent(l)})("nzCheckBoxChange",function(l){return n.nodeCheck(l)}),C.qZA()()()),2&t){const i=C.MAs(4);C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("nzSuffix",i),C.xp6(1),C.Q6J("ngModel",n.searchValue),C.xp6(5),C.Q6J("nzCheckStrictly",!1)("nzCheckable",n.multiple)("nzShowLine",!0)("nzHideUnMatched",!0)("nzData",n.data)("nzSearchValue",n.searchValue)}},dependencies:[U.Fj,U.JJ,U.On,mt.w,q.Ls,Pi.Zp,Pi.gB,Pi.ke,Jt.W,ks.Hc],encapsulation:2}),e})();var zs=ct(5439),Wu=ct(7254),wv=ct(7570),I0=ct(8231),Fl=ct(834),O0=ct(4685),dh=ct(7096),ph=ct(6704),R0=ct(8521),_v=ct(6581);function F0(e,r){1&e&&(C.TgZ(0,"label",6),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&e&&(C.Q6J("nzValue",null),C.xp6(1),C.Oqu(C.lcZ(2,2,"global.check_none")))}function D0(e,r){if(1&e&&(C.TgZ(0,"label",6),C._uU(1),C.qZA()),2&e){const t=r.$implicit;C.Q6J("nzValue",t.id),C.xp6(1),C.Oqu(t.title)}}function B0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-radio-group",3),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.dim.$value=i)}),C.YNc(2,F0,3,4,"label",4),C.YNc(3,D0,2,2,"label",5),C.qZA(),C.BQk()}if(2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngModel",t.dim.$value)("name",t.dim.code),C.xp6(1),C.Q6J("ngIf",!t.dim.notNull),C.xp6(1),C.Q6J("ngForOf",t.data)}}function c2(e,r){if(1&e&&(C.TgZ(0,"label",10),C._uU(1),C.qZA()),2&e){const t=r.$implicit,n=C.oxw(2);C.Q6J("nzChecked",n.dim.$viewValue)("nzValue",t.id),C.xp6(1),C.Oqu(t.title)}}function P0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"label",7),C.NdJ("nzCheckedChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.dim.$viewValue=i)})("nzCheckedChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.checkedChangeAll(i))}),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.TgZ(4,"nz-checkbox-wrapper",8),C.NdJ("nzOnChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.checkedChange(i))}),C.YNc(5,c2,2,3,"label",9),C.qZA(),C.BQk()}if(2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzChecked",t.dim.$viewValue),C.xp6(1),C.Oqu(C.lcZ(3,3,"global.check_all")),C.xp6(3),C.Q6J("ngForOf",t.data)}}let k0=(()=>{class e{constructor(t){this.dataService=t,this.dimType=Ut}ngOnInit(){this.loading=!0,this.dataService.getBiReference(this.bi.code,this.dim.id,null).subscribe(t=>{this.data=t,this.loading=!1})}checkedChange(t){this.dim.$value=t}checkedChangeAll(t){this.dim.$viewValue=t,this.dim.$value=[]}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Rt))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-bi-choice"]],inputs:{dim:"dim",bi:"bi"},decls:4,vars:4,consts:[[3,"nzSpinning"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngModel","name","ngModelChange"],["nz-radio","",3,"nzValue",4,"ngIf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[3,"nzOnChange"],["nz-checkbox","",3,"nzChecked","nzValue",4,"ngFor","ngForOf"],["nz-checkbox","",3,"nzChecked","nzValue"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0),C.ynx(1,1),C.YNc(2,B0,4,4,"ng-container",2),C.YNc(3,P0,6,5,"ng-container",2),C.BQk(),C.qZA()),2&t&&(C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("ngSwitch",n.dim.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CHECKBOX))},dependencies:[Ct.sg,Ct.O5,Ct.RF,Ct.n9,U.JJ,U.On,P.Ie,P.EZ,R0.Of,R0.Dg,Jt.W,_v.C],styles:["label[nz-radio][_ngcontent-%COMP%]{min-width:120px;margin-right:0}label[nz-checkbox][_ngcontent-%COMP%]{min-width:120px;line-height:32px;margin-left:0}"]}),e})();var E=ct(655),Ci=ct(9521),es=ct(8184),Sv=ct(1135),z0=ct(9646),Mv=ct(9751),gh=ct(4968),rs=ct(515),Tv=ct(1884),Dl=ct(1365),yh=ct(4004),N0=ct(8675),h2=ct(3900),f2=ct(2539),mh=ct(2536),xh=ct(1691),bv=ct(3303),ka=ct(3187),H0=ct(7218),G0=ct(4896),Ch=ct(4903),Ns=ct(9570);const Av=["nz-cascader-option",""];function Ev(e,r){}const Y0=function(e,r){return{$implicit:e,index:r}};function W0(e,r){if(1&e&&(C.ynx(0),C.YNc(1,Ev,0,0,"ng-template",3),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngTemplateOutlet",t.optionTemplate)("ngTemplateOutletContext",C.WLB(2,Y0,t.option,t.columnIndex))}}function U0(e,r){if(1&e&&(C._UZ(0,"div",4),C.ALo(1,"nzHighlight")),2&e){const t=C.oxw();C.Q6J("innerHTML",C.gM2(1,1,t.optionLabel,t.highlightText,"g","ant-cascader-menu-item-keyword"),C.oJD)}}function Bl(e,r){1&e&&C._UZ(0,"span",8)}function Pl(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"span",10),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("nzType",t.expandIcon)}}function kl(e,r){if(1&e&&C.YNc(0,Pl,2,1,"ng-container",9),2&e){const t=C.oxw(2);C.Q6J("nzStringTemplateOutlet",t.expandIcon)}}function Lv(e,r){if(1&e&&(C.TgZ(0,"div",5),C.YNc(1,Bl,1,0,"span",6),C.YNc(2,kl,1,1,"ng-template",null,7,C.W1O),C.qZA()),2&e){const t=C.MAs(3),n=C.oxw();C.xp6(1),C.Q6J("ngIf",n.option.loading)("ngIfElse",t)}}const Uu=["selectContainer"],zl=["input"],Xu=["menu"];function Hs(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Oqu(t.labelRenderText)}}function wh(e,r){}function ns(e,r){if(1&e&&C.YNc(0,wh,0,0,"ng-template",16),2&e){const t=C.oxw(3);C.Q6J("ngTemplateOutlet",t.nzLabelRender)("ngTemplateOutletContext",t.labelRenderContext)}}function Iv(e,r){if(1&e&&(C.TgZ(0,"span",13),C.YNc(1,Hs,2,1,"ng-container",14),C.YNc(2,ns,1,2,"ng-template",null,15,C.W1O),C.qZA()),2&e){const t=C.MAs(3),n=C.oxw(2);C.Q6J("title",n.labelRenderText),C.xp6(1),C.Q6J("ngIf",!n.isLabelRenderTemplate)("ngIfElse",t)}}function Ov(e,r){if(1&e&&(C.TgZ(0,"span",17),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.Udp("visibility",t.inputValue?"hidden":"visible"),C.xp6(1),C.Oqu(t.showPlaceholder?t.nzPlaceHolder||(null==t.locale?null:t.locale.placeholder):null)}}function X0(e,r){if(1&e&&C._UZ(0,"span",22),2&e){const t=C.oxw(3);C.ekj("ant-cascader-picker-arrow-expand",t.menuVisible),C.Q6J("nzType",t.nzSuffixIcon)}}function Vu(e,r){1&e&&C._UZ(0,"span",23)}function _h(e,r){if(1&e&&C._UZ(0,"nz-form-item-feedback-icon",24),2&e){const t=C.oxw(3);C.Q6J("status",t.status)}}function Rv(e,r){if(1&e&&(C.TgZ(0,"span",18),C.YNc(1,X0,1,3,"span",19),C.YNc(2,Vu,1,0,"span",20),C.YNc(3,_h,1,1,"nz-form-item-feedback-icon",21),C.qZA()),2&e){const t=C.oxw(2);C.ekj("ant-select-arrow-loading",t.isLoading),C.xp6(1),C.Q6J("ngIf",!t.isLoading),C.xp6(1),C.Q6J("ngIf",t.isLoading),C.xp6(1),C.Q6J("ngIf",t.hasFeedback&&!!t.status)}}function Fv(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"span",25)(1,"span",26),C.NdJ("click",function(i){C.CHM(t);const l=C.oxw(2);return C.KtG(l.clearSelection(i))}),C.qZA()()}}function V0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"div",4,5)(3,"span",6)(4,"input",7,8),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.inputValue=i)})("blur",function(){C.CHM(t);const i=C.oxw();return C.KtG(i.handleInputBlur())})("focus",function(){C.CHM(t);const i=C.oxw();return C.KtG(i.handleInputFocus())}),C.qZA()(),C.YNc(6,Iv,4,3,"span",9),C.YNc(7,Ov,2,3,"span",10),C.qZA(),C.YNc(8,Rv,4,5,"span",11),C.YNc(9,Fv,2,0,"span",12),C.BQk()}if(2&e){const t=C.oxw();C.xp6(4),C.Udp("opacity",t.nzShowSearch?"":"0"),C.Q6J("readonly",!t.nzShowSearch)("disabled",t.nzDisabled)("ngModel",t.inputValue),C.uIk("autoComplete","off")("expanded",t.menuVisible)("autofocus",t.nzAutoFocus?"autofocus":null),C.xp6(2),C.Q6J("ngIf",t.showLabelRender),C.xp6(1),C.Q6J("ngIf",!t.showLabelRender),C.xp6(1),C.Q6J("ngIf",t.nzShowArrow),C.xp6(1),C.Q6J("ngIf",t.clearIconVisible)}}function v2(e,r){if(1&e&&(C.TgZ(0,"ul",32)(1,"li",33),C._UZ(2,"nz-embed-empty",34),C.qZA()()),2&e){const t=C.oxw(2);C.Udp("width",t.dropdownWidthStyle)("height",t.dropdownHeightStyle),C.xp6(2),C.Q6J("nzComponentName","cascader")("specificContent",t.nzNotFoundContent)}}function Dv(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"li",38),C.NdJ("mouseenter",function(i){const c=C.CHM(t).$implicit,f=C.oxw().index,d=C.oxw(3);return C.KtG(d.onOptionMouseEnter(c,f,i))})("mouseleave",function(i){const c=C.CHM(t).$implicit,f=C.oxw().index,d=C.oxw(3);return C.KtG(d.onOptionMouseLeave(c,f,i))})("click",function(i){const c=C.CHM(t).$implicit,f=C.oxw().index,d=C.oxw(3);return C.KtG(d.onOptionClick(c,f,i))}),C.qZA()}if(2&e){const t=r.$implicit,n=C.oxw().index,i=C.oxw(3);C.Q6J("expandIcon",i.nzExpandIcon)("columnIndex",n)("nzLabelProperty",i.nzLabelProperty)("optionTemplate",i.nzOptionRender)("activated",i.isOptionActivated(t,n))("highlightText",i.inSearchingMode?i.inputValue:"")("option",t)("dir",i.dir)}}function Sh(e,r){if(1&e&&(C.TgZ(0,"ul",36),C.YNc(1,Dv,1,8,"li",37),C.qZA()),2&e){const t=r.$implicit,n=C.oxw(3);C.Udp("height",n.dropdownHeightStyle)("width",n.dropdownWidthStyle),C.Q6J("ngClass",n.menuColumnCls),C.xp6(1),C.Q6J("ngForOf",t)}}function Bv(e,r){if(1&e&&C.YNc(0,Sh,2,6,"ul",35),2&e){const t=C.oxw(2);C.Q6J("ngForOf",t.cascaderService.columns)}}function Nl(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"div",27),C.NdJ("mouseenter",function(){C.CHM(t);const i=C.oxw();return C.KtG(i.onTriggerMouseEnter())})("mouseleave",function(i){C.CHM(t);const l=C.oxw();return C.KtG(l.onTriggerMouseLeave(i))}),C.TgZ(1,"div",28,29),C.YNc(3,v2,3,6,"ul",30),C.YNc(4,Bv,1,1,"ng-template",null,31,C.W1O),C.qZA()()}if(2&e){const t=C.MAs(5),n=C.oxw();C.ekj("ant-cascader-dropdown-rtl","rtl"===n.dir),C.Q6J("@slideMotion","enter")("@.disabled",!(null==n.noAnimation||!n.noAnimation.nzNoAnimation))("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation),C.xp6(1),C.ekj("ant-cascader-rtl","rtl"===n.dir)("ant-cascader-menus-hidden",!n.menuVisible)("ant-cascader-menu-empty",n.shouldShowEmpty),C.Q6J("ngClass",n.menuCls)("ngStyle",n.nzMenuStyle),C.xp6(2),C.Q6J("ngIf",n.shouldShowEmpty)("ngIfElse",t)}}const Hl=["*"];function Gl(e){return"boolean"!=typeof e}let za=(()=>{class e{constructor(t,n){this.cdr=t,this.optionTemplate=null,this.activated=!1,this.nzLabelProperty="label",this.expandIcon="",this.dir="ltr",this.nativeElement=n.nativeElement}ngOnInit(){""===this.expandIcon&&"rtl"===this.dir?this.expandIcon="left":""===this.expandIcon&&(this.expandIcon="right")}get optionLabel(){return this.option[this.nzLabelProperty]}markForCheck(){this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(C.SBq))},e.\u0275cmp=C.Xpm({type:e,selectors:[["","nz-cascader-option",""]],hostAttrs:[1,"ant-cascader-menu-item","ant-cascader-menu-item-expanded"],hostVars:7,hostBindings:function(t,n){2&t&&(C.uIk("title",n.option.title||n.optionLabel),C.ekj("ant-cascader-menu-item-active",n.activated)("ant-cascader-menu-item-expand",!n.option.isLeaf)("ant-cascader-menu-item-disabled",n.option.disabled))},inputs:{optionTemplate:"optionTemplate",option:"option",activated:"activated",highlightText:"highlightText",nzLabelProperty:"nzLabelProperty",columnIndex:"columnIndex",expandIcon:"expandIcon",dir:"dir"},exportAs:["nzCascaderOption"],attrs:Av,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["defaultOptionTemplate",""],["class","ant-cascader-menu-item-expand-icon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-cascader-menu-item-content",3,"innerHTML"],[1,"ant-cascader-menu-item-expand-icon"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["icon",""],["nz-icon","","nzType","loading"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,n){if(1&t&&(C.YNc(0,W0,2,5,"ng-container",0),C.YNc(1,U0,2,6,"ng-template",null,1,C.W1O),C.YNc(3,Lv,4,2,"div",2)),2&t){const i=C.MAs(2);C.Q6J("ngIf",n.optionTemplate)("ngIfElse",i),C.xp6(3),C.Q6J("ngIf",!n.option.isLeaf||(null==n.option.children?null:n.option.children.length)||n.option.loading)}},dependencies:[Ct.O5,Ct.tP,re.f,q.Ls,H0.U],encapsulation:2,changeDetection:0}),e})(),Pv=(()=>{class e{constructor(){this.activatedOptions=[],this.columns=[],this.inSearchingMode=!1,this.selectedOptions=[],this.values=[],this.$loading=new Sv.X(!1),this.$redraw=new Ce.x,this.$optionSelected=new Ce.x,this.$quitSearching=new Ce.x,this.columnsSnapshot=[[]],this.activatedOptionsSnapshot=[]}get nzOptions(){return this.columns[0]}ngOnDestroy(){this.$redraw.complete(),this.$quitSearching.complete(),this.$optionSelected.complete(),this.$loading.complete()}syncOptions(t=!1){const n=this.values,i=n&&n.length,l=n.length-1,c=f=>{const d=()=>{const p=n[f];if(!(0,ka.DX)(p))return void this.$redraw.next();const m=this.findOptionWithValue(f,n[f])||("object"==typeof p?p:{[`${this.cascaderComponent.nzValueProperty}`]:p,[`${this.cascaderComponent.nzLabelProperty}`]:p});this.setOptionActivated(m,f,!1,!1),f<l?c(f+1):(this.dropBehindColumns(f),this.selectedOptions=[...this.activatedOptions],this.$redraw.next())};this.isLoaded(f)||!this.cascaderComponent.nzLoadData?d():this.loadChildren(this.activatedOptions[f-1]||{},f-1,d)};this.activatedOptions=[],this.selectedOptions=[],t&&this.cascaderComponent.nzLoadData&&!i?this.$redraw.next():c(0)}withComponent(t){this.cascaderComponent=t}withOptions(t){this.columnsSnapshot=this.columns=t&&t.length?[t]:[],this.inSearchingMode?this.prepareSearchOptions(this.cascaderComponent.inputValue):this.columns.length&&this.syncOptions()}setOptionActivated(t,n,i=!1,l=!0){t.disabled||(this.activatedOptions[n]=t,this.trackAncestorActivatedOptions(n),this.dropBehindActivatedOptions(n),function Yl(e){return!!e.children&&!!e.children.length&&!e.isLeaf}(t)?this.setColumnData(t.children,n+1,t):!t.isLeaf&&l?this.loadChildren(t,n):t.isLeaf&&this.dropBehindColumns(n),i&&this.setOptionSelected(t,n),this.$redraw.next())}setOptionSelected(t,n){const i=this.cascaderComponent.nzChangeOn;(t.isLeaf||this.cascaderComponent.nzChangeOnSelect||"function"==typeof i&&i(t,n))&&(this.selectedOptions=[...this.activatedOptions],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:n}))}setOptionDeactivatedSinceColumn(t){this.dropBehindActivatedOptions(t-1),this.dropBehindColumns(t),this.$redraw.next()}setSearchOptionSelected(t){this.activatedOptions=[t],this.selectedOptions=[...t.path],this.prepareEmitValue(),this.$redraw.next(),this.$optionSelected.next({option:t,index:0}),setTimeout(()=>{this.$quitSearching.next(),this.$redraw.next(),this.inSearchingMode=!1,this.columns=[...this.columnsSnapshot],this.activatedOptions=[...this.selectedOptions]},200)}prepareSearchOptions(t){const n=[],i=[],c=this.cascaderComponent.nzShowSearch,f=Gl(c)&&c.filter?c.filter:(x,_)=>_.some(T=>{const b=this.getOptionLabel(T);return!!b&&-1!==b.indexOf(x)}),d=Gl(c)&&c.sorter?c.sorter:null,p=(x,_=!1)=>{i.push(x);const T=Array.from(i);if(f(t,T)){const I={disabled:_||x.disabled,isLeaf:!0,path:T,[this.cascaderComponent.nzLabelProperty]:T.map(F=>this.getOptionLabel(F)).join(" / ")};n.push(I)}i.pop()},m=(x,_=!1)=>{const T=_||x.disabled;i.push(x),x.children.forEach(b=>{b.parent||(b.parent=x),b.isLeaf||m(b,T),(b.isLeaf||!b.children||!b.children.length)&&p(b,T)}),i.pop()};this.columnsSnapshot.length?(this.columnsSnapshot[0].forEach(x=>function Eo(e){return e.isLeaf||!e.children||!e.children.length}(x)?p(x):m(x)),d&&n.sort((x,_)=>d(x.path,_.path,t)),this.columns=[n],this.$redraw.next()):this.columns=[[]]}toggleSearchingMode(t){this.inSearchingMode=t,t?(this.activatedOptionsSnapshot=[...this.activatedOptions],this.activatedOptions=[],this.selectedOptions=[],this.$redraw.next()):(this.activatedOptions=[...this.activatedOptionsSnapshot],this.selectedOptions=[...this.activatedOptions],this.columns=[...this.columnsSnapshot],this.syncOptions(),this.$redraw.next())}clear(){this.values=[],this.selectedOptions=[],this.activatedOptions=[],this.dropBehindColumns(0),this.$redraw.next(),this.$optionSelected.next(null)}getOptionLabel(t){return t[this.cascaderComponent.nzLabelProperty||"label"]}getOptionValue(t){return t[this.cascaderComponent.nzValueProperty||"value"]}setColumnData(t,n,i){(0,ka.cO)(this.columns[n],t)||(t.forEach(c=>c.parent=i),this.columns[n]=t,this.dropBehindColumns(n))}trackAncestorActivatedOptions(t){for(let n=t-1;n>=0;n--)this.activatedOptions[n]||(this.activatedOptions[n]=this.activatedOptions[n+1].parent)}dropBehindActivatedOptions(t){this.activatedOptions=this.activatedOptions.splice(0,t+1)}dropBehindColumns(t){t<this.columns.length-1&&(this.columns=this.columns.slice(0,t+1))}loadChildren(t,n,i,l){const c=this.cascaderComponent.nzLoadData;c&&(this.$loading.next(n<0),"object"==typeof t&&(t.loading=!0),c(t,n).then(()=>{t.loading=!1,t.children&&this.setColumnData(t.children,n+1,t),i&&i(),this.$loading.next(!1),this.$redraw.next()},()=>{t.loading=!1,t.isLeaf=!0,l&&l(),this.$redraw.next()}))}isLoaded(t){return this.columns[t]&&this.columns[t].length>0}findOptionWithValue(t,n){const i=this.columns[t];if(i){const l="object"==typeof n?this.getOptionValue(n):n;return i.find(c=>l===this.getOptionValue(c))}return null}prepareEmitValue(){this.values=this.selectedOptions.map(t=>this.getOptionValue(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();const kv="cascader",$0=e=>e.join(" / ");let Z0=(()=>{class e{constructor(t,n,i,l,c,f,d,p,m,x,_,T){this.cascaderService=t,this.nzConfigService=n,this.ngZone=i,this.cdr=l,this.i18nService=c,this.destroy$=f,this.elementRef=d,this.renderer=p,this.directionality=m,this.noAnimation=x,this.nzFormStatusService=_,this.nzFormNoStatusService=T,this._nzModuleName=kv,this.input$=new Sv.X(void 0),this.nzOptionRender=null,this.nzShowInput=!0,this.nzShowArrow=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzChangeOnSelect=!1,this.nzDisabled=!1,this.nzExpandTrigger="click",this.nzValueProperty="value",this.nzLabelRender=null,this.nzLabelProperty="label",this.nzSize="default",this.nzBackdrop=!1,this.nzShowSearch=!1,this.nzPlaceHolder="",this.nzMenuStyle=null,this.nzMouseEnterDelay=150,this.nzMouseLeaveDelay=150,this.nzStatus="",this.nzTriggerAction=["click"],this.nzSuffixIcon="down",this.nzExpandIcon="",this.nzVisibleChange=new C.vpe,this.nzSelectionChange=new C.vpe,this.nzSelect=new C.vpe,this.nzClear=new C.vpe,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.shouldShowEmpty=!1,this.menuVisible=!1,this.isLoading=!1,this.labelRenderContext={},this.onChange=Function.prototype,this.onTouched=Function.prototype,this.positions=[...xh.n$],this.dropdownHeightStyle="",this.isFocused=!1,this.dir="ltr",this.inputString="",this.isOpening=!1,this.delayMenuTimer=null,this.delaySelectTimer=null,this.isNzDisableFirstChange=!0,this.el=d.nativeElement,this.cascaderService.withComponent(this),this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-cascader")}set input(t){this.input$.next(t)}get input(){return this.input$.getValue()}get nzOptions(){return this.cascaderService.nzOptions}set nzOptions(t){this.cascaderService.withOptions(t)}get inSearchingMode(){return this.cascaderService.inSearchingMode}set inputValue(t){this.inputString=t,this.toggleSearchingMode(!!t)}get inputValue(){return this.inputString}get menuCls(){return{[`${this.nzMenuClassName}`]:!!this.nzMenuClassName}}get menuColumnCls(){return{[`${this.nzColumnClassName}`]:!!this.nzColumnClassName}}get hasInput(){return!!this.inputValue}get hasValue(){return this.cascaderService.values&&this.cascaderService.values.length>0}get showLabelRender(){return this.hasValue}get showPlaceholder(){return!(this.hasInput||this.hasValue)}get clearIconVisible(){return this.nzAllowClear&&!this.nzDisabled&&(this.hasValue||this.hasInput)}get isLabelRenderTemplate(){return!!this.nzLabelRender}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Tv.x)((n,i)=>n.status===i.status&&n.hasFeedback===i.hasFeedback),(0,Dl.M)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,z0.of)(!1)),(0,yh.U)(([{status:n,hasFeedback:i},l])=>({status:l?"":n,hasFeedback:i})),(0,we.R)(this.destroy$)).subscribe(({status:n,hasFeedback:i})=>{this.setStatusStyles(n,i)});const t=this.cascaderService;t.$redraw.pipe((0,we.R)(this.destroy$)).subscribe(()=>{this.checkChildren(),this.setDisplayLabel(),this.cdr.detectChanges(),this.reposition(),this.setDropdownStyles()}),t.$loading.pipe((0,we.R)(this.destroy$)).subscribe(n=>{this.isLoading=n}),t.$optionSelected.pipe((0,we.R)(this.destroy$)).subscribe(n=>{if(n){const{option:i,index:l}=n;(i.isLeaf||this.nzChangeOnSelect&&"hover"===this.nzExpandTrigger)&&this.delaySetMenuVisible(!1),this.onChange(this.cascaderService.values),this.nzSelectionChange.emit(this.cascaderService.selectedOptions),this.nzSelect.emit({option:i,index:l}),this.cdr.markForCheck()}else this.onChange([]),this.nzSelect.emit(null),this.nzSelectionChange.emit([])}),t.$quitSearching.pipe((0,we.R)(this.destroy$)).subscribe(()=>{this.inputString="",this.dropdownWidthStyle=""}),this.i18nService.localeChange.pipe((0,N0.O)(),(0,we.R)(this.destroy$)).subscribe(()=>{this.setLocale()}),this.nzConfigService.getConfigChangeEventForComponent(kv).pipe((0,we.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change.pipe((0,we.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value,t.$redraw.next()}),this.setupChangeListener(),this.setupKeydownListener()}ngOnChanges(t){const{nzStatus:n}=t;n&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.clearDelayMenuTimer(),this.clearDelaySelectTimer()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.cascaderService.values=(0,ka.qo)(t),this.cascaderService.syncOptions(!0)}delaySetMenuVisible(t,n=100,i=!1){this.clearDelayMenuTimer(),n?(t&&i&&(this.isOpening=!0),this.delayMenuTimer=setTimeout(()=>{this.setMenuVisible(t),this.cdr.detectChanges(),this.clearDelayMenuTimer(),t&&setTimeout(()=>{this.isOpening=!1},100)},n)):this.setMenuVisible(t)}setMenuVisible(t){this.nzDisabled||this.menuVisible===t||(t&&(this.cascaderService.syncOptions(),this.scrollToActivatedOptions()),t||(this.inputValue=""),this.menuVisible=t,this.nzVisibleChange.emit(t),this.cdr.detectChanges())}clearDelayMenuTimer(){this.delayMenuTimer&&(clearTimeout(this.delayMenuTimer),this.delayMenuTimer=null)}clearSelection(t){t&&(t.preventDefault(),t.stopPropagation()),this.labelRenderText="",this.labelRenderContext={},this.inputValue="",this.setMenuVisible(!1),this.cascaderService.clear(),this.nzClear.emit()}getSubmitValue(){return this.cascaderService.selectedOptions.map(t=>this.cascaderService.getOptionValue(t))}focus(){this.isFocused||((this.input?.nativeElement||this.el).focus(),this.isFocused=!0)}blur(){this.isFocused&&((this.input?.nativeElement||this.el).blur(),this.isFocused=!1)}handleInputBlur(){this.menuVisible?this.focus():this.blur()}handleInputFocus(){this.focus()}onTriggerClick(){this.nzDisabled||(this.nzShowSearch&&this.focus(),this.isActionTrigger("click")&&this.delaySetMenuVisible(!this.menuVisible,100),this.onTouched())}onTriggerMouseEnter(){this.nzDisabled||!this.isActionTrigger("hover")||this.delaySetMenuVisible(!0,this.nzMouseEnterDelay,!0)}onTriggerMouseLeave(t){if(this.nzDisabled||!this.menuVisible||this.isOpening||!this.isActionTrigger("hover"))return void t.preventDefault();const n=t.relatedTarget,l=this.menu&&this.menu.nativeElement;this.el.contains(n)||l&&l.contains(n)||this.delaySetMenuVisible(!1,this.nzMouseLeaveDelay)}onOptionMouseEnter(t,n,i){i.preventDefault(),"hover"===this.nzExpandTrigger&&(t.isLeaf?this.cascaderService.setOptionDeactivatedSinceColumn(n):this.delaySetOptionActivated(t,n,!1))}onOptionMouseLeave(t,n,i){i.preventDefault(),"hover"===this.nzExpandTrigger&&!t.isLeaf&&this.clearDelaySelectTimer()}onOptionClick(t,n,i){i&&i.preventDefault(),(!t||!t.disabled)&&(this.el.focus(),this.inSearchingMode?this.cascaderService.setSearchOptionSelected(t):this.cascaderService.setOptionActivated(t,n,!0))}onClickOutside(t){this.el.contains(t.target)||this.closeMenu()}isActionTrigger(t){return"string"==typeof this.nzTriggerAction?this.nzTriggerAction===t:-1!==this.nzTriggerAction.indexOf(t)}onEnter(){const t=Math.max(this.cascaderService.activatedOptions.length-1,0),n=this.cascaderService.activatedOptions[t];n&&!n.disabled&&(this.inSearchingMode?this.cascaderService.setSearchOptionSelected(n):this.cascaderService.setOptionActivated(n,t,!0))}moveUpOrDown(t){const n=Math.max(this.cascaderService.activatedOptions.length-1,0),i=this.cascaderService.activatedOptions[n],l=this.cascaderService.columns[n]||[],c=l.length;let f=-1;for(f=i?l.indexOf(i):t?c:-1;f=t?f-1:f+1,!(f<0||f>=c);){const d=l[f];if(d&&!d.disabled){this.cascaderService.setOptionActivated(d,n);break}}}moveLeft(){const t=this.cascaderService.activatedOptions;t.length&&t.pop()}moveRight(){const t=this.cascaderService.activatedOptions.length,n=this.cascaderService.columns[t];if(n&&n.length){const i=n.find(l=>!l.disabled);i&&this.cascaderService.setOptionActivated(i,t)}}clearDelaySelectTimer(){this.delaySelectTimer&&(clearTimeout(this.delaySelectTimer),this.delaySelectTimer=null)}delaySetOptionActivated(t,n,i){this.clearDelaySelectTimer(),this.delaySelectTimer=setTimeout(()=>{this.cascaderService.setOptionActivated(t,n,i),this.delaySelectTimer=null},150)}toggleSearchingMode(t){this.inSearchingMode!==t&&this.cascaderService.toggleSearchingMode(t),this.inSearchingMode&&this.cascaderService.prepareSearchOptions(this.inputValue)}isOptionActivated(t,n){return this.cascaderService.activatedOptions[n]===t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.closeMenu()}closeMenu(){this.blur(),this.clearDelayMenuTimer(),this.setMenuVisible(!1)}reposition(){this.overlay&&this.overlay.overlayRef&&this.menuVisible&&Promise.resolve().then(()=>{this.overlay.overlayRef.updatePosition(),this.cdr.markForCheck()})}checkChildren(){this.cascaderItems&&this.cascaderItems.forEach(t=>t.markForCheck())}setDisplayLabel(){const t=this.cascaderService.selectedOptions,n=t.map(i=>this.cascaderService.getOptionLabel(i));this.isLabelRenderTemplate?this.labelRenderContext={labels:n,selectedOptions:t}:this.labelRenderText=$0.call(this,n)}setDropdownStyles(){const t=this.cascaderService.columns[0];this.shouldShowEmpty=this.inSearchingMode&&(!t||!t.length)||!(this.nzOptions&&this.nzOptions.length)&&!this.nzLoadData,this.dropdownHeightStyle=this.shouldShowEmpty?"auto":"",this.input&&(this.dropdownWidthStyle=this.inSearchingMode||this.shouldShowEmpty?`${this.selectContainer.nativeElement.offsetWidth}px`:"")}setStatusStyles(t,n){this.status=t,this.hasFeedback=n,this.cdr.markForCheck(),this.statusCls=(0,ka.Zu)(this.prefixCls,t,n),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}setLocale(){this.locale=this.i18nService.getLocaleData("global"),this.cdr.markForCheck()}scrollToActivatedOptions(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.cascaderItems.toArray().filter(t=>t.activated).forEach(t=>{t.nativeElement.scrollIntoView({block:"start",inline:"nearest"})})})})}setupChangeListener(){this.input$.pipe((0,h2.w)(t=>t?new Mv.y(n=>this.ngZone.runOutsideAngular(()=>(0,gh.R)(t.nativeElement,"change").subscribe(n))):rs.E),(0,we.R)(this.destroy$)).subscribe(t=>t.stopPropagation())}setupKeydownListener(){this.ngZone.runOutsideAngular(()=>{(0,gh.R)(this.el,"keydown").pipe((0,we.R)(this.destroy$)).subscribe(t=>{const n=t.keyCode;if(n===Ci.JH||n===Ci.LH||n===Ci.oh||n===Ci.SV||n===Ci.K5||n===Ci.ZH||n===Ci.hY){if(!this.menuVisible&&n!==Ci.ZH&&n!==Ci.hY)return this.ngZone.run(()=>this.setMenuVisible(!0));this.inSearchingMode&&(n===Ci.ZH||n===Ci.oh||n===Ci.SV)||this.menuVisible&&(t.preventDefault(),this.ngZone.run(()=>{n===Ci.JH?this.moveUpOrDown(!1):n===Ci.LH?this.moveUpOrDown(!0):n===Ci.oh?this.moveLeft():n===Ci.SV?this.moveRight():n===Ci.K5&&this.onEnter(),this.cdr.markForCheck()}))}})})}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Pv),C.Y36(mh.jY),C.Y36(C.R0b),C.Y36(C.sBO),C.Y36(G0.wi),C.Y36(bv.kn),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(bt.Is,8),C.Y36(Ch.P,9),C.Y36(Ns.kH,8),C.Y36(Ns.yW,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-cascader"],["","nz-cascader",""]],viewQuery:function(t,n){if(1&t&&(C.Gf(Uu,5),C.Gf(zl,5),C.Gf(Xu,5),C.Gf(es.pI,5),C.Gf(za,5)),2&t){let i;C.iGM(i=C.CRH())&&(n.selectContainer=i.first),C.iGM(i=C.CRH())&&(n.input=i.first),C.iGM(i=C.CRH())&&(n.menu=i.first),C.iGM(i=C.CRH())&&(n.overlay=i.first),C.iGM(i=C.CRH())&&(n.cascaderItems=i)}},hostVars:23,hostBindings:function(t,n){1&t&&C.NdJ("click",function(){return n.onTriggerClick()})("mouseenter",function(){return n.onTriggerMouseEnter()})("mouseleave",function(l){return n.onTriggerMouseLeave(l)}),2&t&&(C.uIk("tabIndex","0"),C.ekj("ant-select-in-form-item",!!n.nzFormStatusService)("ant-select-lg","large"===n.nzSize)("ant-select-sm","small"===n.nzSize)("ant-select-allow-clear",n.nzAllowClear)("ant-select-show-arrow",n.nzShowArrow)("ant-select-show-search",!!n.nzShowSearch)("ant-select-disabled",n.nzDisabled)("ant-select-open",n.menuVisible)("ant-select-focused",n.isFocused)("ant-select-single",!0)("ant-select-rtl","rtl"===n.dir))},inputs:{nzOptionRender:"nzOptionRender",nzShowInput:"nzShowInput",nzShowArrow:"nzShowArrow",nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzChangeOnSelect:"nzChangeOnSelect",nzDisabled:"nzDisabled",nzColumnClassName:"nzColumnClassName",nzExpandTrigger:"nzExpandTrigger",nzValueProperty:"nzValueProperty",nzLabelRender:"nzLabelRender",nzLabelProperty:"nzLabelProperty",nzNotFoundContent:"nzNotFoundContent",nzSize:"nzSize",nzBackdrop:"nzBackdrop",nzShowSearch:"nzShowSearch",nzPlaceHolder:"nzPlaceHolder",nzMenuClassName:"nzMenuClassName",nzMenuStyle:"nzMenuStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzStatus:"nzStatus",nzTriggerAction:"nzTriggerAction",nzChangeOn:"nzChangeOn",nzLoadData:"nzLoadData",nzSuffixIcon:"nzSuffixIcon",nzExpandIcon:"nzExpandIcon",nzOptions:"nzOptions"},outputs:{nzVisibleChange:"nzVisibleChange",nzSelectionChange:"nzSelectionChange",nzSelect:"nzSelect",nzClear:"nzClear"},exportAs:["nzCascader"],features:[C._Bn([{provide:U.JU,useExisting:(0,C.Gpc)(()=>e),multi:!0},Pv,bv.kn]),C.TTD],ngContentSelectors:Hl,decls:6,vars:6,consts:[["cdkOverlayOrigin",""],["origin","cdkOverlayOrigin","trigger",""],[4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayOpen","overlayOutsideClick","detach"],[1,"ant-select-selector"],["selectContainer",""],[1,"ant-select-selection-search"],["type","search",1,"ant-select-selection-search-input",3,"readonly","disabled","ngModel","ngModelChange","blur","focus"],["input",""],["class","ant-select-selection-item",3,"title",4,"ngIf"],["class","ant-select-selection-placeholder",3,"visibility",4,"ngIf"],["class","ant-select-arrow",3,"ant-select-arrow-loading",4,"ngIf"],["class","ant-select-clear",4,"ngIf"],[1,"ant-select-selection-item",3,"title"],[4,"ngIf","ngIfElse"],["labelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-select-selection-placeholder"],[1,"ant-select-arrow"],["nz-icon","",3,"nzType","ant-cascader-picker-arrow-expand",4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf"],[3,"status",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],[3,"status"],[1,"ant-select-clear"],["nz-icon","","nzType","close-circle","nzTheme","fill",3,"click"],[1,"ant-select-dropdown","ant-cascader-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation","mouseenter","mouseleave"],[1,"ant-cascader-menus",3,"ngClass","ngStyle"],["menu",""],["class","ant-cascader-menu",3,"width","height",4,"ngIf","ngIfElse"],["hasOptionsTemplate",""],[1,"ant-cascader-menu"],[1,"ant-cascader-menu-item","ant-cascader-menu-item-disabled"],[1,"ant-cascader-menu-item-content",3,"nzComponentName","specificContent"],["class","ant-cascader-menu","role","menuitemcheckbox",3,"ngClass","height","width",4,"ngFor","ngForOf"],["role","menuitemcheckbox",1,"ant-cascader-menu",3,"ngClass"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["nz-cascader-option","",3,"expandIcon","columnIndex","nzLabelProperty","optionTemplate","activated","highlightText","option","dir","mouseenter","mouseleave","click"]],template:function(t,n){if(1&t&&(C.F$t(),C.TgZ(0,"div",0,1),C.YNc(3,V0,10,12,"ng-container",2),C.Hsn(4),C.qZA(),C.YNc(5,Nl,6,15,"ng-template",3),C.NdJ("overlayOutsideClick",function(l){return n.onClickOutside(l)})("detach",function(){return n.closeMenu()})),2&t){const i=C.MAs(1);C.xp6(3),C.Q6J("ngIf",n.nzShowInput),C.xp6(2),C.Q6J("cdkConnectedOverlayHasBackdrop",n.nzBackdrop)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayPositions",n.positions)("cdkConnectedOverlayTransformOriginOn",".ant-cascader-dropdown")("cdkConnectedOverlayOpen",n.menuVisible)}},dependencies:[bt.Lv,Ct.mk,Ct.sg,Ct.O5,Ct.tP,Ct.PC,U.Fj,U.JJ,U.On,es.pI,es.xu,jo.gB,q.Ls,Ch.P,xh.hQ,Ns.w_,za],encapsulation:2,data:{animation:[f2.mF]},changeDetection:0}),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzShowInput",void 0),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzShowArrow",void 0),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzAllowClear",void 0),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzAutoFocus",void 0),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzChangeOnSelect",void 0),(0,E.gn)([(0,ka.yF)()],e.prototype,"nzDisabled",void 0),(0,E.gn)([(0,mh.oS)()],e.prototype,"nzSize",void 0),(0,E.gn)([(0,mh.oS)()],e.prototype,"nzBackdrop",void 0),e})(),Mh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[bt.vT,Ct.ez,U.u5,es.U8,re.T,jo.Xo,H0.C,q.PV,Pi.o7,Ch.g,xh.e4,Ns.mJ]}),e})(),zv=(()=>{class e{constructor(t,n,i){this.dataService=t,this.handlerService=n,this.i18nService=i,this.loading=!1}fanyi(t){return this.i18nService.fanyi("")}ngOnInit(){this.loading=!0,this.dataService.getBiReference(this.bi.code,this.dim.id,this.handlerService.buildDimParam(this.bi,!1,!0)).subscribe(t=>{this.data=this.recursiveTree(t,null),this.data.forEach(n=>{n.key==this.dim.$value&&(n.selected=!0)}),this.loading=!1})}recursiveTree(t,n){let i=[];return t.forEach(l=>{if(l.pid==n){let c={value:l.id,label:l.title,children:this.recursiveTree(t,l.id)};c.isLeaf=!c.children.length,i.push(c)}}),i}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Rt),C.Y36(Ht),C.Y36(Wu.t$))},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-bi-cascade"]],inputs:{dim:"dim",bi:"bi"},decls:2,vars:6,consts:[[3,"nzSpinning"],[2,"width","100%",3,"ngModel","nzChangeOnSelect","nzShowSearch","nzNotFoundContent","nzOptions","ngModelChange"]],template:function(t,n){1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-cascader",1),C.NdJ("ngModelChange",function(l){return n.dim.$value=l}),C.qZA()()),2&t&&(C.Q6J("nzSpinning",n.loading),C.xp6(1),C.Q6J("ngModel",n.dim.$value)("nzChangeOnSelect",!0)("nzShowSearch",!0)("nzNotFoundContent",n.fanyi("global.no_data"))("nzOptions",n.data))},dependencies:[U.JJ,U.On,Jt.W,Z0],encapsulation:2}),e})();const q0=["*"];let Nv=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-search-se"]],inputs:{dimension:"dimension"},ngContentSelectors:q0,decls:9,vars:3,consts:[[2,"display","flex","margin","4px 0"],[2,"display","flex","justify-content","flex-end"],[1,"ellipsis",2,"line-height","32px","width","90px","text-align","right"],[2,"color","#f00"],[2,"margin","0 3px",3,"title"],[2,"flex","1","width","100%"]],template:function(t,n){1&t&&(C.F$t(),C.TgZ(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),C._uU(4),C.qZA(),C.TgZ(5,"span",4),C._uU(6),C.qZA()()(),C.TgZ(7,"div",5),C.Hsn(8),C.qZA()()),2&t&&(C.xp6(4),C.Oqu(n.dimension.notNull?"*":""),C.xp6(1),C.Q6J("title",n.dimension.title),C.xp6(1),C.hij("",n.dimension.title," : \xa0"))}}),e})();function Hv(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",6)(2,"bi-search-se",7),C._UZ(3,"erupt-bi-choice",8),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(2),C.Q6J("dimension",t),C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function K0(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",6)(2,"bi-search-se",7),C._UZ(3,"erupt-bi-choice",8),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(2),C.Q6J("dimension",t),C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function Gv(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-select",11),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("nzMode","tags")("ngModel",t.$value)("name",t.code)}}function Wl(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"i",16),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(4).$implicit;return C.KtG(i.$value=null)}),C.qZA()}}function Yv(e,r){if(1&e&&C.YNc(0,Wl,1,0,"i",15),2&e){const t=C.oxw(3).$implicit;C.Q6J("ngIf",t.$value)}}function is(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",12)(2,"input",13),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)})("keydown",function(i){C.CHM(t);const l=C.oxw(3);return C.KtG(l.enterEvent(i))}),C.qZA()(),C.YNc(3,Yv,1,1,"ng-template",null,14,C.W1O),C.BQk()}if(2&e){const t=C.MAs(4),n=C.oxw(2).$implicit;C.xp6(1),C.Q6J("nzSuffix",t),C.xp6(1),C.Q6J("ngModel",n.$value)("name",n.code)("required",n.notNull)}}function Q0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-number",17),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)})("keydown",function(i){C.CHM(t);const l=C.oxw(3);return C.KtG(l.enterEvent(i))}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Th(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",18)(2,"nz-input-number",19),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value[0]=i)}),C.qZA(),C._UZ(3,"input",20),C.TgZ(4,"nz-input-number",19),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value[1]=i)}),C.qZA()(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(2),C.Q6J("ngModel",t.$value[0])("name",t.code),C.xp6(2),C.Q6J("ngModel",t.$value[1])("name",t.code)}}function Qi(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",22),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(3).$implicit,l=C.oxw();return C.KtG(l.clearRef(i))}),C.qZA(),C.BQk()}}function Wv(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",23),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(3).$implicit,l=C.oxw();return C.KtG(l.ref(i))}),C.qZA(),C.BQk()}}function Ul(e,r){if(1&e&&(C.YNc(0,Qi,2,0,"ng-container",21),C.YNc(1,Wv,2,0,"ng-container",21)),2&e){const t=C.oxw(2).$implicit;C.Q6J("ngIf",t.$value),C.xp6(1),C.Q6J("ngIf",!t.$value)}}function Gs(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2).$implicit,l=C.oxw();return C.KtG(l.ref(i))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function Uv(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2).$implicit,l=C.oxw();return C.KtG(l.ref(i))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function Xv(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2).$implicit,l=C.oxw();return C.KtG(l.ref(i))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function J0(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-input-group",24)(2,"input",25),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2).$implicit,l=C.oxw();return C.KtG(l.ref(i))}),C.qZA()(),C.BQk()}if(2&e){C.oxw();const t=C.MAs(10),n=C.oxw().$implicit;C.xp6(1),C.Q6J("nzAddOnAfter",t),C.xp6(1),C.Q6J("required",n.notNull)("readOnly",!0)("value",n.$viewValue||null)("name",n.code)}}function st(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"erupt-bi-cascade",8),C.BQk()),2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("dim",t)("bi",n.bi)}}function Ft(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-date-picker",26),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function jt(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-range-picker",27),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngModel",t.$value)("nzRanges",n.dateRanges)("name",t.code)}}function fe(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-time-picker",28),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Le(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-date-picker",29),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function $e(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-range-picker",30),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)("nzRanges",n.dateRanges)}}function dr(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-week-picker",28),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function an(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-month-picker",28),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Oi(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-year-picker",28),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw(2).$implicit;return C.KtG(l.$value=i)}),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",t.$value)("name",t.code)}}function Ji(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",9)(2,"bi-search-se",7),C.ynx(3,3),C.YNc(4,Gv,2,3,"ng-container",4),C.YNc(5,is,5,4,"ng-container",4),C.YNc(6,Q0,2,2,"ng-container",4),C.YNc(7,Th,5,4,"ng-container",4),C.ynx(8),C.YNc(9,Ul,2,2,"ng-template",null,10,C.W1O),C.YNc(11,Gs,3,5,"ng-container",4),C.YNc(12,Uv,3,5,"ng-container",4),C.YNc(13,Xv,3,5,"ng-container",4),C.YNc(14,J0,3,5,"ng-container",4),C.BQk(),C.YNc(15,st,2,2,"ng-container",4),C.YNc(16,Ft,2,2,"ng-container",4),C.YNc(17,jt,2,3,"ng-container",4),C.YNc(18,fe,2,2,"ng-container",4),C.YNc(19,Le,2,2,"ng-container",4),C.YNc(20,$e,2,3,"ng-container",4),C.YNc(21,dr,2,2,"ng-container",4),C.YNc(22,an,2,2,"ng-container",4),C.YNc(23,Oi,2,2,"ng-container",4),C.BQk(),C.qZA()(),C.BQk()),2&e){const t=C.oxw().$implicit,n=C.oxw();C.xp6(1),C.Q6J("nzXs",n.col.xs)("nzSm",n.col.sm)("nzMd",n.col.md)("nzLg",n.col.lg)("nzXl",n.col.xl)("nzXXl",n.col.xxl),C.xp6(1),C.Q6J("dimension",t),C.xp6(1),C.Q6J("ngSwitch",t.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.TAG),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.INPUT),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.NUMBER),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.NUMBER_RANGE),C.xp6(4),C.Q6J("ngSwitchCase",n.dimType.REFERENCE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_MULTI),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_TREE_MULTI),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_TREE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CASCADE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATE_RANGE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.TIME),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATETIME),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.DATETIME_RANGE),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.WEEK),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.MONTH),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.YEAR)}}function ia(e,r){if(1&e&&(C.ynx(0)(1,3),C.YNc(2,Hv,4,3,"ng-container",4),C.YNc(3,K0,4,3,"ng-container",4),C.YNc(4,Ji,24,25,"ng-container",5),C.BQk()()),2&e){const t=r.$implicit,n=C.oxw();C.xp6(1),C.Q6J("ngSwitch",t.type),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_RADIO),C.xp6(1),C.Q6J("ngSwitchCase",n.dimType.REFERENCE_CHECKBOX)}}let $u=(()=>{class e{constructor(t,n){this.modal=t,this.i18n=n,this.search=new C.vpe,this.col=Ps.l[3],this.dimType=Ut,this.dateRanges={},this.datePipe=new Ct.uU("zh-cn")}ngOnInit(){this.dateRanges={[this.i18n.fanyi("global.today")]:[this.datePipe.transform(new Date,"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_7_day")]:[this.datePipe.transform(zs().add(-7,"day").toDate(),"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_30_day")]:[this.datePipe.transform(zs().add(-30,"day").toDate(),"yyyy-MM-dd 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.this_month")]:[this.datePipe.transform(zs().toDate(),"yyyy-MM-01 00:00:00"),this.datePipe.transform(new Date,"yyyy-MM-dd 23:59:59")],[this.i18n.fanyi("global.date.last_month")]:[this.datePipe.transform(zs().add(-1,"month").toDate(),"yyyy-MM-01 00:00:00"),this.datePipe.transform(zs().add(-1,"month").endOf("month").toDate(),"yyyy-MM-dd 23:59:59")]}}ref(t){this.modal.create({nzWrapClassName:"modal-xs",nzKeyboard:!0,nzStyle:{top:"30px"},nzTitle:t.title,nzContent:Rl,nzComponentParams:{dimension:t,code:this.bi.code,bi:this.bi},nzOnOk:n=>{}})}clearRef(t){t.$viewValue=null,t.$value=null}enterEvent(t){13===t.which&&this.search.emit()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(K.Sf),C.Y36(Wu.t$))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-dimension"]],inputs:{bi:"bi"},outputs:{search:"search"},decls:3,vars:2,consts:[["nz-form","","nzLayout","horizontal"],["nz-row","",3,"nzGutter"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["nz-col",""],[3,"dimension"],[3,"dim","bi"],["nz-col","",3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],["refBtn",""],[2,"width","100%",3,"nzMode","ngModel","name","ngModelChange"],[1,"erupt-input",3,"nzSuffix"],["nz-input","","autocomplete","off",1,"full-width",3,"ngModel","name","required","ngModelChange","keydown"],["suffixTemplate",""],["nz-icon","","nz-tooltip","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nz-tooltip","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"full-width",3,"ngModel","name","ngModelChange","keydown"],[1,"erupt-input",2,"display","flex","align-items","center"],[2,"width","45%",3,"ngModel","name","ngModelChange"],["disabled","","nz-input","","placeholder","~",2,"width","30px","border-left","0","border-right","0","pointer-events","none"],[4,"ngIf"],["nz-icon","","nzType","close-circle","theme","fill",1,"point",3,"click"],["nz-icon","","nzType","database","theme","fill",1,"point",3,"click"],[1,"full-width",3,"nzAddOnAfter"],["nz-input","","autocomplete","off",3,"required","readOnly","value","name","click"],["nzShowToday","",1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowToday","",1,"full-width",3,"ngModel","nzRanges","name","ngModelChange"],[1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowTime","","nzShowToday","",1,"full-width",3,"ngModel","name","ngModelChange"],["nzShowToday","","nzShowTime","",1,"full-width",3,"ngModel","name","nzRanges","ngModelChange"]],template:function(t,n){1&t&&(C.TgZ(0,"form",0)(1,"div",1),C.YNc(2,ia,5,3,"ng-container",2),C.qZA()()),2&t&&(C.xp6(1),C.Q6J("nzGutter",16),C.xp6(1),C.Q6J("ngForOf",n.bi.dimensions))},dependencies:[Ct.sg,Ct.O5,Ct.RF,Ct.n9,Ct.ED,U._Y,U.Fj,U.JJ,U.JL,U.Q7,U.On,U.F,mt.w,rt.t3,rt.SK,wv.SY,I0.Vq,q.Ls,Pi.Zp,Pi.gB,Pi.ke,Fl.uw,Fl.wS,Fl.Xv,Fl.Mq,Fl.mr,O0.m4,dh._V,ph.Lr,k0,zv,Nv],styles:["[_nghost-%COMP%]     nz-input-group{width:100%}[_nghost-%COMP%]     se{width:100%}[_nghost-%COMP%]     se .ant-form-item-label{width:auto!important;text-overflow:ellipsis;white-space:nowrap;max-width:150px;min-width:65px}"]}),e})();var bh,eg,rg,$v,S=ct(8250),Rn=(()=>{return(e=Rn||(Rn={})).FORE="fore",e.MID="mid",e.BG="bg",Rn;var e})(),Ge=(()=>{return(e=Ge||(Ge={})).TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none",Ge;var e})(),Kn=(()=>{return(e=Kn||(Kn={})).AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other",Kn;var e})(),Ys={FORE:3,MID:2,BG:1},kr=(()=>{return(e=kr||(kr={})).BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize",kr;var e})(),as=(()=>{return(e=as||(as={})).BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel",as;var e})(),ji=(()=>{return(e=ji||(ji={})).MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter",ji;var e})(),Ws=(()=>{return(e=Ws||(Ws={})).ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default",Ws;var e})(),Zu=["color","shape","size"],pn="_origin",d2=1,j0=1,p2={};function Vv(e,r){p2[e]=r}function Us(e){bh||function y2(){bh=document.createElement("table"),eg=document.createElement("tr"),rg=/^\s*<(\w+|!)[^>]*>/,$v={tr:document.createElement("tbody"),tbody:bh,thead:bh,tfoot:bh,td:eg,th:eg,"*":document.createElement("div")}}();var r=rg.test(e)&&RegExp.$1;(!r||!(r in $v))&&(r="*");var t=$v[r];e="string"==typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,t.innerHTML=""+e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function ki(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}function os(e){return"number"==typeof e&&!isNaN(e)}function x2(e,r,t,n){var i=t,l=n;if(r){var c=function m2(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}(e);i=c.width?c.width:i,l=c.height?c.height:l}return{width:Math.max(os(i)?i:d2,d2),height:Math.max(os(l)?l:j0,j0)}}var Ah=ct(378),uE=function(e){function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=t.visible;return n.visible=void 0===i||i,n}return(0,E.ZT)(r,e),r.prototype.show=function(){this.visible||this.changeVisible(!0)},r.prototype.hide=function(){this.visible&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Ah.Z);const ng=uE;var qu="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",ig=new RegExp("([a-z])["+qu+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+qu+"]*,?["+qu+"]*)+)","ig"),cE=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+qu+"]*,?["+qu+"]*","ig"),Eh=function(e){if(!e)return null;if((0,S.kJ)(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(ig,function(n,i,l){var c=[],f=i.toLowerCase();if(l.replace(cE,function(d,p){p&&c.push(+p)}),"m"===f&&c.length>2&&(t.push([i].concat(c.splice(0,2))),f="l",i="m"===i?"l":"L"),"o"===f&&1===c.length&&t.push([i,c[0]]),"r"===f)t.push([i].concat(c));else for(;c.length>=r[f]&&(t.push([i].concat(c.splice(0,r[f]))),r[f]););return e}),t},CE=function(e,r){if(e.length!==r.length)return!1;var t=!0;return(0,S.S6)(e,function(n,i){if(n!==r[i])return t=!1,!1}),t};function wE(e,r,t){var n=null,i=t;return r<i&&(i=r,n="add"),e<i&&(i=e,n="del"),{type:n,min:i}}var SE=function(e,r){var t=function(e,r){var i,t=e.length,n=r.length,c=0;if(0===t||0===n)return null;for(var f=[],d=0;d<=t;d++)f[d]=[],f[d][0]={min:d};for(var p=0;p<=n;p++)f[0][p]={min:p};for(d=1;d<=t;d++)for(i=e[d-1],p=1;p<=n;p++)c=CE(i,r[p-1])?0:1,f[d][p]=wE(f[d-1][p].min+1,f[d][p-1].min+1,f[d-1][p-1].min+c);return f}(e,r),n=e.length,i=r.length,l=[],c=1,f=1;if(t[n][i].min!==n){for(var d=1;d<=n;d++){var p=t[d][d].min;f=d;for(var m=c;m<=i;m++)t[d][m].min<p&&(p=t[d][m].min,f=m);t[d][c=f].type&&l.push({index:d-1,type:t[d][c].type})}for(d=l.length-1;d>=0;d--)c=l[d].index,"add"===l[d].type?e.splice(c,0,[].concat(e[c])):e.splice(c,1)}var x=i-(n=e.length);if(n<i)for(d=0;d<x;d++)"z"===e[n-1][0]||"Z"===e[n-1][0]?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function Qv(e,r,t){for(var i,n=[].concat(e),l=1/(t+1),c=sg(r)[0],f=1;f<=t;f++)l*=f,0===(i=Math.floor(e.length*l))?n.unshift([c[0]*l+e[i][0]*(1-l),c[1]*l+e[i][1]*(1-l)]):n.splice(i,0,[c[0]*l+e[i][0]*(1-l),c[1]*l+e[i][1]*(1-l)]);return n}function sg(e){var r=[];switch(e[0]){case"M":case"L":case"T":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"H":case"V":r.push([e[1],e[1]])}return r}var lg=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=sg(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2){if(!(n>0)){e[n]=r[n];break}t=Qv(t,e[n-1],1)}e[n]=["Q"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3){if(!(n>0)){e[n]=r[n];break}t=Qv(t,e[n-1],2)}e[n]=["C"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;case"S":if(t.length<2){if(!(n>0)){e[n]=r[n];break}t=Qv(t,e[n-1],1)}e[n]=["S"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;default:e[n]=r[n]}return e},ME=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();const b2=ME;function ug(e,r){var t=e.indexOf(r);-1!==t&&e.splice(t,1)}var cg=typeof window<"u"&&typeof window.document<"u";function A2(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function E2(e){return e.cfg.visible&&e.cfg.capture}var TE=function(e){function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=(0,S.CD)(i,t),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(Ah.Z);const bE=TE;var Jv=ct(2260),Zr=ct(3882);function L2(e,r){var t=[],n=e[0],i=e[1],l=e[2],c=e[3],f=e[4],d=e[5],p=e[6],m=e[7],x=e[8],_=r[0],T=r[1],b=r[2],I=r[3],F=r[4],B=r[5],Y=r[6],G=r[7],H=r[8];return t[0]=_*n+T*c+b*p,t[1]=_*i+T*f+b*m,t[2]=_*l+T*d+b*x,t[3]=I*n+F*c+B*p,t[4]=I*i+F*f+B*m,t[5]=I*l+F*d+B*x,t[6]=Y*n+G*c+H*p,t[7]=Y*i+G*f+H*m,t[8]=Y*l+G*d+H*x,t}function Xl(e,r){var t=[],n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t}var Qu=Zr.vs,jv="matrix",zi=["zIndex","capture","visible","type"],td=["repeat"];function AE(e,r){var t={},n=r.attrs;for(var i in e)t[i]=n[i];return t}var Xs=function(e){function r(t){var n=e.call(this,t)||this;n.attrs={};var i=n.getDefaultAttrs();return(0,S.CD)(i,t.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var l=n[0],c=n[1];if(!l)return this.attrs;if((0,S.Kn)(l)){for(var f in l)this.setAttr(f,l[f]);return this.afterAttrsChange(l),this}return 2===n.length?(this.setAttr(l,c),this.afterAttrsChange(((t={})[l]=c,t)),this):this.attrs[l]},r.prototype.isClipped=function(t,n){var i=this.getClip();return i&&!i.isHit(t,n)},r.prototype.setAttr=function(t,n){var i=this.attrs[t];i!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,i))},r.prototype.onAttrChange=function(t,n,i){"matrix"===t&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren(),l=(this.get("el"),n.indexOf(this));n.splice(l,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren(),l=(this.get("el"),n.indexOf(this));n.splice(l,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){void 0===t&&(t=!0);var n=this.getParent();n?(ug(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(jv,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(jv)},r.prototype.setMatrix=function(t){this.attr(jv,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),i=this.cfg.parentMatrix;t=i&&n?L2(i,n):n||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var i,n=this.attr("matrix");i=t&&n?L2(t,n):n||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?Xl(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var i=function I2(e){var r=[],t=e[0],n=e[1],i=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],m=e[8],x=m*c-f*p,_=-m*l+f*d,T=p*l-c*d,b=t*x+n*_+i*T;return b?(r[0]=x*(b=1/b),r[1]=(-m*n+i*p)*b,r[2]=(f*n-i*c)*b,r[3]=_*b,r[4]=(m*t-i*d)*b,r[5]=(-f*t+i*l)*b,r[6]=T*b,r[7]=(-p*t+n*d)*b,r[8]=(c*t-n*l)*b,r):null}(n);if(i)return Xl(i,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),i=null;if(t){var f=this.getShapeBase()[(0,S.jC)(t.type)];f&&(i=new f({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){return this.cfg.clipShape||null},r.prototype.clone=function(){var t=this,n=this.attrs,i={};(0,S.S6)(n,function(f,d){i[d]=(0,S.kJ)(n[d])?function aa(e){for(var r=[],t=0;t<e.length;t++)(0,S.kJ)(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}(n[d]):n[d]});var c=new(0,this.constructor)({attrs:i});return(0,S.S6)(zi,function(f){c.set(f,t.get(f))}),c},r.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var l=this.get("animations")||[];i.timer||i.initTimer();var b,I,F,B,Y,c=t[0],f=t[1],d=t[2],p=void 0===d?"easeLinear":d,m=t[3],x=void 0===m?S.ZT:m,_=t[4],T=void 0===_?0:_;(0,S.mf)(c)?(b=c,c={}):(0,S.Kn)(c)&&c.onFrame&&(b=c.onFrame,I=c.repeat),(0,S.Kn)(f)?(f=(Y=f).duration,p=Y.easing||"easeLinear",T=Y.delay||0,I=Y.repeat||I||!1,x=Y.callback||S.ZT,F=Y.pauseCallback||S.ZT,B=Y.resumeCallback||S.ZT):((0,S.hj)(x)&&(T=x,x=null),(0,S.mf)(p)?(x=p,p="easeLinear"):p=p||"easeLinear");var G=function O2(e,r){var t={},n=r.attr();return(0,S.S6)(e,function(i,l){-1===td.indexOf(l)&&!(0,S.Xy)(n[l],i)&&(t[l]=i)}),t}(c,this),H={fromAttrs:AE(G,this),toAttrs:G,duration:f,easing:p,repeat:I,callback:x,pauseCallback:F,resumeCallback:B,delay:T,startTime:i.getTime(),id:(0,S.EL)(),onFrame:b,pathFormatted:!1};l.length>0?l=function EE(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,i=r.duration,l=Object.prototype.hasOwnProperty;return(0,S.S6)(e,function(c){t+n<c.startTime+c.delay+c.duration&&i>c.delay&&(0,S.S6)(r.toAttrs,function(f,d){l.call(c.toAttrs,d)&&(delete c.toAttrs[d],delete c.fromAttrs[d])})}),e}(l,H):i.addAnimator(this),l.push(H),this.set("animations",l),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;void 0===t&&(t=!0);var i=this.get("animations");(0,S.S6)(i,function(l){t&&n.attr(l.onFrame?l.onFrame(1):l.toAttrs),l.callback&&l.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),i=t.getTime();return(0,S.S6)(n,function(l){l._paused=!0,l._pauseTime=i,l.pauseCallback&&l.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var n=this.get("timeline").getTime(),i=this.get("animations"),l=this.get("_pause").pauseTime;return(0,S.S6)(i,function(c){c.startTime=c.startTime+(n-l),c._paused=!1,c._pauseTime=null,c.resumeCallback&&c.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,n){var f,i=this,l=n.propagationPath;this.getEvents(),"mouseenter"===t?f=n.fromShape:"mouseleave"===t&&(f=n.toShape);for(var d=function(_){var T=l[_],b=T.get("name");if(b){if((T.isGroup()||T.isCanvas&&T.isCanvas())&&f&&A2(T,f))return"break";(0,S.kJ)(b)?(0,S.S6)(b,function(I){i.emitDelegateEvent(T,I,n)}):p.emitDelegateEvent(T,b,n)}},p=this,m=0;m<l.length&&"break"!==d(m);m++);},r.prototype.emitDelegateEvent=function(t,n,i){var l=this.getEvents(),c=n+":"+i.type;(l[c]||l["*"])&&(i.name=c,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(c,i))},r.prototype.translate=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=this.getMatrix(),l=Qu(i,[["t",t,n]]);return this.setMatrix(l),this},r.prototype.move=function(t,n){var i=this.attr("x")||0,l=this.attr("y")||0;return this.translate(t-i,n-l),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var i=this.getMatrix(),l=Qu(i,[["s",t,n||t]]);return this.setMatrix(l),this},r.prototype.rotate=function(t){var n=this.getMatrix(),i=Qu(n,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),i=n.x,l=n.y,c=this.getMatrix(),f=Qu(c,[["t",-i,-l],["r",t],["t",i,l]]);return this.setMatrix(f),this},r.prototype.rotateAtPoint=function(t,n,i){var l=this.getMatrix(),c=Qu(l,[["t",-t,-n],["r",i],["t",t,n]]);return this.setMatrix(c),this},r}(bE);const hg=Xs;var fg={},rd="_INDEX";function nd(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){nd(n,r)})}}function vg(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){vg(n,r)})}}var F2=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,i=1/0,l=-1/0,c=this.getChildren().filter(function(d){return d.get("visible")&&(!d.isGroup()||d.isGroup()&&d.getChildren().length>0)});return c.length>0?(0,S.S6)(c,function(d){var p=d.getBBox(),m=p.minX,x=p.maxX,_=p.minY,T=p.maxY;m<t&&(t=m),x>n&&(n=x),_<i&&(i=_),T>l&&(l=T)}):(t=0,n=0,i=0,l=0),{x:t,y:i,minX:t,minY:i,maxX:n,maxY:l,width:n-t,height:l-i}},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,i=1/0,l=-1/0,c=this.getChildren().filter(function(d){return d.get("visible")&&(!d.isGroup()||d.isGroup()&&d.getChildren().length>0)});return c.length>0?(0,S.S6)(c,function(d){var p=d.getCanvasBBox(),m=p.minX,x=p.maxX,_=p.minY,T=p.maxY;m<t&&(t=m),x>n&&(n=x),_<i&&(i=_),T>l&&(l=T)}):(t=0,n=0,i=0,l=0),{x:t,y:i,minX:t,minY:i,maxX:n,maxY:l,width:n-t,height:l-i}},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,i){if(e.prototype.onAttrChange.call(this,t,n,i),"matrix"===t){var l=this.getTotalMatrix();this._applyChildrenMarix(l)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();(0,S.S6)(n,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],l=t[1];(0,S.Kn)(i)?l=i:l.type=i;var c=fg[l.type];c||(c=(0,S.jC)(l.type),fg[l.type]=c);var d=new(this.getShapeBase()[c])(l);return this.add(d),d},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var c,i=t[0],l=t[1];if((0,S.mf)(i))c=new i(l||{parent:this});else{var f=i||{};c=new(this.getGroupBase())(f)}return this.add(c),c},r.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},r.prototype.getShape=function(t,n,i){if(!E2(this))return null;var c,l=this.getChildren();if(this.isCanvas())c=this._findShape(l,t,n,i);else{var f=[t,n,1];f=this.invertFromMatrix(f),this.isClipped(f[0],f[1])||(c=this._findShape(l,f[0],f[1],i))}return c},r.prototype._findShape=function(t,n,i,l){for(var c=null,f=t.length-1;f>=0;f--){var d=t[f];if(E2(d)&&(d.isGroup()?c=d.getShape(n,i,l):d.isHit(n,i)&&(c=d)),c)break}return c},r.prototype.add=function(t){var n=this.getCanvas(),i=this.getChildren(),l=this.get("timeline"),c=t.getParent();c&&function R2(e,r,t){void 0===t&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),ug(e.getChildren(),r)}(c,t,!1),t.set("parent",this),n&&nd(t,n),l&&vg(t,l),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();(0,S.S6)(t,function(n,i){return n[rd]=i,n}),t.sort(function dg(e){return function(r,t){var n=e(r,t);return 0===n?r[rd]-t[rd]:n}}(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){return this.getChildren()[t]},r.prototype.getCount=function(){return this.getChildren().length},r.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},r.prototype.removeChild=function(t,n){void 0===n&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],i=this.getChildren();return(0,S.S6)(i,function(l){t(l)&&n.push(l),l.isGroup()&&(n=n.concat(l.findAll(t)))}),n},r.prototype.find=function(t){var n=null,i=this.getChildren();return(0,S.S6)(i,function(l){if(t(l)?n=l:l.isGroup()&&(n=l.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(hg);const id=F2;var ju=ct(9194),eo=ct(4943);function D2(e,r,t,n,i){var l=e*e,c=l*e;return((1-3*e+3*l-c)*r+(4-6*l+3*c)*t+(1+3*e+3*l-3*c)*n+c*i)/6}const pg=e=>()=>e;function gg(e,r){var t=r-e;return t?function B2(e,r){return function(t){return e+t*r}}(e,t):pg(isNaN(e)?r:e)}const yg=function e(r){var t=function RE(e){return 1==(e=+e)?gg:function(r,t){return t-r?function P2(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}(r,t,e):pg(isNaN(r)?t:r)}}(r);function n(i,l){var c=t((i=(0,eo.B8)(i)).r,(l=(0,eo.B8)(l)).r),f=t(i.g,l.g),d=t(i.b,l.b),p=gg(i.opacity,l.opacity);return function(m){return i.r=c(m),i.g=f(m),i.b=d(m),i.opacity=p(m),i+""}}return n.gamma=e,n}(1);function k2(e){return function(r){var c,f,t=r.length,n=new Array(t),i=new Array(t),l=new Array(t);for(c=0;c<t;++c)f=(0,eo.B8)(r[c]),n[c]=f.r||0,i[c]=f.g||0,l[c]=f.b||0;return n=e(n),i=e(i),l=e(l),f.opacity=1,function(d){return f.r=n(d),f.g=i(d),f.b=l(d),f+""}}}function z2(e,r){r||(r=[]);var i,t=e?Math.min(r.length,e.length):0,n=r.slice();return function(l){for(i=0;i<t;++i)n[i]=e[i]*(1-l)+r[i]*l;return n}}function N2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DE(e,r){return(N2(r)?z2:H2)(e,r)}function H2(e,r){var c,t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),l=new Array(t);for(c=0;c<n;++c)i[c]=ad(e[c],r[c]);for(;c<t;++c)l[c]=r[c];return function(f){for(c=0;c<n;++c)l[c]=i[c](f);return l}}function G2(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function Rh(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function BE(e,r){var i,t={},n={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===r||"object"!=typeof r)&&(r={}),r)i in e?t[i]=ad(e[i],r[i]):n[i]=r[i];return function(l){for(i in t)n[i]=t[i](l);return n}}k2(function LE(e){var r=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,r-1):Math.floor(t*r),i=e[n],l=e[n+1];return D2((t-n/r)*r,n>0?e[n-1]:2*i-l,i,l,n<r-1?e[n+2]:2*l-i)}}),k2(function IE(e){var r=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*r);return D2((t-n/r)*r,e[(n+r-1)%r],e[n%r],e[(n+1)%r],e[(n+2)%r])}});var mg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fh=new RegExp(mg.source,"g");function PE(e,r){var n,i,l,t=mg.lastIndex=Fh.lastIndex=0,c=-1,f=[],d=[];for(e+="",r+="";(n=mg.exec(e))&&(i=Fh.exec(r));)(l=i.index)>t&&(l=r.slice(t,l),f[c]?f[c]+=l:f[++c]=l),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,d.push({i:c,x:Rh(n,i)})),t=Fh.lastIndex;return t<r.length&&(l=r.slice(t),f[c]?f[c]+=l:f[++c]=l),f.length<2?d[0]?function W2(e){return function(r){return e(r)+""}}(d[0].x):function Y2(e){return function(){return e}}(r):(r=d.length,function(p){for(var x,m=0;m<r;++m)f[(x=d[m]).i]=x.x(p);return f.join("")})}function ad(e,r){var n,t=typeof r;return null==r||"boolean"===t?pg(r):("number"===t?Rh:"string"===t?(n=(0,eo.ZP)(r))?(r=n,yg):PE:r instanceof eo.ZP?yg:r instanceof Date?G2:N2(r)?z2:Array.isArray(r)?H2:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?BE:Rh)(e,r)}var xg=ct(6399),U2={},zE=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},Dh=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},X2=[1,0,0,0,1,0,0,0,1];function HE(e,r,t){var n=r.startTime;if(t<n+r.delay||r._paused)return!1;var l,c=r.duration,d=function kE(e){return U2[e.toLowerCase()]||xg[e]}(r.easing);if(t=t-n-r.delay,r.repeat)l=d(l=t%c/c);else{if(!((l=t/c)<1))return e.attr(r.onFrame?r.onFrame(1):r.toAttrs),!0;l=d(l)}if(r.onFrame){var p=r.onFrame(l);e.attr(p)}else!function NE(e,r,t){var n={},i=r.fromAttrs,l=r.toAttrs;if(!e.destroyed){var c;for(var f in l)if(!(0,S.Xy)(i[f],l[f]))if("path"===f){var d=l[f],p=i[f];d.length>p.length?(d=Eh(l[f]),p=Eh(i[f]),p=SE(p,d),p=lg(p,d),r.fromAttrs.path=p,r.toAttrs.path=d):r.pathFormatted||(d=Eh(l[f]),p=Eh(i[f]),p=lg(p,d),r.fromAttrs.path=p,r.toAttrs.path=d,r.pathFormatted=!0),n[f]=[];for(var m=0;m<d.length;m++){for(var x=d[m],_=p[m],T=[],b=0;b<x.length;b++)(0,S.hj)(x[b])&&_&&(0,S.hj)(_[b])?(c=ad(_[b],x[b]),T.push(c(t))):T.push(x[b]);n[f].push(T)}}else if("matrix"===f){var F=DE(i[f]||X2,l[f]||X2)(t);n[f]=F}else zE(f)&&Dh(l[f])?n[f]=l[f]:(0,S.mf)(l[f])||(c=ad(i[f],l[f]),n[f]=c(t));e.attr(n)}}(e,r,l);return!1}var GE=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var n,i,l,r=this;this.timer=ju.HT(function(c){if(r.current=c,r.animators.length>0){for(var f=r.animators.length-1;f>=0;f--)if((n=r.animators[f]).destroyed)r.removeAnimator(f);else{if(!n.isAnimatePaused())for(var d=(i=n.get("animations")).length-1;d>=0;d--)HE(n,l=i[d],c)&&(i.splice(d,1),l.callback&&l.callback());0===i.length&&r.removeAnimator(f)}r.canvas.get("autoDraw")||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){void 0===r&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}();const V2=GE;var wg=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function q2(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function K2(e,r,t){if(t.bubbles){var n=void 0,i=!1;if("mouseenter"===r?(n=t.fromShape,i=!0):"mouseleave"===r&&(i=!0,n=t.toShape),e.isCanvas()&&i)return;if(n&&A2(e,n))return void(t.bubbles=!1);t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var Q2=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){t._triggerEvent(n.type,n)},this._onDocumentMove=function(n){if(t.canvas.get("el")!==n.target&&(t.dragging||t.currentShape)){var c=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,c,t.draggingShape)}},this._onDocumentMouseUp=function(n){if(t.canvas.get("el")!==n.target&&t.dragging){var c=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,c,null),t._emitEvent("dragend",n,c,t.draggingShape),t._afterDrag(t.draggingShape,c,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");(0,S.S6)(wg,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");(0,S.S6)(wg,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,i,l,c){var f=new b2(r,t);return f.fromShape=l,f.toShape=c,f.x=n.x,f.y=n.y,f.clientX=n.clientX,f.clientY=n.clientY,f.propagationPath.push(i),f},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),i=this._getShape(n,t),l=this["_on"+r],c=!1;if(l)l.call(this,n,i,t);else{var f=this.currentShape;"mouseenter"===r||"dragenter"===r||"mouseover"===r?(this._emitEvent(r,t,n,null,null,i),i&&this._emitEvent(r,t,n,i,null,i),"mouseenter"===r&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===r||"dragleave"===r||"mouseout"===r?(c=!0,f&&this._emitEvent(r,t,n,f,f,null),this._emitEvent(r,t,n,null,f,null),"mouseleave"===r&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,i,null,null)}if(c||(this.currentShape=i),i&&!i.get("destroyed")){var d=this.canvas;d.get("el").style.cursor=i.attr("cursor")||d.get("cursor")}},e.prototype._onmousedown=function(r,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,i){var l=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",r,t,n,n,i),this._emitEvent("mouseleave",r,t,n,n,i),(!i||i.get("destroyed"))&&(l.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,n,i),this._emitEvent("mouseenter",r,t,i,n,i)))},e.prototype._emitDragoverEvents=function(r,t,n,i,l){i?(i!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,i),this._emitEvent("dragenter",r,t,i,n,i)),l||this._emitEvent("dragover",r,t,i)):n&&this._emitEvent("dragleave",r,t,n,n,i),l&&this._emitEvent("dragover",r,t,i)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,n);i!==r&&this._emitMouseoverEvents(n,t,r,i),this.currentShape=i},e.prototype._onmouseup=function(r,t,n){if(0===n.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,i),this._afterDrag(i,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault(),this._emitDragoverEvents(n,r,this.currentShape,t,!0)},e.prototype._onmousemove=function(r,t,n){var i=this.canvas,l=this.currentShape,c=this.draggingShape;if(this.dragging)c&&this._emitDragoverEvents(n,r,l,t,!1),this._emitEvent("drag",n,r,c);else{var f=this.mousedownPoint;if(f){var d=this.mousedownShape,x=f.clientX-r.clientX,_=f.clientY-r.clientY;n.timeStamp-this.mousedownTimeStamp>120||x*x+_*_>40?d&&d.get("draggable")?((c=this.mousedownShape).set("capture",!1),this.draggingShape=c,this.dragging=!0,this._emitEvent("dragstart",n,r,c),this.mousedownShape=null,this.mousedownPoint=null):!d&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,i,l,c){var f=this._getEventObj(r,t,n,i,l,c);if(i){f.shape=i,q2(i,r,f);for(var d=i.getParent();d;)d.emitDelegation(r,f),f.propagationStopped||K2(d,r,f),f.propagationPath.push(d),d=d.getParent()}else q2(this.canvas,r,f)},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}();const YE=Q2;var J2=(0,Jv.qY)(),WE=J2&&"firefox"===J2.name;!function(e){function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");(0,S.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new YE({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new V2(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var i=this.get("el");cg&&(i.style.width=t+"px",i.style.height=n+"px")},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");cg&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(WE&&!(0,S.UM)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,S.UM)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t);return this.getPointByClient(i.x,i.y)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(n="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var l=this.get("el").getBoundingClientRect();return{x:t-l.left,y:n-l.top}},r.prototype.getClientByPoint=function(t,n){var l=this.get("el").getBoundingClientRect();return{x:t+l.left,y:n+l.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){this.get("eventController").destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))}}(id),function(e){function r(){return null!==e&&e.apply(this,arguments)||this}(0,E.ZT)(r,e),r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++)t.add(n[i].clone());return t}}(id),function(e){function r(t){return e.call(this,t)||this}(0,E.ZT)(r,e),r.prototype._isInBBox=function(t,n){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=n&&i.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),i=t.minX,l=t.minY,c=t.maxX,f=t.maxY;if(n){var d=Xl(n,[t.minX,t.minY]),p=Xl(n,[t.maxX,t.minY]),m=Xl(n,[t.minX,t.maxY]),x=Xl(n,[t.maxX,t.maxY]);i=Math.min(d[0],p[0],m[0],x[0]),c=Math.max(d[0],p[0],m[0],x[0]),l=Math.min(d[1],p[1],m[1],x[1]),f=Math.max(d[1],p[1],m[1],x[1])}var _=this.attrs;if(_.shadowColor){var T=_.shadowBlur,b=void 0===T?0:T,I=_.shadowOffsetX,F=void 0===I?0:I,B=_.shadowOffsetY,Y=void 0===B?0:B,H=c+b+F,et=l-b+Y,wt=f+b+Y;i=Math.min(i,i-b+F),c=Math.max(c,H),l=Math.min(l,et),f=Math.max(f,wt)}return{x:i,y:l,minX:i,minY:l,maxX:c,maxY:f,width:c-i,height:f-l}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var i=this.get("startArrowShape"),l=this.get("endArrowShape"),c=[t,n,1],f=(c=this.invertFromMatrix(c))[0],d=c[1],p=this._isInBBox(f,d);return this.isOnlyHitBox()?p:!(!p||this.isClipped(f,d)||!(this.isInShape(f,d)||i&&i.isHit(f,d)||l&&l.isHit(f,d)))}}(hg);var _g=new Map;function Lo(e,r){_g.set(e,r)}function j2(e){var r=e.attr();return{x:r.x,y:r.y,width:r.width,height:r.height}}function Sg(e){var r=e.attr(),i=r.r;return{x:r.x-i,y:r.y-i,width:2*i,height:2*i}}var Ln=ct(9174);function tC(e,r){return e&&r?{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}:e||r}function Mg(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape");return t&&(r=tC(r,t.getCanvasBBox())),n&&(r=tC(r,n.getCanvasBBox())),r}var Tg=null;var Io=ct(2759);function kh(e,r){var t=e.prePoint,n=e.currentPoint,i=e.nextPoint,l=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),c=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),f=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),d=Math.acos((l+c-f)/(2*Math.sqrt(l)*Math.sqrt(c)));if(!d||0===Math.sin(d)||(0,S.vQ)(d,0))return{xExtra:0,yExtra:0};var p=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),m=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));return p=p>Math.PI/2?Math.PI-p:p,m=m>Math.PI/2?Math.PI-m:m,{xExtra:Math.cos(d/2-p)*(r/2*(1/Math.sin(d/2)))-r/2||0,yExtra:Math.cos(m-d/2)*(r/2*(1/Math.sin(d/2)))-r/2||0}}Lo("rect",j2),Lo("image",j2),Lo("circle",Sg),Lo("marker",Sg),Lo("polyline",function XE(e){for(var t=e.attr().points,n=[],i=[],l=0;l<t.length;l++){var c=t[l];n.push(c[0]),i.push(c[1])}var f=Ln.Zr.getBBoxByArray(n,i),d=f.x,p=f.y,_={minX:d,minY:p,maxX:d+f.width,maxY:p+f.height};return{x:(_=Mg(e,_)).minX,y:_.minY,width:_.maxX-_.minX,height:_.maxY-_.minY}}),Lo("polygon",function VE(e){for(var t=e.attr().points,n=[],i=[],l=0;l<t.length;l++){var c=t[l];n.push(c[0]),i.push(c[1])}return Ln.Zr.getBBoxByArray(n,i)}),Lo("text",function ud(e){var r=e.attr(),t=r.x,n=r.y,i=r.text,l=r.fontSize,c=r.lineHeight,f=r.font;f||(f=function ld(e){return[e.fontStyle,e.fontVariant,e.fontWeight,e.fontSize+"px",e.fontFamily].join(" ").trim()}(r));var p,d=function rC(e,r){var t=function sd(){if(!Tg){var e=document.createElement("canvas");e.width=1,e.height=1,Tg=e.getContext("2d")}return Tg}(),n=0;if((0,S.UM)(e)||""===e)return n;if(t.save(),t.font=r,(0,S.HD)(e)&&e.includes("\n")){var i=e.split("\n");(0,S.S6)(i,function(l){var c=t.measureText(l).width;n<c&&(n=c)})}else n=t.measureText(e).width;return t.restore(),n}(i,f);if(d){var m=r.textAlign,x=r.textBaseline,_=function bg(e,r,t){var n=1;if((0,S.HD)(e)&&(n=e.split("\n").length),n>1){var i=function eC(e,r){return r?r-e:.14*e}(r,t);return r*n+i*(n-1)}return r}(i,l,c),T={x:t,y:n-_};m&&("end"===m||"right"===m?T.x-=d:"center"===m&&(T.x-=d/2)),x&&("top"===x?T.y+=_:"middle"===x&&(T.y+=_/2)),p={x:T.x,y:T.y,width:d,height:_}}else p={x:t,y:n,width:0,height:0};return p}),Lo("path",function nC(e){var r=e.attr(),t=r.path,i=r.stroke?r.lineWidth:0,c=function cd(e,r){for(var t=[],n=[],i=[],l=0;l<e.length;l++){var f=(c=e[l]).currentPoint,d=c.params,p=c.prePoint,m=void 0;switch(c.command){case"Q":m=Ln.lD.box(p[0],p[1],d[1],d[2],d[3],d[4]);break;case"C":m=Ln.Ll.box(p[0],p[1],d[1],d[2],d[3],d[4],d[5],d[6]);break;case"A":var x=c.arcParams;m=Ln.wN.box(x.cx,x.cy,x.rx,x.ry,x.xRotation,x.startAngle,x.endAngle);break;default:t.push(f[0]),n.push(f[1])}m&&(c.box=m,t.push(m.x,m.x+m.width),n.push(m.y,m.y+m.height)),r&&("L"===c.command||"M"===c.command)&&c.prePoint&&c.nextPoint&&i.push(c)}t=t.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0}),n=n.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0});var _=(0,S.VV)(t),T=(0,S.VV)(n),b=(0,S.Fp)(t),I=(0,S.Fp)(n);if(0===i.length)return{x:_,y:T,width:b-_,height:I-T};for(l=0;l<i.length;l++){var c;(f=(c=i[l]).currentPoint)[0]===_?_-=kh(c,r).xExtra:f[0]===b&&(b+=kh(c,r).xExtra),f[1]===T?T-=kh(c,r).yExtra:f[1]===I&&(I+=kh(c,r).yExtra)}return{x:_,y:T,width:b-_,height:I-T}}(e.get("segments")||(0,Io.zx)(t),i),f=c.x,d=c.y,x={minX:f,minY:d,maxX:f+c.width,maxY:d+c.height};return{x:(x=Mg(e,x)).minX,y:x.minY,width:x.maxX-x.minX,height:x.maxY-x.minY}}),Lo("line",function $l(e){var r=e.attr(),t=r.x1,n=r.y1,i=r.x2,l=r.y2,m={minX:Math.min(t,i),maxX:Math.max(t,i),minY:Math.min(n,l),maxY:Math.max(n,l)};return{x:(m=Mg(e,m)).minX,y:m.minY,width:m.maxX-m.minX,height:m.maxY-m.minY}}),Lo("ellipse",function Ag(e){var r=e.attr(),i=r.rx,l=r.ry;return{x:r.x-i,y:r.y-l,width:2*i,height:2*l}});var ec=.5,Lg=.5,Ig=function(){function e(r){var t=r.xField,n=r.yField,i=r.adjustNames,c=r.dimValuesMap;this.adjustNames=void 0===i?["x","y"]:i,this.xField=t,this.yField=n,this.dimValuesMap=c}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var f,d,i=this.yField,l=n.indexOf(t),c=n.length;return!i&&this.isAdjust("y")?(f=0,d=1):c>1?(f=n[0===l?0:l-1],d=n[l===c-1?c-1:l+1],0!==l?f+=(t-f)/2:f-=(d-t)/2,l!==c-1?d-=(d-t)/2:d+=(t-n[c-2])/2):(f=0===t?0:t-.5,d=0===t?1:t+.5),{pre:f,next:d}},e.prototype.adjustData=function(r,t){var n=this,i=this.getDimValues(t);S.S6(r,function(l,c){S.S6(i,function(f,d){n.adjustDim(d,f,l,c)})})},e.prototype.groupData=function(r,t){return S.S6(r,function(n){void 0===n[t]&&(n[t]=0)}),S.vM(r,t)},e.prototype.adjustDim=function(r,t,n,i){},e.prototype.getDimValues=function(r){var n=this.xField,i=this.yField,l=S.f0({},this.dimValuesMap),c=[];return n&&this.isAdjust("x")&&c.push(n),i&&this.isAdjust("y")&&c.push(i),c.forEach(function(d){l&&l[d]||(l[d]=S.I(r,d).sort(function(p,m){return p-m}))}),!i&&this.isAdjust("y")&&(l.y=[0,1]),l},e}();const zh=Ig;var hd={},aC=function(e){return hd[e.toLowerCase()]},Nh=function(e,r){if(aC(e))throw new Error("Adjust type '"+e+"' existed.");hd[e.toLowerCase()]=r},fd=function(e,r){return(fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)};function vd(e,r){function t(){this.constructor=e}fd(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Oo=function(){return Oo=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l]);return r},Oo.apply(this,arguments)},qE=function(e){function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=t.marginRatio,c=t.dodgeRatio,f=void 0===c?Lg:c,d=t.dodgeBy,p=t.intervalPadding,m=t.dodgePadding,x=t.xDimensionLength,_=t.groupNum,T=t.defaultSize,b=t.maxColumnWidth,I=t.minColumnWidth,F=t.columnWidthRatio,B=t.customOffset;return n.marginRatio=void 0===i?ec:i,n.dodgeRatio=f,n.dodgeBy=d,n.intervalPadding=p,n.dodgePadding=m,n.xDimensionLegenth=x,n.groupNum=_,n.defaultSize=T,n.maxColumnWidth=b,n.minColumnWidth=I,n.columnWidthRatio=F,n.customOffset=B,n}return vd(r,e),r.prototype.process=function(t){var n=S.d9(t),i=S.xH(n),l=this.dodgeBy,c=l?S.ru(i,l):n;return this.cacheMap={},this.adjustDataArray=c,this.mergeData=i,this.adjustData(c,i),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,i,l){var c=this,f=this.customOffset,d=this.getDistribution(t),p=this.groupData(i,t);return S.S6(p,function(m,x){var _;_=1===n.length?{pre:n[0]-1,next:n[0]+1}:c.getAdjustRange(t,parseFloat(x),n),S.S6(m,function(T){var I=d[T[t]],F=I.indexOf(l);if(S.UM(f))T[t]=c.getDodgeOffset(_,F,I.length);else{var B=_.pre,Y=_.next;T[t]=S.mf(f)?f(T,_):(B+Y)/2+f}})}),[]},r.prototype.getDodgeOffset=function(t,n,i){var T,l=this,c=l.dodgeRatio,f=l.marginRatio,d=l.intervalPadding,p=l.dodgePadding,m=t.pre,x=t.next,_=x-m;if(!S.UM(d)&&S.UM(p)&&d>=0)T=m+this.getIntervalOnlyOffset(i,n);else if(!S.UM(p)&&S.UM(d)&&p>=0)T=m+this.getDodgeOnlyOffset(i,n);else if(!S.UM(d)&&!S.UM(p)&&d>=0&&p>=0)T=m+this.getIntervalAndDodgeOffset(i,n);else{var I=_*c/i,F=f*I;T=(m+x)/2+(.5*(_-i*I-(i-1)*F)+((n+1)*I+n*F)-.5*I-.5*_)}return T},r.prototype.getIntervalOnlyOffset=function(t,n){var i=this,l=i.defaultSize,f=i.xDimensionLegenth,d=i.groupNum,m=i.maxColumnWidth,x=i.minColumnWidth,_=i.columnWidthRatio,T=i.intervalPadding/f,b=(1-(d-1)*T)/d*i.dodgeRatio/(t-1),I=((1-T*(d-1))/d-b*(t-1))/t;return I=S.UM(_)?I:1/d/t*_,S.UM(m)||(I=Math.min(I,m/f)),S.UM(x)||(I=Math.max(I,x/f)),((.5+n)*(I=l?l/f:I)+n*(b=((1-(d-1)*T)/d-t*I)/(t-1))+.5*T)*d-T/2},r.prototype.getDodgeOnlyOffset=function(t,n){var i=this,l=i.defaultSize,f=i.xDimensionLegenth,d=i.groupNum,m=i.maxColumnWidth,x=i.minColumnWidth,_=i.columnWidthRatio,T=i.dodgePadding/f,b=1*i.marginRatio/(d-1),I=((1-b*(d-1))/d-T*(t-1))/t;return I=_?1/d/t*_:I,S.UM(m)||(I=Math.min(I,m/f)),S.UM(x)||(I=Math.max(I,x/f)),((.5+n)*(I=l?l/f:I)+n*T+.5*(b=(1-(I*t+T*(t-1))*d)/(d-1)))*d-b/2},r.prototype.getIntervalAndDodgeOffset=function(t,n){var i=this,f=i.xDimensionLegenth,d=i.groupNum,p=i.intervalPadding/f,m=i.dodgePadding/f;return((.5+n)*(((1-p*(d-1))/d-m*(t-1))/t)+n*m+.5*p)*d-p/2},r.prototype.getDistribution=function(t){var i=this.cacheMap,l=i[t];return l||(l={},S.S6(this.adjustDataArray,function(c,f){var d=S.I(c,t);d.length||d.push(0),S.S6(d,function(p){l[p]||(l[p]=[]),l[p].push(f)})}),i[t]=l),l},r}(zh);const cC=qE;var KE=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return vd(r,e),r.prototype.process=function(t){var n=S.d9(t),i=S.xH(n);return this.adjustData(n,i),n},r.prototype.adjustDim=function(t,n,i){var l=this,c=this.groupData(i,t);return S.S6(c,function(f,d){return l.adjustGroup(f,t,parseFloat(d),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,i=t.next,l=.05*(i-n);return function Hh(e,r){return(r-e)*Math.random()+e}(n+l,i-l)},r.prototype.adjustGroup=function(t,n,i,l){var c=this,f=this.getAdjustRange(n,i,l);return S.S6(t,function(d){d[n]=c.getAdjustOffset(f)}),t},r}(zh);const QE=KE;var Rg=S.Ct,JE=function(e){function r(t){var n=e.call(this,t)||this,i=t.adjustNames,c=t.height,f=void 0===c?NaN:c,d=t.size,p=void 0===d?10:d,m=t.reverseOrder,x=void 0!==m&&m;return n.adjustNames=void 0===i?["y"]:i,n.height=f,n.size=p,n.reverseOrder=x,n}return vd(r,e),r.prototype.process=function(t){var l=this.reverseOrder,c=this.yField?this.processStack(t):this.processOneDimStack(t);return l?this.reverse(c):c},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,i=n.xField,l=n.yField,f=n.reverseOrder?this.reverse(t):t,d=new Rg,p=new Rg;return f.map(function(m){return m.map(function(x){var _,T=S.U2(x,i,0),b=S.U2(x,[l]),I=T.toString();if(b=S.kJ(b)?b[1]:b,!S.UM(b)){var F=b>=0?d:p;F.has(I)||F.set(I,0);var B=F.get(I),Y=b+B;return F.set(I,Y),Oo(Oo({},x),((_={})[l]=[B,Y],_))}return x})})},r.prototype.processOneDimStack=function(t){var n=this,i=this,l=i.xField,c=i.height,p=i.reverseOrder?this.reverse(t):t,m=new Rg;return p.map(function(x){return x.map(function(_){var T,I=_[l],F=2*n.size/c;m.has(I)||m.set(I,F/2);var B=m.get(I);return m.set(I,B+F),Oo(Oo({},_),((T={}).y=B,T))})})},r}(zh);const dd=JE;var hC=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return vd(r,e),r.prototype.process=function(t){var n=S.xH(t),l=this.xField,c=this.yField,f=this.getXValuesMaxMap(n),d=Math.max.apply(Math,Object.keys(f).map(function(p){return f[p]}));return S.UI(t,function(p){return S.UI(p,function(m){var x,_,T=m[c],b=m[l];if(S.kJ(T)){var I=(d-f[b])/2;return Oo(Oo({},m),((x={})[c]=S.UI(T,function(B){return I+B}),x))}var F=(d-T)/2;return Oo(Oo({},m),((_={})[c]=[F,T+F],_))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,l=this.xField,c=this.yField,f=S.vM(t,function(d){return d[l]});return S.Q8(f,function(d){return n.getDimMaxValue(d,c)})},r.prototype.getDimMaxValue=function(t,n){var i=S.UI(t,function(c){return S.U2(c,n,[])}),l=S.xH(i);return Math.max.apply(Math,l)},r}(zh);const jE=hC;Nh("Dodge",cC),Nh("Jitter",QE),Nh("Stack",dd),Nh("Symmetric",jE);var pd=function(e,r){return(0,S.HD)(r)?r:e.invert(e.scale(r))},fC=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.map(function(l,c){return r._toOriginParam(l,r.scales[c])});return this.callback.apply(this,i)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),l=this.values[n];return l+((n===t?l:this.values[n+1])-l)*(t*r-n)},e.prototype.getNames=function(){for(var t=this.names,n=Math.min(this.scales.length,t.length),i=[],l=0;l<n;l+=1)i.push(t[l]);return i},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this.values:t.map(function(i,l){var c=r.scales[l];return"identity"===c.type?c.values[0]:r._getAttributeValue(c,i)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,l=r.names,c=void 0===l?[]:l,f=r.scales,d=void 0===f?[]:f,p=r.values,m=void 0===p?[]:p,x=r.callback;this.type=void 0===n?"base":n,this.scales=d,this.values=m,this.names=c,this.callback=function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];if(x){var b=x.apply(void 0,_);if(!(0,S.UM)(b))return[b]}return t.defaultCallback.apply(t,_)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var i=r.scale(t);return this.getLinearValue(i)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,S.kJ)(r)?r.map(function(n){return pd(t,n)}):pd(t,r)},e}();const Gh=fC;var Fg=function(e,r){return(Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)};function Yh(e,r){function t(){this.constructor=e}Fg(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var r3=/rgba?\(([\s.,0-9]+)\)/,Bg=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,n3=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,i3=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Pg=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function s3(e){return"#"+kg(e[0])+kg(e[1])+kg(e[2])}var gd,gC=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},kg=function(e){var r=Math.round(e).toString(16);return 1===r.length?"0"+r:r},zg=function(e){if("#"===e[0]&&7===e.length)return e;gd||(gd=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}()),gd.style.color=e;var r=document.defaultView.getComputedStyle(gd,"").getPropertyValue("color");return s3(r3.exec(r)[1].split(/\s*,\s*/).map(function(i){return Number(i)}))};const Vs={rgb2arr:gC,gradient:function(e){var r=(0,S.HD)(e)?e.split("-"):e,t=(0,S.UI)(r,function(n){return gC(-1===n.indexOf("#")?zg(n):n)});return function(n){return function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,i=Math.floor(n*t),l=n*t-i,c=e[i],f=i===n?c:e[i+1];return s3([Pg(c,f,l,0),Pg(c,f,l,1),Pg(c,f,l,2)])}(t,n)}},toRGB:(0,S.HP)(zg),toCSSGradient:function(e){if(function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)}(e)){var r,t=void 0;if("l"===e[0])t=(n=Bg.exec(e))[2],r="linear-gradient("+(+n[1]+90)+"deg, ";else if("r"===e[0]){var n;r="radial-gradient(",t=(n=n3.exec(e))[4]}var l=t.match(i3);return(0,S.S6)(l,function(c,f){var d=c.split(":");r+=d[1]+" "+100*d[0]+"%",f!==l.length-1&&(r+=", ")}),r+=")"}return e}};var c3=function(e){function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],(0,S.HD)(n.values)&&(n.linear=!0),n.gradient=Vs.gradient(n.values),n}return Yh(r,e),r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(Gh);const h3=c3;var f3=function(e){function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return Yh(r,e),r}(Gh);const nc=f3;var mC=function(e){function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return Yh(r,e),r.prototype.mapping=function(t,n){var i=this.scales,l=i[0],c=i[1];return(0,S.UM)(t)||(0,S.UM)(n)?[]:[(0,S.kJ)(t)?t.map(function(f){return l.scale(f)}):l.scale(t),(0,S.kJ)(n)?n.map(function(f){return c.scale(f)}):c.scale(n)]},r}(Gh);const xC=mC;var CC=function(e){function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return Yh(r,e),r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}(Gh);const Ng=CC;var wC=function(e){function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return Yh(r,e),r}(Gh);const _C=wC;var v3={};function Fo(e,r){v3[e]=r}var p3=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){(0,S.f0)(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return(0,S.UI)(this.ticks,function(t,n){return(0,S.Kn)(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,i=n?n(r,t):r;return(0,S.UM)(i)||!(0,S.mf)(i.toString)?"":i.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){(0,S.f0)(this,this.__cfg__),this.setDomain(),(0,S.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,S.HD)(r)){var n=function d3(e){return v3[e]}(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,S.mf)(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return(0,S.hj)(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}();const yd=p3;var g3=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,E.ZT)(r,e),r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return void 0===n&&(n=(0,S.hj)(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),l=Math.round(n*i)+this.min;return l<this.min||l>this.max?NaN:this.values[l]},r.prototype.getText=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var l=t;return(0,S.hj)(t)&&!this.values.includes(t)&&(l=this.values[l]),e.prototype.getText.apply(this,(0,E.pr)([l],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,S.UM)(this.getConfig("min"))&&(this.min=0),(0,S.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(yd);const Wh=g3;var y3=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Zl="\\d\\d?",Na="\\d\\d",md="[^\\s]+",m3=/\[([^]*?)\]/gm;function x3(e,r){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n].substr(0,r));return t}var C3=function(e){return function(r,t){var i=t[e].map(function(l){return l.toLowerCase()}).indexOf(r.toLowerCase());return i>-1?i:null}};function us(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,i=r;n<i.length;n++){var l=i[n];for(var c in l)e[c]=l[c]}return e}var Hg=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Gg=["January","February","March","April","May","June","July","August","September","October","November","December"],w3=x3(Gg,3),Yg={dayNamesShort:x3(Hg,3),dayNames:Hg,monthNamesShort:w3,monthNames:Gg,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},ac=us({},Yg),$s=function(e){return ac=us(ac,e)},Wg=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Si=function(e,r){for(void 0===r&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},SC={D:function(e){return String(e.getDate())},DD:function(e){return Si(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Si(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Si(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return Si(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Si(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Si(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Si(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Si(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Si(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Si(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Si(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+Si(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+Si(Math.floor(Math.abs(r)/60),2)+":"+Si(Math.abs(r)%60,2)}},Uh=function(e){return+e-1},xd=[null,Zl],Ug=[null,md],Cd=["isPm",md,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],MC=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=60*+r[1]+parseInt(r[2],10);return"+"===r[0]?t:-t}return 0}],cs={D:["day",Zl],DD:["day",Na],Do:["day",Zl+md,function(e){return parseInt(e,10)}],M:["month",Zl,Uh],MM:["month",Na,Uh],YY:["year",Na,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",Zl,void 0,"isPm"],hh:["hour",Na,void 0,"isPm"],H:["hour",Zl],HH:["hour",Na],m:["minute",Zl],mm:["minute",Na],s:["second",Zl],ss:["second",Na],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",Na,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:xd,dd:xd,ddd:Ug,dddd:Ug,MMM:["month",md,C3("monthNamesShort")],MMMM:["month",md,C3("monthNames")],a:Cd,A:Cd,ZZ:MC,Z:MC},Hn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Sa=function(e){return us(Hn,e)},Xg=function(e,r,t){if(void 0===r&&(r=Hn.default),void 0===t&&(t={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var n=[];r=(r=Hn[r]||r).replace(m3,function(l,c){return n.push(c),"@@@"});var i=us(us({},ac),t);return(r=r.replace(y3,function(l){return SC[l](e,i)})).replace(/@@@/g,function(){return n.shift()})};function Ri(e,r,t){if(void 0===t&&(t={}),"string"!=typeof r)throw new Error("Invalid format in fecha parse");if(r=Hn[r]||r,e.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},l=[],c=[],f=r.replace(m3,function(H,et){return c.push(Wg(et)),"@@@"}),d={},p={};f=Wg(f).replace(y3,function(H){var et=cs[H],wt=et[0],Ot=et[1],$t=et[3];if(d[wt])throw new Error("Invalid format. "+wt+" specified twice in format");return d[wt]=!0,$t&&(p[$t]=!0),l.push(et),"("+Ot+")"}),Object.keys(p).forEach(function(H){if(!d[H])throw new Error("Invalid format. "+H+" is required in specified format")}),f=f.replace(/@@@/g,function(){return c.shift()});var B,m=e.match(new RegExp(f,"i"));if(!m)return null;for(var x=us(us({},ac),t),_=1;_<m.length;_++){var T=l[_-1],b=T[0],I=T[2],F=I?I(m[_],x):+m[_];if(null==F)return null;i[b]=F}if(1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0),null==i.timezoneOffset){B=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var Y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],G=(_=0,Y.length);_<G;_++)if(d[Y[_][0]]&&i[Y[_][0]]!==B[Y[_][1]]())return null}else if(B=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return B}const Ue={format:Xg,parse:Ri,defaultI18n:Yg,setGlobalDateI18n:$s,setGlobalDateMasks:Sa};var oa="format";function TC(e,r){return(ae[oa]||Ue[oa])(e,r)}function oc(e){return(0,S.HD)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,S.J_)(e)&&(e=e.getTime()),e}var In=1e3,Vn=6e4,sc=60*Vn,Lr=24*sc,lc=31*Lr,uc=365*Lr,si=[["HH:mm:ss",In],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",Vn],["HH:mm",10*Vn],["HH:mm",30*Vn],["HH",sc],["HH",6*sc],["HH",12*sc],["YYYY-MM-DD",Lr],["YYYY-MM-DD",4*Lr],["YYYY-WW",7*Lr],["YYYY-MM",lc],["YYYY-MM",4*lc],["YYYY-MM",6*lc],["YYYY",380*Lr]];var _3=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,E.ZT)(r,e),r.prototype.translate=function(t){t=oc(t);var n=this.values.indexOf(t);return-1===n&&(n=(0,S.hj)(t)&&t<this.values.length?t:NaN),n},r.prototype.getText=function(t,n){var i=this.translate(t);if(i>-1){var l=this.values[i],c=this.formatter;return c?c(l,n):TC(l,this.mask)}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,S.S6)(t,function(n,i){t[i]=oc(n)}),t.sort(function(n,i){return n-i}),e.prototype.setDomain.call(this)},r}(Wh);const S3=_3;var M3=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,E.ZT)(r,e),r.prototype.scale=function(t){if((0,S.UM)(t))return NaN;var n=this.rangeMin(),i=this.rangeMax();return this.max===this.min?n:n+this.getScalePercent(t)*(i-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,S.YM)(t),i=(0,S.Z$)(t);n<this.min&&(this.min=n),i>this.max&&(this.max=i),(0,S.UM)(this.minLimit)||(this.min=n),(0,S.UM)(this.maxLimit)||(this.max=i)},r.prototype.setDomain=function(){var t=(0,S.rx)(this.values),n=t.min,i=t.max;(0,S.UM)(this.min)&&(this.min=n),(0,S.UM)(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,S.hX)(n,function(i){return i>=t.min&&i<=t.max})),n},r.prototype.getScalePercent=function(t){var i=this.min;return(t-i)/(this.max-i)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(yd);const Ni=M3;var Hi=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Ni);const Zs=Hi;function hs(e,r){var t=Math.E;return r>=0?Math.pow(t,Math.log(r)/e):-1*Math.pow(t,Math.log(-r)/e)}function li(e,r){return 1===e?1:Math.log(r)/Math.log(e)}function bC(e,r,t){(0,S.UM)(t)&&(t=Math.max.apply(null,e));var n=t;return(0,S.S6)(e,function(i){i>0&&i<n&&(n=i)}),n===t&&(n=t/r),n>1&&(n=1),n}var $g=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var f,n=this.base,i=li(n,this.max),l=this.rangeMin(),c=this.rangeMax()-l,d=this.positiveMin;if(d){if(0===t)return 0;var p=1/(i-(f=li(n,d/n)))*c;if(t<p)return t/p*d}else f=li(n,this.min);return Math.pow(n,(t-l)/c*(i-f)+f)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=bC(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i||t<=0)return 0;var l=this.base,c=this.positiveMin;return c&&(i=1*c/l),t<c?t/c/(li(l,n)-li(l,i)):(li(l,t)-li(l,i))/(li(l,n)-li(l,i))},r}(Ni);const Ir=$g;var ue=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.getInvertPercent(t),i=this.exponent,l=hs(i,this.max),c=hs(i,this.min),f=n*(l-c)+c,d=f>=0?1:-1;return Math.pow(f,i)*d},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i)return 0;var l=this.exponent;return(hs(l,t)-hs(l,i))/(hs(l,n)-hs(l,i))},r}(Ni);const Zg=ue;var Ma=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,E.ZT)(r,e),r.prototype.getText=function(t,n){var i=this.translate(t),l=this.formatter;return l?l(i,n):TC(i,this.mask)},r.prototype.scale=function(t){var n=t;return((0,S.HD)(n)||(0,S.J_)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return oc(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!(0,S.UM)(n)||!(0,S.hj)(n))&&(this.min=this.translate(this.min)),(!(0,S.UM)(i)||!(0,S.hj)(i))&&(this.max=this.translate(this.max)),t&&t.length){var l=[],c=1/0,f=c,d=0;(0,S.S6)(t,function(p){var m=oc(p);if(isNaN(m))throw new TypeError("Invalid Time: "+p+" in time scale!");c>m?(f=c,c=m):f>m&&(f=m),d<m&&(d=m),l.push(m)}),t.length>1&&(this.minTickInterval=f-c),(0,S.UM)(n)&&(this.min=c),(0,S.UM)(i)&&(this.max=d)}},r}(Zs);const Ae=Ma;var Be=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,E.ZT)(r,e),r.prototype.invert=function(t){var n=this.ticks,i=n.length,l=this.getInvertPercent(t),c=Math.floor(l*(i-1));if(c>=i-1)return(0,S.Z$)(n);if(c<0)return(0,S.YM)(n);var f=n[c],p=c/(i-1);return f+(l-p)/((c+1)/(i-1)-p)*(n[c+1]-f)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,S.Z$)(t)!==this.max&&t.push(this.max),(0,S.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<(0,S.YM)(n))return 0;if(t>(0,S.Z$)(n))return 1;var i=0;return(0,S.S6)(n,function(l,c){if(!(t>=l))return!1;i=c}),i/(n.length-1)},r}(Ni);const EC=Be;var LC=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,E.ZT)(r,e),r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(EC);const T3=LC;var IC={};function ni(e){return IC[e]}function Do(e,r){if(ni(e))throw new Error("type '"+e+"' existed.");IC[e]=r}var Gi=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,E.ZT)(r,e),r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,S.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(yd);const OC=Gi;function RC(e){var r=e.values,t=e.tickInterval,n=e.tickCount,i=e.showLast;if((0,S.hj)(t)){var l=(0,S.hX)(r,function(b,I){return I%t==0}),c=(0,S.Z$)(r);return i&&(0,S.Z$)(l)!==c&&l.push(c),l}var f=r.length,d=e.min,p=e.max;if((0,S.UM)(d)&&(d=0),(0,S.UM)(p)&&(p=r.length-1),!(0,S.hj)(n)||n>=f)return r.slice(d,p+1);if(n<=0||p<=0)return[];for(var m=1===n?f:Math.floor(f/(n-1)),x=[],_=d,T=0;T<n&&!(_>=p);T++)_=Math.min(d+T*m,p),x.push(T===n-1&&i?r[p]:r[_]);return x}var FC=Math.sqrt(50),DC=Math.sqrt(10),BC=Math.sqrt(2),A3=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;void 0===r&&(r=5);var p,i=this._domain.slice(),l=0,c=this._domain.length-1,f=this._domain[l],d=this._domain[c];return d<f&&(f=(t=[d,f])[0],d=t[1],l=(n=[c,l])[0],c=n[1]),(p=wd(f,d,r))>0?p=wd(f=Math.floor(f/p)*p,d=Math.ceil(d/p)*p,r):p<0&&(p=wd(f=Math.ceil(f*p)/p,d=Math.floor(d*p)/p,r)),p>0?(i[l]=Math.floor(f/p)*p,i[c]=Math.ceil(d/p)*p,this.domain(i)):p<0&&(i[l]=Math.ceil(f*p)/p,i[c]=Math.floor(d*p)/p,this.domain(i)),this},e.prototype.ticks=function(r){return void 0===r&&(r=5),function E3(e,r,t){var n,l,c,f,i=-1;if(t=+t,(e=+e)===(r=+r)&&t>0)return[e];if((n=r<e)&&(l=e,e=r,r=l),0===(f=wd(e,r,t))||!isFinite(f))return[];if(f>0)for(e=Math.ceil(e/f),r=Math.floor(r/f),c=new Array(l=Math.ceil(r-e+1));++i<l;)c[i]=(e+i)*f;else for(e=Math.floor(e*f),r=Math.ceil(r*f),c=new Array(l=Math.ceil(e-r+1));++i<l;)c[i]=(e-i)/f;return n&&c.reverse(),c}(this._domain[0],this._domain[this._domain.length-1],r||5)},e}();function wd(e,r,t){var n=(r-e)/Math.max(0,t),i=Math.floor(Math.log(n)/Math.LN10),l=n/Math.pow(10,i);return i>=0?(l>=FC?10:l>=DC?5:l>=BC?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(l>=FC?10:l>=DC?5:l>=BC?2:1)}function qg(e,r,t){return("ceil"===t?Math.ceil(e/r):"floor"===t?Math.floor(e/r):Math.round(e/r))*r}function Fi(e,r,t){var n=qg(e,t,"floor"),i=qg(r,t,"ceil");n=(0,S.ri)(n,t),i=(0,S.ri)(i,t);for(var l=[],c=Math.max((i-n)/(Math.pow(2,12)-1),t),f=n;f<=i;f+=c){var d=(0,S.ri)(f,c);l.push(d)}return{min:n,max:i,ticks:l}}function Gn(e,r,t){var n,i=e.minLimit,l=e.maxLimit,c=e.min,f=e.max,d=e.tickCount,p=void 0===d?5:d,m=(0,S.UM)(i)?(0,S.UM)(r)?c:r:i,x=(0,S.UM)(l)?(0,S.UM)(t)?f:t:l;if(m>x&&(x=(n=[m,x])[0],m=n[1]),p<=2)return[m,x];for(var _=(x-m)/(p-1),T=[],b=0;b<p;b++)T.push(m+_*b);return T}function ui(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var I3=[1,5,2,2.5,4,3],kn=100*Number.EPSILON;function F3(e,r,t,n,i,l){var c=(0,S.dp)(r),f=(0,S.cq)(r,e),d=0,p=function R3(e,r){return(e%r+r)%r}(n,l);return(p<kn||l-p<kn)&&n<=0&&i>=0&&(d=1),1-f/(c-1)-t+d}function PC(e,r,t){var n=(0,S.dp)(r);return 1-(0,S.cq)(r,e)/(n-1)-t+1}function kC(e,r,t,n,i,l){var c=(e-1)/(l-i),f=(r-1)/(Math.max(l,n)-Math.min(t,i));return 2-Math.max(c/f,f/c)}function Ta(e,r){return e>=r?2-(e-1)/(r-1):1}function _d(e,r,t,n){var i=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*i,2)}function D3(e,r,t){var n=r-e;return t>n?1-Math.pow((t-n)/2,2)/Math.pow(.1*n,2):1}function Kg(e,r,t){if(void 0===t&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(0===n)return{max:r,min:e,ticks:[]};var f=(r-e)/n,d=Math.pow(10,Math.floor(Math.log10(f))),p=d;2*d-f<1.5*(f-p)&&5*d-f<2.75*(f-(p=2*d))&&10*d-f<1.5*(f-(p=5*d))&&(p=10*d);for(var m=Math.ceil(r/p),x=Math.floor(e/p),_=Math.max(m*p,r),T=Math.min(x*p,e),b=Math.floor((_-T)/p)+1,I=new Array(b),F=0;F<b;F++)I[F]=ui(T+F*p);return{min:T,max:_,ticks:I}}function NC(e,r){var t=e.length*r;return 1===r?e[e.length-1]:0===r?e[0]:t%1!=0?e[Math.ceil(t)-1]:e.length%2==0?(e[t-1]+e[t])/2:e[t]}function Yi(e){return new Date(e).getFullYear()}function HC(e){return new Date(e,0,1).getTime()}function Qg(e){return new Date(e).getMonth()}function qr(e,r){return new Date(e,r,1).getTime()}Fo("cat",RC),Fo("time-cat",function G3(e){return RC((0,E.pi)({showLast:!0},e))}),Fo("wilkinson-extended",function zC(e){var r=e.min,t=e.max,l=e.tickInterval,c=e.minLimit,f=e.maxLimit,d=function P3(e,r,t,n,i,l){void 0===t&&(t=5),void 0===n&&(n=!0),void 0===i&&(i=I3),void 0===l&&(l=[.25,.2,.5,.05]);var c=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||"number"!=typeof e||"number"!=typeof r||!c)return{min:0,max:0,ticks:[]};if(r-e<1e-15||1===c)return{min:e,max:r,ticks:[e]};if(r-e>1e148){var d=(r-e)/(f=t||5);return{min:e,max:r,ticks:Array(f).fill(null).map(function(ir,Pr){return ui(e+d*Pr)})}}for(var p={score:-2,lmin:0,lmax:0,lstep:0},m=1;m<1/0;){for(var x=0;x<i.length;x+=1){var _=i[x],T=PC(_,i,m);if(l[0]*T+l[1]+l[2]+l[3]<p.score){m=1/0;break}for(var b=2;b<1/0;){var I=Ta(b,c);if(l[0]*T+l[1]+l[2]*I+l[3]<p.score)break;for(var B=Math.ceil(Math.log10((r-e)/(b+1)/m/_));B<1/0;){var Y=m*_*Math.pow(10,B),G=D3(e,r,Y*(b-1));if(l[0]*T+l[1]*G+l[2]*I+l[3]<p.score)break;var H=Math.floor(r/Y)*m-(b-1)*m,et=Math.ceil(e/Y)*m;if(H<=et)for(var f=et-H,wt=0;wt<=f;wt+=1){var $t=(H+wt)*(Y/m),ge=$t+Y*(b-1),le=Y,Se=F3(_,i,m,$t,ge,le),Pe=_d(e,r,$t,ge),or=kC(b,c,e,r,$t,ge),Rr=l[0]*Se+l[1]*Pe+l[2]*or+1*l[3];Rr>p.score&&(!n||$t<=e&&ge>=r)&&(p.lmin=$t,p.lmax=ge,p.lstep=le,p.score=Rr)}B+=1}b+=1}}m+=1}var Ie=ui(p.lmax),We=ui(p.lmin),nr=ui(p.lstep),Ve=Math.floor(function Mr(e){return Math.round(1e12*e)/1e12}((Ie-We)/nr))+1,je=new Array(Ve);for(je[0]=ui(We),x=1;x<Ve;x++)je[x]=ui(je[x-1]+nr);return{min:Math.min(e,(0,S.YM)(je)),max:Math.max(r,(0,S.Z$)(je)),ticks:je}}(r,t,e.tickCount,e.nice).ticks;return(0,S.UM)(c)&&(0,S.UM)(f)?l?Fi(r,t,l).ticks:d:Gn(e,(0,S.YM)(d),(0,S.Z$)(d))}),Fo("r-pretty",function N3(e){var r=e.min,t=e.max,i=e.tickInterval,l=e.minLimit,c=e.maxLimit,f=Kg(r,t,e.tickCount).ticks;return(0,S.UM)(l)&&(0,S.UM)(c)?i?Fi(r,t,i).ticks:f:Gn(e,(0,S.YM)(f),(0,S.Z$)(f))}),Fo("time",function H3(e){var r=e.min,t=e.max,n=e.minTickInterval,i=e.tickInterval,l=e.tickCount;if(i)l=Math.ceil((t-r)/i);else{var f=(t-r)/(i=function Xh(e,r,t){var n=(r-e)/t,i=function Vg(e){return function(r,t,n,i){for(var l=(0,S.UM)(n)?0:n,c=(0,S.UM)(i)?r.length:i;l<c;){var f=l+c>>>1;e(r[f])>t?c=f:l=f+1}return l}}(function(c){return c[1]})(si,n)-1,l=si[i];return i<0?l=si[0]:i>=si.length&&(l=(0,S.Z$)(si)),l}(r,t,l)[1])/l;f>1&&(i*=Math.ceil(f)),n&&i<n&&(i=n)}i=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),i);for(var d=[],p=r;p<t+i;p+=i)d.push(p);return d}),Fo("time-pretty",function U3(e){var r=e.min,t=e.max,n=e.minTickInterval,l=e.tickInterval,c=[];l||(l=(t-r)/e.tickCount,n&&l<n&&(l=n)),l=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),l);var f=Yi(r);if(l>uc)for(var d=Yi(t),p=Math.ceil(l/uc),m=f;m<=d+p;m+=p)c.push(HC(m));else if(l>lc){var x=Math.ceil(l/lc),_=Qg(r),T=function fs(e,r){var t=Yi(e),n=Yi(r),i=Qg(e);return 12*(n-t)+(Qg(r)-i)%12}(r,t);for(m=0;m<=T+x;m+=x)c.push(qr(f,m+_))}else if(l>Lr){var I=(b=new Date(r)).getFullYear(),F=b.getMonth(),B=b.getDate(),Y=Math.ceil(l/Lr),G=function Y3(e,r){return Math.ceil((r-e)/Lr)}(r,t);for(m=0;m<G+Y;m+=Y)c.push(new Date(I,F,B+m).getTime())}else if(l>sc){I=(b=new Date(r)).getFullYear(),F=b.getMonth(),Y=b.getDate();var b,H=b.getHours(),et=Math.ceil(l/sc),wt=function W3(e,r){return Math.ceil((r-e)/sc)}(r,t);for(m=0;m<=wt+et;m+=et)c.push(new Date(I,F,Y,H+m).getTime())}else if(l>Vn){var Ot=function Wi(e,r){return Math.ceil((r-e)/6e4)}(r,t),$t=Math.ceil(l/Vn);for(m=0;m<=Ot+$t;m+=$t)c.push(r+m*Vn)}else{var ge=l;ge<In&&(ge=In);var le=Math.floor(r/In)*In,Se=Math.ceil((t-r)/In),Pe=Math.ceil(ge/In);for(m=0;m<Se+Pe;m+=Pe)c.push(le+m*In)}return c.length>=512&&console.warn("Notice: current ticks length("+c.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+l+") is too small, increase the value to solve the problem!"),c}),Fo("log",function k3(e){var c,r=e.base,t=e.tickCount,n=e.min,i=e.max,l=e.values,f=li(r,i);if(n>0)c=Math.floor(li(r,n));else{var d=bC(l,r,i);c=Math.floor(li(r,d))}for(var m=Math.ceil((f-c)/t),x=[],_=c;_<f+m;_+=m)x.push(Math.pow(r,_));return n<=0&&x.unshift(0),x}),Fo("pow",function Cn(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(hs(r,e.max));return Kg(Math.floor(hs(r,e.min)),n,t).ticks.map(function(c){var f=c>=0?1:-1;return Math.pow(c,r)*f})}),Fo("quantile",function z3(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(f,d){return f-d}),i=[],l=0;l<r;l++)i.push(NC(n,l/(r-1)));return i}),Fo("d3-linear",function L3(e){var r=e.min,t=e.max,n=e.tickInterval,i=e.minLimit,l=e.maxLimit,c=function b3(e){var r=e.min,t=e.max,n=e.nice,i=e.tickCount,l=new A3;return l.domain([r,t]),n&&l.nice(i),l.ticks(i)}(e);return(0,S.UM)(i)&&(0,S.UM)(l)?n?Fi(r,t,n).ticks:c:Gn(e,(0,S.YM)(c),(0,S.Z$)(c))}),Do("cat",Wh),Do("category",Wh),Do("identity",OC),Do("linear",Zs),Do("log",Ir),Do("pow",Zg),Do("time",Ae),Do("timeCat",S3),Do("quantize",EC),Do("quantile",T3);var GC={},YC=function(e){return GC[e.toLowerCase()]},Vh=function(e,r){if(YC(e))throw new Error("Attribute type '"+e+"' existed.");GC[e.toLowerCase()]=r};Vh("Color",h3),Vh("Opacity",nc),Vh("Position",xC),Vh("Shape",Ng),Vh("Size",_C);var ci=ct(5278);function Zh(e,r,t){var n=r[0],i=r[1],l=r[2];return e[0]=n*t[0]+i*t[3]+l*t[6],e[1]=n*t[1]+i*t[4]+l*t[7],e[2]=n*t[2]+i*t[5]+l*t[8],e}(function X3(){var e=new ci.WT(3);ci.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)})();var XC=ct(7543),Q3=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var n=r.end,i=r.matrix,l=void 0===i?[1,0,0,0,1,0,0,0,1]:i,c=r.isTransposed,f=void 0!==c&&c;this.start=r.start,this.end=n,this.matrix=l,this.originalMatrix=(0,E.ev)([],l),this.isTransposed=f}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){(0,S.f0)(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,i=this[t],l=i.start,c=i.end;return this.isReflect(t)&&(l=(n=[c,l])[0],c=n[1]),l+r*(c-l)},e.prototype.invertDim=function(r,t){var n,i=this[t],l=i.start,c=i.end;return this.isReflect(t)&&(l=(n=[c,l])[0],c=n[1]),(r-l)/(c-l)},e.prototype.applyMatrix=function(r,t,n){void 0===n&&(n=0);var l=[r,t,n];return Zh(l,l,this.matrix),l},e.prototype.invertMatrix=function(r,t,n){void 0===n&&(n=0);var l=XC.U_([0,0,0,0,0,0,0,0,0],this.matrix),c=[r,t,n];return l&&Zh(c,c,l),c},e.prototype.convert=function(r){var t=this.convertPoint(r),l=this.applyMatrix(t.x,t.y,1);return{x:l[0],y:l[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return Zr.m$(t,t,[-n.x,-n.y]),Zr.zu(t,t,r),Zr.m$(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return"x"===r?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,i=this.center;return Zr.m$(n,n,[-i.x,-i.y]),Zr.lh(n,n,[r,t]),Zr.m$(n,n,[i.x,i.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return Zr.m$(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return"x"===r?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||(0,E.ev)([],this.originalMatrix)},e}();const ny=Q3;var xt=function(e){function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,i=t.x,l=t.y;return this.isTransposed&&(i=(n=[l,i])[0],l=n[1]),{x:this.convertDim(i,"x"),y:this.convertDim(l,"y")}},r.prototype.invertPoint=function(t){var n,i=this.invertDim(t.x,"x"),l=this.invertDim(t.y,"y");return this.isTransposed&&(i=(n=[l,i])[0],l=n[1]),{x:i,y:l}},r}(ny);const Td=xt;var Tr=ct(8235),J3=function(e){function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var i=t.startAngle,l=void 0===i?1.25*Math.PI:i,c=t.endAngle,f=void 0===c?7.25*Math.PI:c,d=t.innerRadius,p=void 0===d?0:d,m=t.radius;return n.startAngle=l,n.endAngle=f,n.innerRadius=p,n.radius=m,n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},r.prototype.convertPoint=function(t){var n,i=t.x,l=t.y;this.isTransposed&&(i=(n=[l,i])[0],l=n[1]);var c=this.convertDim(i,"x"),f=this.a*c,d=this.convertDim(l,"y");return{x:this.center.x+Math.cos(c)*(f+d),y:this.center.y+Math.sin(c)*(f+d)}},r.prototype.invertPoint=function(t){var n,i=this.d+this.y.start,l=Tr.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),c=Zr.Dg(l,[1,0],!0),f=c*this.a;Tr.kE(l)<f&&(f=Tr.kE(l)),c=2*Math.floor((Tr.kE(l)-f)/i)*Math.PI+c;var p=this.a*c,m=Tr.kE(l)-p;m=(0,S.vQ)(m,0)?0:m;var x=this.invertDim(c,"x"),_=this.invertDim(m,"y");return x=(0,S.vQ)(x,0)?0:x,_=(0,S.vQ)(_,0)?0:_,this.isTransposed&&(x=(n=[_,x])[0],_=n[1]),{x,y:_}},r}(ny);const j3=J3;var VC=function(e){function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var i=t.startAngle,l=void 0===i?-Math.PI/2:i,c=t.endAngle,f=void 0===c?3*Math.PI/2:c,d=t.innerRadius,p=void 0===d?0:d,m=t.radius;return n.startAngle=l,n.endAngle=f,n.innerRadius=p,n.radius=m,n.initial(),n}return(0,E.ZT)(r,e),r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var f,t=this.getOneBox(),n=t.maxX-t.minX,i=t.maxY-t.minY,l=Math.abs(t.minX)/n,c=Math.abs(t.minY)/i;this.circleCenter=this.height/i>this.width/n?{x:this.center.x-(.5-l)*this.width,y:this.center.y-(.5-c)*(f=this.width/n)*i}:{x:this.center.x-(.5-l)*(f=this.height/i)*n,y:this.center.y-(.5-c)*this.height},this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=f*this.radius:(this.radius<=0||this.radius>f)&&(this.polarRadius=f):this.polarRadius=f,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,i=this.getCenter(),l=t.x,c=t.y;return this.isTransposed&&(l=(n=[c,l])[0],c=n[1]),l=this.convertDim(l,"x"),c=this.convertDim(c,"y"),{x:i.x+Math.cos(l)*c,y:i.y+Math.sin(l)*c}},r.prototype.invertPoint=function(t){var n,i=this.getCenter(),l=[t.x-i.x,t.y-i.y],f=this.startAngle,d=this.endAngle;this.isReflect("x")&&(f=(n=[d,f])[0],d=n[1]);var p=[1,0,0,0,1,0,0,0,1];Zr.zu(p,p,f);var m=[1,0,0];Zh(m,m,p);var _=Zr.Dg([m[0],m[1]],l,d<f);(0,S.vQ)(_,2*Math.PI)&&(_=0);var T=Tr.kE(l),b=_/(d-f);b=d-f>0?b:-b;var I=this.invertDim(T,"y"),F={x:0,y:0};return F.x=this.isTransposed?I:b,F.y=this.isTransposed?b:I,F},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(n)],l=[0,Math.sin(t),Math.sin(n)],c=Math.min(t,n);c<Math.max(t,n);c+=Math.PI/18)i.push(Math.cos(c)),l.push(Math.sin(c));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,l),maxY:Math.max.apply(Math,l)}},r}(ny);const t6=VC;var iy={},bd=function(e,r){iy[e.toLowerCase()]=r};bd("rect",Td),bd("cartesian",Td),bd("polar",t6),bd("helix",j3);var Kh="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",r6=new RegExp("([a-z])["+Kh+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Kh+"]*,?["+Kh+"]*)+)","ig"),n6=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Kh+"]*,?["+Kh+"]*","ig"),Bo=function(e){if(!e)return null;if((0,S.kJ)(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(r6,function(n,i,l){var c=[],f=i.toLowerCase();if(l.replace(n6,function(d,p){p&&c.push(+p)}),"m"===f&&c.length>2&&(t.push([i].concat(c.splice(0,2))),f="l",i="m"===i?"l":"L"),"o"===f&&1===c.length&&t.push([i,c[0]]),"r"===f)t.push([i].concat(c));else for(;c.length>=r[f]&&(t.push([i].concat(c.splice(0,r[f]))),r[f]););return e}),t},h6=function(e,r){if(e.length!==r.length)return!1;var t=!0;return(0,S.S6)(e,function(n,i){if(n!==r[i])return t=!1,!1}),t};function f6(e,r,t){var n=null,i=t;return r<i&&(i=r,n="add"),e<i&&(i=e,n="del"),{type:n,min:i}}var rw=function(e,r){var t=function(e,r){var i,t=e.length,n=r.length,c=0;if(0===t||0===n)return null;for(var f=[],d=0;d<=t;d++)f[d]=[],f[d][0]={min:d};for(var p=0;p<=n;p++)f[0][p]={min:p};for(d=1;d<=t;d++)for(i=e[d-1],p=1;p<=n;p++)c=h6(i,r[p-1])?0:1,f[d][p]=f6(f[d-1][p].min+1,f[d][p-1].min+1,f[d-1][p-1].min+c);return f}(e,r),n=e.length,i=r.length,l=[],c=1,f=1;if(t[n][i].min!==n){for(var d=1;d<=n;d++){var p=t[d][d].min;f=d;for(var m=c;m<=i;m++)t[d][m].min<p&&(p=t[d][m].min,f=m);t[d][c=f].type&&l.push({index:d-1,type:t[d][c].type})}for(d=l.length-1;d>=0;d--)c=l[d].index,"add"===l[d].type?e.splice(c,0,[].concat(e[c])):e.splice(c,1)}var x=i-(n=e.length);if(n<i)for(d=0;d<x;d++)"z"===e[n-1][0]||"Z"===e[n-1][0]?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function Od(e,r,t){for(var i,n=[].concat(e),l=1/(t+1),c=Jl(r)[0],f=1;f<=t;f++)l*=f,0===(i=Math.floor(e.length*l))?n.unshift([c[0]*l+e[i][0]*(1-l),c[1]*l+e[i][1]*(1-l)]):n.splice(i,0,[c[0]*l+e[i][0]*(1-l),c[1]*l+e[i][1]*(1-l)]);return n}function Jl(e){var r=[];switch(e[0]){case"M":case"L":case"T":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"H":case"V":r.push([e[1],e[1]])}return r}var nw=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=Jl(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2){if(!(n>0)){e[n]=r[n];break}t=Od(t,e[n-1],1)}e[n]=["Q"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3){if(!(n>0)){e[n]=r[n];break}t=Od(t,e[n-1],2)}e[n]=["C"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;case"S":if(t.length<2){if(!(n>0)){e[n]=r[n];break}t=Od(t,e[n-1],1)}e[n]=["S"].concat(t.reduce(function(i,l){return i.concat(l)},[]));break;default:e[n]=r[n]}return e},v6=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();const Po=v6;function iw(e,r){var t=e.indexOf(r);-1!==t&&e.splice(t,1)}var aw=typeof window<"u"&&typeof window.document<"u";function oy(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function vs(e){return e.cfg.visible&&e.cfg.capture}var d6=function(e){function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=(0,S.CD)(i,t),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(Ah.Z);const ow=d6;function sw(e,r){var t=[],n=e[0],i=e[1],l=e[2],c=e[3],f=e[4],d=e[5],p=e[6],m=e[7],x=e[8],_=r[0],T=r[1],b=r[2],I=r[3],F=r[4],B=r[5],Y=r[6],G=r[7],H=r[8];return t[0]=_*n+T*c+b*p,t[1]=_*i+T*f+b*m,t[2]=_*l+T*d+b*x,t[3]=I*n+F*c+B*p,t[4]=I*i+F*f+B*m,t[5]=I*l+F*d+B*x,t[6]=Y*n+G*c+H*p,t[7]=Y*i+G*f+H*m,t[8]=Y*l+G*d+H*x,t}function fc(e,r){var t=[],n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t}var Qh=Zr.vs,vc="matrix",g6=["zIndex","capture","visible","type"],y6=["repeat"];function x6(e,r){var t={},n=r.attrs;for(var i in e)t[i]=n[i];return t}var Jh=function(e){function r(t){var n=e.call(this,t)||this;n.attrs={};var i=n.getDefaultAttrs();return(0,S.CD)(i,t.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var l=n[0],c=n[1];if(!l)return this.attrs;if((0,S.Kn)(l)){for(var f in l)this.setAttr(f,l[f]);return this.afterAttrsChange(l),this}return 2===n.length?(this.setAttr(l,c),this.afterAttrsChange(((t={})[l]=c,t)),this):this.attrs[l]},r.prototype.isClipped=function(t,n){var i=this.getClip();return i&&!i.isHit(t,n)},r.prototype.setAttr=function(t,n){var i=this.attrs[t];i!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,i))},r.prototype.onAttrChange=function(t,n,i){"matrix"===t&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren(),l=(this.get("el"),n.indexOf(this));n.splice(l,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren(),l=(this.get("el"),n.indexOf(this));n.splice(l,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){void 0===t&&(t=!0);var n=this.getParent();n?(iw(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(vc,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(vc)},r.prototype.setMatrix=function(t){this.attr(vc,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),i=this.cfg.parentMatrix;t=i&&n?sw(i,n):n||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var i,n=this.attr("matrix");i=t&&n?sw(t,n):n||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?fc(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var i=function p6(e){var r=[],t=e[0],n=e[1],i=e[2],l=e[3],c=e[4],f=e[5],d=e[6],p=e[7],m=e[8],x=m*c-f*p,_=-m*l+f*d,T=p*l-c*d,b=t*x+n*_+i*T;return b?(r[0]=x*(b=1/b),r[1]=(-m*n+i*p)*b,r[2]=(f*n-i*c)*b,r[3]=_*b,r[4]=(m*t-i*d)*b,r[5]=(-f*t+i*l)*b,r[6]=T*b,r[7]=(-p*t+n*d)*b,r[8]=(c*t-n*l)*b,r):null}(n);if(i)return fc(i,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),i=null;if(t){var f=this.getShapeBase()[(0,S.jC)(t.type)];f&&(i=new f({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){return this.cfg.clipShape||null},r.prototype.clone=function(){var t=this,n=this.attrs,i={};(0,S.S6)(n,function(f,d){i[d]=(0,S.kJ)(n[d])?function sy(e){for(var r=[],t=0;t<e.length;t++)(0,S.kJ)(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}(n[d]):n[d]});var c=new(0,this.constructor)({attrs:i});return(0,S.S6)(g6,function(f){c.set(f,t.get(f))}),c},r.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var l=this.get("animations")||[];i.timer||i.initTimer();var b,I,F,B,Y,c=t[0],f=t[1],d=t[2],p=void 0===d?"easeLinear":d,m=t[3],x=void 0===m?S.ZT:m,_=t[4],T=void 0===_?0:_;(0,S.mf)(c)?(b=c,c={}):(0,S.Kn)(c)&&c.onFrame&&(b=c.onFrame,I=c.repeat),(0,S.Kn)(f)?(f=(Y=f).duration,p=Y.easing||"easeLinear",T=Y.delay||0,I=Y.repeat||I||!1,x=Y.callback||S.ZT,F=Y.pauseCallback||S.ZT,B=Y.resumeCallback||S.ZT):((0,S.hj)(x)&&(T=x,x=null),(0,S.mf)(p)?(x=p,p="easeLinear"):p=p||"easeLinear");var G=function C6(e,r){var t={},n=r.attr();return(0,S.S6)(e,function(i,l){-1===y6.indexOf(l)&&!(0,S.Xy)(n[l],i)&&(t[l]=i)}),t}(c,this),H={fromAttrs:x6(G,this),toAttrs:G,duration:f,easing:p,repeat:I,callback:x,pauseCallback:F,resumeCallback:B,delay:T,startTime:i.getTime(),id:(0,S.EL)(),onFrame:b,pathFormatted:!1};l.length>0?l=function uw(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,i=r.duration,l=Object.prototype.hasOwnProperty;return(0,S.S6)(e,function(c){t+n<c.startTime+c.delay+c.duration&&i>c.delay&&(0,S.S6)(r.toAttrs,function(f,d){l.call(c.toAttrs,d)&&(delete c.toAttrs[d],delete c.fromAttrs[d])})}),e}(l,H):i.addAnimator(this),l.push(H),this.set("animations",l),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;void 0===t&&(t=!0);var i=this.get("animations");(0,S.S6)(i,function(l){t&&n.attr(l.onFrame?l.onFrame(1):l.toAttrs),l.callback&&l.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),i=t.getTime();return(0,S.S6)(n,function(l){l._paused=!0,l._pauseTime=i,l.pauseCallback&&l.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var n=this.get("timeline").getTime(),i=this.get("animations"),l=this.get("_pause").pauseTime;return(0,S.S6)(i,function(c){c.startTime=c.startTime+(n-l),c._paused=!1,c._pauseTime=null,c.resumeCallback&&c.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,n){var f,i=this,l=n.propagationPath;this.getEvents(),"mouseenter"===t?f=n.fromShape:"mouseleave"===t&&(f=n.toShape);for(var d=function(_){var T=l[_],b=T.get("name");if(b){if((T.isGroup()||T.isCanvas&&T.isCanvas())&&f&&oy(T,f))return"break";(0,S.kJ)(b)?(0,S.S6)(b,function(I){i.emitDelegateEvent(T,I,n)}):p.emitDelegateEvent(T,b,n)}},p=this,m=0;m<l.length&&"break"!==d(m);m++);},r.prototype.emitDelegateEvent=function(t,n,i){var l=this.getEvents(),c=n+":"+i.type;(l[c]||l["*"])&&(i.name=c,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(c,i))},r.prototype.translate=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=this.getMatrix(),l=Qh(i,[["t",t,n]]);return this.setMatrix(l),this},r.prototype.move=function(t,n){var i=this.attr("x")||0,l=this.attr("y")||0;return this.translate(t-i,n-l),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var i=this.getMatrix(),l=Qh(i,[["s",t,n||t]]);return this.setMatrix(l),this},r.prototype.rotate=function(t){var n=this.getMatrix(),i=Qh(n,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),i=n.x,l=n.y,c=this.getMatrix(),f=Qh(c,[["t",-i,-l],["r",t],["t",i,l]]);return this.setMatrix(f),this},r.prototype.rotateAtPoint=function(t,n,i){var l=this.getMatrix(),c=Qh(l,[["t",-t,-n],["r",i],["t",t,n]]);return this.setMatrix(c),this},r}(ow);const ly=Jh;var cw={},uy="_INDEX";function hw(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){hw(n,r)})}}function cy(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){cy(n,r)})}}var vy=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,i=1/0,l=-1/0,c=this.getChildren().filter(function(d){return d.get("visible")&&(!d.isGroup()||d.isGroup()&&d.getChildren().length>0)});return c.length>0?(0,S.S6)(c,function(d){var p=d.getBBox(),m=p.minX,x=p.maxX,_=p.minY,T=p.maxY;m<t&&(t=m),x>n&&(n=x),_<i&&(i=_),T>l&&(l=T)}):(t=0,n=0,i=0,l=0),{x:t,y:i,minX:t,minY:i,maxX:n,maxY:l,width:n-t,height:l-i}},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,i=1/0,l=-1/0,c=this.getChildren().filter(function(d){return d.get("visible")&&(!d.isGroup()||d.isGroup()&&d.getChildren().length>0)});return c.length>0?(0,S.S6)(c,function(d){var p=d.getCanvasBBox(),m=p.minX,x=p.maxX,_=p.minY,T=p.maxY;m<t&&(t=m),x>n&&(n=x),_<i&&(i=_),T>l&&(l=T)}):(t=0,n=0,i=0,l=0),{x:t,y:i,minX:t,minY:i,maxX:n,maxY:l,width:n-t,height:l-i}},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,i){if(e.prototype.onAttrChange.call(this,t,n,i),"matrix"===t){var l=this.getTotalMatrix();this._applyChildrenMarix(l)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();(0,S.S6)(n,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],l=t[1];(0,S.Kn)(i)?l=i:l.type=i;var c=cw[l.type];c||(c=(0,S.jC)(l.type),cw[l.type]=c);var d=new(this.getShapeBase()[c])(l);return this.add(d),d},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var c,i=t[0],l=t[1];if((0,S.mf)(i))c=new i(l||{parent:this});else{var f=i||{};c=new(this.getGroupBase())(f)}return this.add(c),c},r.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},r.prototype.getShape=function(t,n,i){if(!vs(this))return null;var c,l=this.getChildren();if(this.isCanvas())c=this._findShape(l,t,n,i);else{var f=[t,n,1];f=this.invertFromMatrix(f),this.isClipped(f[0],f[1])||(c=this._findShape(l,f[0],f[1],i))}return c},r.prototype._findShape=function(t,n,i,l){for(var c=null,f=t.length-1;f>=0;f--){var d=t[f];if(vs(d)&&(d.isGroup()?c=d.getShape(n,i,l):d.isHit(n,i)&&(c=d)),c)break}return c},r.prototype.add=function(t){var n=this.getCanvas(),i=this.getChildren(),l=this.get("timeline"),c=t.getParent();c&&function hy(e,r,t){void 0===t&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),iw(e.getChildren(),r)}(c,t,!1),t.set("parent",this),n&&hw(t,n),l&&cy(t,l),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();(0,S.S6)(t,function(n,i){return n[uy]=i,n}),t.sort(function fy(e){return function(r,t){var n=e(r,t);return 0===n?r[uy]-t[uy]:n}}(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){return this.getChildren()[t]},r.prototype.getCount=function(){return this.getChildren().length},r.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},r.prototype.removeChild=function(t,n){void 0===n&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],i=this.getChildren();return(0,S.S6)(i,function(l){t(l)&&n.push(l),l.isGroup()&&(n=n.concat(l.findAll(t)))}),n},r.prototype.find=function(t){var n=null,i=this.getChildren();return(0,S.S6)(i,function(l){if(t(l)?n=l:l.isGroup()&&(n=l.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(ly);const dy=vy;function py(e,r,t,n,i){var l=e*e,c=l*e;return((1-3*e+3*l-c)*r+(4-6*l+3*c)*t+(1+3*e+3*l-3*c)*n+c*i)/6}const Rd=e=>()=>e;function dc(e,r){var t=r-e;return t?function ko(e,r){return function(t){return e+t*r}}(e,t):Rd(isNaN(e)?r:e)}const oo=function e(r){var t=function _6(e){return 1==(e=+e)?dc:function(r,t){return t-r?function ao(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}(r,t,e):Rd(isNaN(r)?t:r)}}(r);function n(i,l){var c=t((i=(0,eo.B8)(i)).r,(l=(0,eo.B8)(l)).r),f=t(i.g,l.g),d=t(i.b,l.b),p=dc(i.opacity,l.opacity);return function(m){return i.r=c(m),i.g=f(m),i.b=d(m),i.opacity=p(m),i+""}}return n.gamma=e,n}(1);function gy(e){return function(r){var c,f,t=r.length,n=new Array(t),i=new Array(t),l=new Array(t);for(c=0;c<t;++c)f=(0,eo.B8)(r[c]),n[c]=f.r||0,i[c]=f.g||0,l[c]=f.b||0;return n=e(n),i=e(i),l=e(l),f.opacity=1,function(d){return f.r=n(d),f.g=i(d),f.b=l(d),f+""}}}function fw(e,r){r||(r=[]);var i,t=e?Math.min(r.length,e.length):0,n=r.slice();return function(l){for(i=0;i<t;++i)n[i]=e[i]*(1-l)+r[i]*l;return n}}function jh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sa(e,r){return(jh(r)?fw:Ui)(e,r)}function Ui(e,r){var c,t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),l=new Array(t);for(c=0;c<n;++c)i[c]=Fd(e[c],r[c]);for(;c<t;++c)l[c]=r[c];return function(f){for(c=0;c<n;++c)l[c]=i[c](f);return l}}function pc(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function yy(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function tf(e,r){var i,t={},n={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===r||"object"!=typeof r)&&(r={}),r)i in e?t[i]=Fd(e[i],r[i]):n[i]=r[i];return function(l){for(i in t)n[i]=t[i](l);return n}}gy(function ds(e){var r=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,r-1):Math.floor(t*r),i=e[n],l=e[n+1];return py((t-n/r)*r,n>0?e[n-1]:2*i-l,i,l,n<r-1?e[n+2]:2*l-i)}}),gy(function w6(e){var r=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*r);return py((t-n/r)*r,e[(n+r-1)%r],e[n%r],e[(n+1)%r],e[(n+2)%r])}});var ef=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,my=new RegExp(ef.source,"g");function M6(e,r){var n,i,l,t=ef.lastIndex=my.lastIndex=0,c=-1,f=[],d=[];for(e+="",r+="";(n=ef.exec(e))&&(i=my.exec(r));)(l=i.index)>t&&(l=r.slice(t,l),f[c]?f[c]+=l:f[++c]=l),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,d.push({i:c,x:yy(n,i)})),t=my.lastIndex;return t<r.length&&(l=r.slice(t),f[c]?f[c]+=l:f[++c]=l),f.length<2?d[0]?function dw(e){return function(r){return e(r)+""}}(d[0].x):function vw(e){return function(){return e}}(r):(r=d.length,function(p){for(var x,m=0;m<r;++m)f[(x=d[m]).i]=x.x(p);return f.join("")})}function Fd(e,r){var n,t=typeof r;return null==r||"boolean"===t?Rd(r):("number"===t?yy:"string"===t?(n=(0,eo.ZP)(r))?(r=n,oo):M6:r instanceof eo.ZP?oo:r instanceof Date?pc:jh(r)?fw:Array.isArray(r)?Ui:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?tf:yy)(e,r)}var pw={},yw=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},mw=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},xw=[1,0,0,0,1,0,0,0,1];function T6(e,r,t){var n=r.startTime;if(t<n+r.delay||r._paused)return!1;var l,c=r.duration,d=function jl(e){return pw[e.toLowerCase()]||xg[e]}(r.easing);if(t=t-n-r.delay,r.repeat)l=d(l=t%c/c);else{if(!((l=t/c)<1))return e.attr(r.onFrame?r.onFrame(1):r.toAttrs),!0;l=d(l)}if(r.onFrame){var p=r.onFrame(l);e.attr(p)}else!function Cw(e,r,t){var n={},i=r.fromAttrs,l=r.toAttrs;if(!e.destroyed){var c;for(var f in l)if(!(0,S.Xy)(i[f],l[f]))if("path"===f){var d=l[f],p=i[f];d.length>p.length?(d=Bo(l[f]),p=Bo(i[f]),p=rw(p,d),p=nw(p,d),r.fromAttrs.path=p,r.toAttrs.path=d):r.pathFormatted||(d=Bo(l[f]),p=Bo(i[f]),p=nw(p,d),r.fromAttrs.path=p,r.toAttrs.path=d,r.pathFormatted=!0),n[f]=[];for(var m=0;m<d.length;m++){for(var x=d[m],_=p[m],T=[],b=0;b<x.length;b++)(0,S.hj)(x[b])&&_&&(0,S.hj)(_[b])?(c=Fd(_[b],x[b]),T.push(c(t))):T.push(x[b]);n[f].push(T)}}else if("matrix"===f){var F=sa(i[f]||xw,l[f]||xw)(t);n[f]=F}else yw(f)&&mw(l[f])?n[f]=l[f]:(0,S.mf)(l[f])||(c=Fd(i[f],l[f]),n[f]=c(t));e.attr(n)}}(e,r,l);return!1}var b6=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var n,i,l,r=this;this.timer=ju.HT(function(c){if(r.current=c,r.animators.length>0){for(var f=r.animators.length-1;f>=0;f--)if((n=r.animators[f]).destroyed)r.removeAnimator(f);else{if(!n.isAnimatePaused())for(var d=(i=n.get("animations")).length-1;d>=0;d--)T6(n,l=i[d],c)&&(i.splice(d,1),l.callback&&l.callback());0===i.length&&r.removeAnimator(f)}r.canvas.get("autoDraw")||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){void 0===r&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}();const Ks=b6;var _w=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Sw(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function L6(e,r,t){if(t.bubbles){var n=void 0,i=!1;if("mouseenter"===r?(n=t.fromShape,i=!0):"mouseleave"===r&&(i=!0,n=t.toShape),e.isCanvas()&&i)return;if(n&&oy(e,n))return void(t.bubbles=!1);t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var I6=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){t._triggerEvent(n.type,n)},this._onDocumentMove=function(n){if(t.canvas.get("el")!==n.target&&(t.dragging||t.currentShape)){var c=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,c,t.draggingShape)}},this._onDocumentMouseUp=function(n){if(t.canvas.get("el")!==n.target&&t.dragging){var c=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,c,null),t._emitEvent("dragend",n,c,t.draggingShape),t._afterDrag(t.draggingShape,c,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");(0,S.S6)(_w,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");(0,S.S6)(_w,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,i,l,c){var f=new Po(r,t);return f.fromShape=l,f.toShape=c,f.x=n.x,f.y=n.y,f.clientX=n.clientX,f.clientY=n.clientY,f.propagationPath.push(i),f},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),i=this._getShape(n,t),l=this["_on"+r],c=!1;if(l)l.call(this,n,i,t);else{var f=this.currentShape;"mouseenter"===r||"dragenter"===r||"mouseover"===r?(this._emitEvent(r,t,n,null,null,i),i&&this._emitEvent(r,t,n,i,null,i),"mouseenter"===r&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===r||"dragleave"===r||"mouseout"===r?(c=!0,f&&this._emitEvent(r,t,n,f,f,null),this._emitEvent(r,t,n,null,f,null),"mouseleave"===r&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,i,null,null)}if(c||(this.currentShape=i),i&&!i.get("destroyed")){var d=this.canvas;d.get("el").style.cursor=i.attr("cursor")||d.get("cursor")}},e.prototype._onmousedown=function(r,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,i){var l=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",r,t,n,n,i),this._emitEvent("mouseleave",r,t,n,n,i),(!i||i.get("destroyed"))&&(l.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,n,i),this._emitEvent("mouseenter",r,t,i,n,i)))},e.prototype._emitDragoverEvents=function(r,t,n,i,l){i?(i!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,i),this._emitEvent("dragenter",r,t,i,n,i)),l||this._emitEvent("dragover",r,t,i)):n&&this._emitEvent("dragleave",r,t,n,n,i),l&&this._emitEvent("dragover",r,t,i)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,n);i!==r&&this._emitMouseoverEvents(n,t,r,i),this.currentShape=i},e.prototype._onmouseup=function(r,t,n){if(0===n.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,i),this._afterDrag(i,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault(),this._emitDragoverEvents(n,r,this.currentShape,t,!0)},e.prototype._onmousemove=function(r,t,n){var i=this.canvas,l=this.currentShape,c=this.draggingShape;if(this.dragging)c&&this._emitDragoverEvents(n,r,l,t,!1),this._emitEvent("drag",n,r,c);else{var f=this.mousedownPoint;if(f){var d=this.mousedownShape,x=f.clientX-r.clientX,_=f.clientY-r.clientY;n.timeStamp-this.mousedownTimeStamp>120||x*x+_*_>40?d&&d.get("draggable")?((c=this.mousedownShape).set("capture",!1),this.draggingShape=c,this.dragging=!0,this._emitEvent("dragstart",n,r,c),this.mousedownShape=null,this.mousedownPoint=null):!d&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,l,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,i,l,c){var f=this._getEventObj(r,t,n,i,l,c);if(i){f.shape=i,Sw(i,r,f);for(var d=i.getParent();d;)d.emitDelegation(r,f),f.propagationStopped||L6(d,r,f),f.propagationPath.push(d),d=d.getParent()}else Sw(this.canvas,r,f)},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}();const O6=I6;var Tw=(0,Jv.qY)(),R6=Tw&&"firefox"===Tw.name;!function(e){function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");(0,S.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new O6({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new Ks(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var i=this.get("el");aw&&(i.style.width=t+"px",i.style.height=n+"px")},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");aw&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(R6&&!(0,S.UM)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,S.UM)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t);return this.getPointByClient(i.x,i.y)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(n="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var l=this.get("el").getBoundingClientRect();return{x:t-l.left,y:n-l.top}},r.prototype.getClientByPoint=function(t,n){var l=this.get("el").getBoundingClientRect();return{x:t+l.left,y:n+l.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){this.get("eventController").destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))}}(dy),function(e){function r(){return null!==e&&e.apply(this,arguments)||this}(0,E.ZT)(r,e),r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++)t.add(n[i].clone());return t}}(dy),function(e){function r(t){return e.call(this,t)||this}(0,E.ZT)(r,e),r.prototype._isInBBox=function(t,n){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=n&&i.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),i=t.minX,l=t.minY,c=t.maxX,f=t.maxY;if(n){var d=fc(n,[t.minX,t.minY]),p=fc(n,[t.maxX,t.minY]),m=fc(n,[t.minX,t.maxY]),x=fc(n,[t.maxX,t.maxY]);i=Math.min(d[0],p[0],m[0],x[0]),c=Math.max(d[0],p[0],m[0],x[0]),l=Math.min(d[1],p[1],m[1],x[1]),f=Math.max(d[1],p[1],m[1],x[1])}var _=this.attrs;if(_.shadowColor){var T=_.shadowBlur,b=void 0===T?0:T,I=_.shadowOffsetX,F=void 0===I?0:I,B=_.shadowOffsetY,Y=void 0===B?0:B,H=c+b+F,et=l-b+Y,wt=f+b+Y;i=Math.min(i,i-b+F),c=Math.max(c,H),l=Math.min(l,et),f=Math.max(f,wt)}return{x:i,y:l,minX:i,minY:l,maxX:c,maxY:f,width:c-i,height:f-l}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var i=this.get("startArrowShape"),l=this.get("endArrowShape"),c=[t,n,1],f=(c=this.invertFromMatrix(c))[0],d=c[1],p=this._isInBBox(f,d);return this.isOnlyHitBox()?p:!(!p||this.isClipped(f,d)||!(this.isInShape(f,d)||i&&i.isHit(f,d)||l&&l.isHit(f,d)))}}(ly);var bw=new Map;function zo(e,r){bw.set(e,r)}function Aw(e){var r=e.attr();return{x:r.x,y:r.y,width:r.width,height:r.height}}function Ew(e){var r=e.attr(),i=r.r;return{x:r.x-i,y:r.y-i,width:2*i,height:2*i}}function Lw(e,r){return e&&r?{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}:e||r}function On(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape");return t&&(r=Lw(r,t.getCanvasBBox())),n&&(r=Lw(r,n.getCanvasBBox())),r}var Dd=null;function ps(e,r){var t=e.prePoint,n=e.currentPoint,i=e.nextPoint,l=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),c=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),f=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),d=Math.acos((l+c-f)/(2*Math.sqrt(l)*Math.sqrt(c)));if(!d||0===Math.sin(d)||(0,S.vQ)(d,0))return{xExtra:0,yExtra:0};var p=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),m=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));return p=p>Math.PI/2?Math.PI-p:p,m=m>Math.PI/2?Math.PI-m:m,{xExtra:Math.cos(d/2-p)*(r/2*(1/Math.sin(d/2)))-r/2||0,yExtra:Math.cos(m-d/2)*(r/2*(1/Math.sin(d/2)))-r/2||0}}function Rw(e,r,t){var n=new Po(r,t);n.target=e,n.propagationPath.push(e),e.emitDelegation(r,n);for(var i=e.getParent();i;)i.emitDelegation(r,n),n.propagationPath.push(i),i=i.getParent()}zo("rect",Aw),zo("image",Aw),zo("circle",Ew),zo("marker",Ew),zo("polyline",function F6(e){for(var t=e.attr().points,n=[],i=[],l=0;l<t.length;l++){var c=t[l];n.push(c[0]),i.push(c[1])}var f=Ln.Zr.getBBoxByArray(n,i),d=f.x,p=f.y,_={minX:d,minY:p,maxX:d+f.width,maxY:p+f.height};return{x:(_=On(e,_)).minX,y:_.minY,width:_.maxX-_.minX,height:_.maxY-_.minY}}),zo("polygon",function Ea(e){for(var t=e.attr().points,n=[],i=[],l=0;l<t.length;l++){var c=t[l];n.push(c[0]),i.push(c[1])}return Ln.Zr.getBBoxByArray(n,i)}),zo("text",function Iw(e){var r=e.attr(),t=r.x,n=r.y,i=r.text,l=r.fontSize,c=r.lineHeight,f=r.font;f||(f=function Ga(e){return[e.fontStyle,e.fontVariant,e.fontWeight,e.fontSize+"px",e.fontFamily].join(" ").trim()}(r));var p,d=function B6(e,r){var t=function rf(){if(!Dd){var e=document.createElement("canvas");e.width=1,e.height=1,Dd=e.getContext("2d")}return Dd}(),n=0;if((0,S.UM)(e)||""===e)return n;if(t.save(),t.font=r,(0,S.HD)(e)&&e.includes("\n")){var i=e.split("\n");(0,S.S6)(i,function(l){var c=t.measureText(l).width;n<c&&(n=c)})}else n=t.measureText(e).width;return t.restore(),n}(i,f);if(d){var m=r.textAlign,x=r.textBaseline,_=function D6(e,r,t){var n=1;if((0,S.HD)(e)&&(n=e.split("\n").length),n>1){var i=function xy(e,r){return r?r-e:.14*e}(r,t);return r*n+i*(n-1)}return r}(i,l,c),T={x:t,y:n-_};m&&("end"===m||"right"===m?T.x-=d:"center"===m&&(T.x-=d/2)),x&&("top"===x?T.y+=_:"middle"===x&&(T.y+=_/2)),p={x:T.x,y:T.y,width:d,height:_}}else p={x:t,y:n,width:0,height:0};return p}),zo("path",function k6(e){var r=e.attr(),t=r.path,i=r.stroke?r.lineWidth:0,c=function P6(e,r){for(var t=[],n=[],i=[],l=0;l<e.length;l++){var f=(c=e[l]).currentPoint,d=c.params,p=c.prePoint,m=void 0;switch(c.command){case"Q":m=Ln.lD.box(p[0],p[1],d[1],d[2],d[3],d[4]);break;case"C":m=Ln.Ll.box(p[0],p[1],d[1],d[2],d[3],d[4],d[5],d[6]);break;case"A":var x=c.arcParams;m=Ln.wN.box(x.cx,x.cy,x.rx,x.ry,x.xRotation,x.startAngle,x.endAngle);break;default:t.push(f[0]),n.push(f[1])}m&&(c.box=m,t.push(m.x,m.x+m.width),n.push(m.y,m.y+m.height)),r&&("L"===c.command||"M"===c.command)&&c.prePoint&&c.nextPoint&&i.push(c)}t=t.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0}),n=n.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0});var _=(0,S.VV)(t),T=(0,S.VV)(n),b=(0,S.Fp)(t),I=(0,S.Fp)(n);if(0===i.length)return{x:_,y:T,width:b-_,height:I-T};for(l=0;l<i.length;l++){var c;(f=(c=i[l]).currentPoint)[0]===_?_-=ps(c,r).xExtra:f[0]===b&&(b+=ps(c,r).xExtra),f[1]===T?T-=ps(c,r).yExtra:f[1]===I&&(I+=ps(c,r).yExtra)}return{x:_,y:T,width:b-_,height:I-T}}(e.get("segments")||(0,Io.zx)(t),i),f=c.x,d=c.y,x={minX:f,minY:d,maxX:f+c.width,maxY:d+c.height};return{x:(x=On(e,x)).minX,y:x.minY,width:x.maxX-x.minX,height:x.maxY-x.minY}}),zo("line",function z6(e){var r=e.attr(),t=r.x1,n=r.y1,i=r.x2,l=r.y2,m={minX:Math.min(t,i),maxX:Math.max(t,i),minY:Math.min(n,l),maxY:Math.max(n,l)};return{x:(m=On(e,m)).minX,y:m.minY,width:m.maxX-m.minX,height:m.maxY-m.minY}}),zo("ellipse",function Ow(e){var r=e.attr(),i=r.rx,l=r.ry;return{x:r.x-i,y:r.y-l,width:2*i,height:2*l}});var Fw=[1,0,0,0,1,0,0,0,1];function tu(e,r,t){return void 0===t&&(t=Fw),r?Zr.vs(t,[["t",-e.x,-e.y],["r",r],["t",e.x,e.y]]):null}function Cy(e,r){return e.x||e.y?Zr.vs(r||Fw,[["t",e.x,e.y]]):null}function vn(e,r){var t=[0,0];return Tr.kK(t,r,e),t}function Dw(e,r,t,n){if(r){var i=tu({x:t,y:n},r,e.getMatrix());e.setMatrix(i)}}function nf(e,r,t){var n=Cy({x:r,y:t});e.attr("matrix",n)}function af(e){var r=0,t=0,n=0,i=0;return(0,S.hj)(e)?r=t=n=i=e:(0,S.kJ)(e)&&(r=e[0],n=(0,S.UM)(e[1])?e[0]:e[1],i=(0,S.UM)(e[2])?e[0]:e[2],t=(0,S.UM)(e[3])?n:e[3]),[r,n,i,t]}function _y(e){for(var r=e.childNodes,n=r.length-1;n>=0;n--)e.removeChild(r[n])}function Sy(e,r){return!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function of(e){var r=e.start,t=e.end,n=Math.min(r.x,t.x),i=Math.min(r.y,t.y),l=Math.max(r.x,t.x),c=Math.max(r.y,t.y);return{x:n,y:i,minX:n,minY:i,maxX:l,maxY:c,width:l-n,height:c-i}}function Mi(e,r,t,n){var i=e+t,l=r+n;return{x:e,y:r,width:t,height:n,minX:e,minY:r,maxX:isNaN(i)?0:i,maxY:isNaN(l)?0:l}}function eu(e,r,t){return(1-t)*e+r*t}function ru(e,r,t){return{x:e.x+Math.cos(t)*r,y:e.y+Math.sin(t)*r}}var Bd=function(e,r,t){return void 0===t&&(t=Math.pow(Number.EPSILON,.5)),[e,r].includes(1/0)?Math.abs(e)===Math.abs(r):Math.abs(e-r)<t};function Bw(e){var n,r=e.getClip(),t=r&&r.getBBox();if(e.isGroup()){var i=1/0,l=-1/0,c=1/0,f=-1/0,d=e.getChildren();d.length>0?(0,S.S6)(d,function(p){if(p.get("visible")){if(p.isGroup()&&0===p.get("children").length)return!0;var m=Bw(p),x=p.applyToMatrix([m.minX,m.minY,1]),_=p.applyToMatrix([m.minX,m.maxY,1]),T=p.applyToMatrix([m.maxX,m.minY,1]),b=p.applyToMatrix([m.maxX,m.maxY,1]),I=Math.min(x[0],_[0],T[0],b[0]),F=Math.max(x[0],_[0],T[0],b[0]),B=Math.min(x[1],_[1],T[1],b[1]),Y=Math.max(x[1],_[1],T[1],b[1]);I<i&&(i=I),F>l&&(l=F),B<c&&(c=B),Y>f&&(f=Y)}}):(i=0,l=0,c=0,f=0),n=Mi(i,c,l-i,f-c)}else n=e.getBBox();return t?function W6(e,r){var t=Math.max(e.minX,r.minX),n=Math.max(e.minY,r.minY);return Mi(t,n,Math.min(e.maxX,r.maxX)-t,Math.min(e.maxY,r.maxY)-n)}(n,t):n}function la(e){return e+"px"}function gc(e,r,t,n){var i=function Y6(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}(e,r),l=n/i,c=0;return"start"===t?c=0-l:"end"===t&&(c=1+l),{x:eu(e.x,r.x,c),y:eu(e.y,r.y,c)}}var U6={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},X6=function(e){function r(t){var n=e.call(this,t)||this;return n.initCfg(),n}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var n=this,i=this.get("defaultCfg")||{};(0,S.S6)(t,function(l,c){var d=l;n.get(c)!==l&&((0,S.Kn)(l)&&i[c]&&(d=(0,S.b$)({},i[c],l)),n.set(c,d))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,S.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,S.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},r.prototype.setLocation=function(t){var n=(0,E.pi)({},t);this.update(n)},r.prototype.getLocation=function(){var t=this,n={},i=this.get("locationType");return(0,S.S6)(U6[i],function(c){n[c]=t.get(c)}),n},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");(0,S.S6)(n,function(i,l){var c=t.get(l);if((0,S.Kn)(c)){var f=(0,S.b$)({},i,c);t.set(l,f)}})},r}(ow);const Pw=X6;var nu="update_status",V6=["visible","tip","delegateObject"],$6=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Z6=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear(),this.get("group").remove()},r.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var n=this.getElementById(t);return n&&n.get("component")},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},r.prototype.getElementsByName=function(t){var n=[];return(0,S.S6)(this.get("shapesMap"),function(i){i.get("name")===t&&n.push(i)}),n},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},r.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),e.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(n=function H6(e,r){var t=vn(e,[r.minX,r.minY]),n=vn(e,[r.maxX,r.minY]),i=vn(e,[r.minX,r.maxY]),l=vn(e,[r.maxX,r.maxY]),c=Math.min(t[0],n[0],i[0],l[0]),f=Math.max(t[0],n[0],i[0],l[0]),d=Math.min(t[1],n[1],i[1],l[1]),p=Math.max(t[1],n[1],i[1],l[1]);return{x:c,y:d,minX:c,minY:d,maxX:f,maxY:p,width:f-c,height:p-d}}(i,n)),n},r.prototype.on=function(t,n,i){return this.get("group").on(t,n,i),this},r.prototype.off=function(t,n){var i=this.get("group");return i&&i.off(t,n),this},r.prototype.emit=function(t,n){this.get("group").emit(t,n)},r.prototype.init=function(){e.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,n){var i=this.get("group");n.target=i,i.emit(t,n),Rw(i,t,n)},r.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},r.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Bw(t)),t},r.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var i=t.addGroup(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var i=t.addShape(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addComponent=function(t,n){var i=n.id,l=n.component,c=(0,E._T)(n,["id","component"]),f=new l((0,E.pi)((0,E.pi)({},c),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return f.init(),f.render(),this.get("isRegister")&&this.registerElement(f.get("group")),f},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){this.get("group").off()},r.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},r.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},r.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},r.prototype.moveElementTo=function(t,n){var i=Cy(n);t.attr("matrix",i)},r.prototype.addAnimation=function(t,n,i){var l=n.attr("opacity");(0,S.UM)(l)&&(l=1),n.attr("opacity",0),n.animate({opacity:l},i)},r.prototype.removeAnimation=function(t,n,i){n.animate({opacity:0},i)},r.prototype.updateAnimation=function(t,n,i,l){n.animate(i,l)},r.prototype.updateElements=function(t,n){var d,i=this,l=this.get("animate"),c=this.get("animateOption"),f=t.getChildren().slice(0);(0,S.S6)(f,function(p){var m=p.get("id"),x=i.getElementById(m),_=p.get("name");if(x)if(p.get("isComponent")){var T=p.get("component"),b=x.get("component"),I=(0,S.ei)(T.cfg,(0,S.e5)((0,S.XP)(T.cfg),$6));b.update(I),x.set(nu,"update")}else{var F=i.getReplaceAttrs(x,p);l&&c.update?i.updateAnimation(_,x,F,c.update):x.attr(F),p.isGroup()&&i.updateElements(p,x),(0,S.S6)(V6,function(H){x.set(H,p.get(H))}),function Ty(e,r){if(e.getClip()||r.getClip()){var t=r.getClip();if(!t)return void e.setClip(null);var n={type:t.get("type"),attrs:t.attr()};e.setClip(n)}}(x,p),d=x,x.set(nu,"update")}else{n.add(p);var B=n.getChildren();if(B.splice(B.length-1,1),d){var Y=B.indexOf(d);B.splice(Y+1,0,p)}else B.unshift(p);if(i.registerElement(p),p.set(nu,"add"),p.get("isComponent")?(T=p.get("component")).set("container",n):p.isGroup()&&i.registerNewGroup(p),d=p,l){var G=i.get("isInit")?c.appear:c.enter;G&&i.addAnimation(_,p,G)}}})},r.prototype.clearUpdateStatus=function(t){var n=t.getChildren();(0,S.S6)(n,function(i){i.set(nu,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},r.prototype.appendDelegateObject=function(t,n){var i=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),(0,S.CD)(n.delegateObject,i)},r.prototype.getReplaceAttrs=function(t,n){var i=t.attr(),l=n.attr();return(0,S.S6)(i,function(c,f){void 0===l[f]&&(l[f]=void 0)}),l},r.prototype.registerNewGroup=function(t){var n=this,i=t.getChildren();(0,S.S6)(i,function(l){n.registerElement(l),l.set(nu,"add"),l.isGroup()&&n.registerNewGroup(l)})},r.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),i=[];(0,S.S6)(n,function(f,d){!f.get(nu)||f.destroyed?i.push([d,f]):f.set(nu,null)});var l=this.get("animate"),c=this.get("animateOption");(0,S.S6)(i,function(f){var d=f[0],p=f[1];if(!p.destroyed){var m=p.get("name");if(l&&c.leave){var x=(0,S.CD)({callback:function(){t.removeElement(p)}},c.leave);t.removeAnimation(m,p,x)}else t.removeElement(p)}delete n[d]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},r}(Pw);const Di=Z6;var by="\u2026";function iu(e,r){return e.charCodeAt(r)>0&&e.charCodeAt(r)<128?1:2}var K6="\u2026",Pd=2,Q6=400;function Ay(e){if(e.length>Q6)return function J6(e){for(var r=e.map(function(d){var p=d.attr("text");return(0,S.UM)(p)?"":""+p}),t=0,n=0,i=0;i<r.length;i+=1){for(var l=0,c=0;c<=r[i].length;c+=1){var f=r[i].charCodeAt(c);l+=f>=19968&&f<=40869?2:1}l>t&&(t=l,n=i)}return e[n].getBBox().width}(e);var r=0;return(0,S.S6)(e,function(t){var i=t.getBBox().width;r<i&&(r=i)}),r}function sf(e,r,t,n){var i;void 0===n&&(n="tail");var l=null!==(i=r.attr("text"))&&void 0!==i?i:"";if("tail"===n){var c=(0,S.ei)(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),f=(0,S.Lo)(l,t,c,"\u2026");return l!==f?(r.attr("text",f),r.set("tip",l),!0):(r.set("tip",null),!1)}var d=function j6(e,r){var t=r.getCanvasBBox();return e?t.width:t.height}(e,r),p=function q6(e){for(var r=0,t=0;t<e.length;t++)r+=iu(e,t);return r}(l),m=!1;if(t<d){var _,x=Math.floor(t/d*p)-Pd;_=x>=0?function au(e,r,t){void 0===t&&(t="tail");var n=e.length,i="";if("tail"===t){for(var l=0,c=0;l<r&&l+iu(e,c)<=r;)i+=e[c],l+=iu(e,c),c++;i+=by}else if("head"===t){for(l=0,c=n-1;l<r&&l+iu(e,c)<=r;)i+=e[c],l+=iu(e,c),c--;i=by+i}else{for(var d="",p="",m=(l=0,0),x=n-1;l<r;){var _=iu(e,m),T=!1;_+l<=r&&(d+=e[m],m++,l+=_,T=!0);var b=iu(e,x);if(b+l<=r&&(p=e[x]+p,l+=b,x--,T=!0),!T)break}i=d+by+p}return i}(l,x,n):K6,_&&(r.attr("text",_),m=!0)}return r.set("tip",m?l:null),m}function Ya(e,r){var t=r.x,n=r.y,i=r.content,l=r.style,c=r.id,f=r.name,d=r.rotate,p=r.maxLength,m=r.autoEllipsis,x=r.isVertical,_=r.ellipsisPosition,T=r.background,b=e.addGroup({id:c+"-group",name:f+"-group",attrs:{x:t,y:n}}),I=b.addShape({type:"text",id:c,name:f,attrs:(0,E.pi)({x:0,y:0,text:i},l)}),F=af((0,S.U2)(T,"padding",0));if(p&&m&&sf(!x,I,p-(F[1]+F[3]),_),T){var Y=(0,S.U2)(T,"style",{}),G=I.getCanvasBBox();b.addShape("rect",{id:c+"-bg",name:c+"-bg",attrs:(0,E.pi)({x:G.minX-F[3],y:G.minY-F[0],width:G.width+F[1]+F[3],height:G.height+F[0]+F[2]},Y)}).toBack()}nf(b,t,n),Dw(b,d,t,n)}const Vr={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var lf=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Vr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Vr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Vr.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var n=this.get("start"),i=this.get("end"),l=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,E.pi)({x1:n.x,y1:n.y,x2:i.x,y2:i.y},l)})},r.prototype.getLabelPoint=function(t,n,i){var l;return((l="start"===i?0:"center"===i?.5:(0,S.HD)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:(0,S.hj)(i)?i:1)>1||l<0)&&(l=1),{x:eu(t.x,n.x,l),y:eu(t.y,n.y,l)}},r.prototype.renderLabel=function(t){var n=this.get("text"),i=this.get("start"),l=this.get("end"),f=n.content,d=n.style,p=n.offsetX,m=n.offsetY,x=n.autoRotate,_=n.maxLength,T=n.autoEllipsis,b=n.ellipsisPosition,I=n.background,F=n.isVertical,B=void 0!==F&&F,Y=this.getLabelPoint(i,l,n.position),G=Y.x+p,H=Y.y+m,et={id:this.getElementId("line-text"),name:"annotation-line-text",x:G,y:H,content:f,style:d,maxLength:_,autoEllipsis:T,ellipsisPosition:b,background:I,isVertical:B};if(x){var wt=[l.x-i.x,l.y-i.y];et.rotate=Math.atan2(wt[1],wt[0])}Ya(t,et)},r}(Di);const t4=lf;var e4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Vr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Vr.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var n=this.getLocation(),i=n.x,l=n.y,c=this.get("content"),f=this.get("style");Ya(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:i,y:l,content:c,style:f,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),i=n.x,l=n.y,c=this.get("rotate");nf(t,i,l),Dw(t,c,i,l)}},r}(Di);const kd=e4;var r4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,i=t.radius,l=t.startAngle,c=t.endAngle,f=ru(n,i,l),d=ru(n,i,c),p=c-l>Math.PI?1:0,m=[["M",f.x,f.y]];if(c-l==2*Math.PI){var x=ru(n,i,l+Math.PI);m.push(["A",i,i,0,p,1,x.x,x.y]),m.push(["A",i,i,0,p,1,d.x,d.y])}else m.push(["A",i,i,0,p,1,d.x,d.y]);return m},r.prototype.renderArc=function(t){var n=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,E.pi)({path:n},i)})},r}(Di);const n4=r4;var a4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Vr.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var n=this.get("start"),i=this.get("end"),l=this.get("style"),c=of({start:n,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,E.pi)({x:c.x,y:c.y,width:c.width,height:c.height},l)})},r}(Di);const o4=a4;var gs=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),i=this.get("style"),l=of({start:t,end:n}),c=this.get("src");return(0,E.pi)({x:l.x,y:l.y,img:c,width:l.width,height:l.height},i)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(Di);const s4=gs;var ou=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Vr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Vr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Vr.fontFamily}}}})},r.prototype.renderInner=function(t){(0,S.U2)(this.get("line"),"display")&&this.renderLine(t),(0,S.U2)(this.get("text"),"display")&&this.renderText(t),(0,S.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},r.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},r.prototype.renderText=function(t){var n=this.getShapeAttrs().text,i=n.x,l=n.y,c=n.text,f=(0,E._T)(n,["x","y","text"]),d=this.get("text"),p=d.background,m=d.maxLength,x=d.autoEllipsis,_=d.isVertival,T=d.ellipsisPosition;Ya(t,{x:i,y:l,id:this.getElementId("text"),name:"annotation-text",content:c,style:f,background:p,maxLength:m,autoEllipsis:x,isVertival:_,ellipsisPosition:T})},r.prototype.autoAdjust=function(t){var n=this.get("direction"),i=this.get("x"),l=this.get("y"),c=(0,S.U2)(this.get("line"),"length",0),f=this.get("coordinateBBox"),d=t.getBBox(),p=d.minX,m=d.maxX,x=d.minY,_=d.maxY,T=t.findById(this.getElementId("text-group")),b=t.findById(this.getElementId("text")),I=t.findById(this.getElementId("line"));if(f){if(T){if(i+p<=f.minX){var F=f.minX-(i+p);nf(T,T.attr("x")+F,T.attr("y"))}i+m>=f.maxX&&(F=i+m-f.maxX,nf(T,T.attr("x")-F,T.attr("y")))}if("upward"===n&&l+x<=f.minY||"upward"!==n&&l+_>=f.maxY){var B=void 0,Y=void 0;"upward"===n&&l+x<=f.minY?(B="top",Y=1):(B="bottom",Y=-1),b.attr("textBaseline",B),I&&I.attr("path",[["M",0,0],["L",0,c*Y]]),nf(T,T.attr("x"),(c+2)*Y)}}},r.prototype.getShapeAttrs=function(){var t=(0,S.U2)(this.get("line"),"display"),n=(0,S.U2)(this.get("point"),"style",{}),i=(0,S.U2)(this.get("line"),"style",{}),l=(0,S.U2)(this.get("text"),"style",{}),c=this.get("direction"),f=t?(0,S.U2)(this.get("line"),"length",0):0,d="upward"===c?-1:1;return{point:(0,E.pi)({x:0,y:0},n),line:(0,E.pi)({path:[["M",0,0],["L",0,f*d]]},i),text:(0,E.pi)({x:0,y:(f+2)*d,text:(0,S.U2)(this.get("text"),"content",""),textBaseline:"upward"===c?"bottom":"top"},l)}},r}(Di);const l4=ou;var u4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Vr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Vr.textColor,fontFamily:Vr.fontFamily}}}})},r.prototype.renderInner=function(t){var n=(0,S.U2)(this.get("region"),"style",{}),l=((0,S.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),c=this.get("points");if(c.length){var f=function G6(e){var r=e.map(function(f){return f.x}),t=e.map(function(f){return f.y}),n=Math.min.apply(Math,r),i=Math.min.apply(Math,t),l=Math.max.apply(Math,r),c=Math.max.apply(Math,t);return{x:n,y:i,minX:n,minY:i,maxX:l,maxY:c,width:l-n,height:c-i}}(c),d=[];d.push(["M",c[0].x,f.minY-l]),c.forEach(function(m){d.push(["L",m.x,m.y])}),d.push(["L",c[c.length-1].x,c[c.length-1].y-l]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,E.pi)({path:d},n)}),Ya(t,(0,E.pi)({id:this.getElementId("text"),name:"annotation-text",x:(f.minX+f.maxX)/2,y:f.minY-l},this.get("text")))}},r}(Di);const c4=u4;var h4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var n=this,i=this.get("start"),l=this.get("end"),c=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,S.S6)(this.get("shapes"),function(d,p){var m=d.get("type"),x=(0,S.d9)(d.attr());n.adjustShapeAttrs(x),n.addShape(c,{id:n.getElementId("shape-"+m+"-"+p),capture:!1,type:m,attrs:x})});var f=of({start:i,end:l});c.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}})},r.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},r}(Di);const f4=h4;var kw=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"shape",draw:S.ZT})},r.prototype.renderInner=function(t){var n=this.get("render");(0,S.mf)(n)&&n(t)},r}(Di);const yn=kw;function Jn(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch{}finally{n=void 0===n?t:n}return n}var ua="g2-tooltip",Wa="g2-tooltip-custom",Ho="g2-tooltip-title",uf="g2-tooltip-list",ii="g2-tooltip-list-item",yc="g2-tooltip-marker",Ua="g2-tooltip-value",zw="g2-tooltip-name",Ey="g2-tooltip-crosshair-x",Ly="g2-tooltip-crosshair-y",zd=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},r.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){this.getContainer().style.pointerEvents=t?"auto":"none",this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer();return Mi(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){_y(this.get("container"))},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),e.prototype.destroy.call(this)},r.prototype.init=function(){e.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,S.UM)(t)){t=this.createDom();var n=this.get("parent");(0,S.HD)(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,S.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t=t?(0,S.b$)({},n,t):n,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var i=this.get("containerClassName");i&&Sy(n,i)&&ki(n,t[i])}},r.prototype.applyChildrenStyles=function(t,n){var i=this;(0,S.S6)(n,function(l,c){var f=t.getElementsByClassName(c);(0,S.S6)(f,function(d){var p=i.get("containerClassName"),m=l;Sy(d,ua)&&p===Wa&&(m=(0,E.pi)((0,E.pi)({},l),{visibility:"unset",position:"unset"})),ki(d,m)})})},r.prototype.applyStyle=function(t,n){ki(n,this.get("domStyles")[t])},r.prototype.createDom=function(){return Us(this.get("containerTpl"))},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,S.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(Pw);const Iy=zd;var d4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),n=this.get("html");_y(t);var i=(0,S.mf)(n)?n(t):n;if((0,S.kK)(i))t.appendChild(i);else if((0,S.HD)(i)||(0,S.hj)(i)){var l=Us(""+i);l&&t.appendChild(l)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),i=n.x,l=n.y,c=this.get("alignX"),f=this.get("alignY"),d=this.get("offsetX"),p=this.get("offsetY"),m=function No(e,r){var t=function v4(e,r){var t=Jn(e,"width",r);return"auto"===t&&(t=e.offsetWidth),parseFloat(t)}(e,r),n=parseFloat(Jn(e,"borderLeftWidth"))||0,i=parseFloat(Jn(e,"paddingLeft"))||0,l=parseFloat(Jn(e,"paddingRight"))||0,c=parseFloat(Jn(e,"borderRightWidth"))||0,f=parseFloat(Jn(e,"marginRight"))||0;return t+n+c+i+l+(parseFloat(Jn(e,"marginLeft"))||0)+f}(t),x=function yr(e,r){var t=function su(e,r){var t=Jn(e,"height",r);return"auto"===t&&(t=e.offsetHeight),parseFloat(t)}(e,r),n=parseFloat(Jn(e,"borderTopWidth"))||0,i=parseFloat(Jn(e,"paddingTop"))||0,l=parseFloat(Jn(e,"paddingBottom"))||0;return t+n+(parseFloat(Jn(e,"borderBottomWidth"))||0)+i+l+(parseFloat(Jn(e,"marginTop"))||0)+(parseFloat(Jn(e,"marginBottom"))||0)}(t),_={x:i,y:l};"middle"===c?_.x-=Math.round(m/2):"right"===c&&(_.x-=Math.round(m)),"middle"===f?_.y-=Math.round(x/2):"bottom"===f&&(_.y-=Math.round(x)),d&&(_.x+=d),p&&(_.y+=p),ki(t,{position:"absolute",left:_.x+"px",top:_.y+"px",zIndex:this.get("zIndex")})},r}(Iy);const p4=d4;function mc(e,r,t){var n=r+"Style",i=null;return(0,S.S6)(t,function(l,c){e[c]&&l[n]&&(i||(i={}),(0,S.CD)(i,l[n]))}),i}var g4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Vr.lineColor}},tickLine:{style:{lineWidth:1,stroke:Vr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Vr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Vr.textColor,fontFamily:Vr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Vr.textColor,textBaseline:"middle",fontFamily:Vr.fontFamily,textAlign:"center"},iconStyle:{fill:Vr.descriptionIconFill,stroke:Vr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Vr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,n){(0,S.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i,this.updateTickStates(t)},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("tickStates"),i=[];return(0,S.S6)(n,function(l,c){t[c]&&i.push(c)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);(0,S.S6)(i,function(l){n.setItemState(l,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return(0,S.hX)(i,function(l){return n.hasState(l,t)})},r.prototype.getSidePoint=function(t,n){var l=this.getSideVector(n,t);return{x:t.x+l[0],y:t.y+l[1]}},r.prototype.getTextAnchor=function(t){var n;return(0,S.vQ)(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},r.prototype.getTextBaseline=function(t){var n;return(0,S.vQ)(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var n=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,S.CD)({path:n},i.style)})},r.prototype.getTickLineItems=function(t){var n=this,i=[],l=this.get("tickLine"),c=l.alignTick,f=l.length,d=1;return t.length>=2&&(d=t[1].value-t[0].value),(0,S.S6)(t,function(m){var x=m.point;c||(x=n.getTickPoint(m.value-d/2));var _=n.getSidePoint(x,f);i.push({startPoint:x,tickValue:m.value,endPoint:_,tickId:m.id,id:"tickline-"+m.id})}),i},r.prototype.getSubTickLineItems=function(t){var n=[],i=this.get("subTickLine"),l=i.count,c=t.length;if(c>=2)for(var f=0;f<c-1;f++)for(var d=t[f],p=t[f+1],m=0;m<l;m++){var x=(m+1)/(l+1),_=(1-x)*d.tickValue+x*p.tickValue,T=this.getTickPoint(_),b=this.getSidePoint(T,i.length);n.push({startPoint:T,endPoint:b,tickValue:_,id:"sub-"+d.id+"-"+m})}return n},r.prototype.getTickLineAttrs=function(t,n,i,l){var c=this.get(n).style,f={points:[t.startPoint,t.endPoint]},d=(0,S.U2)(this.get("theme"),["tickLine","style"],{});c=(0,S.mf)(c)?(0,S.CD)({},d,c(f,i,l)):c;var p=t.startPoint,m=t.endPoint;return(0,E.pi)({x1:p.x,y1:p.y,x2:m.x,y2:m.y},c)},r.prototype.drawTick=function(t,n,i,l,c){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,l,c)})},r.prototype.drawTickLines=function(t){var n=this,i=this.get("ticks"),l=this.get("subTickLine"),c=this.getTickLineItems(i),f=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),d=this.get("tickLine");if((0,S.S6)(c,function(m,x){if(d.displayWithLabel){var _=n.getElementId("label-"+m.tickId);t.findById(_)&&n.drawTick(m,f,"tickLine",x,c)}else n.drawTick(m,f,"tickLine",x,c)}),l){var p=this.getSubTickLineItems(c);(0,S.S6)(p,function(m,x){n.drawTick(m,f,"subTickLine",x,p)})}},r.prototype.processTicks=function(){var t=this,n=this.get("ticks");(0,S.S6)(n,function(i){i.point=t.getTickPoint(i.value),(0,S.UM)(i.id)&&(i.id=i.name)})},r.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");(0,S.S6)(i,function(l){n.applyTickStates(l,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=(0,S.dp)(n);if(i>t.threshold){var l=Math.ceil(i/t.threshold),c=n.filter(function(f,d){return d%l==0});this.set("ticks",c),this.set("originalTicks",n)}}},r.prototype.getLabelAttrs=function(t,n,i){var l=this.get("label"),c=l.offset,f=l.offsetX,d=l.offsetY,p=l.rotate,m=l.formatter,x=this.getSidePoint(t.point,c),_=this.getSideVector(c,x),T=m?m(t.name,t,n):t.name,b=l.style;b=(0,S.mf)(b)?(0,S.U2)(this.get("theme"),["label","style"],{}):b;var I=(0,S.CD)({x:x.x+f,y:x.y+d,text:T,textAlign:this.getTextAnchor(_),textBaseline:this.getTextBaseline(_)},b);return p&&(I.matrix=tu(x,p)),I},r.prototype.drawLabels=function(t){var n=this,i=this.get("ticks"),l=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,S.S6)(i,function(_,T){n.addShape(l,{type:"text",name:"axis-label",id:n.getElementId("label-"+_.id),attrs:n.getLabelAttrs(_,T,i),delegateObject:{tick:_,item:_,index:T}})}),this.processOverlap(l);var c=l.getChildren(),f=(0,S.U2)(this.get("theme"),["label","style"],{}),d=this.get("label"),p=d.style,m=d.formatter;if((0,S.mf)(p)){var x=c.map(function(_){return(0,S.U2)(_.get("delegateObject"),"tick")});(0,S.S6)(c,function(_,T){var b=_.get("delegateObject").tick,I=m?m(b.name,b,T):b.name,F=(0,S.CD)({},f,p(I,T,x));_.attr(F)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,i=t.position,l=t.offset,c=t.spacing,f=void 0===c?0:c,d=t.autoRotate,p=n.fontSize,m=.5;"start"===i?m=0:"end"===i&&(m=1);var x=this.getTickPoint(m),_=this.getSidePoint(x,l||f+p/2),T=(0,S.CD)({x:_.x,y:_.y,text:t.text},n),b=t.rotate,I=b;if((0,S.UM)(b)&&d){var F=this.getAxisVector(x);I=Zr.Dg(F,[1,0],!0)}if(I){var Y=tu(_,I);T.matrix=Y}return T},r.prototype.drawTitle=function(t){var n,i=this.getTitleAttrs(),l=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:i});null!==(n=this.get("title"))&&void 0!==n&&n.description&&this.drawDescriptionIcon(t,l,i.matrix)},r.prototype.drawDescriptionIcon=function(t,n,i){var l=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),c=n.getBBox(),f=c.maxX,d=c.maxY,p=c.height,m=this.get("title").iconStyle,_=p/2,T=_/6,b=f+4,I=d-p/2,F=[b+_,I-_],B=F[0],Y=F[1],G=[B+_,Y+_],H=G[0],et=G[1],wt=[B,et+_],Ot=wt[0],$t=wt[1],ge=[b,Y+_],le=ge[0],Se=ge[1],Pe=[b+_,I-p/4],or=Pe[0],cr=Pe[1],Rr=[or,cr+T],Ie=Rr[0],We=Rr[1],nr=[Ie,We+T],Ve=nr[0],je=nr[1],ir=[Ve,je+3*_/4],Pr=ir[0],Gr=ir[1];this.addShape(l,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,E.pi)({path:[["M",B,Y],["A",_,_,0,0,1,H,et],["A",_,_,0,0,1,Ot,$t],["A",_,_,0,0,1,le,Se],["A",_,_,0,0,1,B,Y],["M",or,cr],["L",Ie,We],["M",Ve,je],["L",Pr,Gr]],lineWidth:T,matrix:i},m)}),this.addShape(l,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:b,y:I-p/2,width:p,height:p,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,n){if(this.getItemStates(t).length){var l=this.get("tickStates"),c=this.getElementId("label-"+t.id),f=n.findById(c);if(f){var d=mc(t,"label",l);d&&f.attr(d)}var p=this.getElementId("tickline-"+t.id),m=n.findById(p);if(m){var x=mc(t,"tickLine",l);x&&m.attr(x)}}},r.prototype.updateTickStates=function(t){var n=this.getItemStates(t),i=this.get("tickStates"),l=this.get("label"),c=this.getElementByLocalId("label-"+t.id),f=this.get("tickLine"),d=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(c){var p=mc(t,"label",i);p&&c.attr(p)}if(d){var m=mc(t,"tickLine",i);m&&d.attr(m)}}else c&&c.attr(l.style),d&&d.attr(f.style)},r}(Di);const Nw=g4;function lu(e,r,t,n){var i=r.getChildren(),l=!1;return(0,S.S6)(i,function(c){var f=sf(e,c,t,n);l=l||f}),l}function y4(){return Nd}function m4(e,r,t){return lu(e,r,t,"head")}function Nd(e,r,t){return lu(e,r,t,"tail")}function x4(e,r,t){return lu(e,r,t,"middle")}function Gw(e){var r=function Hw(e){var r=e.attr("matrix");return r&&1!==r[0]}(e)?function wy(e){var t=[0,0,0];return Zh(t,[1,0,0],e),Math.atan2(t[1],t[0])}(e.attr("matrix")):0;return r%360}function Hd(e,r,t,n){var i=!1,l=Gw(r),c=Math.abs(e?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),f=(e?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(e){var d=Math.abs(Math.cos(l));i=Bd(d,0,Math.PI/180)?f.width+n>c:f.height/d+n>c}else d=Math.abs(Math.sin(l)),i=Bd(d,0,Math.PI/180)?f.width+n>c:f.height/d+n>c;return i}function cf(e,r,t,n){var i=n?.minGap||0,l=r.getChildren().slice().filter(function(b){return b.get("visible")});if(!l.length)return!1;var c=!1;t&&l.reverse();for(var f=l.length,p=l[0],m=1;m<f;m++){var x=l[m];x.getBBox(),Hd(e,p,x,i)?(x.hide(),c=!0):p=x}return c}function Yw(e,r,t){var n=t?.minGap||0,i=r.getChildren().slice();if(i.length<2)return!1;var l=!1,c=i[0],f=c.getBBox(),d=i[1],p=i.length,m=Gw(c),x=Math.abs(e?d.attr("y")-c.attr("y"):d.attr("x")-c.attr("x")),_=0;if(e){var T=Math.abs(Math.cos(m));_=Bd(T,0,Math.PI/180)?(Ay(i)+n)/x:(f.height/T+n)/x}else T=Math.abs(Math.sin(m)),_=Bd(T,0,Math.PI/180)?(Ay(i)+n)/x:(f.height/T+n)/x;if(_>1){_=Math.ceil(_);for(var I=0;I<p;I++)I%_!=0&&(i[I].hide(),l=!0)}return l}function Oy(){return Uw}function Ww(e,r,t,n){return cf(e,r,!1,n)}function C4(e,r,t,n){return cf(e,r,!0,n)}function w4(e,r,t,n){var i=n?.minGap||0,l=r.getChildren().slice();if(l.length<=2)return!1;for(var c=!1,f=l.length,p=l[f-1],m=l[0],x=1;x<f-1;x++){var _=l[x];_.getBBox(),Hd(e,m,_,i)?(_.hide(),c=!0):m=_}return Hd(e,m,p,i)&&(m.hide(),c=!0),c}function Uw(e,r,t,n){var i=Yw(e,r,n);return cf(e,r,!1)&&(i=!0),i}function _4(e,r,t,n){var i=r.getChildren().slice(),l=Yw(e,r,n);if(i.length>2){var c=i[0],f=i[i.length-1];c.get("visible")||(c.show(),cf(e,r,!1,n)&&(l=!0)),f.get("visible")||(f.show(),cf(e,r,!0,n)&&(l=!0))}return l}function Gd(e,r,t,n){var i=r.getChildren();if(!i.length||!e&&i.length<2)return!1;var l=Ay(i),c=!1;return(c=e?!!t&&l>t:l>Math.abs(i[1].attr("x")-i[0].attr("x")))&&function S4(e,r){(0,S.S6)(e,function(t){var l=tu({x:t.attr("x"),y:t.attr("y")},r);t.attr("matrix",l)})}(i,n(t,l)),c}function M4(){return La}function La(e,r,t,n){return Gd(e,r,t,function(){return(0,S.hj)(n)?n:e?Vr.verticalAxisRotate:Vr.horizontalAxisRotate})}function Qs(e,r,t){return Gd(e,r,t,function(n,i){if(!n)return e?Vr.verticalAxisRotate:Vr.horizontalAxisRotate;if(e)return-Math.acos(n/i);var l=0;return(n>i||(l=Math.asin(n/i))>Math.PI/4)&&(l=Math.PI/4),l})}var T4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",n.x,n.y]),i},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),i=e.prototype.getInnerLayoutBBox.call(this),l=Math.min(t.x,n.x,i.x),c=Math.min(t.y,n.y,i.y),f=Math.max(t.x,n.x,i.maxX),d=Math.max(t.y,n.y,i.maxY);return{x:l,y:c,minX:l,minY:c,maxX:f,maxY:d,width:f-l,height:d-c}},r.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return(0,S.vQ)(t.x,n.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return(0,S.vQ)(t.y,n.y)},r.prototype.getTickPoint=function(t){var i=this.get("start"),l=this.get("end");return{x:i.x+(l.x-i.x)*t,y:i.y+(l.y-i.y)*t}},r.prototype.getSideVector=function(t){var n=this.getAxisVector(),i=Tr.Fv([0,0],n),l=this.get("verticalFactor");return Tr.bA([0,0],[i[1],-1*i[0]],t*l)},r.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},r.prototype.processOverlap=function(t){var n=this,i=this.isVertical(),l=this.isHorizontal();if(i||l){var c=this.get("label"),f=this.get("title"),d=this.get("verticalLimitLength"),p=c.offset,m=d,x=0,_=0;f&&(x=f.style.fontSize,_=f.spacing),m&&(m=m-p-_-x);var T=this.get("overlapOrder");if((0,S.S6)(T,function(F){c[F]&&n.canProcessOverlap(F)&&n.autoProcessOverlap(F,c[F],t,m)}),f&&(0,S.UM)(f.offset)){var b=t.getCanvasBBox();f.offset=p+(i?b.width:b.height)+_+x/2}}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return"autoRotate"!==t||(0,S.UM)(n.rotate)},r.prototype.autoProcessOverlap=function(t,n,i,l){var c=this,f=this.isVertical(),d=!1,p=Bt[t];if(!0===n?(this.get("label"),d=p.getDefault()(f,i,l)):(0,S.mf)(n)?d=n(f,i,l):(0,S.Kn)(n)?p[n.type]&&(d=p[n.type](f,i,l,n.cfg)):p[n]&&(d=p[n](f,i,l)),"autoRotate"===t){if(d){var _=i.getChildren(),T=this.get("verticalFactor");(0,S.S6)(_,function(I){"center"===I.attr("textAlign")&&I.attr("textAlign",T>0?"end":"start")})}}else if("autoHide"===t){var b=i.getChildren().slice(0);(0,S.S6)(b,function(I){I.get("visible")||(c.get("isRegister")&&c.unregisterElement(I),I.remove())})}},r}(Nw);const b4=T4;var A4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,i=t.y,l=this.get("radius"),c=l,f=this.get("startAngle"),d=this.get("endAngle"),p=[];if(Math.abs(d-f)===2*Math.PI)p=[["M",n,i-c],["A",l,c,0,1,1,n,i+c],["A",l,c,0,1,1,n,i-c],["Z"]];else{var m=this.getCirclePoint(f),x=this.getCirclePoint(d),_=Math.abs(d-f)>Math.PI?1:0;p=[["M",n,i],["L",m.x,m.y],["A",l,c,0,_,f>d?0:1,x.x,x.y],["L",n,i]]}return p},r.prototype.getTickPoint=function(t){var n=this.get("startAngle"),i=this.get("endAngle");return this.getCirclePoint(n+(i-n)*t)},r.prototype.getSideVector=function(t,n){var i=this.get("center"),l=[n.x-i.x,n.y-i.y],c=this.get("verticalFactor"),f=Tr.kE(l);return Tr.bA(l,l,c*t/f),l},r.prototype.getAxisVector=function(t){var n=this.get("center"),i=[t.x-n.x,t.y-n.y];return[i[1],-1*i[0]]},r.prototype.getCirclePoint=function(t,n){var i=this.get("center");return n=n||this.get("radius"),{x:i.x+Math.cos(t)*n,y:i.y+Math.sin(t)*n}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return"autoRotate"!==t||(0,S.UM)(n.rotate)},r.prototype.processOverlap=function(t){var n=this,i=this.get("label"),l=this.get("title"),c=this.get("verticalLimitLength"),f=i.offset,d=c,p=0,m=0;l&&(p=l.style.fontSize,m=l.spacing),d&&(d=d-f-m-p);var x=this.get("overlapOrder");if((0,S.S6)(x,function(T){i[T]&&n.canProcessOverlap(T)&&n.autoProcessOverlap(T,i[T],t,d)}),l&&(0,S.UM)(l.offset)){var _=t.getCanvasBBox().height;l.offset=f+_+m+p/2}},r.prototype.autoProcessOverlap=function(t,n,i,l){var c=this,f=!1,d=Bt[t];if(l>0&&(!0===n?f=d.getDefault()(!1,i,l):(0,S.mf)(n)?f=n(!1,i,l):(0,S.Kn)(n)?d[n.type]&&(f=d[n.type](!1,i,l,n.cfg)):d[n]&&(f=d[n](!1,i,l))),"autoRotate"===t){if(f){var m=i.getChildren(),x=this.get("verticalFactor");(0,S.S6)(m,function(T){"center"===T.attr("textAlign")&&T.attr("textAlign",x>0?"end":"start")})}}else if("autoHide"===t){var _=i.getChildren().slice(0);(0,S.S6)(_,function(T){T.get("visible")||(c.get("isRegister")&&c.unregisterElement(T),T.remove())})}},r}(Nw);const E4=A4;var L4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Vr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Vr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Vr.fontFamily}},textBackground:{padding:5,style:{stroke:Vr.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var n=this.get("text"),i=n.style,l=n.autoRotate,c=n.content;if(!(0,S.UM)(c)){var f=this.getTextPoint(),d=null;l&&(d=tu(f,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},f),{text:c,matrix:d}),i)})}},r.prototype.renderLine=function(t){var n=this.getLinePath(),l=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,E.pi)({path:n},l)})},r.prototype.renderBackground=function(t){var n=this.getElementId("text"),i=t.findById(n),l=this.get("textBackground");if(l&&i){var c=i.getBBox(),f=af(l.padding),d=l.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,E.pi)({x:c.x-f[3],y:c.y-f[0],width:c.width+f[1]+f[3],height:c.height+f[0]+f[2],matrix:i.attr("matrix")},d)}).toBack()}},r}(Di);const Ry=L4;var I4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,i=t.end,l=this.get("text").position,c=Math.atan2(i.y-n.y,i.x-n.x);return"start"===l?c-Math.PI/2:c+Math.PI/2},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,l=this.get("text");return gc(n,i,l.position,l.offset)},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,i=t.end;return[["M",n.x,n.y],["L",i.x,i.y]]},r}(Ry);const Xw=I4;var xc=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?n+Math.PI/2:i-Math.PI/2},r.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,i=t.offset,l=this.getLocation(),c=l.center,f=l.radius,m="start"===n?l.startAngle:l.endAngle,x=this.getRotateAngle()-Math.PI,_=ru(c,f,m),T=Math.cos(x)*i,b=Math.sin(x)*i;return{x:_.x+T,y:_.y+b}},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,i=t.radius,l=t.startAngle,c=t.endAngle,f=null;if(c-l==2*Math.PI){var d=n.x,p=n.y;f=[["M",d,p-i],["A",i,i,0,1,1,d,p+i],["A",i,i,0,1,1,d,p-i],["Z"]]}else{var m=ru(n,i,l),x=ru(n,i,c),_=Math.abs(c-l)>Math.PI?1:0;f=[["M",m.x,m.y],["A",i,i,0,_,l>c?0:1,x.x,x.y]]}return f},r}(Ry);const O4=xc;var hf,Cc="g2-crosshair",Fy=Cc+"-line",Dy=Cc+"-text";const R4=((hf={})[""+Cc]={position:"relative"},hf[""+Fy]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},hf[""+Dy]={position:"absolute",color:Vr.textColor,fontFamily:Vr.fontFamily},hf);var F4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Cc+'"></div>',crosshairTpl:'<div class="'+Fy+'"></div>',textTpl:'<span class="'+Dy+'">{content}</span>',domStyles:null,containerClassName:Cc,defaultStyles:R4,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),i=Us(this.get("crosshairTpl"));t.appendChild(i),this.applyStyle(Fy,i),this.set("crosshairEl",i)},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,l=this.get("text");return gc(n,i,l.position,l.offset)},r.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var i=t.content;if(!n){var l=this.getContainer();n=Us((0,S.ng)(this.get("textTpl"),t)),l.appendChild(n),this.applyStyle(Dy,n),this.set("textEl",n)}n.innerHTML=i}else n&&n.remove()},r.prototype.isVertical=function(t,n){return t.x===n.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),i=this.get("end"),l=Math.min(n.x,i.x),c=Math.min(n.y,i.y);this.isVertical(n,i)?ki(t,{width:"1px",height:la(Math.abs(i.y-n.y))}):ki(t,{height:"1px",width:la(Math.abs(i.x-n.x))}),ki(t,{top:la(c),left:la(l)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,i=t.clientWidth,l=this.getTextPoint();switch(n){case"center":l.x=l.x-i/2;break;case"right":l.x=l.x-i}ki(t,{top:la(l.y),left:la(l.x)})}},r.prototype.updateInner=function(t){(0,S.wH)(t,"text")&&this.resetText(),e.prototype.updateInner.call(this,t)},r}(Iy);const D4=F4;var By=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Vr.lineColor}}}})},r.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,n){var i=this.getGridPath(t),l=n.slice(0).reverse(),c=this.getGridPath(l,!0);return this.get("closed")?i=i.concat(c):(c[0][0]="L",(i=i.concat(c)).push(["Z"])),i},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var n=this,i=this.get("line"),l=this.get("items"),c=this.get("alternateColor"),f=null;(0,S.S6)(l,function(d,p){var m=d.id||p;if(i){var x=n.getPathStyle();x=(0,S.mf)(x)?x(d,p,l):x;var _=n.getElementId("line-"+m),T=n.getGridPath(d.points);n.addShape(t,{type:"path",name:"grid-line",id:_,attrs:(0,S.CD)({path:T},x)})}if(c&&p>0){var b=n.getElementId("region-"+m),I=p%2==0;(0,S.HD)(c)?I&&n.drawAlternateRegion(b,t,f.points,d.points,c):n.drawAlternateRegion(b,t,f.points,d.points,I?c[1]:c[0])}f=d})},r.prototype.drawAlternateRegion=function(t,n,i,l,c){var f=this.getAlternatePath(i,l);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:f,fill:c}})},r}(Di);const Yd=By;var Vw=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,n){var i=this.getLineType(),l=this.get("closed"),c=[];if(t.length)if("circle"===i){var f=this.get("center"),d=t[0],p=function B4(e,r,t,n){var i=t-e,l=n-r;return Math.sqrt(i*i+l*l)}(f.x,f.y,d.x,d.y),m=n?0:1;l?(c.push(["M",f.x,f.y-p]),c.push(["A",p,p,0,0,m,f.x,f.y+p]),c.push(["A",p,p,0,0,m,f.x,f.y-p]),c.push(["Z"])):(0,S.S6)(t,function(x,_){c.push(0===_?["M",x.x,x.y]:["A",p,p,0,0,m,x.x,x.y])})}else(0,S.S6)(t,function(x,_){c.push(0===_?["M",x.x,x.y]:["L",x.x,x.y])}),l&&c.push(["Z"]);return c},r}(Yd);const $w=Vw;var Zw=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"line"})},r.prototype.getGridPath=function(t){var n=[];return(0,S.S6)(t,function(i,l){n.push(0===l?["M",i.x,i.y]:["L",i.x,i.y])}),n},r}(Yd);const P4=Zw;var qw=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=e.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),l=t.width,c=t.height;return n&&(l=Math.min(l,n)),i&&(c=Math.min(c,i)),Mi(t.minX,t.minY,l,c)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),i=this.get("offsetX"),l=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:n+l})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var n=this.get("background"),i=t.getBBox(),l=af(n.padding),c=(0,E.pi)({x:0,y:0,width:i.width+l[1]+l[3],height:i.height+l[0]+l[2]},n.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:c}).toBack()},r.prototype.drawTitle=function(t){var n=this.get("currentPoint"),i=this.get("title"),l=i.spacing,c=i.style,f=i.text,p=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,E.pi)({text:f,x:n.x,y:n.y},c)}).getBBox();this.set("currentPoint",{x:n.x,y:p.maxY+l})},r.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var i=af(t.padding);n.x=i[3],n.y=i[0]}this.set("currentPoint",n)},r}(Di);const Py=qw;var ky={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Wd={fill:Vr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Vr.fontFamily,fontWeight:"normal",lineHeight:12},zy="navigation-arrow-right",Ny="navigation-arrow-left",Kw={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},so=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Vr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Vr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:ky,itemName:{spacing:16,style:Wd},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Wd,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Vr.uncheckedColor},markerStyle:{fill:Vr.uncheckedColor,stroke:Vr.uncheckedColor}},inactive:{nameStyle:{fill:Vr.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,n){(0,S.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i;var l=this.getElementByLocalId("item-"+t.id);if(l){var f=this.getItems().indexOf(t),d=this.createOffScreenGroup(),p=this.drawItem(t,f,this.getItemHeight(),d);this.updateElements(p,l),this.clearUpdateStatus(l)}},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("itemStates"),i=[];return(0,S.S6)(n,function(l,c){t[c]&&i.push(c)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);(0,S.S6)(i,function(l){n.setItemState(l,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return(0,S.hX)(i,function(l){return n.hasState(l,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,S.S6)(t,function(n){n.id||(n.id=n.name)})},r.prototype.drawItems=function(t){var n=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),l=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),c=this.getItemHeight(),f=this.get("itemWidth"),d=this.get("itemSpacing"),p=this.get("itemMarginBottom"),m=this.get("currentPoint"),x=m.x,_=m.y,T=this.get("layout"),b=this.get("items"),I=!1,F=0,B=this.get("maxWidth"),Y=this.get("maxHeight");(0,S.S6)(b,function(G,H){var et=n.drawItem(G,H,c,l),wt=et.getBBox(),Ot=f||wt.width;Ot>F&&(F=Ot),"horizontal"===T?(B&&B<m.x+Ot-x&&(I=!0,m.x=x,m.y+=c+p),n.moveElementTo(et,m),m.x+=Ot+d):(Y&&Y<m.y+c+p-_&&(I=!0,m.x+=F+d,m.y=_,F=0),n.moveElementTo(et,m),m.y+=c+p)}),I&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=x,this.startY=_,this.adjustNavigation(t,l))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if((0,S.mf)(n)){var i=this.getItems();i.forEach(function(l,c){var f=(0,E.pi)((0,E.pi)({},Wd),n(l,c,i)).fontSize;t<f&&(t=f)})}else n&&(t=n.fontSize)}return t},r.prototype.drawMarker=function(t,n,i,l){var c=(0,E.pi)((0,E.pi)((0,E.pi)({x:0,y:l/2},n.style),{symbol:(0,S.U2)(i.marker,"symbol","circle")}),(0,S.U2)(i.marker,"style",{})),f=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:c}),d=f.getBBox();f.attr("x",d.width/2);var p=f.attr(),x=p.fill;return p.stroke&&f.set("isStroke",!0),x&&f.set("isFill",!0),f},r.prototype.drawItemText=function(t,n,i,l,c,f,d){var p=i.formatter,m=i.style,x=(0,E.pi)((0,E.pi)({x:f,y:c/2,text:p?p(l[n],l,d):l[n]},Wd),(0,S.mf)(m)?m(l,d,this.getItems()):m);return this.addShape(t,{type:"text",id:this.getElementId("item-"+l.id+"-"+n),name:"legend-item-"+n,attrs:x})},r.prototype.drawRadio=function(t,n,i,l,c){var f,d,p=n.style||{},m=null!==(f=p.r)&&void 0!==f?f:l/2,x=3.6*m/8,_=[c+m,l/2-m],T=_[0],b=_[1],I=[T+m,b+m],F=I[0],B=I[1],Y=[T,B+m],G=Y[0],H=Y[1],et=[c,b+m],wt=et[0],Ot=et[1],$t=i.showRadio,ge=(0,E.pi)((0,E.pi)({path:[["M",T,b],["A",m,m,0,0,1,F,B],["L",F-x,B],["L",F,B],["A",m,m,0,0,1,G,H],["L",G,H-x],["L",G,H],["A",m,m,0,0,1,wt,Ot],["L",wt+x,Ot],["L",wt,Ot],["A",m,m,0,0,1,T,b],["L",T,b+x]],stroke:"#000000",fill:"#ffffff"},p),{opacity:$t?null!==(d=p?.opacity)&&void 0!==d?d:.45:0}),le=this.addShape(t,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:ge});return le.set("tip",n.tip),le},r.prototype.drawItem=function(t,n,i,l){var c="item-"+t.id,f=this.addGroup(l,{name:"legend-item-container",id:this.getElementId("item-container-"+c),delegateObject:{item:t,index:n}}),d=this.addGroup(f,{name:"legend-item",id:this.getElementId(c),delegateObject:{item:t,index:n}}),p=this.get("marker"),m=this.get("itemName"),x=this.get("itemValue"),_=this.get("itemBackground"),T=this.get("radio"),b=this.getLimitItemWidth(),I=0;if(p){var F=this.drawMarker(d,p,t,i),B=p.spacing,Y=(0,S.U2)(t,["marker","spacing"]);(0,S.hj)(Y)&&(B=Y),I=F.getBBox().maxX+B}if(m){var G=this.drawItemText(d,"name",m,t,i,I,n);b&&sf(!0,G,(0,S.uZ)(b-I,0,b)),I=G.getBBox().maxX+m.spacing}if(x){var H=this.drawItemText(d,"value",x,t,i,I,n);b&&(x.alignRight?(H.attr({textAlign:"right",x:b}),sf(!0,H,(0,S.uZ)(b-I,0,b),"head")):sf(!0,H,(0,S.uZ)(b-I,0,b))),I=H.getBBox().maxX+x.spacing}if(T&&this.drawRadio(d,T,t,i,I),_){var et=d.getBBox();this.addShape(d,{type:"rect",name:"legend-item-background",id:this.getElementId(c+"-background"),attrs:(0,E.pi)({x:0,y:0,width:et.width,height:i},_.style)}).toBack()}return this.applyItemStates(t,d),d},r.prototype.adjustNavigation=function(t,n){var i=this,l=this.startX,c=this.startY,f=this.get("layout"),d=n.findAll(function(le){return"legend-item"===le.get("name")}),p=this.get("maxWidth"),m=this.get("maxHeight"),x=this.get("itemWidth"),_=this.get("itemSpacing"),T=this.getItemHeight(),b=(0,S.b$)({},ky,this.get("pageNavigator")),I=this.drawNavigation(t,f,"00/00",b),F=I.getBBox(),B={x:l,y:c},Y=1,G=0,H=0,et=0,wt=this.get("itemMarginBottom");if("horizontal"===f){var Ot=this.get("maxRow")||1,$t=T+(1===Ot?0:wt);this.pageHeight=$t*Ot,(0,S.S6)(d,function(le){var Se=le.getBBox(),Pe=x||Se.width;(G&&G<B.x+Pe+_||p<B.x+Pe+_+F.width)&&(1===Y&&(i.pageWidth=G=B.x+_,i.moveElementTo(I,{x:p-_-F.width-F.minX,y:B.y+T/2-F.height/2-F.minY})),Y+=1,B.x=l,B.y+=$t),i.moveElementTo(le,B),le.getParent().setClip({type:"rect",attrs:{x:B.x,y:B.y,width:Pe+_,height:T}}),B.x+=Pe+_})}else{(0,S.S6)(d,function(le){var Se=le.getBBox();Se.width>H&&(H=Se.width)}),et=H,H+=_,p&&(H=Math.min(p,H),et=Math.min(p,et)),this.pageWidth=H,this.pageHeight=m-Math.max(F.height,T+wt);var ge=Math.floor(this.pageHeight/(T+wt));(0,S.S6)(d,function(le,Se){0!==Se&&Se%ge==0&&(Y+=1,B.x+=H,B.y=c),i.moveElementTo(le,B),le.getParent().setClip({type:"rect",attrs:{x:B.x,y:B.y,width:H,height:T}}),B.y+=T+wt}),this.totalPagesCnt=Y,this.moveElementTo(I,{x:l+et/2-F.width/2-F.minX,y:m-F.height-F.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt="horizontal"===f&&this.get("maxRow")?Math.ceil(Y/this.get("maxRow")):Y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(I),n.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,n,i,l){var c={x:0,y:0},f=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),d=(0,S.U2)(l.marker,"style",{}),p=d.size,m=void 0===p?12:p,x=(0,E._T)(d,["size"]),_=this.drawArrow(f,c,Ny,"horizontal"===n?"up":"left",m,x);_.on("click",this.onNavigationBack);var T=_.getBBox();c.x+=T.width+2;var I=this.addShape(f,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,E.pi)({x:c.x,y:c.y+m/2,text:i,textBaseline:"middle"},(0,S.U2)(l.text,"style"))}).getBBox();return c.x+=I.width+2,this.drawArrow(f,c,zy,"horizontal"===n?"down":"right",m,x).on("click",this.onNavigationAfter),f},r.prototype.updateNavigation=function(t){var i=(0,S.b$)({},ky,this.get("pageNavigator")).marker.style,l=i.fill,c=i.opacity,f=i.inactiveFill,d=i.inactiveOpacity,p=this.currentPageIndex+"/"+this.totalPagesCnt,m=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),x=t?t.findById(this.getElementId(Ny)):this.getElementByLocalId(Ny),_=t?t.findById(this.getElementId(zy)):this.getElementByLocalId(zy);m.attr("text",p),x.attr("opacity",1===this.currentPageIndex?d:c),x.attr("fill",1===this.currentPageIndex?f:l),x.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),_.attr("opacity",this.currentPageIndex===this.totalPagesCnt?d:c),_.attr("fill",this.currentPageIndex===this.totalPagesCnt?f:l),_.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var T=x.getBBox().maxX+2;m.attr("x",T),T+=m.getBBox().width+2,this.updateArrowPath(_,{x:T,y:0})},r.prototype.drawArrow=function(t,n,i,l,c,f){var d=n.x,p=n.y,m=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:(0,E.pi)({size:c,direction:l,path:[["M",d+c/2,p],["L",d,p+c],["L",d+c,p+c],["Z"]],cursor:"pointer"},f)});return m.attr("matrix",tu({x:d+c/2,y:p+c/2},Kw[l])),m},r.prototype.updateArrowPath=function(t,n){var i=n.x,l=n.y,c=t.attr(),f=c.size,p=tu({x:i+f/2,y:l+f/2},Kw[c.direction]);t.attr("path",[["M",i+f/2,l],["L",i,l+f],["L",i+f,l+f],["Z"]]),t.attr("matrix",p)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,i=t.pageWidth,l=t.pageHeight;return Cy("horizontal"===this.get("layout")?{x:0,y:l*(1-n)}:{x:i*(1-n),y:0})},r.prototype.applyItemStates=function(t,n){if(this.getItemStates(t).length>0){var c=n.getChildren(),f=this.get("itemStates");(0,S.S6)(c,function(d){var m=d.get("name").split("-")[2],x=mc(t,m,f);x&&(d.attr(x),"marker"===m&&(!d.get("isStroke")||!d.get("isFill"))&&(d.get("isStroke")&&d.attr("fill",null),d.get("isFill")&&d.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},r}(Py);const Qw=so;var Jw=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Vr.textColor,textBaseline:"middle",fontFamily:Vr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Vr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,n){this.update({min:t,max:n})},r.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:n,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(i){var l=n.getValueByCanvasPoint(i.x,i.y),f=n.getCurrentValue()[1];f<l&&(f=l),n.setValue([l,f])}),t.on("legend-handler-max:drag",function(i){var l=n.getValueByCanvasPoint(i.x,i.y),f=n.getCurrentValue()[0];f>l&&(f=l),n.setValue([f,l])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var n=this,i=null;t.on("legend-track:dragstart",function(l){i={x:l.x,y:l.y}}),t.on("legend-track:drag",function(l){if(i){var c=n.getValueByCanvasPoint(i.x,i.y),f=n.getValueByCanvasPoint(l.x,l.y),d=n.getCurrentValue(),p=d[1]-d[0],m=n.getRange(),x=f-c;x<0?n.setValue(d[0]+x>m.min?[d[0]+x,d[1]+x]:[m.min,m.min+p]):x>0&&n.setValue(x>0&&d[1]+x<m.max?[d[0]+x,d[1]+x]:[m.max-p,m.max]),i={x:l.x,y:l.y}}}),t.on("legend-track:dragend",function(l){i=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,n){var i=this.get("label"),l=i.style,c=i.align,f=i.formatter,d=this.get(t),p=this.getLabelAlignAttrs(t,c);this.addShape(n,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:(0,E.pi)((0,E.pi)({x:0,y:0,text:(0,S.mf)(f)?f(d):d},l),p)})},r.prototype.getLabelAlignAttrs=function(t,n){var l="center",c="middle";return this.isVertical()?(l="start",c="rail"!==n?"min"===t?"top":"bottom":"top"):"rail"!==n?(c="top",l="min"===t?"start":"end"):(l="start",c="middle"),{textAlign:l,textBaseline:c}},r.prototype.getRailPath=function(t,n,i,l){var c=this.get("rail"),f=c.size,d=c.defaultLength,p=c.type,m=this.isVertical(),_=i,T=l;_||(_=m?f:d),T||(T=m?d:f);var b=[];return"color"===p?(b.push(["M",t,n]),b.push(["L",t+_,n]),b.push(["L",t+_,n+T]),b.push(["L",t,n+T]),b.push(["Z"])):(b.push(["M",t+_,n]),b.push(["L",t+_,n+T]),b.push(["L",t,n+T]),b.push(["Z"])),b},r.prototype.drawRail=function(t){var i=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,E.pi)({path:this.getRailPath(0,0)},i)})},r.prototype.getTrackColor=function(t){var i,n=t.length;if(!n)return null;if(1===n)return t[0];i=this.isVertical()?"l(90)":"l(0)";for(var l=0;l<n;l++)i+=" "+l/(n-1)+":"+t[l];return i},r.prototype.getTrackPath=function(t){var i=this.getRailShape(t).attr("path");return(0,S.d9)(i)},r.prototype.getClipTrackAttrs=function(t){var m,x,_,T,n=this.getCurrentValue(),i=n[0],l=n[1],c=this.getRailBBox(t),f=this.getPointByValue(i,t),d=this.getPointByValue(l,t);return this.isVertical()?(m=c.minX,x=f.y,_=c.width,T=d.y-f.y):(m=f.x,x=c.minY,_=d.x-f.x,T=c.height),{x:m,y:x,width:_,height:T}},r.prototype.getTrackAttrs=function(t){var n=this.get("track"),i=this.get("colors"),l=this.getTrackPath(t);return(0,S.CD)({path:l,fill:this.getTrackColor(i)},n.style)},r.prototype.resetTrackClip=function(t){var n=t||this.get("group"),i=this.getElementId("track"),l=n.findById(i),c=l.getClip(),f=this.getClipTrackAttrs(t);c?c.attr(f):l.setClip({type:"rect",attrs:f})},r.prototype.resetTrack=function(t){var n=this.getElementId("track"),i=t.findById(n),l=this.getTrackAttrs(t);i?i.attr(l):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:l})},r.prototype.getPointByValue=function(t,n){var i=this.getRange(),l=i.min,f=(t-l)/(i.max-l),d=this.getRailBBox(n),m={x:0,y:0};return this.isVertical()?(m.x=d.minX+d.width/2,m.y=eu(d.minY,d.maxY,f)):(m.x=eu(d.minX,d.maxX,f),m.y=d.minY+d.height/2),m},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,n){var i=this.getRange(),l=i.min,c=i.max,f=this.getRailCanvasBBox(),d=this.isVertical(),p=this.get("step"),x=eu(l,c,d?(n-f.minY)/f.height:(t-f.minX)/f.width);return p&&(x=l+Math.round((x-l)/p)*p),x>c&&(x=c),x<l&&(x=l),x},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,(0,E.pr)(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,E.pr)(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),l=n[1];this.resetHandler(t,"min",n[0]),this.resetHandler(t,"max",l)},r.prototype.getHandlerPath=function(t,n){var i=this.isVertical(),l=[],c=t.size,f=n.x,d=n.y,p=1.4*c,m=c/2,x=c/6;if(i){var _=f+.4*p;l.push(["M",f,d]),l.push(["L",_,d+m]),l.push(["L",f+p,d+m]),l.push(["L",f+p,d-m]),l.push(["L",_,d-m]),l.push(["Z"]),l.push(["M",_,d+x]),l.push(["L",f+p-2,d+x]),l.push(["M",_,d-x]),l.push(["L",f+p-2,d-x])}else{var T=d+.4*p;l.push(["M",f,d]),l.push(["L",f-m,T]),l.push(["L",f-m,d+p]),l.push(["L",f+m,d+p]),l.push(["L",f+m,T]),l.push(["Z"]),l.push(["M",f-x,T]),l.push(["L",f-x,d+p-2]),l.push(["M",f+x,T]),l.push(["L",f+x,d+p-2])}return l},r.prototype.resetHandler=function(t,n,i){var l=this.getPointByValue(i,t),c=this.get("handler"),f=this.getHandlerPath(c,l),d=this.getElementId("handler-"+n),p=t.findById(d),m=this.isVertical();p?p.attr("path",f):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:d,attrs:(0,E.pi)((0,E.pi)({path:f},c.style),{cursor:m?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),l=t.findById(this.getElementId("label-max")),c=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,l,n,c):this.fixedHorizontal(i,l,n,c)},r.prototype.fitRailLength=function(t,n,i,l){var f=this.isVertical()?"height":"width",d=this.get("label"),p=d.align,m=d.spacing,x=this.get("max"+(0,S.jC)(f));if(x){var T=("rail"===p?i[f]+t[f]+n[f]+2*m:i[f])-x;T>0&&this.changeRailLength(l,f,i[f]-T)}},r.prototype.changeRailLength=function(t,n,i){var c,l=t.getBBox();c="height"===n?this.getRailPath(l.x,l.y,l.width,i):this.getRailPath(l.x,l.y,i,l.height),t.attr("path",c)},r.prototype.changeRailPosition=function(t,n,i){var l=t.getBBox(),c=this.getRailPath(n,i,l.width,l.height);t.attr("path",c)},r.prototype.fixedHorizontal=function(t,n,i,l){var c=this.get("label"),f=c.align,d=c.spacing,p=i.getBBox(),m=t.getBBox(),x=n.getBBox(),_=p.height;this.fitRailLength(m,x,p,i),p=i.getBBox(),"rail"===f?(t.attr({x:l.x,y:l.y+_/2}),this.changeRailPosition(i,l.x+m.width+d,l.y),n.attr({x:l.x+m.width+p.width+2*d,y:l.y+_/2})):"top"===f?(t.attr({x:l.x,y:l.y}),n.attr({x:l.x+p.width,y:l.y}),this.changeRailPosition(i,l.x,l.y+m.height+d)):(this.changeRailPosition(i,l.x,l.y),t.attr({x:l.x,y:l.y+p.height+d}),n.attr({x:l.x+p.width,y:l.y+p.height+d}))},r.prototype.fixedVertail=function(t,n,i,l){var c=this.get("label"),f=c.align,d=c.spacing,p=i.getBBox(),m=t.getBBox(),x=n.getBBox();if(this.fitRailLength(m,x,p,i),p=i.getBBox(),"rail"===f)t.attr({x:l.x,y:l.y}),this.changeRailPosition(i,l.x,l.y+m.height+d),n.attr({x:l.x,y:l.y+m.height+p.height+2*d});else if("right"===f)t.attr({x:l.x+p.width+d,y:l.y}),this.changeRailPosition(i,l.x,l.y),n.attr({x:l.x+p.width+d,y:l.y+p.height});else{var _=Math.max(m.width,x.width);t.attr({x:l.x,y:l.y}),this.changeRailPosition(i,l.x+_+d,l.y),n.attr({x:l.x,y:l.y+p.height})}},r}(Py);const Hy=Jw;var Ia;const z4=((Ia={})[""+ua]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Vr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ia[""+Wa]={position:"absolute",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)"},Ia[""+Ho]={marginBottom:"4px"},Ia[""+uf]={margin:"0px",listStyleType:"none",padding:"0px"},Ia[""+ii]={listStyleType:"none",marginBottom:"4px"},Ia[""+yc]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ia[""+Ua]={display:"inline-block",float:"right",marginLeft:"30px"},Ia[""+Ey]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ia[""+Ly]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ia);var W4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+ua+'"><div class="'+Ho+'"></div><ul class="'+uf+'"></ul></div>',itemTpl:'<li class="'+ii+'" data-index={index}>\n          <span class="'+yc+'" style="background:{color}"></span>\n          <span class="'+zw+'">{name}</span>:\n          <span class="'+Ua+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+Ey+'"></div>',yCrosshairTpl:'<div class="'+Ly+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:ua,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:z4})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),ki(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),ki(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",i=this.get("xCrosshairDom"),l=this.get("yCrosshairDom");i&&ki(i,{display:n}),l&&ki(l,{display:n})},r.prototype.setCustomContainer=function(){var t=document.createElement("div");t.className=Wa,this.set("container",t),this.set("containerClassName",Wa)},r.prototype.initContainer=function(){if(e.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove(),this.setCustomContainer();var t=this.getHtmlContentNode(),n=this.get("container");n.appendChild(t),this.get("parent").appendChild(n),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(function Y4(e,r){var t=!1;return(0,S.S6)(r,function(n){if((0,S.wH)(e,n))return t=!0,!1}),t}(t,["title","showTitle"])&&this.resetTitle(),(0,S.wH)(t,"items")&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){e.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var b,t=this.get("x"),n=this.get("y"),i=this.get("offset"),l=this.getOffset(),c=l.offsetX,f=l.offsetY,d=this.get("position"),p=this.get("region"),m=this.getContainer(),x=this.getBBox(),_=x.width,T=x.height;p&&(b=of(p));var I=function G4(e,r,t,n,i,l,c){var f=function H4(e,r,t,n,i,l){var c=e,f=r;switch(l){case"left":c=e-n-t,f=r-i/2;break;case"right":c=e+t,f=r-i/2;break;case"top":c=e-n/2,f=r-i-t;break;case"bottom":c=e-n/2,f=r+t;break;default:c=e+t,f=r-i-t}return{x:c,y:f}}(e,r,t,n,i,l);if(c){var d=function N4(e,r,t,n,i){return{left:e<i.x,right:e+t>i.x+i.width,top:r<i.y,bottom:r+n>i.y+i.height}}(f.x,f.y,n,i,c);"auto"===l?(d.right&&(f.x=Math.max(0,e-n-t)),d.top&&(f.y=Math.max(0,r-i-t))):"top"===l||"bottom"===l?(d.left&&(f.x=c.x),d.right&&(f.x=c.x+c.width-n),"top"===l&&d.top&&(f.y=r+t),"bottom"===l&&d.bottom&&(f.y=r-i-t)):(d.top&&(f.y=c.y),d.bottom&&(f.y=c.y+c.height-i),"left"===l&&d.left&&(f.x=e+t),"right"===l&&d.right&&(f.x=e-n-t))}return f}(t,n,i,_,T,d,b);ki(m,{left:la(I.x+c),top:la(I.y+f)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("container"),i=Sy(n,ua);if(i){this.setCustomContainer(),n=this.get("container");var l=this.get("parent"),c=l.querySelector("."+ua);l.removeChild(c)}n.innerHTML="",n.appendChild(t),i&&this.get("parent").appendChild(n),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var i=n(this.get("title"),this.get("items"));t=(0,S.kK)(i)?i:Us(i)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(Ho)[0],i=t.getElementsByClassName(uf)[0];this.set("titleDom",n),this.set("listDom",i)},r.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");this.setTitle(n&&t?t:"")},r.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(t&&n){var i=of(t),l=this.get("xCrosshairDom"),c=this.get("yCrosshairDom");"x"===n?(this.resetCrosshair("x",i),c&&(c.remove(),this.set("yCrosshairDom",null))):"y"===n?(this.resetCrosshair("y",i),l&&(l.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,n){var i=this.checkCrosshair(t),l=this.get(t);ki(i,"x"===t?{left:la(l),top:la(n.y),height:la(n.height)}:{top:la(l),left:la(n.x),width:la(n.width)})},r.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",i=t+"CrosshairTpl",l="CROSSHAIR_"+t.toUpperCase(),c=Nt[l],f=this.get(n),d=this.get("parent");return f||(f=Us(this.get(i)),this.applyStyle(c,f),d.appendChild(f),this.set(n,f)),f},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),i=this.get("listDom");i&&((0,S.S6)(t,function(l){var c=Vs.toCSSGradient(l.color),f=(0,E.pi)((0,E.pi)({},l),{color:c}),p=Us((0,S.ng)(n,f));i.appendChild(p)}),this.applyChildrenStyles(i,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&_y(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(Iy);const U4=W4;var X4={opacity:0},V4={stroke:"#C5C5C5",strokeOpacity:.85},$4={fill:"#CACED4",opacity:.85};function t_(e){return function jw(e){return(0,S.UI)(e,function(r,t){return[0===t?"M":"L",r[0],r[1]]})}(e)}var Q4=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:X4,lineStyle:V4,areaStyle:$4})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,l=n.height,c=n.data,f=n.smooth,d=n.isArea,p=n.backgroundStyle,m=n.lineStyle,x=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,E.pi)({x:0,y:0,width:i,height:l},p)});var _=function q4(e,r,t,n){void 0===n&&(n=!0);var i=new Zs({values:e}),l=new Wh({values:(0,S.UI)(e,function(f,d){return d})}),c=(0,S.UI)(e,function(f,d){return[l.scale(d)*r,t-i.scale(f)*t]});return n?function Z4(e){if(e.length<=2)return t_(e);var r=[];(0,S.S6)(e,function(c){(0,S.Xy)(c,r.slice(r.length-2))||r.push(c[0],c[1])});var t=(0,Io.e9)(r,!1),n=(0,S.YM)(e);return t.unshift(["M",n[0],n[1]]),t}(c):t_(c)}(c,i,l,f);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,E.pi)({path:_},m)}),d){var T=function e_(e,r,t,n){var i=(0,E.pr)(e),l=function K4(e,r){var t=new Zs({values:e}),n=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(n)*r}(n,t);return i.push(["L",r,l]),i.push(["L",0,l]),i.push(["Z"]),i}(_,i,l,c);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,E.pi)({path:T},x)})}},r.prototype.applyOffset=function(){var t=this.cfg,n=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:n,y:i})},r}(Di),r_={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},n_=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:r_})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,l=n.height,c=n.style,f=c.fill,d=c.stroke,p=c.radius,m=c.opacity,x=c.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:l,fill:f,stroke:d,radius:p,opacity:m,cursor:x}});var _=1/3*i,T=2/3*i,b=1/4*l,I=3/4*l;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:_,y1:b,x2:_,y2:I,stroke:d,cursor:x}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:T,y1:b,x2:T,y2:I,stroke:d,cursor:x}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(Di),i_={fill:"#416180",opacity:.05},j4={fill:"#5B8FF9",opacity:.15,cursor:"move"},tL={width:10,height:24},eL={textBaseline:"middle",fill:"#000",opacity:.45},a_="sliderchange",rL=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(i){t.currentTarget=n;var l=i.originalEvent;l.stopPropagation(),l.preventDefault(),t.prevX=(0,S.U2)(l,"touches.0.pageX",l.pageX),t.prevY=(0,S.U2)(l,"touches.0.pageY",l.pageY);var c=t.getContainerDOM();c.addEventListener("mousemove",t.onMouseMove),c.addEventListener("mouseup",t.onMouseUp),c.addEventListener("mouseleave",t.onMouseUp),c.addEventListener("touchmove",t.onMouseMove),c.addEventListener("touchend",t.onMouseUp),c.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var i=t.cfg.width,l=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var c=(0,S.U2)(n,"touches.0.pageX",n.pageX),f=(0,S.U2)(n,"touches.0.pageY",n.pageY),p=t.adjustOffsetRange((c-t.prevX)/i);t.updateStartEnd(p),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=c,t.prevY=f,t.draw(),t.emit(a_,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:l,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return(0,E.ZT)(r,e),r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.get("start"),l=this.get("end"),c=(0,S.uZ)(i,t,n),f=(0,S.uZ)(l,t,n);!this.get("isInit")&&(i!==c||l!==f)&&this.setValue([c,f])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange();if((0,S.kJ)(t)&&2===t.length){var i=[this.get("start"),this.get("end")];this.update({start:(0,S.uZ)(t[0],n.min,n.max),end:(0,S.uZ)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:i_,foregroundStyle:j4,handlerStyle:tL,textStyle:eL}})},r.prototype.update=function(t){var n=t.start,i=t.end,l=(0,E.pi)({},t);(0,S.UM)(n)||(l.start=(0,S.uZ)(n,0,1)),(0,S.UM)(i)||(l.end=(0,S.uZ)(i,0,1)),e.prototype.update.call(this,l),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,S.uZ)(this.get("start"),0,1)),this.set("end",(0,S.uZ)(this.get("end"),0,1)),e.prototype.init.call(this)},r.prototype.render=function(){e.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var n=this.cfg,c=n.width,f=n.height,d=n.trendCfg,p=void 0===d?{}:d,m=n.minText,x=n.maxText,_=n.backgroundStyle,T=void 0===_?{}:_,b=n.foregroundStyle,I=void 0===b?{}:b,F=n.textStyle,B=void 0===F?{}:F,Y=(0,S.b$)({},r_,this.cfg.handlerStyle);(0,S.dp)((0,S.U2)(p,"data"))&&(this.trend=this.addComponent(t,(0,E.pi)({component:Q4,id:this.getElementId("trend"),x:0,y:0,width:c,height:f},p))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,E.pi)({x:0,y:0,width:c,height:f},T)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,E.pi)({y:f/2,textAlign:"right",text:m,silent:!1},B)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,E.pi)({y:f/2,textAlign:"left",text:x,silent:!1},B)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,E.pi)({y:0,height:f},I)});var $t=(0,S.U2)(Y,"width",10),ge=(0,S.U2)(Y,"height",24);this.minHandler=this.addComponent(t,{component:n_,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(f-ge)/2,width:$t,height:ge,cursor:"ew-resize",style:Y}),this.maxHandler=this.addComponent(t,{component:n_,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(f-ge)/2,width:$t,height:ge,cursor:"ew-resize",style:Y})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,n,i){var l=this.cfg,d=l.width,p=l.minText,m=l.maxText,x=l.handlerStyle,T=l.start*d,b=l.end*d;this.trend&&(this.trend.update({width:d,height:l.height}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",T),t.attr("width",b-T);var I=(0,S.U2)(x,"width",10);n.attr("text",p),i.attr("text",m);var F=this._dodgeText([T,b],n,i),B=F[0],Y=F[1];this.minHandler&&(this.minHandler.update({x:T-I/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,S.S6)(B,function(G,H){return n.attr(H,G)}),this.maxHandler&&(this.maxHandler.update({x:b-I/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,S.S6)(Y,function(G,H){return i.attr(H,G)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var n=this.cfg,i=n.start,l=n.end;switch(this.currentTarget){case"minHandler":var c=0-i,f=1-i;return Math.min(f,Math.max(c,t));case"maxHandler":return c=0-l,f=1-l,Math.min(f,Math.max(c,t));case"foreground":return c=0-i,f=1-l,Math.min(f,Math.max(c,t))}},r.prototype.updateStartEnd=function(t){var n=this.cfg,i=n.start,l=n.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":l+=t;break;case"foreground":i+=t,l+=t}this.set("start",i),this.set("end",l)},r.prototype._dodgeText=function(t,n,i){var l,c,f=this.cfg,p=f.width,x=(0,S.U2)(f.handlerStyle,"width",10),_=t[0],T=t[1],b=!1;_>T&&(_=(l=[T,_])[0],T=l[1],n=(c=[i,n])[0],i=c[1],b=!0);var I=n.getBBox(),F=i.getBBox(),B=I.width>_-2?{x:_+x/2+2,textAlign:"left"}:{x:_-x/2-2,textAlign:"right"},Y=F.width>p-T-2?{x:T-x/2-2,textAlign:"right"}:{x:T+x/2+2,textAlign:"left"};return b?[Y,B]:[B,Y]},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r}(Di);function uu(e,r,t){if(e){if("function"==typeof e.addEventListener)return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if("function"==typeof e.attachEvent)return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var Gy={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},s_=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.clearEvents=S.ZT,t.onStartEvent=function(n){return function(i){t.isMobile=n,i.originalEvent.preventDefault();var l=n?(0,S.U2)(i.originalEvent,"touches.0.clientX"):i.clientX,c=n?(0,S.U2)(i.originalEvent,"touches.0.clientY"):i.clientY;t.startPos=t.cfg.isHorizontal?l:c,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),i=[];i=t.isMobile?[uu(n,"touchmove",t.onMouseMove),uu(n,"touchend",t.onMouseUp),uu(n,"touchcancel",t.onMouseUp)]:[uu(n,"mousemove",t.onMouseMove),uu(n,"mouseup",t.onMouseUp),uu(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){i.forEach(function(l){l.remove()})}},t.onMouseMove=function(n){var i=t.cfg,l=i.isHorizontal,c=i.thumbOffset;n.preventDefault();var f=t.isMobile?(0,S.U2)(n,"touches.0.clientX"):n.clientX,d=t.isMobile?(0,S.U2)(n,"touches.0.clientY"):n.clientY,p=l?f:d,m=p-t.startPos;t.startPos=p,t.updateThumbOffset(c+m)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var i=t.cfg,l=i.isHorizontal,c=i.x,f=i.y,d=i.thumbLen,m=t.getContainerDOM().getBoundingClientRect(),b=t.validateRange(l?n.clientX-m.left-c-d/2:n.clientY-m.top-f-d/2);t.updateThumbOffset(b)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return(0,E.ZT)(r,e),r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.getValue(),l=(0,S.uZ)(i,t,n);i!==l&&!this.get("isInit")&&this.setValue(l)},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,S.uZ)(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},r.prototype.getValue=function(){return(0,S.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,E.pi)((0,E.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Gy})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var n=this.cfg,i=n.trackLen,l=n.theme,f=(0,S.b$)({},Gy,void 0===l?{default:{}}:l).default,d=f.lineCap,p=f.trackColor,x=(0,S.U2)(this.cfg,"size",f.size),_=this.get("isHorizontal")?{x1:0+x/2,y1:x/2,x2:i-x/2,y2:x/2,lineWidth:x,stroke:p,lineCap:d}:{x1:x/2,y1:0+x/2,x2:x/2,y2:i-x/2,lineWidth:x,stroke:p,lineCap:d};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:_})},r.prototype.renderThumbShape=function(t){var n=this.cfg,i=n.thumbOffset,l=n.thumbLen,f=(0,S.b$)({},Gy,n.theme).default,p=f.lineCap,m=f.thumbColor,x=(0,S.U2)(this.cfg,"size",f.size),_=this.get("isHorizontal")?{x1:i+x/2,y1:x/2,x2:i+l-x/2,y2:x/2,lineWidth:x,stroke:m,lineCap:p,cursor:"default"}:{x1:x/2,y1:i+x/2,x2:x/2,y2:i+l-x/2,lineWidth:x,stroke:m,lineCap:p,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:_})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var i=t.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r.prototype.validateRange=function(t){var n=this.cfg,i=n.thumbLen,l=n.trackLen,c=t;return t+i>l?c=l-i:t+i<i&&(c=0),c},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.updateThumbOffset=function(t){var n=this.cfg,i=n.thumbOffset,l=n.isHorizontal,c=n.thumbLen,f=n.size,d=this.validateRange(t);d!==i&&(this.getElementByLocalId("thumb").attr(l?{x1:d+f/2,x2:d+c-f/2}:{y1:d+f/2,y2:d+c-f/2}),this.emitOffsetChange(d))},r.prototype.emitOffsetChange=function(t){var n=this.cfg,i=n.thumbOffset,l=n.trackLen,c=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,S.uZ)(t/(l-c),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},r}(Di),iL=b4,l_=E4,u_=P4,aL=$w,c_=Qw,oL=Hy,ff=U4;function cu(e){return 1===Array.from(new Set(e)).length}function f_(e){return((0,S.VV)(e)+(0,S.Fp)(e))/2}function $n(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function Js(e,r,t,n,i,l){void 0===l&&(l=0);var c=$n(e,r,t,n),f=$n(e,r,t,i),d=$n(e,r,l,n),p=$n(e,r,l,i);if(i-n==2*Math.PI){var m=$n(e,r,t,n+Math.PI),x=$n(e,r,l,n+Math.PI),_=[["M",c.x,c.y],["A",t,t,0,1,1,m.x,m.y],["A",t,t,0,1,1,f.x,f.y],["M",d.x,d.y]];return l&&(_.push(["A",l,l,0,1,0,x.x,x.y]),_.push(["A",l,l,0,1,0,p.x,p.y])),_.push(["M",c.x,c.y]),_.push(["Z"]),_}var T=i-n<=Math.PI?0:1,b=[["M",c.x,c.y],["A",t,t,0,T,1,f.x,f.y],["L",p.x,p.y]];return l&&b.push(["A",l,l,0,T,0,d.x,d.y]),b.push(["L",c.x,c.y]),b.push(["Z"]),b}function Yy(e,r,t,n,i){var l=$n(e,r,t,n),c=$n(e,r,t,i);if((0,S.vQ)(i-n,2*Math.PI)){var f=$n(e,r,t,n+Math.PI);return[["M",l.x,l.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,l.x,l.y],["A",t,t,0,1,0,f.x,f.y],["A",t,t,0,1,0,l.x,l.y],["Z"]]}var d=i-n<=Math.PI?0:1;return[["M",l.x,l.y],["A",t,t,0,d,1,c.x,c.y]]}function wc(e,r){var i,l,n=function h_(e){if((0,S.xb)(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,i=e[0].y;return(0,S.S6)(e,function(l){r=r>l.x?l.x:r,t=t<l.x?l.x:t,n=n>l.y?l.y:n,i=i<l.y?l.y:i}),{minX:r,maxX:t,minY:n,maxY:i,centerX:(r+t)/2,centerY:(n+i)/2}}(e.points),c=r.startAngle,d=r.endAngle-c;return r.isTransposed?(i=n.maxY*d,l=n.minY*d):(i=n.maxX*d,l=n.minX*d),{startAngle:l+=c,endAngle:i+=c}}function Wy(e,r){var t=e.attr(),n=r.attr();return(0,S.S6)(t,function(i,l){void 0===n[l]&&(n[l]=void 0)}),n}function _c(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function ca(e,r){return"object"==typeof e&&r.forEach(function(t){delete e[t]}),e}function js(e,r,t){var n,i;void 0===r&&(r=[]),void 0===t&&(t=new Map);try{for(var l=(0,E.XA)(e),c=l.next();!c.done;c=l.next()){var f=c.value;t.has(f)||(r.push(f),t.set(f,!0))}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return r}var Xi=function(){function e(r,t,n,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=r,this.y=t,this.height=i,this.width=n}return e.fromRange=function(r,t,n,i){return new e(r,t,n-r,i-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,S.S6)(r,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,S.S6)(r,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,i=r.height;switch(t){case Ge.TOP:case Ge.TOP_LEFT:case Ge.TOP_RIGHT:return e.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case Ge.RIGHT:case Ge.RIGHT_TOP:case Ge.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case Ge.BOTTOM:case Ge.BOTTOM_LEFT:case Ge.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case Ge.LEFT:case Ge.LEFT_TOP:case Ge.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=(0,E.CR)(r,4),n=t[0],c=t[3];return new e(this.x+c,this.y+n,this.width-c-t[1],this.height-n-t[2])},e.prototype.expand=function(r){var t=(0,E.CR)(r,4),n=t[0],c=t[3];return new e(this.x-c,this.y-n,this.width+c+t[1],this.height+n+t[2])},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}();function Sc(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Vd(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Tc(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Uy(e,r){void 0===r&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),l=e.getHeight();if(e.isPolar){var c=e.startAngle,f=e.endAngle,d=e.getCenter(),p=e.getRadius();return{type:"path",startState:{path:Js(d.x,d.y,p+r,c,c)},endState:function(x){return{path:Js(d.x,d.y,p+r,c,(f-c)*x+c)}},attrs:{path:Js(d.x,d.y,p+r,c,f)}}}return{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?i+2*r:0,height:e.isTransposed?0:l+2*r},endState:e.isTransposed?{height:l+2*r}:{width:i+2*r},attrs:{x:t.x-r,y:n.y-r,width:i+2*r,height:l+2*r}}}var hL=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function $d(e,r,t,n){return void 0===r&&(r={}),r.type?r.type:"identity"!==e.type&&Zu.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function bc(e){return e.alias||e.field}function d_(e,r,t){var l,i=e.values.length;if(1===i)l=[.5,1];else{var f=0;l=function uL(e){return!!e.isPolar&&e.endAngle-e.startAngle==2*Math.PI}(r)?r.isTransposed?[(f=1/i*(0,S.U2)(t,"widthRatio.multiplePie",1/1.3))/2,1-f/2]:[0,1-1/i]:[f=1/i/2,1-f]}return l}function pL(e){var r=e.values.filter(function(t){return!(0,S.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),[(0,S.UM)(e.max)?-1/0:e.max],!1))}function fu(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=function gL(e){var r,t;switch(e){case Ge.TOP:r={x:0,y:1},t={x:1,y:1};break;case Ge.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Ge.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Ge.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}(r):e.isPolar&&(t=function hu(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}(e));var i=t.end;return{start:e.convert(t.start),end:e.convert(i)}}function p_(e){return e.start.x===e.end.x}function g_(e,r){var t=e.start,n=e.end;return p_(e)?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function Zd(e,r){var t=(0,S.U2)(e,["components","axis"],{});return(0,S.b$)({},(0,S.U2)(t,["common"],{}),(0,S.b$)({},(0,S.U2)(t,[r],{})))}function y_(e,r,t){var n=(0,S.U2)(e,["components","axis"],{});return(0,S.b$)({},(0,S.U2)(n,["common","title"],{}),(0,S.b$)({},(0,S.U2)(n,[r,"title"],{})),t)}function Xy(e){var r=e.x,t=e.y,n=e.circleCenter,i=t.start>t.end,l=e.convert(e.isTransposed?{x:i?0:1,y:0}:{x:0,y:i?0:1}),c=[l.x-n.x,l.y-n.y],f=[1,0],d=l.y>n.y?Tr.EU(c,f):-1*Tr.EU(c,f),p=d+(r.end-r.start);return{center:n,radius:Math.sqrt(Math.pow(l.x-n.x,2)+Math.pow(l.y-n.y,2)),startAngle:d,endAngle:p}}function ha(e,r){return(0,S.jn)(e)?!1!==e&&{}:(0,S.U2)(e,[r])}function Vy(e,r){return(0,S.U2)(e,"position",r)}function m_(e,r){return(0,S.U2)(r,["title","text"],bc(e))}var vu=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,S.b$)({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var n=r.data,i=r.padding,c=this.view.createView({region:r.region,padding:void 0===i?this.cfg.padding:i});c.data(n||[]),r.view=c,this.beforeEachView(c,r);var f=this.cfg.eachView;return f&&f(c,r),this.afterEachView(c,r),c},e.prototype.createContainer=function(){return this.view.getLayer(Rn.FORE).addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;(0,S.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height;return this.cfg.spacing.map(function(l,c){return(0,S.hj)(l)?l/(0===c?t:n):parseFloat(l)/100})},e.prototype.getFieldValues=function(r,t){var n=[],i={};return(0,S.S6)(r,function(l){var c=l[t];!(0,S.UM)(c)&&!i[c]&&(n.push(c),i[c]=!0)}),n},e.prototype.getRegion=function(r,t,n,i){var l=(0,E.CR)(this.parseSpacing(),2),c=l[0],f=l[1],d=(1+c)/(0===t?1:t)-c,p=(1+f)/(0===r?1:r)-f,m={x:(d+c)*n,y:(p+f)*i};return{start:m,end:{x:m.x+d,y:m.y+p}}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),l=r.geometries;if("rect"===(0,S.U2)(n.coordinate,"type","rect")&&l.length){(0,S.UM)(n.axes)&&(n.axes={});var f=n.axes,d=(0,E.CR)(l[0].getXYFields(),2),p=d[0],m=d[1],x=ha(f,p),_=ha(f,m);!1!==x&&(n.axes[p]=this.getXAxisOption(p,f,x,t)),!1!==_&&(n.axes[m]=this.getYAxisOption(m,f,_,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return(0,S.yW)(r,function(n){var i=n.field,l=n.value;return!(!(0,S.UM)(l)&&i)||t[i]===l})}},e}(),$y={},du=function(e,r){$y[(0,S.vl)(e)]=r},x_=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){(0,S.f0)(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}();const wn=x_;var tl=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(wn);const Zy=tl;var qd={};function vf(e){return(0,S.U2)(qd[e],"ActionClass")}function ur(e,r,t){qd[e]={ActionClass:r,cfg:t}}function xL(e,r){var t=new Zy(r);return t.callback=e,t.name="callback",t}function qy(e,r){for(var t=[e[0]],n=1,i=e.length;n<i;n+=2){var l=r.convert({x:e[n],y:e[n+1]});t.push(l.x,l.y)}return t}function Ky(e,r){var t=r.isTransposed,n=e[1],c=r.convert({x:e[6],y:e[7]});return["A",n,n,0,0,t?0:1,c.x,c.y]}var Qy=function(e,r,t,n){var i,f,d,p,m,x,_,T,l=[],c=!!n;if(c){p=(i=(0,E.CR)(n,2))[0],m=i[1];for(var b=0,I=e.length;b<I;b++)p=Tr.VV([0,0],p,F=e[b]),m=Tr.Fp([0,0],m,F)}b=0;for(var B=e.length;b<B;b++){var F=e[b];if(0!==b||t)if(b!==B-1||t){var Y=[0,0];Y=Tr.lu(Y,d=e[t?(b+1)%B:b+1],f=e[t?b?b-1:B-1:b-1]),Y=Tr.bA(Y,Y,r);var G=Tr.TE(F,f),H=Tr.TE(F,d),et=G+H;0!==et&&(G/=et,H/=et);var wt=Tr.bA([0,0],Y,-G),Ot=Tr.bA([0,0],Y,H);_=Tr.IH([0,0],F,wt),x=Tr.IH([0,0],F,Ot),x=Tr.VV([0,0],x,Tr.Fp([0,0],d,F)),x=Tr.Fp([0,0],x,Tr.VV([0,0],d,F)),wt=Tr.lu([0,0],x,F),wt=Tr.bA([0,0],wt,-G/H),_=Tr.IH([0,0],F,wt),_=Tr.VV([0,0],_,Tr.Fp([0,0],f,F)),_=Tr.Fp([0,0],_,Tr.VV([0,0],f,F)),Ot=Tr.lu([0,0],F,_),Ot=Tr.bA([0,0],Ot,H/G),x=Tr.IH([0,0],F,Ot),c&&(_=Tr.Fp([0,0],_,p),_=Tr.VV([0,0],_,m),x=Tr.Fp([0,0],x,p),x=Tr.VV([0,0],x,m)),l.push(T),l.push(_),T=x}else _=F,l.push(T),l.push(_);else T=F}return t&&l.push(l.shift()),l};function Kd(e,r,t){for(var n=!!r,i=[],l=0,c=e.length;l<c;l+=2)i.push([e[l],e[l+1]]);var m,x,_,f=Qy(i,.4,n,t),d=i.length,p=[];for(l=0;l<d-1;l++)p.push(["C",(m=f[2*l])[0],m[1],(x=f[2*l+1])[0],x[1],(_=i[l+1])[0],_[1]]);return n&&p.push(["C",(m=f[d])[0],m[1],(x=f[d+1])[0],x[1],(_=i[0])[0],_[1]]),p}function df(e,r){return function CL(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var l=e[n];t.push(["L",l.x,l.y])}r&&t.push(["Z"])}return t}(e,r)}function Ac(e,r,t){var n=[],i=e[0],l=null;if(e.length<=2)return df(e,r);for(var c=0,f=e.length;c<f;c++){var d=e[c];(!l||l.x!==d.x||l.y!==d.y)&&(n.push(d.x),n.push(d.y),l=d)}var m=Kd(n,r,t||[[0,0],[1,1]]);return m.unshift(["M",i.x,i.y]),m}function __(e,r){return jy(e.event.target,r)}function pu(e,r){var t=e.getCanvasBBox(),n=t.width,i=t.height;return n>0&&i>0&&(n>=r||i>=r)}function jy(e,r){var t=e.getCanvasBBox();return pu(e,r)?t:null}function S_(e,r){return e.event.maskShapes.map(function(n){return jy(n,r)}).filter(function(n){return!!n})}function tm(e,r){return pu(e,r)?e.attr("path"):null}function ys(e){var t,n=e.event.target;return n&&(t=n.get("element")),t}function gu(e){var n,t=e.event.target;return t&&(n=t.get("delegateObject")),n}function b_(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function pf(e){return e&&e.component&&e.component.isList()}function A_(e){return e&&e.component&&e.component.isSlider()}function gf(e){var t=e.event.target;return t&&"mask"===t?.get("name")||Go(e)}function Go(e){var r;return"multi-mask"===(null===(r=e.event.target)||void 0===r?void 0:r.get("name"))}function Xa(e,r){var t=e.event.target;if(Go(e))return function SL(e,r){if("path"===e.event.target.get("type")){var n=function T_(e,r){return e.event.maskShapes.map(function(n){return tm(n,r)})}(e,r);return n.length>0?n.flatMap(function(l){return O_(e.view,l)}):null}var i=S_(e,r);return i.length>0?i.flatMap(function(l){return yf(e.view,l)}):null}(e,r);if("path"===t.get("type")){var n=function M_(e,r){return tm(e.event.target,r)}(e,r);return n?O_(e.view,n):void 0}var i=__(e,r);return i?yf(e.view,i):null}function E_(e,r,t){if(Go(e))return function ML(e,r,t){var n=S_(e,t);return n.length>0?n.flatMap(function(i){return L_(i,e,r)}):null}(e,r,t);var n=__(e,t);return n?L_(n,e,r):null}function L_(e,r,t){var n=r.view,i=am(n,t,{x:e.x,y:e.y}),l=am(n,t,{x:e.maxX,y:e.maxY});return yf(t,{minX:i.x,minY:i.y,maxX:l.x,maxY:l.y})}function jn(e){var t=[];return(0,S.S6)(e.geometries,function(n){t=t.concat(n.elements)}),e.views&&e.views.length&&(0,S.S6)(e.views,function(n){t=t.concat(jn(n))}),t}function I_(e,r){var n=[];return(0,S.S6)(e.geometries,function(i){var l=i.getElementsBy(function(c){return c.hasState(r)});n=n.concat(l)}),n}function lo(e,r){var n=e.getModel().data;return(0,S.kJ)(n)?n[0][r]:n[r]}function yf(e,r){var t=jn(e),n=[];return(0,S.S6)(t,function(i){var c=i.shape.getCanvasBBox();(function TL(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)})(r,c)&&n.push(i)}),n}function rm(e){var r=[];return(0,S.S6)(e,function(t){if("A"!==t[0])for(var i=1;i<t.length;i+=2)r.push([t[i],t[i+1]]);else{var l=t.length;r.push([t[l-2],t[l-1]])}}),r}function O_(e,r){var t=jn(e),n=rm(r),i=t.filter(function(l){var f,c=l.shape;return f="path"===c.get("type")?rm(c.attr("path")):function lL(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}(c.getCanvasBBox()),(0,Io.Wq)(n,f)});return i}function nm(e){return e.getComponents().map(function(r){return r.component})}function im(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function R_(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function Yo(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function am(e,r,t){var n=function AL(e,r){return e.getCoordinate().invert(r)}(e,t);return r.getCoordinate().convert(n)}function F_(e,r,t,n){var i=!1;return(0,S.S6)(e,function(l){if(l[t]===r[t]&&l[n]===r[n])return i=!0,!1}),i}function Ec(e,r){var t=e.getScaleByField(r);return!t&&e.views&&(0,S.S6)(e.views,function(n){if(t=Ec(n,r))return!1}),t}var EL=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length)return this.cacheMap[r[0]];2===r.length&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;return r?r.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(r.clientX,r.clientY):{x:r.x,y:r.y}:null},e.prototype.getCurrentShape=function(){return(0,S.U2)(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return!!r&&this.view.isPointInPlot(r)},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return!!t&&t.get("name")===r},e.prototype.isInComponent=function(r){var t=nm(this.view),n=this.getCurrentPoint();return!!n&&!!t.find(function(i){var l=i.getBBox();return r?i.get("name")===r&&R_(l,n):R_(l,n)})},e.prototype.destroy=function(){(0,S.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}();const LL=EL;var IL=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}();function D_(e,r,t){var n=e.split(":"),i=n[0],l=r.getAction(i)||function mL(e,r){var t=qd[e],n=null;return t&&((n=new(0,t.ActionClass)(r,t.cfg)).name=e,n.init()),n}(i,r);if(!l)throw new Error("There is no action named ".concat(i));return{action:l,methodName:n[1],arg:t}}function B_(e){var r=e.action,t=e.methodName,n=e.arg;if(!r[t])throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t));r[t](n)}var RL=function(e){function r(t,n){var i=e.call(this,t,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return(0,E.ZT)(r,e),r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,S.S6)(this.steps,function(n,i){(0,S.S6)(n,function(l){var c=t.getActionCallback(i,l);c&&t.bindEvent(l.trigger,c)})})},r.prototype.clearEvents=function(){var t=this;(0,S.S6)(this.steps,function(n,i){(0,S.S6)(n,function(l){var c=t.getActionCallback(i,l);c&&t.offEvent(l.trigger,c)})})},r.prototype.initContext=function(){var n=new LL(this.view);this.context=n,(0,S.S6)(this.steps,function(l){(0,S.S6)(l,function(c){if((0,S.mf)(c.action))c.actionObject={action:xL(c.action,n),methodName:"execute"};else if((0,S.HD)(c.action))c.actionObject=D_(c.action,n,c.arg);else if((0,S.kJ)(c.action)){var f=c.action,d=(0,S.kJ)(c.arg)?c.arg:[c.arg];c.actionObject=[],(0,S.S6)(f,function(p,m){c.actionObject.push(D_(p,n,d[m]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName;if(n===t||"showEnable"===t)return!0;if("processing"===t)return"start"===n;if("start"===t)return"processing"!==n;if("end"===t)return"processing"===n||"start"===n;if("rollback"===t){if(this.steps.end)return"end"===n;if("start"===n)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var i=this.getKey(t,n);return(!n.once||!this.emitCaches[i])&&(!n.isEnable||n.isEnable(this.context))}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){"showEnable"!==t&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,n);this.emitCaches[i]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var i=this,l=this.context,c=this.callbackCaches,f=n.actionObject;if(n.action&&f){var d=this.getKey(t,n);if(!c[d]){var p=function(m){l.event=m,i.isAllowExecute(t,n)?((0,S.kJ)(f)?(0,S.S6)(f,function(x){l.event=m,B_(x)}):(l.event=m,B_(f)),i.afterExecute(t,n),n.callback&&(l.event=m,n.callback(l))):l.event=null};c[d]=n.debounce?(0,S.Ds)(p,n.debounce.wait,n.debounce.immediate):n.throttle?(0,S.P2)(p,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):p}return c[d]}return null},r.prototype.bindEvent=function(t,n){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],n):"document"===i[0]?document.addEventListener(i[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],n):"document"===i[0]?document.removeEventListener(i[1],n):this.view.off(t,n)},r}(IL);const FL=RL;var P_={};function Er(e,r){P_[(0,S.vl)(e)]=r}function om(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=function BL(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}(e),i=function PL(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(l){var c=l.geometry.coordinate;if(c.isPolar&&c.isTransposed){var f=wc(l.getModel(),c),m=(f.startAngle+f.endAngle)/2,_=7.5*Math.cos(m),T=7.5*Math.sin(m);return{matrix:Zr.vs(null,[["t",_,T]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,E.pi)((0,E.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,E.pi)((0,E.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,E.pi)((0,E.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,E.pi)((0,E.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,E.pi)((0,E.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,E.pi)((0,E.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,E.pi)((0,E.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,E.pi)((0,E.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,S.b$)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,S.b$)({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(ua)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(Ho)]={marginBottom:"12px",marginTop:"12px"},r["".concat(uf)]={margin:0,listStyleType:"none",padding:0},r["".concat(ii)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(yc)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(Ua)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var un_65="#595959",un_25="#BFBFBF",kL=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],zL=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],z_=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],N_=function(e){void 0===e&&(e={});var r=e.paletteQualitative10,t=void 0===r?kL:r,n=e.paletteQualitative20,l=e.brandColor,c=void 0===l?t[0]:l;return(0,E.pi)((0,E.pi)({},{backgroundColor:"transparent",brandColor:c,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===n?zL:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:z_,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:un_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:un_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#D9D9D9",axisTickLineBorderColor:un_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#D9D9D9",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:"#8C8C8C",axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#D9D9D9",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:"#8C8C8C",legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:c,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:un_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:"#000",legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:"#000",legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:"#8C8C8C",legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#D9D9D9",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:"#8C8C8C",sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:un_25,annotationArcBorderColor:"#D9D9D9",annotationArcBorder:1,annotationLineBorderColor:un_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:un_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:"#000",annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:un_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:un_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:un_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#FFFFFF",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:un_65,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#FFFFFF",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:un_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:c,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#FFFFFF",pointBorderOpacity:1,pointActiveBorderColor:"#000",pointSelectedBorder:2,pointSelectedBorderColor:"#000",pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:c,hollowPointBorderOpacity:.95,hollowPointFillColor:"#FFFFFF",hollowPointActiveBorder:1,hollowPointActiveBorderColor:"#000",hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:"#000",hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:c,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:c,areaFillOpacity:.25,areaActiveFillColor:c,areaActiveFillOpacity:.5,areaSelectedFillColor:c,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:c,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:"#000",hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:"#000",hollowAreaInactiveBorderOpacity:.3,intervalFillColor:c,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:"#000",intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:"#000",intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:c,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#FFFFFF",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:"#000",hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:"#000",hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),e)};function Qd(e){var r=e.styleSheet,t=void 0===r?{}:r,n=(0,E._T)(e,["styleSheet"]),i=N_(t);return(0,S.b$)({},om(i),n)}N_();var sm={default:Qd({})};function Lc(e){return(0,S.U2)(sm,(0,S.vl)(e),sm.default)}function H_(e,r,t){var n=t.translate(e),i=t.translate(r);return(0,S.vQ)(n,i)}function G_(e,r,t){var n=t.coordinate,i=t.getYScale(),l=i.field,c=n.invert(r),f=i.invert(c.y);return(0,S.sE)(e,function(p){var m=p[pn];return m[l][0]<=f&&m[l][1]>=f})||e[e.length-1]}var Y_=(0,S.HP)(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),i=n,l=0;l<t;l++){var f=e.translate(r[l]);f<n&&(n=f),f>i&&(i=f)}return(i-n)/(t-1)});function W_(e){var r,t,i,n=function UL(e){var r=(0,S.VO)(e.attributes);return(0,S.hX)(r,function(t){return(0,S.FX)(Zu,t.type)})}(e);try{for(var l=(0,E.XA)(n),c=l.next();!c.done;c=l.next()){var f=c.value,d=f.getScale(f.type);if(d&&d.isLinear&&"cat"!==$d(d,(0,S.U2)(e.scaleDefs,d.field),f.type,e.type)){i=d;break}}}catch(T){r={error:T}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(r)throw r.error}}var x=e.getXScale(),_=e.getYScale();return i||_||x}function X_(e,r,t){if(0===r.length)return null;var n=t.type,i=t.getXScale(),l=t.getYScale(),c=i.field,f=l.field,d=null;if("heatmap"===n||"point"===n){for(var m=t.coordinate.invert(e),x=i.invert(m.x),_=l.invert(m.y),T=1/0,b=0;b<r.length;b++){var I=r[b],F=I[pn],B=Math.pow(F[c]-x,2)+Math.pow(F[f]-_,2);B<T&&(T=B,d=I)}return d}var Y=r[0],G=r[r.length-1],H=function YL(e,r){var t=r.coordinate,n=r.getXScale(),i=n.range,l=i[i.length-1],c=i[0],d=t.invert(e).x;return t.isPolar&&d>(1+l)/2&&(d=c),n.translate(n.invert(d))}(e,t),et=Y[pn][c],Ot=G[pn][c],$t=l.isLinear&&(0,S.kJ)(Y[pn][f]);if((0,S.kJ)(et)){for(b=0;b<r.length;b++)if(i.translate((F=(ge=r[b])[pn])[c][0])<=H&&i.translate(F[c][1])>=H){if(!$t){d=ge;break}(0,S.kJ)(d)||(d=[]),d.push(ge)}(0,S.kJ)(d)&&(d=G_(d,e,t))}else{var le=void 0;if(i.isLinear||"timeCat"===i.type){if((H>i.translate(Ot)||H<i.translate(et))&&(H>i.max||H<i.min))return null;for(var Se=0,Pe=r.length-1,or=void 0;Se<=Pe;){var cr=r[or=Math.floor((Se+Pe)/2)][pn][c];if(H_(cr,H,i))return r[or];i.translate(cr)<=i.translate(H)?(Se=or+1,G=r[or],le=r[or+1]):(0===Pe&&(G=r[0]),Pe=or-1)}}else{for(b=0;b<r.length;b++){var ge;if(H_((F=(ge=r[b])[pn])[c],H,i)){if(!$t){d=ge;break}(0,S.kJ)(d)||(d=[]),d.push(ge)}else i.translate(F[c])<=H&&(G=ge,le=r[b+1])}(0,S.kJ)(d)&&(d=G_(d,e,t))}G&&le&&Math.abs(i.translate(G[pn][c])-H)>Math.abs(i.translate(le[pn][c])-H)&&(G=le)}var Rr=Y_(t.getXScale());return!d&&Math.abs(i.translate(G[pn][c])-H)<=Rr/2&&(d=G),d}function lm(e,r,t,n){var i,l;void 0===t&&(t=""),void 0===n&&(n=!1);var x,_,c=e[pn],f=function WL(e,r,t){var i=r.getAttribute("position").getFields(),l=r.scales,c=(0,S.mf)(t)||!t?i[0]:t,f=l[c],d=f?f.getText(e[c]):e[c]||c;return(0,S.mf)(t)?t(d,e):d}(c,r,t),d=r.tooltipOption,p=r.theme.defaultColor,m=[];function T(ge,le){(n||!(0,S.UM)(le)&&""!==le)&&m.push({title:f,data:c,mappingData:e,name:ge,value:le,color:e.color||p,marker:!0})}if((0,S.Kn)(d)){var b=d.fields,I=d.callback;if(I){var F=b.map(function(ge){return e[pn][ge]}),B=I.apply(void 0,(0,E.ev)([],(0,E.CR)(F),!1)),Y=(0,E.pi)({data:e[pn],mappingData:e,title:f,color:e.color||p,marker:!0},B);m.push(Y)}else{var G=r.scales;try{for(var H=(0,E.XA)(b),et=H.next();!et.done;et=H.next()){var wt=et.value;if(!(0,S.UM)(c[wt])){var Ot=G[wt];T(x=bc(Ot),_=Ot.getText(c[wt]))}}}catch(ge){i={error:ge}}finally{try{et&&!et.done&&(l=H.return)&&l.call(H)}finally{if(i)throw i.error}}}}else{var $t=W_(r);_=function U_(e,r){var n=e[r.field];return(0,S.kJ)(n)?n.map(function(l){return r.getText(l)}).join("-"):r.getText(n)}(c,$t),x=function XL(e,r){var t,n=r.getGroupScales();return n.length&&(t=n[0]),t?t.getText(e[t.field]):bc(W_(r))}(c,r),T(x,_)}return m}function V_(e,r,t,n){var i,l,c=n.showNil,f=[],d=e.dataArray;if(!(0,S.xb)(d)){e.sort(d);try{for(var p=(0,E.XA)(d),m=p.next();!m.done;m=p.next()){var _=X_(r,m.value,e);if(_){var T=e.getElementId(_);if("heatmap"===e.type||e.elementsMap[T].visible){var I=lm(_,e,t,c);I.length&&f.push(I)}}}}catch(F){i={error:F}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(i)throw i.error}}}return f}function $_(e,r,t,n){var i=n.showNil,l=[],f=e.container.getShape(r.x,r.y);if(f&&f.get("visible")&&f.get("origin")){var p=lm(f.get("origin").mappingData,e,t,i);p.length&&l.push(p)}return l}function um(e,r,t){var n,i,l=[],c=e.geometries,f=t.shared,d=t.title,p=t.reversed;try{for(var m=(0,E.XA)(c),x=m.next();!x.done;x=m.next()){var _=x.value;if(_.visible&&!1!==_.tooltipOption){var T=_.type,b=void 0;(b=["point","edge","polygon"].includes(T)?$_(_,r,d,t):["area","line","path","heatmap"].includes(T)||!1!==f?V_(_,r,d,t):$_(_,r,d,t)).length&&(p&&b.reverse(),l.push(b))}}}catch(I){n={error:I}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return l}function cm(e){void 0===e&&(e=0);var r=(0,S.kJ)(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),(0,E.CR)(r),!1);break;case 3:r=(0,E.ev)((0,E.ev)([],(0,E.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4)}return r}var Jd={};function mu(e,r){Jd[e]=r}function qL(e){return Jd[e]}var KL=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){return(0,S.G)(this.option.actions,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,i=n.type,c="theta"===i,f=(0,E.pi)({start:r,end:t},n.cfg),d=function(e){return iy[e.toLowerCase()]}(c?"polar":i);return this.coordinate=new d(f),this.coordinate.type=i,c&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return(0,E.pi)({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this;(0,S.S6)(this.option.actions,function(i){var l,c=(0,E.CR)(i),f=c[0],d=c.slice(1);((0,S.UM)(r)||r.includes(f))&&(l=t.coordinate)[f].apply(l,(0,E.ev)([],(0,E.CR)(d),!1))})},e}();const QL=KL;var Fn=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new b2(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}();const en=Fn;function JL(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation");[r,e.getController("slider"),e.getController("scrollbar"),t,n].forEach(function(c){c&&c.layout()})}var Ic=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,i){var l=n,c=this.getScaleMeta(i);if(0===t.length&&c){var f=c.scale,d={type:f.type};f.isCategory&&(d.values=f.values),l=(0,S.b$)(d,c.scaleDef,n)}var p=function vL(e,r,t){var n=r||[];if((0,S.hj)(e)||(0,S.UM)((0,S.Wx)(n,e))&&(0,S.xb)(t))return new(ni("identity"))({field:e.toString(),values:[e]});var l=(0,S.I)(n,e),c=(0,S.U2)(t,"type",function fL(e){var r="linear";return hL.test(e)?r="timeCat":(0,S.HD)(e)&&(r="cat"),r}(l[0]));return new(ni(c))((0,E.pi)({field:e,values:l},t))}(r,t,l);return this.cacheScale(p,n,i),p},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(i,l){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,d=[];(0,S.S6)(i,function(p){var m=n.getScale(p);f=(0,S.hj)(m.max)?Math.max(f,m.max):f,c=(0,S.hj)(m.min)?Math.min(c,m.min):c,(0,S.S6)(m.values,function(x){d.includes(x)||d.push(x)})}),(0,S.S6)(i,function(p){var m=n.getScale(p);if(m.isContinuous)m.change({min:c,max:f,values:d});else if(m.isCategory){var x=m.range,_=n.getScaleMeta(p);d&&!(0,S.U2)(_,["scaleDef","range"])&&(x=d_((0,S.b$)({},m,{values:d}),r,t)),m.change({values:d,range:x})}})})},e.prototype.cacheScale=function(r,t,n){var i=this.getScaleMeta(n);i&&i.scale.type===r.type?(function dL(e,r){if("identity"!==e.type&&"identity"!==r.type){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}(i.scale,r),i.scaleDef=t):this.scales.set(n,i={key:n,scale:r,scaleDef:t});var l=this.getSyncKey(i);if(i.syncKey=l,this.removeFromSyncScales(n),l){var c=this.syncScales.get(l);c||this.syncScales.set(l,c=[]),c.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=(0,S.Z$)(r.split("-")),i=this.syncScales.get(n);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var i=this.syncScales.get(t.syncKey);if(i&&i.length){var l=i.indexOf(r);-1!==l&&i.splice(l,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,i){var l=n.indexOf(r);if(-1!==l)return n.splice(l,1),0===n.length&&t.syncScales.delete(i),!1})},e.prototype.getSyncKey=function(r){var i=r.scale.field,l=(0,S.U2)(r.scaleDef,["sync"]);return!0===l?i:!1===l?void 0:l},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),jd=function(){function e(r,t,n,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=r,this.right=t,this.bottom=n,this.left=i}return e.instance=function(r,t,n,i){return void 0===r&&(r=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),new e(r,t,n,i)},e.prototype.max=function(r){var t=(0,E.CR)(r,4),i=t[1],l=t[2],c=t[3];return this.top=Math.max(this.top,t[0]),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,l),this.left=Math.max(this.left,c),this},e.prototype.shrink=function(r){var t=(0,E.CR)(r,4),i=t[1],l=t[2],c=t[3];return this.top+=t[0],this.right+=i,this.bottom+=l,this.left+=c,this},e.prototype.inc=function(r,t){var n=r.width,i=r.height;switch(t){case Ge.TOP:case Ge.TOP_LEFT:case Ge.TOP_RIGHT:this.top+=i;break;case Ge.RIGHT:case Ge.RIGHT_TOP:case Ge.RIGHT_BOTTOM:this.right+=n;break;case Ge.BOTTOM:case Ge.BOTTOM_LEFT:case Ge.BOTTOM_RIGHT:this.bottom+=i;break;case Ge.LEFT:case Ge.LEFT_TOP:case Ge.LEFT_BOTTOM:this.left+=n}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,(0,E.ev)([void 0],(0,E.CR)(this.getPadding()),!1)))},e}();function hm(e,r,t){var n=t.instance();r.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var Z_=function(e){function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=function ZL(){return Object.keys(Jd)}(),n.scalePool=new Ic,n.layoutFunc=JL,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(G){var H=G.name;if(!H.includes(":")){var et=n.createViewEvent(G);n.doPlotEvent(et),n.emit(H,et)}},n.onDelegateEvents=function(G){var H=G.name;if(H.includes(":")){var et=n.createViewEvent(G);n.emit(H,et)}};var i=t.id,l=void 0===i?(0,S.EL)("view"):i,f=t.canvas,d=t.backgroundGroup,p=t.middleGroup,m=t.foregroundGroup,x=t.region,_=void 0===x?{start:{x:0,y:0},end:{x:1,y:1}}:x,T=t.padding,b=t.appendPadding,I=t.theme,F=t.options,B=t.limitInPlot,Y=t.syncViewPadding;return n.parent=t.parent,n.canvas=f,n.backgroundGroup=d,n.middleGroup=p,n.foregroundGroup=m,n.region=_,n.padding=T,n.appendPadding=b,n.options=(0,E.pi)((0,E.pi)({},n.options),F),n.limitInPlot=B,n.id=l,n.syncViewPadding=Y,n.themeObject=(0,S.Kn)(I)?(0,S.b$)({},Lc("default"),Qd(I)):Lc(I),n.init(),n}return(0,E.ZT)(r,e),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){void 0===t&&(t=!1),this.emit(kr.BEFORE_RENDER,en.fromData(this,kr.BEFORE_RENDER,n)),this.paint(t),this.emit(kr.AFTER_RENDER,en.fromData(this,kr.AFTER_RENDER,n)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(kr.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];var l=this.controllers;for(i=0;i<l.length;i++)"annotation"===l[i].name?l[i].clear(!0):l[i].clear();this.createdScaleKeys.forEach(function(f,d){t.getRootView().scalePool.deleteScale(d)}),this.createdScaleKeys.clear();var c=this.views;for(i=0;i<c.length;i++)c[i].clear();this.emit(kr.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(kr.BEFORE_DESTROY),(0,S.S6)(this.interactions,function(f){f&&f.destroy()}),this.clear();for(var n=this.controllers,i=0,l=n.length;i<l;i++)n[i].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,i=0,l=n.length;i<l;i++)n[i].changeVisible(t);var f=this.controllers;for(i=0,l=f.length;i<l;i++)f[i].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,S.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return(0,S.mf)(n)?((0,S.t8)(this.options,["filters",t],n),this):(!n&&(0,S.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return(0,S.jn)(t)?(0,S.t8)(this.options,["axes"],t):(0,S.t8)(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return(0,S.jn)(t)?(0,S.t8)(this.options,["legends"],t):(0,S.HD)(t)?((0,S.t8)(this.options,["legends",t],n),(0,S.PO)(n)&&n?.selected&&(0,S.t8)(this.options,["filters",t],function(i){var l;return null===(l=n?.selected[i])||void 0===l||l})):(0,S.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var i=this;return(0,S.HD)(t)?(0,S.t8)(this.options,["scales",t],n):(0,S.Kn)(t)&&(0,S.S6)(t,function(l,c){(0,S.t8)(i.options,["scales",c],l)}),this},r.prototype.tooltip=function(t){return(0,S.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return(0,S.HD)(t)?(0,S.t8)(this.options,"coordinate",{type:t,cfg:n}):(0,S.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var i=function(e){return $y[(0,S.vl)(e)]}(t);if(!i)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new i(this,(0,E.pi)((0,E.pi)({},n),{type:t})),this},r.prototype.animate=function(t){return(0,S.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,S.CD)(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,S.t8)(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=(0,S.Kn)(t)?(0,S.b$)({},this.themeObject,Qd(t)):Lc(t),this},r.prototype.interaction=function(t,n){var i=this.interactions[t];i&&i.destroy();var l=function k_(e,r,t){var n=function DL(e){return P_[(0,S.vl)(e)]}(e);if(!n)return null;if((0,S.PO)(n)){var i=(0,S.CD)((0,S.d9)(n),t);return new FL(r,i)}return new n(r,t)}(t,this,n);return l&&(l.init(),this.interactions[t]=l),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this,kr.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,i=0,l=n.length;i<l;i++)n[i].changeData(t);this.emit(kr.AFTER_CHANGE_DATA,en.fromData(this,kr.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,S.d9)(this.options.scales),axes:(0,S.d9)(this.options.axes),coordinate:(0,S.d9)(this.coordinateController.getOption()),tooltip:(0,S.d9)(this.options.tooltip),legends:(0,S.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r((0,E.pi)((0,E.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ys.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ys.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ys.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,E.pi)((0,E.pi)({},n),(0,S.U2)(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=(0,S.Od)(this.views,function(i){return i===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(i){var l=i.getYScale(),c=l.field;t[c]||(t[c]=!0,n.push(l))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,i={},l=0,c=n.length;l<c;l++){var f=n[l],d="x"===t?f.getXScale():f.getYScale();d&&!i[d.field]&&(i[d.field]=d)}return i},r.prototype.getScale=function(t,n){var i=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,S.u4)(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===Rn.BG?this.backgroundGroup:t===Rn.MID?this.middleGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return function Mc(e,r){var t=!1;if(e)if("theta"===e.type){var n=e.start,i=e.end;t=_c(r.x,n.x,i.x)&&_c(r.y,n.y,i.y)}else{var l=e.invert(r);t=_c(l.x,0,1)&&_c(l.y,0,1)}return t}(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,S.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return js((0,S.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var c,f,n=this.getCoordinate(),i=this.getScalesByDim("x"),l=this.getScalesByDim("y");if((0,S.S6)(t,function(d,p){i[p]&&(c=i[p].scale(d)),l[p]&&(f=l[p].scale(d))}),!(0,S.UM)(c)&&!(0,S.UM)(f))return n.convert({x:c,y:f})},r.prototype.getController=function(t){return(0,S.sE)(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,i=[],l=0,c=n.length;l<c;l++){var f=n[l],d=f.dataArray;f.sort(d);for(var p=void 0,m=0,x=d.length;m<x;m++)(p=X_(t,d[m],f))&&i.push(p)}var T=this.views;for(l=0,c=T.length;l<c;l++){var I=T[l].getSnapRecords(t);i=i.concat(I)}return i},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,i=0,l=n.length;i<l;i++)t=t.concat(n[i].getComponents());return t},r.prototype.filterData=function(t){var n=this.options.filters;return 0===(0,S.dp)(n)?t:(0,S.hX)(t,function(i,l){return Object.keys(n).every(function(f){return(0,n[f])(i[f],i,l)})})},r.prototype.filterFieldData=function(t,n){var l=(0,S.U2)(this.options.filters,t);return(0,S.o8)(l)?n:n.filter(function(c,f){return l(c[t],c,f)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),i=t.end,l=this.coordinateBBox.bl,c=this.coordinateBBox.tr;(0,S.Xy)(t.start,l)&&(0,S.Xy)(i,c)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(l,c))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(kr.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(kr.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,S.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox;this.backgroundStyleRectShape.attr({fill:t,x:n.x,y:n.y,width:n.width,height:n.height})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function jL(e){var r=e.padding;if(!function $L(e){return!(0,S.hj)(e)&&!(0,S.kJ)(e)}(r))return new(jd.bind.apply(jd,(0,E.ev)([void 0],(0,E.CR)(cm(r)),!1)));var t=e.viewBBox,n=new jd,i=[],l=[],c=[];return(0,S.S6)(e.getComponents(),function(f){var d=f.type;d===Kn.AXIS?i.push(f):[Kn.LEGEND,Kn.SLIDER,Kn.SCROLLBAR].includes(d)?l.push(f):d!==Kn.GRID&&d!==Kn.TOOLTIP&&c.push(f)}),(0,S.S6)(i,function(f){var p=f.component.getLayoutBBox(),x=new Xi(p.x,p.y,p.width,p.height).exceed(t);n.max(x)}),(0,S.S6)(l,function(f){var d=f.component,p=f.direction,m=d.getLayoutBBox(),x=d.get("padding"),_=new Xi(m.x,m.y,m.width,m.height).expand(x);n.inc(_,p)}),(0,S.S6)(c,function(f){var p=f.direction,m=f.component.getLayoutBBox(),x=new Xi(m.x,m.y,m.width,m.height);n.inc(x,p)}),n}(this).shrink(cm(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find(function(d){return"tooltip"===d.name}).update();for(var i=this.views,l=0,c=i.length;l<c;l++)i[l].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var n=!0===this.syncViewPadding?hm:(0,S.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,jd),this.views.forEach(function(d){d.coordinateBBox=d.viewBBox.shrink(d.autoPadding.getPadding()),d.adjustCoordinate()})),this.doLayout();for(var i=this.views,l=0,c=i.length;l<c;l++)i[l].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var i=Uy(this.coordinateInstance);n.setClip({type:i.type,attrs:i.attrs})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var f=this.views,d=0,p=f.length;d<p;d++)f[d].renderPaintRecursive(t)},r.prototype.createScale=function(t,n,i,l){var c=(0,S.U2)(this.options.scales,[t]),f=(0,E.pi)((0,E.pi)({},c),i);return this.parent?this.parent.createScale(t,n,f,l):this.scalePool.createScale(t,n,f,l)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,i=0,l=n.length;i<l;i++)n[i].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){var t,n,i,l;if(this.parent){var c=this.parent.coordinateBBox;t=c.x,n=c.y,i=c.width,l=c.height}else t=0,n=0,i=this.canvas.get("width"),l=this.canvas.get("height");var f=this.region,d=f.start,p=f.end,m=new Xi(t+i*d.x,n+l*d.y,i*(p.x-d.x),l*(p.y-d.y));(!this.viewBBox||!this.viewBBox.isEqual(m))&&(this.viewBBox=new Xi(t+i*d.x,n+l*d.y,i*(p.x-d.x),l*(p.y-d.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,i=t.length;n<i;n++){var c=qL(t[n]);c&&this.controllers.push(new c(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,i=t.name,l=n?n.get("origin"):null,c=new en(this,t,l);return c.type=i,c},r.prototype.doPlotEvent=function(t){var n=t.type,c={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(n)){var d=this.isPointInPlot(c),p=t.clone();if(d){var m="plot:".concat(n);p.type=m,this.emit(m,p),("mouseleave"===n||"touchend"===n)&&(this.isPreMouseInPlot=!1)}"mousemove"===n||"touchmove"===n?(this.isPreMouseInPlot&&!d?("mousemove"===n&&(p.type=ji.MOUSE_LEAVE,this.emit(ji.MOUSE_LEAVE,p)),p.type=ji.LEAVE,this.emit(ji.LEAVE,p)):!this.isPreMouseInPlot&&d&&("mousemove"===n&&(p.type=ji.MOUSE_ENTER,this.emit(ji.MOUSE_ENTER,p)),p.type=ji.ENTER,this.emit(ji.ENTER,p)),this.isPreMouseInPlot=d):("mouseleave"===n||"touchend"===n)&&this.isPreMouseInPlot&&("mouseleave"===n&&(p.type=ji.MOUSE_LEAVE,this.emit(ji.MOUSE_LEAVE,p)),p.type=ji.LEAVE,this.emit(ji.LEAVE,p),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){this.filteredData=this.filterData(this.options.data)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=(0,S.U2)(this.options,"scales",{}),l=this.geometries,c=0,f=l.length;c<f;c++){var d=l[c];d.scales=this.getGeometryScales();var p={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?d.update(p):d.init(p)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),l=i.data,c=i.scales,f=void 0===c?{}:c,d=this.filteredData,p=0,m=t.length;p<m;p++){var x=t[p],_=f[x],T=this.getScaleKey(x);this.createScale(x,n.includes(x)?l:d,_,T),this.createdScaleKeys.set(T,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},i=0;i<t.length;i++){var l=t[i];n[l]=this.getScaleByField(l)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,i=this.geometries,l=0;l<i.length;l++)js(i[l].getScaleFields(),t,n);return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,i=this.geometries,l=0;l<i.length;l++)js(i[l].getGroupFields(),t,n);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=(0,E.ev)([this.getXScale()],(0,E.CR)(this.getYScales()),!1).filter(function(c){return!!c}),i=this.getCoordinate(),l=this.options.scales;(0,S.S6)(n,function(c){(c.isCategory||c.isIdentity)&&c.values&&!(0,S.U2)(l,[c.field,"range"])&&(c.range=d_(c,i,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,i=0;i<n.length;i++){var l=n[i];t?l.update():(l.clear(),l.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){this.coordinateInstance=this.coordinateController.create(this.coordinateBBox.bl,this.coordinateBBox.tr)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,i=this.getCoordinate(),l={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.coordinate=i,d.canvasRegion=l,n||d.animate(!1),d.paint(t)}},r.prototype.renderComponents=function(t){for(var n=this.getComponents(),i=0;i<n.length;i++)n[i].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,i=n.geometries,l=void 0===i?[]:i,c=n.interactions,f=void 0===c?[]:c,d=n.views,p=void 0===d?[]:d,m=n.annotations,x=void 0===m?[]:m,_=n.coordinate,T=n.events,b=n.facets;this.coordinateController?_&&this.coordinateController.update(_):this.coordinateController=new QL(_);for(var I=0;I<l.length;I++)this.createGeometry(l[I]);for(var B=0;B<f.length;B++){var Y=f[B];this.interaction(Y.type,Y.cfg)}for(var et=0;et<p.length;et++)this.createView(p[et]);for(var Ot=this.getController("annotation"),$t=0;$t<x.length;$t++)Ot.annotation(x[$t]);T&&(0,S.S6)(T,function(le,Se){t.on(Se,le)}),b&&(0,S.S6)(b,function(le){var Se=le.type,Pe=(0,E._T)(le,["type"]);t.facet(Se,Pe)})},r.prototype.createGeometry=function(t){var n=t.type,i=t.cfg;if(this[n]){var c=this[n](void 0===i?{}:i);(0,S.S6)(t,function(f,d){(0,S.mf)(c[d])&&c[d](f)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(ng);function Wo(e,r){Z_.prototype[e.toLowerCase()]=function(t){void 0===t&&(t={});var n=(0,E.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(n);return this.geometries.push(i),i}}var t5=function(e){function r(t){var n=this,i=t.container,l=t.width,c=t.height,f=t.autoFit,d=void 0!==f&&f,p=t.padding,m=t.appendPadding,x=t.renderer,_=void 0===x?"canvas":x,T=t.pixelRatio,b=t.localRefresh,I=void 0===b||b,F=t.visible,B=void 0===F||F,Y=t.supportCSSTransform,G=void 0!==Y&&Y,H=t.defaultInteractions,et=void 0===H?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:H,wt=t.options,Ot=t.limitInPlot,$t=t.theme,ge=t.syncViewPadding,le=(0,S.HD)(i)?document.getElementById(i):i,Se=Us('<div style="position:relative;"></div>');le.appendChild(Se);var Pe=x2(le,d,l,c),or=function g2(e){var r=p2[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}(_),cr=new or.Canvas((0,E.pi)({container:Se,pixelRatio:T,localRefresh:I,supportCSSTransform:G},Pe));return(n=e.call(this,{parent:null,canvas:cr,backgroundGroup:cr.addGroup({zIndex:Ys.BG}),middleGroup:cr.addGroup({zIndex:Ys.MID}),foregroundGroup:cr.addGroup({zIndex:Ys.FORE}),padding:p,appendPadding:m,visible:B,options:wt,limitInPlot:Ot,theme:$t,syncViewPadding:ge})||this).onResize=(0,S.Ds)(function(){n.forceFit()},300),n.ele=le,n.canvas=cr,n.width=Pe.width,n.height=Pe.height,n.autoFit=d,n.localRefresh=I,n.renderer=_,n.wrapperElement=Se,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(et),n}return(0,E.ZT)(r,e),r.prototype.initDefaultInteractions=function(t){var n=this;(0,S.S6)(t,function(i){n.interaction(i)})},r.prototype.aria=function(t){var n="aria-label";!1===t?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n||(this.emit(kr.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(kr.AFTER_CHANGE_SIZE)),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function lE(e){var r=e.parentNode;r&&r.removeChild(e)}(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=x2(this.ele,!0,this.width,this.height);this.changeSize(t.width,t.height)}},r.prototype.updateCanvasStyle=function(){ki(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Z_);const e5=t5;var Oc=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){(0,S.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}(),xu=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var n=this.view,i=this.getTooltipItems(t);if(!i.length)return void this.hideTooltip();var l=this.getTitle(i),c={x:i[0].x,y:i[0].y};n.emit("tooltip:show",en.fromData(n,"tooltip:show",(0,E.pi)({items:i,title:l},t)));var f=this.getTooltipCfg(),d=f.follow,p=f.showMarkers,m=f.showCrosshairs,x=f.showContent,_=f.marker,T=this.items;if((0,S.Xy)(this.title,l)&&(0,S.Xy)(T,i)?(this.tooltip&&d&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(n.emit("tooltip:change",en.fromData(n,"tooltip:change",(0,E.pi)({items:i,title:l},t))),((0,S.mf)(x)?x(i):x)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,S.CD)({},f,{items:this.getItemsAfterProcess(i),title:l},d?t:{})),this.tooltip.show()),p&&this.renderTooltipMarkers(i,_)),this.items=i,this.title=l,m){var I=(0,S.U2)(f,["crosshairs","follow"],!1);this.renderCrosshairs(I?t:c,f)}}},r.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,l=this.yCrosshair;i&&i.hide(),l&&l.hide();var c=this.tooltip;c&&c.hide(),this.view.emit("tooltip:hide",en.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,i=t.xCrosshair,l=t.yCrosshair,c=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),l&&l.clear(),c&&c.clear(),n?.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,i=n.tooltip,l=n.tooltipMarkersGroup,c=n.xCrosshair,f=n.yCrosshair;t?(i&&i.show(),l&&l.show(),c&&c.show(),f&&f.show()):(i&&i.hide(),l&&l.hide(),c&&c.hide(),f&&f.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,i,l,c,f,d,p=this.findItemsFromView(this.view,t);if(p.length){p=(0,S.xH)(p);try{for(var m=(0,E.XA)(p),x=m.next();!x.done;x=m.next()){var _=x.value;try{for(var T=(l=void 0,(0,E.XA)(_)),b=T.next();!b.done;b=T.next()){var I=b.value,F=I.mappingData,B=F.x,Y=F.y;I.x=(0,S.kJ)(B)?B[B.length-1]:B,I.y=(0,S.kJ)(Y)?Y[Y.length-1]:Y}}catch(le){l={error:le}}finally{try{b&&!b.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}}}catch(le){n={error:le}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}if(!1===this.getTooltipCfg().shared&&p.length>1){var H=p[0],et=Math.abs(t.y-H[0].y);try{for(var wt=(0,E.XA)(p),Ot=wt.next();!Ot.done;Ot=wt.next()){var $t=Ot.value,ge=Math.abs(t.y-$t[0].y);ge<=et&&(H=$t,et=ge)}}catch(le){f={error:le}}finally{try{Ot&&!Ot.done&&(d=wt.return)&&d.call(wt)}finally{if(f)throw f.error}}p=[H]}return function el(e){for(var r=[],t=function(i){var l=e[i];(0,S.sE)(r,function(f){return f.color===l.color&&f.name===l.name&&f.value===l.value&&f.title===l.title})||r.push(l)},n=0;n<e.length;n++)t(n);return r}((0,S.xH)(p))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var l=n.getBoundingClientRect();return new Xi(l.x,l.y,l.width,l.height).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,i=this.processCustomContent(n),l=t.getTheme(),c=(0,S.U2)(l,["components","tooltip"],{}),f=(0,S.U2)(i,"enterable",c.enterable);return(0,S.b$)({},c,i,{capture:!(!f&&!this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,S.jn)(t)||!(0,S.U2)(t,"customContent"))return t;var n=t.customContent;return(0,E.pi)((0,E.pi)({},t),{customContent:function(l,c){var f=n(l,c)||"";return(0,S.HD)(f)?'<div class="g2-tooltip">'+f+"</div>":f}})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),l=new ff((0,E.pi)((0,E.pi)({parent:t.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));l.init(),this.tooltip=l},r.prototype.renderTooltipMarkers=function(t,n){var i,l,c=this.getTooltipMarkersGroup(),f=this.view.getRootView(),d=f.limitInPlot;try{for(var p=(0,E.XA)(t),m=p.next();!m.done;m=p.next()){var x=m.value,_=x.x,T=x.y;if(d||c?.getClip()){var b=Uy(f.getCoordinate());c?.setClip({type:b.type,attrs:b.attrs})}else c?.setClip(void 0);var B=this.view.getTheme(),Y=(0,S.U2)(B,["components","tooltip","marker"],{}),G=(0,E.pi)((0,E.pi)({fill:x.color,symbol:"circle",shadowColor:x.color},(0,S.mf)(n)?(0,E.pi)((0,E.pi)({},Y),n(x)):n),{x:_,y:T});c.addShape("marker",{attrs:G})}}catch(H){i={error:H}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(i)throw i.error}}},r.prototype.renderCrosshairs=function(t,n){var i=(0,S.U2)(n,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):"xy"===i&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var l,c,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect)i.isTransposed?(l={x:i.start.x,y:t.y},c={x:i.end.x,y:t.y}):(l={x:t.x,y:i.end.y},c={x:t.x,y:i.start.y});else{var f=Tc(i,t),d=i.getCenter(),p=i.getRadius();c=$n(d.x,d.y,p,f),l=d}var m=(0,S.b$)({start:l,end:c,container:this.getTooltipCrosshairsGroup()},(0,S.U2)(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete m.type;var x=this.xCrosshair;x?x.update(m):(x=new Xw(m)).init(),x.render(),x.show(),this.xCrosshair=x},r.prototype.renderYCrosshairs=function(t,n){var l,c,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect){var f=void 0,d=void 0;i.isTransposed?(f={x:t.x,y:i.end.y},d={x:t.x,y:i.start.y}):(f={x:i.start.x,y:t.y},d={x:i.end.x,y:t.y}),l={start:f,end:d},c="Line"}else l={center:i.getCenter(),radius:Vd(i,t),startAngle:i.startAngle,endAngle:i.endAngle},c="Circle";delete(l=(0,S.b$)({container:this.getTooltipCrosshairsGroup()},l,(0,S.U2)(n,"crosshairs",{}),this.getCrosshairsText("y",t,n))).type;var p=this.yCrosshair;p?i.isRect&&"circle"===p.get("type")||!i.isRect&&"line"===p.get("type")?(p=new Mt[c](l)).init():p.update(l):(p=new Mt[c](l)).init(),p.render(),p.show(),this.yCrosshair=p},r.prototype.getCrosshairsText=function(t,n,i){var l=(0,S.U2)(i,["crosshairs","text"]),c=(0,S.U2)(i,["crosshairs","follow"]),f=this.items;if(l){var d=this.getViewWithGeometry(this.view),p=f[0],m=d.getXScale(),x=d.getYScales()[0],_=void 0,T=void 0;if(c){var b=this.view.getCoordinate().invert(n);_=m.invert(b.x),T=x.invert(b.y)}else _=p.data[m.field],T=p.data[x.field];var I="x"===t?_:T;return(0,S.mf)(l)?l=l(t,I,f,n):l.content=I,{text:l}}},r.prototype.getGuideGroup=function(){return this.guideGroup||(this.guideGroup=this.view.foregroundGroup.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var i,l;if(!1===t.getOptions().tooltip)return[];var f=um(t,n,this.getTooltipCfg());try{for(var d=(0,E.XA)(t.views),p=d.next();!p.done;p=d.next())f=f.concat(this.findItemsFromView(p.value,n))}catch(x){i={error:x}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(i)throw i.error}}return f},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:(0,S.sE)(t.views,function(i){return n.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(l){return l})(t)},r}(Oc);const q_=xu;var K_={};function Q_(e){return K_[e.toLowerCase()]}function hi(e,r){K_[e.toLowerCase()]=r}var rl={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},mf={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},J_={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){return{animation:e.isRect?e.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function fm(e,r,t){var n=mf[e];return n&&((0,S.mf)(n)&&(n=n(r)),n=(0,S.b$)({},rl,n),t)?n[t]:n}function nl(e,r,t){var n=(0,S.U2)(e.get("origin"),"data",pn),i=r.animation,l=function r5(e,r){return{delay:(0,S.mf)(e.delay)?e.delay(r):e.delay,easing:(0,S.mf)(e.easing)?e.easing(r):e.easing,duration:(0,S.mf)(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}(r,n);if(i){var c=Q_(i);c&&c(e,l,t)}else e.animate(t.toAttrs,l)}var vm="element-background",n5=function(e){function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var l=t.container,c=t.offscreenGroup,f=t.elementIndex,d=t.visible,p=void 0===d||d;return n.shapeFactory=t.shapeFactory,n.container=l,n.offscreenGroup=c,n.visible=p,n.elementIndex=f,n}return(0,E.ZT)(r,e),r.prototype.draw=function(t,n){void 0===n&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var i=this.shapeFactory,l=this.shape;if(l){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(l,t);var c=this.getOffscreenGroup(),f=i.drawShape(this.shapeType,t,c);f.cfg.data=this.data,f.cfg.origin=t,f.cfg.element=this,this.syncShapeStyle(l,f,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var n=this.shapeFactory,i=this.shape;if(i){var l=this.getAnimateCfg("leave");l?nl(i,l,{coordinate:n.coordinate,toAttrs:(0,E.pi)({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var i=this,l=i.states,c=i.shapeFactory,f=i.model,d=i.shape,p=i.shapeType,m=l.indexOf(t);if(n){if(m>-1)return;l.push(t),("active"===t||"selected"===t)&&d?.toFront()}else{if(-1===m)return;if(l.splice(m,1),"active"===t||"selected"===t){var x=this.geometry,b=x.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;x.sortZIndex?d.setZIndex(b):d.set("zIndex",b)}}var I=c.drawShape(p,f,this.getOffscreenGroup());this.syncShapeStyle(d,I,l.length?l:["reset"],null),I.remove(!0);var F={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",F),Rw(this.shape,"statechange",F)},r.prototype.clearStates=function(){var t=this;(0,S.S6)(this.states,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var n=this.shape,i=this.labelShape,l={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(l=n.getCanvasBBox()),i&&i.forEach(function(c){var f=c.getCanvasBBox();l.x=Math.min(f.x,l.x),l.y=Math.min(f.y,l.y),l.minX=Math.min(f.minX,l.minX),l.minY=Math.min(f.minY,l.minY),l.maxX=Math.max(f.maxX,l.maxX),l.maxY=Math.max(f.maxY,l.maxY)}),l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,l=t.shapeFactory;this.statesStyle=(0,S.b$)({},l.theme[t.shapeType]||l.theme[l.defaultShapeType],t.geometry.stateOption)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var i=this.getStatesStyle(),l=(0,S.U2)(i,[t,"style"],{}),c=l[n]||l;return(0,S.mf)(c)?c(this):c},r.prototype.getAnimateCfg=function(t){var n=this,i=this.animate;if(i){var l=i[t];return l&&(0,E.pi)((0,E.pi)({},l),{callback:function(){var c;(0,S.mf)(l.callback)&&l.callback(),null===(c=n.geometry)||void 0===c||c.emit(as.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var i;void 0===n&&(n=!1);var l=this,c=l.shapeFactory;if(this.shape=c.drawShape(l.shapeType,t,l.container),this.shape){this.setShapeInfo(this.shape,t);var p=this.shape.cfg.name;p?(0,S.HD)(p)&&(this.shape.cfg.name=["element",p]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var x=this.getAnimateCfg(n?"enter":"appear");x&&(null===(i=this.geometry)||void 0===i||i.emit(as.BEFORE_DRAW_ANIMATE),nl(this.shape,x,{coordinate:c.coordinate,toAttrs:(0,E.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var i=this;t.cfg.origin=n,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(c){i.setShapeInfo(c,n)})},r.prototype.syncShapeStyle=function(t,n,i,l,c){var d,f=this;if(void 0===i&&(i=[]),void 0===c&&(c=0),t&&n){var p=t.get("clipShape"),m=n.get("clipShape");if(this.syncShapeStyle(p,m,i,l),t.isGroup())for(var x=t.get("children"),_=n.get("children"),T=0;T<x.length;T++)this.syncShapeStyle(x[T],_[T],i,l,c+T);else{if(!(0,S.xb)(i)&&!(0,S.Xy)(i,["reset"])){var b=t.get("name");(0,S.kJ)(b)&&(b=b[1]),(0,S.S6)(i,function(F){if(n.get("name")!==vm){var B=f.getStateStyle(F,b||c);n.attr(B)}})}var I=Wy(t,n);this.animate?l?(null===(d=this.geometry)||void 0===d||d.emit(as.BEFORE_DRAW_ANIMATE),nl(t,l,{coordinate:this.shapeFactory.coordinate,toAttrs:I,shapeModel:this.model})):(0,S.xb)(i)?t.attr(I):(t.stopAnimate(),t.animate(I,{duration:300})):t.attr(I)}}},r.prototype.getShapeType=function(t){var n=(0,S.U2)(t,"shape");return(0,S.kJ)(n)?n[0]:n},r}(ng);const j_=n5;var tS={},eS={};function xf(e,r){tS[e.toLowerCase()]=r}function fa(e,r){eS[e.toLowerCase()]=r}var o5={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return(0,S.U2)(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);t.getMarker||(t=this.getShape(this.defaultShapeType));var l=(0,S.U2)(this.theme,[e,"default"],{}),c=t.getMarker(r);return(0,S.b$)({},l,c)},drawShape:function(e,r,t){return this.getShape(e).draw(r,t)}},s5={coordinate:null,parsePath:function(e){var r=this.coordinate,t=(0,Io.tr)(e);return t=r.isPolar?function Jy(e,r){var n,i,t=[];return(0,S.S6)(r,function(f,d){switch(f[0].toLowerCase()){case"m":case"c":case"q":t.push(qy(f,e));break;case"l":n=r[d-1],i=f,(e.isTransposed?n[n.length-2]===i[1]:n[n.length-1]===i[2])?t=t.concat(function wL(e,r,t){var n=t.isTransposed,i=t.startAngle,l=t.endAngle,c="a"===e[0].toLowerCase()?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},f={x:r[1],y:r[2]},d=[],p=n?"y":"x",m=Math.abs(f[p]-c[p])*(l-i),x=f[p]>=c[p]?1:0,_=m>Math.PI?1:0,T=t.convert(f),b=Vd(t,T);if(b>=.5)if(m===2*Math.PI){var F=t.convert({x:(f.x+c.x)/2,y:(f.y+c.y)/2});d.push(["A",b,b,0,_,x,F.x,F.y]),d.push(["A",b,b,0,_,x,T.x,T.y])}else d.push(["A",b,b,0,_,x,T.x,T.y]);return d}(n,i,e)):t.push(qy(f,e));break;case"a":t.push(Ky(f,e));break;default:t.push(f)}}),function w_(e){(0,S.S6)(e,function(r,t){if("a"===r[0].toLowerCase()){var i=e[t-1],l=e[t+1];l&&"a"===l[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&l&&"l"===l[0].toLowerCase()&&(l[0]="M")}})}(t),t}(r,t):function _L(e,r){var t=[];return(0,S.S6)(r,function(n){switch(n[0].toLowerCase()){case"m":case"l":case"c":t.push(qy(n,e));break;case"a":t.push(Ky(n,e));break;default:t.push(n)}}),t}(r,t),t},parsePoint:function(e){return this.coordinate.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},dm={};function il(e,r){var t=(0,S.jC)(e),n=(0,E.pi)((0,E.pi)((0,E.pi)({},o5),r),{geometryType:e});return dm[t]=n,n}function rn(e,r,t){var n=(0,S.jC)(e),i=dm[n],l=(0,E.pi)((0,E.pi)({},s5),t);return i[r]=l,l}function ep(e){var r=(0,S.jC)(e);return dm[r]}function rS(e,r){return(0,S.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,S.Xy)(e[t],r[t])})}function Cf(e){return(0,S.kJ)(e)?e:e.split("*")}function nS(e,r){for(var t=[],n=[],i=[],l=new Map,c=0;c<r.length;c++){var f=r[c];e[f]?n.push(f):t.push(f),l.set(f,!0)}return Object.keys(e).forEach(function(d){l.has(d)||i.push(d)}),{added:t,updated:n,removed:i}}var u5=function(e){function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var l=t.labelsContainer,c=t.coordinate,f=t.data,d=t.sortable,p=void 0!==d&&d,m=t.visible,x=void 0===m||m,_=t.theme,T=t.scales,b=void 0===T?{}:T,I=t.scaleDefs,F=void 0===I?{}:I,B=t.intervalPadding,Y=t.dodgePadding,G=t.maxColumnWidth,H=t.minColumnWidth,et=t.columnWidthRatio,wt=t.roseWidthRatio,Ot=t.multiplePieWidthRatio,$t=t.zIndexReversed,ge=t.sortZIndex,le=t.useDeferredLabel;return n.container=t.container,n.labelsContainer=l,n.coordinate=c,n.data=f,n.sortable=p,n.visible=x,n.userTheme=_,n.scales=b,n.scaleDefs=F,n.intervalPadding=B,n.dodgePadding=Y,n.maxColumnWidth=G,n.minColumnWidth=H,n.columnWidthRatio=et,n.roseWidthRatio=wt,n.multiplePieWidthRatio=Ot,n.zIndexReversed=$t,n.sortZIndex=ge,n.useDeferredLabel=le?"number"==typeof le?le:1/0:null,n}return(0,E.ZT)(r,e),r.prototype.position=function(t){var n=t;(0,S.PO)(t)||(n={fields:Cf(t)});var i=(0,S.U2)(n,"fields");return 1===i.length&&(i.unshift("1"),(0,S.t8)(n,"fields",i)),(0,S.t8)(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return((0,S.HD)(t)||(0,S.PO)(t))&&(n=[t]),(0,S.S6)(n,function(i,l){(0,S.Kn)(i)||(n[l]={type:i})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if((0,S.HD)(t)){var i=Cf(t);this.styleOption={fields:i,callback:n}}else this.styleOption=(i=t.fields)||t.callback||t.cfg?t:{cfg:t};return this},r.prototype.tooltip=function(t,n){if((0,S.HD)(t)){var i=Cf(t);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,i){if((0,S.HD)(t)){var l={},c=Cf(t);l.fields=c,(0,S.mf)(n)?l.callback=n:(0,S.PO)(n)&&(l.cfg=n),i&&(l.cfg=i),this.labelOption=l}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){void 0===t&&(t={});var n=t.data,i=t.isDataChanged,l=t.isCoordinateChanged;(0,S.Xy)(this.attributeOption,this.lastAttributeOption)?!n||!i&&(0,S.Xy)(n,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(n)):this.init(t),this.adjustScale(),this.isCoordinateChanged=l},r.prototype.paint=function(t){var n=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,S.b$)({},fm(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var c=this.beforeMapping(this.beforeMappingData);this.dataArray=new Array(c.length);for(var f=0;f<c.length;f++)this.dataArray[f]=this.mapping(c[f]);if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var p=this.container,m=this.type,x=this.coordinate,_=(0,S.U2)(this.animateOption,"appear"),T=this.getYScale(),b=x.convert({x:0,y:T.scale(this.getYMinValue())});!function tp(e,r,t,n,i){if(J_[t]){var l=J_[t](n),c=Q_((0,S.U2)(l,"animation",""));if(c){var f=(0,E.pi)((0,E.pi)((0,E.pi)({},rl.appear),l),r);e.stopAnimate(),c(e,f,{coordinate:n,minYPoint:i,toAttrs:null})}}}(p,_,m,x,b)}if(this.labelOption){var I=this.useDeferredLabel,F=function(){return n.renderLabels((0,S.xH)(n.dataArray),t)}.bind(this);if("number"==typeof I){var B="number"==typeof I&&I!==1/0?I:0;window.requestIdleCallback?window.requestIdleCallback(F,B&&B!==1/0?{timeout:B}:void 0):setTimeout(F,B)}else F()}this.lastAttributeOption=(0,E.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,i=t.geometryLabel,l=t.offscreenGroup;n&&n.clear(),i&&i.clear(),l&&l.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,S.S6)(this.attributes,function(n){Zu.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,i=this.getAttribute(t);return i&&(0,S.xb)(i.scales)&&(n=i.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var i=[],l=t.scales,c=0,f=l.length;c<f;c++){var d=l[c];i.push(d.isIdentity?d.values:n[d.field])}return t.mapping.apply(t,(0,E.ev)([],(0,E.CR)(i),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){return this.getShapeFactory().getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){var n=(t=(0,S.kJ)(t)?t[0]:t)[pn];if(this.idFields.length){for(var i=n[this.idFields[0]],l=1;l<this.idFields.length;l++)i+="-"+n[this.idFields[l]];return i}var _,T,c=this.type,f=this.getXScale(),x=n[this.getYScale().field||"y"];_="identity"===f.type?f.values[0]:n[f.field||"x"],T="interval"===c||"schema"===c?"".concat(_):"line"===c||"area"===c||"path"===c?c:"".concat(_,"-").concat(x);for(var b=this.groupScales,I=(l=0,b.length);l<I;l++){var B=b[l].field;T="".concat(T,"-").concat(n[B])}var Y=this.getAdjust("dodge");if(Y){var G=Y.dodgeBy;G&&(T="".concat(T,"-").concat(n[G]))}return this.getAdjust("jitter")&&(T="".concat(T,"-").concat(t.x,"-").concat(t.y)),T},r.prototype.getScaleFields=function(){var t=[],n=new Map,i=this,l=i.attributeOption,c=i.labelOption,f=i.tooltipOption;for(var d in l)if(l.hasOwnProperty(d)){var p=l[d];p.fields?js(p.fields,t,n):p.values&&js(p.values,t,n)}return c&&c.fields&&js(c.fields,t,n),(0,S.Kn)(f)&&f.fields&&js(f.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,i=0,l=n.length;i<l;i++)n[i].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){(i?.fields||[]).forEach(function(c){t.has(c)||n.push(c),t.set(c,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,i=0,l=Zu.length;i<l;i++){var f=this.attributeOption[Zu[i]];f&&f.fields&&js(f.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=(0,E.CR)(this.attributeOption.position.fields,2);return[t[0],t[1]]},r.prototype.getXField=function(){return(0,S.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,S.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,l=0;l<t.length;l++)t[l].sort(function(f,d){return n.translate(f[pn][i])-n.translate(d[pn][i])});this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(ep(t))return this.shapeFactory||(this.shapeFactory=(0,S.d9)(ep(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[n.field],n),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,i){void 0===i&&(i=!1);var l=this.container,c=this.getDrawCfg(t),f=this.getShapeFactory(),d=new j_({shapeFactory:f,container:l,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return d.animate=this.animateOption,d.geometry=this,d.draw(c,i),d},r.prototype.getDrawCfg=function(t){var n=t[pn],i={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},l=t.shape;!l&&this.getShapeFactory()&&(l=this.getShapeFactory().defaultShapeType),i.shape=l;var c=this.theme.geometries[this.shapeType];i.defaultStyle=(0,S.U2)(c,[l,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(c));var f=this.styleOption;return f&&(i.style=this.getStyleCfg(f,n)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.updateElements=function(t,n){var i,l,c,f,d,p;void 0===n&&(n=!1);for(var m=new Map,x=[],_=new Map,T=0,b=0;b<t.length;b++)for(var I=t[b],F=0;F<I.length;F++){var Y=this.getElementId(B=I[F]),G=m.has(Y)?"".concat(Y,"-").concat(b,"-").concat(F):Y;x.push(G),m.set(G,B),_.set(G,T),T++}this.elements=new Array(T);var H=nS(this.lastElementsMap,x),et=H.added,wt=H.updated,Ot=H.removed;try{for(var $t=(0,E.XA)(et),ge=$t.next();!ge.done;ge=$t.next()){var B=m.get(Y=ge.value),le=(b=_.get(Y),this.createElement(B,b,n));this.elements[b]=le,this.elementsMap[Y]=le,le.shape&&le.shape.set("zIndex",this.zIndexReversed?this.elements.length-b:b)}}catch(We){i={error:We}}finally{try{ge&&!ge.done&&(l=$t.return)&&l.call($t)}finally{if(i)throw i.error}}try{for(var Se=(0,E.XA)(wt),Pe=Se.next();!Pe.done;Pe=Se.next()){le=this.lastElementsMap[Y=Pe.value],B=m.get(Y);var or=this.getDrawCfg(B),cr=le.getModel();b=_.get(Y),(this.isCoordinateChanged||rS(or,cr))&&(le.animate=this.animateOption,le.update(or)),this.elements[b]=le,this.elementsMap[Y]=le,le.shape&&le.shape.set("zIndex",this.zIndexReversed?this.elements.length-b:b)}}catch(We){c={error:We}}finally{try{Pe&&!Pe.done&&(f=Se.return)&&f.call(Se)}finally{if(c)throw c.error}}this.container&&this.container.sort();try{for(var Rr=(0,E.XA)(Ot),Ie=Rr.next();!Ie.done;Ie=Rr.next())(le=this.lastElementsMap[Y=Ie.value]).animate=this.animateOption,le.destroy()}catch(We){d={error:We}}finally{try{Ie&&!Ie.done&&(p=Rr.return)&&p.call(Rr)}finally{if(d)throw d.error}}},r.prototype.getLabelType=function(){var t=this,i=t.coordinate,l=t.type,c=i.type,f=i.isTransposed,d=(0,S.U2)(t.labelOption,["cfg","type"]);return d||(d="polar"===c?f?"pie":"polar":"theta"===c?"pie":"interval"===l||"polygon"===l?"interval":"base"),d},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,i=t.max;return n>=0?n:i<=0?i:0},r.prototype.createAttrOption=function(t,n,i){if((0,S.UM)(n)||(0,S.Kn)(n))(0,S.Kn)(n)&&(0,S.Xy)(Object.keys(n),["values"])?(0,S.t8)(this.attributeOption,t,{fields:n.values}):(0,S.t8)(this.attributeOption,t,n);else{var l={};(0,S.hj)(n)?l.values=[n]:l.fields=Cf(n),i&&((0,S.mf)(i)?l.callback=i:l.values=i),(0,S.t8)(this.attributeOption,t,l)}},r.prototype.initAttributes=function(){var t=this,n=this,i=n.attributes,l=n.attributeOption,c=n.theme,f=n.shapeType;this.groupScales=[];var d={},p=function(_){if(l.hasOwnProperty(_)){var T=l[_];if(!T)return{value:void 0};var b=(0,E.pi)({},T),I=b.callback,F=b.values,B=b.fields,G=(void 0===B?[]:B).map(function(et){var wt=t.scales[et];return!d[et]&&Zu.includes(_)&&"cat"===$d(wt,(0,S.U2)(t.scaleDefs,et),_,t.type)&&(t.groupScales.push(wt),d[et]=!0),wt});b.scales=G,"position"!==_&&1===G.length&&"identity"===G[0].type?b.values=G[0].values:!I&&!F&&("size"===_?b.values=c.sizes:"shape"===_?b.values=c.shapes[f]||[]:"color"===_&&(b.values=G.length?G[0].values.length<=10?c.colors10:c.colors20:c.colors10));var H=YC(_);i[_]=new H(b)}};for(var m in l){var x=p(m);if("object"==typeof x)return x.value}},r.prototype.processData=function(t){var n,i;this.hasSorted=!1;for(var c=this.getAttribute("position").scales.filter(function(Ot){return Ot.isCategory}),f=this.groupData(t),d=[],p=0,m=f.length;p<m;p++){for(var x=f[p],_=[],T=0,b=x.length;T<b;T++){var I=x[T],F={};for(var B in I)F[B]=I[B];F[pn]=I;try{for(var Y=(n=void 0,(0,E.XA)(c)),G=Y.next();!G.done;G=Y.next()){var H=G.value,et=H.field;F[et]=H.translate(F[et])}}catch(Ot){n={error:Ot}}finally{try{G&&!G.done&&(i=Y.return)&&i.call(Y)}finally{if(n)throw n.error}}_.push(F)}d.push(_)}var wt=this.adjustData(d);return this.beforeMappingData=wt,wt},r.prototype.adjustData=function(t){var n=this.adjustOption,i=this,l=i.intervalPadding,c=i.dodgePadding,f=i.theme,d=this.maxColumnWidth||f.maxColumnWidth,p=this.minColumnWidth||f.minColumnWidth,m=this.columnWidthRatio||f.columnWidthRatio,x=t;if(n){var _=this.getXScale(),T=this.getYScale(),b=_.field,I=T?T.field:null,F=Sc(this.coordinate),B=_.values.length,Y=this.getAttribute("size"),G=void 0;Y&&(G=Y.values[0]);for(var H=0,et=n.length;H<et;H++){var wt=n[H],Ot=(0,E.pi)({xField:b,yField:I,intervalPadding:l,dodgePadding:c,xDimensionLength:F,groupNum:B,defaultSize:G,maxColumnWidth:d,minColumnWidth:p,columnWidthRatio:m},wt),$t=wt.type;if("dodge"===$t){var ge=[];if(_.isCategory||"identity"===_.type)ge.push("x");else{if(T)throw new Error("dodge is not support linear attribute, please use category attribute!");ge.push("y")}Ot.adjustNames=ge,Ot.dodgeRatio=m}else if("stack"===$t){var le=this.coordinate;if(!T){Ot.height=le.getHeight();var Se=this.getDefaultValue("size")||3;Ot.size=Se}!le.isTransposed&&(0,S.UM)(Ot.reverseOrder)&&(Ot.reverseOrder=!0)}var Pe=aC($t);Ot.dimValuesMap={},_&&_.values&&(Ot.dimValuesMap[_.field]=_.values.map(function(cr){return _.translate(cr)}));var or=new Pe(Ot);x=or.process(x),this.adjusts[$t]=or}}return x},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),i=this.scaleDefs,l={},c=[],f=0;f<n.length;f++){var p=n[f].field;c.push(p),(0,S.U2)(i,[p,"values"])&&(l[p]=i[p].values)}return function l5(e,r,t){var n,i;if(void 0===t&&(t={}),!r)return[e];var l=(0,S.Ms)(e,r),c=[];if(1===r.length&&t[r[0]]){var f=t[r[0]];try{for(var d=(0,E.XA)(f),p=d.next();!p.done;p=d.next()){var x=l["_".concat(p.value)];x&&c.push(x)}}catch(b){n={error:b}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}else for(var _ in l)l.hasOwnProperty(_)&&c.push(l[_]);return c}(t,c,l)},r.prototype.updateStackRange=function(t,n){for(var i=(0,S.xH)(n),l=t.field,c=t.min,f=t.max,d=0;d<i.length;d++){var p=i[d],m=Math.min.apply(null,p[l]),x=Math.max.apply(null,p[l]);m<c&&(c=m),x>f&&(f=x)}var _=this.scaleDefs,T={};c<t.min&&!(0,S.U2)(_,[l,"min"])&&(T.min=c),f>t.max&&!(0,S.U2)(_,[l,"max"])&&(T.max=f),t.change(T)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,l=n.length;i<l;i++){var c=n[i];this.generateShapePoints(c);var f=n[i+1];f&&(this.generateShapePoints(f),c[0].nextPoints=f[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),l=0;l<t.length;l++){var c=t[l],f=this.createShapePointsCfg(c),d=i?this.getAttributeValues(i,c):null,p=n.getShapePoints(d,f);c.points=p}},r.prototype.normalizeValues=function(t,n){var i=[];if((0,S.kJ)(t))for(var l=0;l<t.length;l++)i.push(n.scale(t[l]));else i=n.scale(t);return i},r.prototype.mapping=function(t){for(var n=this.attributes,i=[],l=0;l<t.length;l++){var c=t[l],f={_origin:c[pn],points:c.points,nextPoints:c.nextPoints};for(var d in n)if(n.hasOwnProperty(d)){var p=n[d],m=p.names,x=this.getAttributeValues(p,c);if(m.length>1)for(var _=0;_<x.length;_+=1){var T=x[_];f[m[_]]=(0,S.kJ)(T)&&1===T.length?T[0]:T}else f[m[0]]=1===x.length?x[0]:x}this.convertPoint(f),i.push(f)}return i},r.prototype.convertPoint=function(t){var l,c,f,n=t.x,i=t.y,d=this.coordinate;if((0,S.kJ)(n)&&(0,S.kJ)(i)){l=[],c=[];for(var p=0,m=0,x=n.length,_=i.length;p<x&&m<_;p+=1,m+=1)f=d.convert({x:n[p],y:i[m]}),l.push(f.x),c.push(f.y)}else if((0,S.kJ)(i)){c=[];for(var T=0;T<i.length;T++)f=d.convert({x:n,y:i[T]}),l&&l!==f.x?((0,S.kJ)(l)||(l=[l]),l.push(f.x)):l=f.x,c.push(f.y)}else if((0,S.kJ)(n))for(l=[],T=0;T<n.length;T++)f=d.convert({x:n[T],y:i}),c&&c!==f.y?((0,S.kJ)(c)||(c=[c]),c.push(f.y)):c=f.y,l.push(f.x);else{var F=d.convert({x:n,y:i});l=F.x,c=F.y}t.x=l,t.y=c},r.prototype.getStyleCfg=function(t,n){var i=t.fields,c=t.callback,f=t.cfg;if(f)return f;var d=(void 0===i?[]:i).map(function(p){return n[p]});return c.apply(void 0,(0,E.ev)([],(0,E.CR)(d),!1))},r.prototype.setCfg=function(t){var n=this,i=t.coordinate,l=t.data,c=t.theme,f=t.scaleDefs;i&&(this.coordinate=i),l&&(this.data=l),f&&(this.scaleDefs=f,this.idFields=[],(0,S.S6)(f,function(d,p){d&&d.key&&n.idFields.push(p)})),c&&(this.theme=this.userTheme?(0,S.b$)({},c,this.userTheme):c)},r.prototype.renderLabels=function(t,n){return void 0===n&&(n=!1),(0,E.mG)(this,void 0,void 0,function(){var i,l,c,f,d,p,m,x,b,I,F=this;return(0,E.Jh)(this,function(B){switch(B.label){case 0:return i=this.geometryLabel,this.emit(as.BEFORE_RENDER_LABEL),i||(l=this.getLabelType(),c=function i5(e){return tS[e.toLowerCase()]}(l),i=new c(this),this.geometryLabel=i),[4,i.render(t,n)];case 1:B.sent(),f=i.labelsRenderer.shapesMap,d=new Map,(0,S.S6)(f,function(Y,G){for(var H=Y.getChildren()||[],et=0;et<H.length;et++){var wt=H[et],Ot=F.elementsMap[wt.get("elementId")||G.split(" ")[0]];if(Ot){wt.cfg.name=["element","label"],wt.cfg.element=Ot;var $t=d.get(Ot)||new Set;$t.add(Y),d.set(Ot,$t)}}});try{for(p=(0,E.XA)(d.entries()),m=p.next();!m.done;m=p.next())(x=(0,E.CR)(m.value,2))[0].labelShape=(0,E.ev)([],(0,E.CR)(x[1]),!1)}catch(Y){b={error:Y}}finally{try{m&&!m.done&&(I=p.return)&&I.call(p)}finally{if(b)throw b.error}}return this.emit(as.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,S.U2)(this.animateOption,"appear")||(0,S.U2)(this.animateOption,"appear")&&void 0===(0,S.U2)(this.animateOption,["appear","animation"]))},r}(ng);const al=u5;var wf=Zr.vs;function Rc(e,r,t){var n=wf(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function pm(e,r){var t=function rp(e,r){var t=e.attr(),n=t.x,i=t.y;return wf(e.getMatrix(),[["t",-n,-i],["r",r],["t",n,i]])}(e,r);e.setMatrix(t)}function Va(e){return e.find(function(r){return"text"===r.get("type")})}function iS(e,r,t){void 0===t&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var i=n.clone();r?.rotate&&pm(i,-r.rotate);var l=i.getCanvasBBox(),c=l.x,f=l.y,d=l.width,p=l.height;i.destroy();var m=t;return(0,S.UM)(m)?m=[2,2,2,2]:(0,S.hj)(m)&&(m=new Array(4).fill(m)),{x:c-m[3],y:f-m[0],width:d+m[1]+m[3],height:p+m[0]+m[2],rotation:r?.rotate||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function gm(e,r){var t=e.getBBox();return(0,S.G)(r,function(n){var i=n.getBBox();return function f5(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(t,i,2)>0})}function ym(e,r,t){var n=t.data,i=t.origin,l=t.animateCfg,c=t.coordinate,f=(0,S.U2)(l,"update");e.set("data",n),e.set("origin",i),e.set("animateCfg",l),e.set("coordinate",c),e.set("visible",r.get("visible")),(e.getChildren()||[]).forEach(function(d,p){var m=r.getChildByIndex(p);if(m){d.set("data",n),d.set("origin",i),d.set("animateCfg",l),d.set("coordinate",c);var x=Wy(d,m);f?nl(d,f,{toAttrs:x,coordinate:c}):d.attr(x),m.isGroup()&&ym(d,m,t)}else e.removeChild(d),d.remove(!0)}),(0,S.S6)(r.getChildren(),function(d,p){p>=e.getCount()&&(d.destroyed||e.add(d))})}var mm=function(){function e(r){this.shapesMap={};var n=r.container;this.layout=r.layout,this.container=n}return e.prototype.render=function(r,t,n){return void 0===n&&(n=!1),(0,E.mG)(this,void 0,void 0,function(){var i,l,c,f,d,p,m,x,_=this;return(0,E.Jh)(this,function(T){switch(T.label){case 0:if(i={},l=this.createOffscreenGroup(),!r.length)return[3,2];try{for(c=(0,E.XA)(r),f=c.next();!f.done;f=c.next())(d=f.value)&&(i[d.id]=this.renderLabel(d,l))}catch(b){m={error:b}}finally{try{f&&!f.done&&(x=c.return)&&x.call(c)}finally{if(m)throw m.error}}return[4,this.doLayout(r,t,i)];case 1:T.sent(),this.renderLabelLine(r,i),this.renderLabelBackground(r,i),this.adjustLabel(r,i),T.label=2;case 2:return p=this.shapesMap,(0,S.S6)(i,function(b,I){if(b.destroyed)delete i[I];else{if(p[I]){var F=b.get("data"),B=b.get("origin"),Y=b.get("coordinate"),G=b.get("animateCfg"),H=p[I];ym(H,i[I],{data:F,origin:B,animateCfg:G,coordinate:Y}),i[I]=H}else{if(_.container.destroyed)return;_.container.add(b);var et=(0,S.U2)(b.get("animateCfg"),n?"enter":"appear");et&&nl(b,et,{toAttrs:(0,E.pi)({},b.attr()),coordinate:b.get("coordinate")})}delete p[I]}}),(0,S.S6)(p,function(b){var I=(0,S.U2)(b.get("animateCfg"),"leave");I?nl(b,I,{toAttrs:null,coordinate:b.get("coordinate")}):b.remove(!0)}),this.shapesMap=i,l.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var T,c=r.mappingData,f=r.coordinate,d=r.animate,p=r.content,x={id:r.id,elementId:r.elementId,capture:r.capture,data:r.data,origin:(0,E.pi)((0,E.pi)({},c),{data:c[pn]}),coordinate:f},_=t.addGroup((0,E.pi)({name:"label",animateCfg:!1!==this.animate&&null!==d&&!1!==d&&(0,S.b$)({},this.animate,d)},x));if(p.isGroup&&p.isGroup()||p.isShape&&p.isShape()){var b=p.getCanvasBBox(),I=b.width,F=b.height,B=(0,S.U2)(r,"textAlign","left"),Y=r.x;"center"===B?Y-=I/2:("right"===B||"end"===B)&&(Y-=I),Rc(p,Y,r.y-F/2),T=p,_.add(p)}else{var H=(0,S.U2)(r,["style","fill"]);T=_.addShape("text",(0,E.pi)({attrs:(0,E.pi)((0,E.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,S.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,S.Ft)(H)?r.color:H})},x))}return r.rotate&&pm(T,r.rotate),_},e.prototype.doLayout=function(r,t,n){return(0,E.mG)(this,void 0,void 0,function(){var i,l=this;return(0,E.Jh)(this,function(c){switch(c.label){case 0:return this.layout?(i=(0,S.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map(function(f){var d=function a5(e){return eS[e.toLowerCase()]}((0,S.U2)(f,"type",""));if(d){var p=[],m=[];return(0,S.S6)(n,function(x,_){p.push(x),m.push(t[x.get("elementId")])}),d(r,p,m,l.region,f.cfg)}}))]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){(0,S.S6)(r,function(n){var i=(0,S.U2)(n,"coordinate");if(n&&i){var l=i.getCenter(),c=i.getRadius();if(n.labelLine){var f=(0,S.U2)(n,"labelLine",{}),d=n.id,p=f.path;if(!p){var m=$n(l.x,l.y,c,n.angle);p=[["M",m.x,m.y],["L",n.x,n.y]]}var x=t[d];x.destroyed||x.addShape("path",{capture:!1,attrs:(0,E.pi)({path:p,stroke:n.color?n.color:(0,S.U2)(n,["style","fill"],"#000"),fill:null},f.style),id:d,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){(0,S.S6)(r,function(n){var i=(0,S.U2)(n,"coordinate"),l=(0,S.U2)(n,"background");if(l&&i){var c=n.id,f=t[c];if(!f.destroyed){var d=f.getChildren()[0];if(d){var p=iS(f,n,l.padding),m=p.rotation,x=(0,E._T)(p,["rotation"]),_=f.addShape("rect",{attrs:(0,E.pi)((0,E.pi)({},x),l.style||{}),id:c,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(_.setZIndex(-1),m){var T=d.getMatrix();_.setMatrix(T)}}}}})},e.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},e.prototype.adjustLabel=function(r,t){(0,S.S6)(r,function(n){if(n){var l=t[n.id];if(!l.destroyed){var c=l.findAll(function(f){return"path"!==f.get("type")});(0,S.S6)(c,function(f){f&&(n.offsetX&&f.attr("x",f.attr("x")+n.offsetX),n.offsetY&&f.attr("y",f.attr("y")+n.offsetY))})}}})},e}();const aS=mm;function xm(e){var r=0;return(0,S.S6)(e,function(t){r+=t}),r/e.length}var v5=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],i=this.getLabelCfgs(r);return(0,S.S6)(r,function(l,c){var f=i[c];if(!f||(0,S.UM)(l.x)||(0,S.UM)(l.y))n.push(null);else{var d=(0,S.kJ)(f.content)?f.content:[f.content];f.content=d;var p=d.length;(0,S.S6)(d,function(m,x){if((0,S.UM)(m)||""===m)n.push(null);else{var _=(0,E.pi)((0,E.pi)({},f),t.getLabelPoint(f,l,x));_.textAlign||(_.textAlign=t.getLabelAlign(_,x,p)),_.offset<=0&&(_.labelLine=null),n.push(_)}})}}),n},e.prototype.render=function(r,t){return void 0===t&&(t=!1),(0,E.mG)(this,void 0,void 0,function(){var n,i,l;return(0,E.Jh)(this,function(c){switch(c.label){case 0:return n=this.getLabelItems(r),i=this.getLabelsRenderer(),l=this.getGeometryShapes(),[4,i.render(n,l,t)];case 1:return c.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,i=n.type,l=n.theme;return"polygon"===i||"interval"===i&&"middle"===t||r<0&&!["line","point","path"].includes(i)?(0,S.U2)(l,"innerLabels",{}):(0,S.U2)(l,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),i=t.type,l=t.theme;return"polygon"===i||r.offset<0&&!["line","point","path"].includes(i)?(0,S.b$)({},n,l.innerLabels,r):(0,S.b$)({},n,l.labels,r)},e.prototype.setLabelPosition=function(r,t,n,i){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var i=r.offset,c=this.getCoordinate().isTransposed,d=c?1:-1,p={x:0,y:0};return p[c?"x":"y"]=t>0||1===n?i*d:i*d*-1,p},e.prototype.getLabelPoint=function(r,t,n){var i=this.getCoordinate(),l=r.content.length;function c(F,B,Y){void 0===Y&&(Y=!1);var G=F;return(0,S.kJ)(G)&&(G=1===r.content.length?Y?xm(G):G.length<=2?G[F.length-1]:xm(G):G[B]),G}var f={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},d=(0,S.kJ)(t.shape)?t.shape[0]:t.shape,p="funnel"===d||"pyramid"===d;if("polygon"===this.geometry.type){var m=function v_(e,r){if((0,S.hj)(e)&&(0,S.hj)(r))return[e,r];if(cu(e)||cu(r))return[f_(e),f_(r)];for(var l,f,t=-1,n=0,i=0,c=e.length-1,d=0;++t<e.length;)d+=f=e[l=c]*r[c=t]-e[c]*r[l],n+=(e[l]+e[c])*f,i+=(r[l]+r[c])*f;return[n/(d*=3),i/d]}(t.x,t.y);f.x=m[0],f.y=m[1]}else"interval"!==this.geometry.type||p?(f.x=c(t.x,n),f.y=c(t.y,n)):(f.x=c(t.x,n,!0),f.y=c(t.y,n));if(p){var x=(0,S.U2)(t,"nextPoints"),_=(0,S.U2)(t,"points");if(x){var T=i.convert(_[1]),b=i.convert(x[1]);f.x=(T.x+b.x)/2,f.y=(T.y+b.y)/2}else"pyramid"===d&&(T=i.convert(_[1]),b=i.convert(_[2]),f.x=(T.x+b.x)/2,f.y=(T.y+b.y)/2)}r.position&&this.setLabelPosition(f,t,n,r.position);var I=this.getLabelOffsetPoint(r,n,l);return f.start={x:f.x,y:f.y},f.x+=I.x,f.y+=I.y,f.color=t.color,f},e.prototype.getLabelAlign=function(r,t,n){var i="center";if(this.getCoordinate().isTransposed){var c=r.offset;i=c<0?"right":0===c?"center":"left",n>1&&0===t&&("right"===i?i="left":"left"===i&&(i="right"))}return i},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,i=t.getXScale(),l=t.getYScale(),c=r[pn],f=t.getElementId(r);return"line"===n||"area"===n?f+=" ".concat(c[i.field]):"path"===n&&(f+=" ".concat(c[i.field],"-").concat(c[l.field])),f},e.prototype.getLabelsRenderer=function(){var r=this.geometry,i=r.canvasRegion,l=r.animateOption,c=this.geometry.coordinate,f=this.labelsRenderer;return f||(f=new aS({container:r.labelsContainer,layout:(0,S.U2)(r.labelOption,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=f),f.region=i,f.animate=!!l&&fm("label",c),f},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,i=n.labelOption,l=n.scales,c=n.coordinate,d=i.fields,p=i.callback,m=i.cfg,x=d.map(function(T){return l[T]}),_=[];return(0,S.S6)(r,function(T,b){var B,I=T[pn],F=t.getLabelText(I,x);if(p){var Y=d.map(function(Ot){return I[Ot]});if(B=p.apply(void 0,(0,E.ev)([],(0,E.CR)(Y),!1)),(0,S.UM)(B))return void _.push(null)}var G=(0,E.pi)((0,E.pi)({id:t.getLabelId(T),elementId:t.geometry.getElementId(T),data:I,mappingData:T,coordinate:c},m),B);(0,S.mf)(G.position)&&(G.position=G.position(I,T,b));var H=t.getLabelOffset(G.offset||0),et=t.getDefaultLabelCfg(H,G.position);(G=(0,S.b$)({},et,G)).offset=t.getLabelOffset(G.offset||0);var wt=G.content;(0,S.mf)(wt)?G.content=wt(I,T,b):(0,S.o8)(wt)&&(G.content=F[0]),_.push(G)}),_},e.prototype.getLabelText=function(r,t){var n=[];return(0,S.S6)(t,function(i){var l=r[i.field];l=(0,S.kJ)(l)?l.map(function(c){return i.getText(c)}):i.getText(l),(0,S.UM)(l)||""===l?n.push(null):n.push(l)}),n},e.prototype.getOffsetVector=function(r){void 0===r&&(r=0);var t=this.getCoordinate(),n=0;return(0,S.hj)(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,S.S6)(r.elementsMap,function(n,i){t[i]=n.shape}),(0,S.S6)(r.getOffscreenGroup().getChildren(),function(n){var i=r.getElementId(n.get("origin").mappingData);t[i]=n}),t},e}();const _f=v5;function Sf(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var i=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,(0,E.ev)([r],(0,E.CR)(i),!1)).join("")}else n=e.mapping(r).join("");return n||t}var Cu={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},d5=["line","cross","tick","plus","hyphen"];function sS(e){var r=e.symbol;(0,S.HD)(r)&&Cu[r]&&(e.symbol=Cu[r])}function np(e){return e.startsWith(Ge.LEFT)||e.startsWith(Ge.RIGHT)?"vertical":"horizontal"}function Yr(e,r,t,n,i){var l=t.getScale(t.type);if(l.isCategory){var c=l.field,f=r.getAttribute("color"),d=r.getAttribute("shape"),p=e.getTheme().defaultColor,m=r.coordinate.isPolar;return l.getTicks().map(function(x,_){var T,F=x.text,B=l.invert(x.value),Y=0===e.filterFieldData(c,[(T={},T[c]=B,T)]).length;(0,S.S6)(e.views,function(Ot){var $t;Ot.filterFieldData(c,[($t={},$t[c]=B,$t)]).length||(Y=!0)});var G=Sf(f,B,p),H=Sf(d,B,"point"),et=r.getShapeMarker(H,{color:G,isInPolar:m}),wt=i;return(0,S.mf)(wt)&&(wt=wt(F,_,(0,E.pi)({name:F,value:B},(0,S.b$)({},n,et)))),function Cm(e,r){var t=e.symbol;if((0,S.HD)(t)&&-1!==d5.indexOf(t)){var n=(0,S.U2)(e,"style",{}),i=(0,S.U2)(n,"lineWidth",1);e.style=(0,S.b$)({},e.style,{lineWidth:i,stroke:n.stroke||n.fill||r,fill:null})}}(et=(0,S.b$)({},n,et,ca((0,E.pi)({},wt),["style"])),G),wt&&wt.style&&(et.style=function oS(e,r){return(0,S.mf)(r)?r(e):(0,S.b$)({},e,r)}(et.style,wt.style)),sS(et),{id:B,name:F,value:B,marker:et,unchecked:Y}})}return[]}function wm(e,r){var t=(0,S.U2)(e,["components","legend"],{});return(0,S.b$)({},(0,S.U2)(t,["common"],{}),(0,S.b$)({},(0,S.U2)(t,[r],{})))}function ip(e){return!e&&(null==e||isNaN(e))}function lS(e){if((0,S.kJ)(e))return ip(e[1].y);var r=e.y;return(0,S.kJ)(r)?ip(r[0]):ip(r)}function ap(e,r,t){if(void 0===r&&(r=!1),void 0===t&&(t=!0),!e.length||1===e.length&&!t)return[];if(r){for(var n=[],i=0,l=e.length;i<l;i++)lS(c=e[i])||n.push(c);return[n]}var f=[],d=[];for(i=0,l=e.length;i<l;i++){var c;lS(c=e[i])?d.length&&(1===d.length&&!t||f.push(d),d=[]):d.push(c)}return d.length&&f.push(d),f}function uS(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];n&&r.push([0===t?"M":"L",n.x,n.y])}var l=e[0];return l&&(r.push(["L",l.x,l.y]),r.push(["z"])),r}function cS(e){for(var r=e.length/2,t=[],n=[],i=0;i<e.length;i++)i<r?t.push(e[i]):n.push(e[i]);var l=Ac(t,!1),c=Ac(n,!1);n.length&&l.push(["L",n[0].x,n[0].y]),c.shift();var f=l.concat(c);return t.length&&f.push(["L",t[0].x,t[0].y]),f.push(["z"]),f}function Zn(e,r,t,n){void 0===n&&(n="");var i=e.style,l=void 0===i?{}:i,f=e.color,d=e.size,p=(0,E.pi)((0,E.pi)({},e.defaultStyle),l);return f&&(r&&(l.stroke||(p.stroke=f)),t&&(l.fill||(p.fill=f))),n&&(0,S.UM)(l[n])&&!(0,S.UM)(d)&&(p[n]=d),p}function _m(e){return(0,S.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,S.U2)(e,["background","style"]))}function Sm(e){var r=e.x;return((0,S.kJ)(e.y)?e.y:[e.y]).map(function(n,i){return{x:(0,S.kJ)(r)?r[i]:r,y:n}})}var Mm={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function uo(e,r){return{symbol:Mm[r],style:{lineWidth:2,r:6,stroke:e.color}}}function Tm(e,r,t,n,i){return 1===e.length?[["M",e[0].x,e[0].y-i.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+i.lineWidth/2]]:(t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),l=Ac(e,!1,n)):(l=df(e,!1),r&&l.push(["Z"])),l);var l}function fS(e,r,t,n,i,l){return e.length?(0,S.kJ)(e[0].y)?function ol(e,r,t,n,i,l){var c=[],f=[];(0,S.S6)(e,function(m){var x=Sm(m);c.push(x[1]),f.push(x[0])});var d=Tm(c,r,n,i,l),p=Tm(f,r,n,i,l);return t?d:d.concat(p)}(e,r,t,n,i,l):Tm(e,r,n,i,l):[]}il("line",{defaultShapeType:"line"}),(0,S.S6)(["line","dot","dash","smooth"],function(e){rn("line",e,{draw:function(r,t){var i,n="smooth"===e;if(n){var l=this.coordinate,c=l.start,f=l.end;i=[[c.x,f.y],[f.x,c.y]]}var d=function hS(e,r,t){for(var n=e.isStack,i=e.connectNulls,l=e.isInCircle,c=e.showSinglePoint,f=Zn(e,!0,!1,"lineWidth"),d=ap(e.points,i,c),p=[],m=0,x=d.length;m<x;m++)p=p.concat(fS(d[m],l,n,r,t,f));return f.path=p,f}(r,n,i);return t.addShape({type:"path",attrs:d,name:"line",capture:!n})},getMarker:function(r){return uo(r,e)}})});var va={getLegendItems:Yr,translate:Rc,rotate:pm,zoom:function h5(e,r){var t=e.getBBox(),n=(t.minX+t.maxX)/2,i=(t.minY+t.maxY)/2;e.applyToMatrix([n,i,1]);var l=wf(e.getMatrix(),[["t",-n,-i],["s",r,r],["t",n,i]]);e.setMatrix(l)},transform:wf,getAngle:wc,getSectorPath:Js,polarToCartesian:$n,getDelegationObject:gu,getTooltipItems:lm,getMappingValue:Sf,getPath:fS,getPathPoints:ap},gn_100="#FFFFFF",gn_65="#A6A6A6",gn_45="#737373",gn_25="#404040",co=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Am=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],g5=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],y5=function(e){void 0===e&&(e={});var r=e.paletteQualitative10,t=void 0===r?co:r,n=e.paletteQualitative20,l=e.brandColor;return(0,E.pi)((0,E.pi)({},{backgroundColor:"#141414",brandColor:void 0===l?t[0]:l,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:void 0===n?Am:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:g5,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:gn_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:gn_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:"#262626",axisTickLineBorderColor:gn_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#262626",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:gn_45,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#262626",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:gn_45,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:co[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:gn_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:gn_45,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:gn_45,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:gn_65,legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#262626",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:gn_45,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:"#262626",annotationArcBorder:1,annotationLineBorderColor:gn_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:gn_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:gn_100,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:gn_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:gn_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:gn_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#000",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:gn_65,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#000",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:gn_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:co[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#000",pointBorderOpacity:1,pointActiveBorderColor:gn_100,pointSelectedBorder:2,pointSelectedBorderColor:gn_100,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:co[0],hollowPointBorderOpacity:.95,hollowPointFillColor:"#000",hollowPointActiveBorder:1,hollowPointActiveBorderColor:gn_100,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:gn_100,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:co[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:co[0],areaFillOpacity:.25,areaActiveFillColor:co[0],areaActiveFillOpacity:.5,areaSelectedFillColor:co[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:co[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:gn_100,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:gn_100,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:co[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:gn_100,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:gn_100,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:co[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#000",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:gn_100,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:gn_100,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),e)}(),da=ct(2185);function vS(e,r,t,n){var i=e-t,l=r-n;return Math.sqrt(i*i+l*l)}function wu(e,r,t,n,i,l){return i>=e&&i<=e+t&&l>=r&&l<=r+n}function ms(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function Lm(e,r){return e[0]===r[0]&&e[1]===r[1]}var C5=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,w5=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_5=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,op=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Qn(e,r){var t=e.match(op);(0,S.S6)(t,function(n){var i=n.split(":");r.addColorStop(i[0],i[1])})}function sp(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if((0,S.HD)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function Im(e,r,t){var f,d,n=C5.exec(t),i=parseFloat(n[1])%360*(Math.PI/180),l=n[2],c=r.getBBox();i>=0&&i<.5*Math.PI?(f={x:c.minX,y:c.minY},d={x:c.maxX,y:c.maxY}):.5*Math.PI<=i&&i<Math.PI?(f={x:c.maxX,y:c.minY},d={x:c.minX,y:c.maxY}):Math.PI<=i&&i<1.5*Math.PI?(f={x:c.maxX,y:c.maxY},d={x:c.minX,y:c.minY}):(f={x:c.minX,y:c.maxY},d={x:c.maxX,y:c.minY});var p=Math.tan(i),m=p*p,T=e.createLinearGradient(f.x,f.y,(d.x-f.x+p*(d.y-f.y))/(m+1)+f.x,p*(d.x-f.x+p*(d.y-f.y))/(m+1)+f.y);return Qn(l,T),T}(e,r,t);if("r"===t[0])return function dS(e,r,t){var n=w5.exec(t),i=parseFloat(n[1]),l=parseFloat(n[2]),c=parseFloat(n[3]),f=n[4];if(0===c){var d=f.match(op);return d[d.length-1].split(":")[1]}var p=r.getBBox(),m=p.maxX-p.minX,x=p.maxY-p.minY,_=Math.sqrt(m*m+x*x)/2,T=e.createRadialGradient(p.minX+m*i,p.minY+x*l,0,p.minX+m/2,p.minY+x/2,c*_);return Qn(f,T),T}(e,r,t);if("p"===t[0])return function S5(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,i,l=_5.exec(t),c=l[1],f=l[2];function d(){n=e.createPattern(i,c),r.set("pattern",n),r.set("patternSource",t)}switch(c){case"a":c="repeat";break;case"x":c="repeat-x";break;case"y":c="repeat-y";break;default:c="no-repeat"}return i=new Image,f.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=f,i.complete?d():(i.onload=d,i.src=i.src),n}(e,r,t)}return t}return t instanceof CanvasPattern?t:void 0}function lp(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Mf(e,r){return lp(e)*lp(r)?(e[0]*r[0]+e[1]*r[1])/(lp(e)*lp(r)):1}function gS(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(Mf(e,r))}function up(e,r){var t=r[1],n=r[2],i=(0,S.wQ)((0,S.c$)(r[3]),2*Math.PI),l=r[4],c=r[5],f=e[0],d=e[1],p=r[6],m=r[7],x=Math.cos(i)*(f-p)/2+Math.sin(i)*(d-m)/2,_=-1*Math.sin(i)*(f-p)/2+Math.cos(i)*(d-m)/2,T=x*x/(t*t)+_*_/(n*n);T>1&&(t*=Math.sqrt(T),n*=Math.sqrt(T));var b=t*t*(_*_)+n*n*(x*x),I=b?Math.sqrt((t*t*(n*n)-b)/b):1;l===c&&(I*=-1),isNaN(I)&&(I=0);var F=n?I*t*_/n:0,B=t?I*-n*x/t:0,Y=(f+p)/2+Math.cos(i)*F-Math.sin(i)*B,G=(d+m)/2+Math.sin(i)*F+Math.cos(i)*B,H=[(x-F)/t,(_-B)/n],et=[(-1*x-F)/t,(-1*_-B)/n],wt=gS([1,0],H),Ot=gS(H,et);return Mf(H,et)<=-1&&(Ot=Math.PI),Mf(H,et)>=1&&(Ot=0),0===c&&Ot>0&&(Ot-=2*Math.PI),1===c&&Ot<0&&(Ot+=2*Math.PI),{cx:Y,cy:G,rx:Lm(e,[p,m])?0:t,ry:Lm(e,[p,m])?0:n,startAngle:wt,endAngle:wt+Ot,xRotation:i,arcFlag:l,sweepFlag:c}}var cp=Math.sin,Tf=Math.cos,Om=Math.atan2,hp=Math.PI;function yS(e,r,t,n,i,l,c){var f=r.stroke,d=r.lineWidth,x=Om(n-l,t-i),_=new Su({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Tf(hp/6)+","+10*cp(hp/6)+" L0,0 L"+10*Tf(hp/6)+",-"+10*cp(hp/6),stroke:f,lineWidth:d}});_.translate(i,l),_.rotateAtPoint(i,l,x),e.set(c?"startArrowShape":"endArrowShape",_)}function mS(e,r,t,n,i,l,c){var p=r.stroke,m=r.lineWidth,x=c?r.startArrow:r.endArrow,_=x.d,T=x.fill,b=x.stroke,I=x.lineWidth,F=(0,E._T)(x,["d","fill","stroke","lineWidth"]),G=Om(n-l,t-i);_&&(i-=Tf(G)*_,l-=cp(G)*_);var H=new Su({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,E.pi)((0,E.pi)({},F),{stroke:b||p,lineWidth:I||m,fill:T})});H.translate(i,l),H.rotateAtPoint(i,l,G),e.set(c?"startArrowShape":"endArrowShape",H)}function xs(e,r,t,n,i){var l=Om(n-r,t-e);return{dx:Tf(l)*i,dy:cp(l)*i}}function Rm(e,r,t,n,i,l){"object"==typeof r.startArrow?mS(e,r,t,n,i,l,!0):r.startArrow?yS(e,r,t,n,i,l,!0):e.set("startArrowShape",null)}function _u(e,r,t,n,i,l){"object"==typeof r.endArrow?mS(e,r,t,n,i,l,!1):r.endArrow?yS(e,r,t,n,i,l,!1):e.set("startArrowShape",null)}var xS={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ll(e,r){var t=r.attr();for(var n in t){var i=t[n],l=xS[n]?xS[n]:n;"matrix"===l&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===l&&e.setLineDash?(0,S.kJ)(i)&&e.setLineDash(i):("strokeStyle"===l||"fillStyle"===l?i=sp(e,r,i):"globalAlpha"===l&&(i*=e.globalAlpha),e[l]=i)}}function _n(e,r,t){for(var n=0;n<r.length;n++){var i=r[n];i.cfg.visible?i.draw(e,t):i.skipDraw()}}function M5(e,r,t){var n=e.get("refreshElements");(0,S.S6)(n,function(i){if(i!==e)for(var l=i.cfg.parent;l&&l!==e&&!l.cfg.refresh;)l.cfg.refresh=!0,l=l.cfg.parent}),n[0]===e?fp(r,t):Fm(r,t)}function Fm(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&fp(n.cfg.children,r);else if(n.cfg.refresh)n.isGroup()&&Fm(n.cfg.children,r);else{var i=T5(n,r);n.cfg.refresh=i,i&&n.isGroup()&&Fm(n.cfg.children,r)}}}function CS(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&CS(t.cfg.children)}}function fp(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.refresh=!0,n.isGroup()&&fp(n.get("children"),r)}}function T5(e,r){var t=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&t&&ms(t,r)}function wS(e,r,t,n){var i=t.path,l=t.startArrow,c=t.endArrow;if(i){var f=[0,0],d=[0,0],p={dx:0,dy:0};r.beginPath();for(var m=0;m<i.length;m++){var x=i[m],_=x[0];if(0===m&&l&&l.d)p=xs((T=e.getStartTangent())[0][0],T[0][1],T[1][0],T[1][1],l.d);else if(m===i.length-2&&"Z"===i[m+1][0]&&c&&c.d)"Z"===i[m+1][0]&&(p=xs((T=e.getEndTangent())[0][0],T[0][1],T[1][0],T[1][1],c.d));else if(m===i.length-1&&c&&c.d&&"Z"!==i[0]){var T;p=xs((T=e.getEndTangent())[0][0],T[0][1],T[1][0],T[1][1],c.d)}var I=p.dx,F=p.dy;switch(_){case"M":r.moveTo(x[1]-I,x[2]-F),d=[x[1],x[2]];break;case"L":r.lineTo(x[1]-I,x[2]-F);break;case"Q":r.quadraticCurveTo(x[1],x[2],x[3]-I,x[4]-F);break;case"C":r.bezierCurveTo(x[1],x[2],x[3],x[4],x[5]-I,x[6]-F);break;case"A":var B=void 0;n?(B=n[m])||(B=up(f,x),n[m]=B):B=up(f,x);var Y=B.cx,G=B.cy,H=B.rx,et=B.ry,wt=B.startAngle,Ot=B.endAngle,$t=B.xRotation,ge=B.sweepFlag;if(r.ellipse)r.ellipse(Y,G,H,et,$t,wt,Ot,1-ge);else{var le=H>et?H:et,Se=H>et?1:H/et,Pe=H>et?et/H:1;r.translate(Y,G),r.rotate($t),r.scale(Se,Pe),r.arc(0,0,le,wt,Ot,1-ge),r.scale(1/Se,1/Pe),r.rotate(-$t),r.translate(-Y,-G)}break;case"Z":r.closePath()}if("Z"===_)f=d;else{var or=x.length;f=[x[or-2],x[or-1]]}}}}function _S(e,r){var t=e.get("canvas");t&&("remove"===r&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}var E5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.onCanvasChange=function(t){_S(this,t)},r.prototype.getShapeBase=function(){return Vt},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),ll(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var n=[],i=[];(0,S.S6)(this.cfg.children,function(_){var T=_.cfg.cacheCanvasBBox;T&&_.cfg.isInView&&(n.push(T.minX,T.maxX),i.push(T.minY,T.maxY))});var l=null;if(n.length){var c=(0,S.VV)(n),f=(0,S.Fp)(n),d=(0,S.VV)(i),p=(0,S.Fp)(i);l={minX:c,minY:d,x:c,y:d,maxX:f,maxY:p,width:f-c,height:p-d};var m=this.cfg.canvas;if(m){var x=m.getViewRange();this.set("isInView",ms(l,x))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",l)},r.prototype.draw=function(t,n){var i=this.cfg.children;i.length&&(!n||this.cfg.refresh)&&(t.save(),ll(t,this),this._applyClip(t,this.getClip()),_n(t,i,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(da.AbstractGroup);const $a=E5;var br=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Vt},r.prototype.getGroupBase=function(){return $a},r.prototype.onCanvasChange=function(t){_S(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),l=(0,da.getBBoxMethod)(t)(this),c=n/2,f=l.x-c,d=l.y-c;return{x:f,minX:f,y:d,minY:d,width:l.width+n,height:l.height+n,maxX:l.x+l.width+c,maxY:l.y+l.height+c}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),ll(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var i=this.cfg.clipShape;if(n){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!ms(n,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),ll(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),i=ms(n,t);this.set("isInView",i),this.set("cacheCanvasBBox",i?n:null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,l=n.opacity,c=n.strokeOpacity,f=n.fillOpacity;this.isFill()&&((0,S.UM)(f)||1===f?this.fill(t):(t.globalAlpha=f,this.fill(t),t.globalAlpha=l)),this.isStroke()&&i>0&&(!(0,S.UM)(c)&&1!==c&&(t.globalAlpha=c),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var i=this.isStroke(),l=this.isFill(),c=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,i,l,c)},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(da.AbstractShape);const ho=br;var L5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){var f=this.attr(),m=f.r,x=c/2,_=vS(f.x,f.y,t,n);return l&&i?_<=m+x:l?_<=m:!!i&&_>=m-x&&_<=m+x},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,l=n.y,c=n.r;t.beginPath(),t.arc(i,l,c,0,2*Math.PI,!1),t.closePath()},r}(ho);const SS=L5;function Fc(e,r,t,n){return e/(t*t)+r/(n*n)}var I5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){var f=this.attr(),d=c/2,p=f.x,m=f.y,x=f.rx,_=f.ry,T=(t-p)*(t-p),b=(n-m)*(n-m);return l&&i?Fc(T,b,x+d,_+d)<=1:l?Fc(T,b,x,_)<=1:!!i&&Fc(T,b,x-d,_-d)>=1&&Fc(T,b,x+d,_+d)<=1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,l=n.y,c=n.rx,f=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,l,c,f,0,0,2*Math.PI,!1);else{var d=c>f?c:f,p=c>f?1:c/f,m=c>f?f/c:1;t.save(),t.translate(i,l),t.scale(p,m),t.arc(0,0,d,0,2*Math.PI),t.restore(),t.closePath()}},r}(ho);const MS=I5;function Dm(e){return e instanceof HTMLElement&&(0,S.HD)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var TS=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,i=this.attrs;if((0,S.HD)(t)){var l=new Image;l.onload=function(){if(n.destroyed)return!1;n.attr("img",l),n.set("loading",!1),n._afterLoading();var c=n.get("callback");c&&c.call(n)},l.crossOrigin="Anonymous",l.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):Dm(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||Number(t.getAttribute("height")))},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),"img"===t&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var n=this.attr(),i=n.x,l=n.y,c=n.width,f=n.height,d=n.sx,p=n.sy,m=n.swidth,x=n.sheight,_=n.img;(_ instanceof Image||Dm(_))&&((0,S.UM)(d)||(0,S.UM)(p)||(0,S.UM)(m)||(0,S.UM)(x)?t.drawImage(_,i,l,c,f):t.drawImage(_,d,p,m,x,i,l,c,f))},r}(ho);const O5=TS;function ul(e,r,t,n,i,l,c){var f=Math.min(e,t),d=Math.max(e,t),p=Math.min(r,n),m=Math.max(r,n),x=i/2;return l>=f-x&&l<=d+x&&c>=p-x&&c<=m+x&&Ln.x1.pointToLine(e,r,t,n,l,c)<=i/2}var R5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,i=t.y1,l=t.x2,c=t.y2,d=t.endArrow;t.startArrow&&Rm(this,t,l,c,n,i),d&&_u(this,t,n,i,l,c)},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){if(!i||!c)return!1;var f=this.attr();return ul(f.x1,f.y1,f.x2,f.y2,c,t,n)},r.prototype.createPath=function(t){var n=this.attr(),i=n.x1,l=n.y1,c=n.x2,f=n.y2,d=n.startArrow,p=n.endArrow,m={dx:0,dy:0},x={dx:0,dy:0};d&&d.d&&(m=xs(i,l,c,f,n.startArrow.d)),p&&p.d&&(x=xs(i,l,c,f,n.endArrow.d)),t.beginPath(),t.moveTo(i+m.dx,l+m.dy),t.lineTo(c-x.dx,f-x.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr();return Ln.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var n=this.attr();return Ln.x1.pointAt(n.x1,n.y1,n.x2,n.y2,t)},r}(ho);const F5=R5;var bS={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},D5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,S.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var f,d,t=this.attr(),n=t.x,i=t.y,l=t.symbol||"circle",c=this._getR(t);if((0,S.mf)(l))d=(f=l)(n,i,c),d=(0,Io.wb)(d);else{if(!(f=r.Symbols[l]))return console.warn(l+" marker is not supported."),null;d=f(n,i,c)}return d},r.prototype.createPath=function(t){wS(this,t,{path:this._getPath()},this.get("paramsCache"))},r.Symbols=bS,r}(ho);const AS=D5;function ES(e,r,t){var n=(0,da.getOffScreenContext)();return e.createPath(n),n.isPointInPath(r,t)}var LS=1e-6;function Bm(e){return Math.abs(e)<LS?0:e<0?-1:1}function B5(e,r,t){return(t[0]-e[0])*(r[1]-e[1])==(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function IS(e,r,t){var n=!1,i=e.length;if(i<=2)return!1;for(var l=0;l<i;l++){var c=e[l],f=e[(l+1)%i];if(B5(c,f,[r,t]))return!0;Bm(c[1]-t)>0!=Bm(f[1]-t)>0&&Bm(r-(t-c[1])*(c[0]-f[0])/(c[1]-f[1])-c[0])<0&&(n=!n)}return n}function Dc(e,r,t,n,i,l,c,f){var d=(Math.atan2(f-r,c-e)+2*Math.PI)%(2*Math.PI);if(d<n||d>i)return!1;var p={x:e+t*Math.cos(d),y:r+t*Math.sin(d)};return vS(p.x,p.y,c,f)<=l/2}var P5=Zr.vs;const dp=(0,E.pi)({hasArc:function Pm(e){for(var r=!1,t=e.length,n=0;n<t;n++){var l=e[n][0];if("C"===l||"A"===l||"Q"===l){r=!0;break}}return r},extractPolygons:function k5(e){for(var r=e.length,t=[],n=[],i=[],l=0;l<r;l++){var c=e[l],f=c[0];"M"===f?(i.length&&(n.push(i),i=[]),i.push([c[1],c[2]])):"Z"===f?i.length&&(t.push(i),i=[]):i.push([c[1],c[2]])}return i.length>0&&n.push(i),{polygons:t,polylines:n}},isPointInStroke:function OS(e,r,t,n,i){for(var l=!1,c=r/2,f=0;f<e.length;f++){var d=e[f],p=d.currentPoint,m=d.params,x=d.prePoint,_=d.box;if(!_||wu(_.x-c,_.y-c,_.width+r,_.height+r,t,n)){switch(d.command){case"L":case"Z":l=ul(x[0],x[1],p[0],p[1],r,t,n);break;case"Q":l=Ln.lD.pointDistance(x[0],x[1],m[1],m[2],m[3],m[4],t,n)<=r/2;break;case"C":l=Ln.Ll.pointDistance(x[0],x[1],m[1],m[2],m[3],m[4],m[5],m[6],t,n,i)<=r/2;break;case"A":var I=d.arcParams,Y=I.rx,G=I.ry,H=I.startAngle,et=I.endAngle,Ot=[t,n,1],$t=Y>G?Y:G;Zh(Ot,Ot,P5(null,[["t",-I.cx,-I.cy],["r",-I.xRotation],["s",1/(Y>G?1:Y/G),1/(Y>G?G/Y:1)]])),l=Dc(0,0,$t,H,et,r,Ot[0],Ot[1])}if(l)break}}return l}},da.PathUtil);function km(e,r,t){for(var n=!1,i=0;i<e.length&&!(n=IS(e[i],r,t));i++);return n}var z5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),"path"===t&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Io.wb)(t);var n=dp.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,Io.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var l,t=this.attr(),i=t.endArrow;t.startArrow&&Rm(this,t,(l=this.getStartTangent())[0][0],l[0][1],l[1][0],l[1][1]),i&&_u(this,t,(l=this.getEndTangent())[0][0],l[0][1],l[1][0],l[1][1])},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){var f=this.getSegments(),d=this.get("hasArc"),p=!1;if(i){var m=this.getTotalLength();p=dp.isPointInStroke(f,c,t,n,m)}if(!p&&l)if(d)p=ES(this,t,n);else{var x=this.attr("path"),_=dp.extractPolygons(x);p=km(_.polygons,t,n)||km(_.polylines,t,n)}return p},r.prototype.createPath=function(t){wS(this,t,this.attr(),this.get("paramsCache"))},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,S.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,l,c=this.get("curve");if(!n||0===n.length)return c?{x:c[0][1],y:c[0][2]}:null;(0,S.S6)(n,function(m,x){t>=m[0]&&t<=m[1]&&(i=(t-m[0])/(m[1]-m[0]),l=x)});var f=c[l];if((0,S.UM)(f)||(0,S.UM)(l))return null;var d=f.length,p=c[l+1];return Ln.Ll.pointAt(f[d-2],f[d-1],p[1],p[2],p[3],p[4],p[5],p[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",dp.pathToCurve(t))},r.prototype._setTcache=function(){var l,c,f,d,t=0,n=0,i=[],p=this.get("curve");if(p){if((0,S.S6)(p,function(m,x){d=m.length,(f=p[x+1])&&(t+=Ln.Ll.length(m[d-2],m[d-1],f[1],f[2],f[3],f[4],f[5],f[6])||0)}),this.set("totalLength",t),0===t)return void this.set("tCache",[]);(0,S.S6)(p,function(m,x){d=m.length,(f=p[x+1])&&((l=[])[0]=n/t,c=Ln.Ll.length(m[d-2],m[d-1],f[1],f[2],f[3],f[4],f[5],f[6]),l[1]=(n+=c||0)/t,i.push(l))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var n,t=this.getSegments();if(t.length>1){var i=t[0].currentPoint,l=t[1].currentPoint,c=t[1].startTangent;n=[],c?(n.push([i[0]-c[0],i[1]-c[1]]),n.push([i[0],i[1]])):(n.push([l[0],l[1]]),n.push([i[0],i[1]]))}return n},r.prototype.getEndTangent=function(){var i,t=this.getSegments(),n=t.length;if(n>1){var l=t[n-2].currentPoint,c=t[n-1].currentPoint,f=t[n-1].endTangent;i=[],f?(i.push([c[0]-f[0],c[1]-f[1]]),i.push([c[0],c[1]])):(i.push([l[0],l[1]]),i.push([c[0],c[1]]))}return i},r}(ho);const Su=z5;function RS(e,r,t,n,i){var l=e.length;if(l<2)return!1;for(var c=0;c<l-1;c++)if(ul(e[c][0],e[c][1],e[c+1][0],e[c+1][1],r,t,n))return!0;if(i){var x=e[0],_=e[l-1];if(ul(x[0],x[1],_[0],_[1],r,t,n))return!0}return!1}var FS=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isInStrokeOrPath=function(t,n,i,l,c){var f=this.attr().points,d=!1;return i&&(d=RS(f,c,t,n,!0)),!d&&l&&(d=IS(f,t,n)),d},r.prototype.createPath=function(t){var i=this.attr().points;if(!(i.length<2)){t.beginPath();for(var l=0;l<i.length;l++){var c=i[l];0===l?t.moveTo(c[0],c[1]):t.lineTo(c[0],c[1])}t.closePath()}},r}(ho);const N5=FS;var H5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,i=n.points,c=n.endArrow,f=i.length,m=i[f-1][0],x=i[f-1][1];n.startArrow&&Rm(this,t,i[1][0],i[1][1],i[0][0],i[0][1]),c&&_u(this,t,i[f-2][0],i[f-2][1],m,x)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){return!(!i||!c)&&RS(this.attr().points,c,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),i=n.points,l=n.startArrow,c=n.endArrow,f=i.length;if(!(i.length<2)){var _,d=i[0][0],p=i[0][1],m=i[f-1][0],x=i[f-1][1];l&&l.d&&(d+=(_=xs(d,p,i[1][0],i[1][1],l.d)).dx,p+=_.dy),c&&c.d&&(m-=(_=xs(i[f-2][0],i[f-2][1],m,x,c.d)).dx,x-=_.dy),t.beginPath(),t.moveTo(d,p);for(var T=0;T<f-1;T++){var b=i[T];t.lineTo(b[0],b[1])}t.lineTo(m,x)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,S.UM)(n)?(this.set("totalLength",Ln.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var l,c,n=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,S.S6)(i,function(f,d){t>=f[0]&&t<=f[1]&&(l=(t-f[0])/(f[1]-f[0]),c=d)}),Ln.x1.pointAt(n[c][0],n[c][1],n[c+1][0],n[c+1][1],l)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var n=this.getTotalLength();if(!(n<=0)){var c,f,i=0,l=[];(0,S.S6)(t,function(d,p){t[p+1]&&((c=[])[0]=i/n,f=Ln.x1.length(d[0],d[1],t[p+1][0],t[p+1][1]),c[1]=(i+=f)/n,l.push(c))}),this.set("tCache",l)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(ho);const DS=H5;var G5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,i,l,c){var f=this.attr(),d=f.x,p=f.y,m=f.width,x=f.height,_=f.radius;if(_){var b=!1;return i&&(b=function BS(e,r,t,n,i,l,c,f){return ul(e+i,r,e+t-i,r,l,c,f)||ul(e+t,r+i,e+t,r+n-i,l,c,f)||ul(e+t-i,r+n,e+i,r+n,l,c,f)||ul(e,r+n-i,e,r+i,l,c,f)||Dc(e+t-i,r+i,i,1.5*Math.PI,2*Math.PI,l,c,f)||Dc(e+t-i,r+n-i,i,0,.5*Math.PI,l,c,f)||Dc(e+i,r+n-i,i,.5*Math.PI,Math.PI,l,c,f)||Dc(e+i,r+i,i,Math.PI,1.5*Math.PI,l,c,f)}(d,p,m,x,_,c,t,n)),!b&&l&&(b=ES(this,t,n)),b}var T=c/2;return l&&i?wu(d-T,p-T,m+T,x+T,t,n):l?wu(d,p,m,x,t,n):i?function Cs(e,r,t,n,i,l,c){var f=i/2;return wu(e-f,r-f,t,i,l,c)||wu(e+t-f,r-f,i,n,l,c)||wu(e+f,r+n-f,t,i,l,c)||wu(e-f,r+f,i,n,l,c)}(d,p,m,x,c,t,n):void 0},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,l=n.y,c=n.width,f=n.height,d=n.radius;if(t.beginPath(),0===d)t.rect(i,l,c,f);else{var p=function pS(e){var r=0,t=0,n=0,i=0;return(0,S.kJ)(e)?1===e.length?r=t=n=i=e[0]:2===e.length?(r=n=e[0],t=i=e[1]):3===e.length?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,[r,t,n,i]}(d),m=p[0],x=p[1],_=p[2],T=p[3];t.moveTo(i+m,l),t.lineTo(i+c-x,l),0!==x&&t.arc(i+c-x,l+x,x,-Math.PI/2,0),t.lineTo(i+c,l+f-_),0!==_&&t.arc(i+c-_,l+f-_,_,0,Math.PI/2),t.lineTo(i+T,l+f),0!==T&&t.arc(i+T,l+f-T,T,Math.PI/2,Math.PI),t.lineTo(i,l+m),0!==m&&t.arc(i+m,l+m,m,Math.PI,1.5*Math.PI),t.closePath()}},r}(ho);const Bc=G5;var Y5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,da.assembleFont)(t)},r.prototype._setText=function(t){var n=null;(0,S.HD)(t)&&-1!==t.indexOf("\n")&&(n=t.split("\n")),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,i=1*t.fontSize;return n?n-i:.14*i},r.prototype._drawTextArr=function(t,n,i){var _,l=this.attrs,c=l.textBaseline,f=l.x,d=l.y,p=1*l.fontSize,m=this._getSpaceingY(),x=(0,da.getTextHeight)(l.text,l.fontSize,l.lineHeight);(0,S.S6)(n,function(T,b){_=d+b*(m+p)-x+p,"middle"===c&&(_+=x-p-(x-p)/2),"top"===c&&(_+=x-p),(0,S.UM)(T)||(i?t.fillText(T,f,_):t.strokeText(T,f,_))})},r.prototype._drawText=function(t,n){var i=this.attr(),l=i.x,c=i.y,f=this.get("textArr");if(f)this._drawTextArr(t,f,n);else{var d=i.text;(0,S.UM)(d)||(n?t.fillText(d,l,c):t.strokeText(d,l,c))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,l=n.opacity,c=n.strokeOpacity,f=n.fillOpacity;this.isStroke()&&i>0&&(!(0,S.UM)(c)&&1!==c&&(t.globalAlpha=l),this.stroke(t)),this.isFill()&&((0,S.UM)(f)||1===f?this.fill(t):(t.globalAlpha=f,this.fill(t),t.globalAlpha=l)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(ho);const ai=Y5;function kS(e,r,t){var n=e.getTotalMatrix();if(n){var i=function PS(e,r){if(r){var t=(0,da.invert)(r);return(0,da.multiplyVec2)(t,e)}return e}([r,t,1],n);return[i[0],i[1]]}return[r,t]}function zS(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!(0,da.isAllowCapture)(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var n=kS(e,r,t);if(e.isClipped(n[0],n[1]))return!1}var c=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=c.minX&&r<=c.maxX&&t>=c.minY&&t<=c.maxY}function NS(e,r,t){if(!zS(e,r,t))return null;for(var n=null,i=e.getChildren(),c=i.length-1;c>=0;c--){var f=i[c];if(f.isGroup())n=NS(f,r,t);else if(zS(f,r,t)){var d=f,p=kS(f,r,t);d.isInShape(p[0],p[1])&&(n=f)}if(n)break}return n}var HS=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){("attr"===t||"sort"===t||"changeSize"===t)&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Vt},r.prototype.getGroupBase=function(){return $a},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||function m5(){return window?window.devicePixelRatio:1}();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var i=this.get("context"),l=this.get("el"),c=this.getPixelRatio();l.width=c*t,l.height=c*n,c>1&&i.scale(c,c)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){return this.get("quickHit")?NS(this,t,n):e.prototype.getShape.call(this,t,n,null)},r.prototype._getRefreshRegion=function(){var i,t=this.get("refreshElements"),n=this.getViewRange();return t.length&&t[0]===this?i=n:(i=function vp(e){if(!e.length)return null;var r=[],t=[],n=[],i=[];return(0,S.S6)(e,function(l){var c=function b5(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!(!t.width||!t.height),i=e.getCanvasBBox(),l=i&&!(!i.width||!i.height);n&&l?r=function x5(e,r){return e&&r?{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}:e||r}(t,i):n?r=t:l&&(r=i)}return r}(l);c&&(r.push(c.minX),t.push(c.minY),n.push(c.maxX),i.push(c.maxY))}),{minX:(0,S.VV)(r),minY:(0,S.VV)(t),maxX:(0,S.Fp)(n),maxY:(0,S.Fp)(i)}}(t),i&&(i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1,this.get("clipView")&&(i=function A5(e,r){return e&&r&&ms(e,r)?{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}:null}(i,n)))),i},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,S.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),i=this.getChildren();t.clearRect(0,0,n.width,n.height),ll(t,this),_n(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),l=this._getRefreshRegion();l?(t.clearRect(l.minX,l.minY,l.maxX-l.minX,l.maxY-l.minY),t.save(),t.beginPath(),t.rect(l.minX,l.minY,l.maxX-l.minX,l.maxY-l.minY),t.clip(),ll(t,this),M5(this,i,l),_n(t,i,l),t.restore()):n.length&&CS(n),(0,S.S6)(n,function(c){c.get("hasChanged")&&c.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=(0,S.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(da.AbstractCanvas);const W5=HS;var zm="0.5.12",pp=ct(9279),cl={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},tn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Za(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function GS(e){var r=cl[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=Za(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var i=t.get("el");i||(i=t.createDom(),t.set("el",i)),i.appendChild(n)}return n}function YS(e,r){var t=e.get("el"),n=(0,S.qo)(t.children).sort(r),i=document.createDocumentFragment();n.forEach(function(l){i.appendChild(l)}),t.appendChild(i)}function bf(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],i=0;i<9;i+=3)n.push(r[i]+","+r[i+1]);-1===(n=n.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function Af(e,r){var t=e.getClip(),n=e.get("el");if(t){if(t&&!n.hasAttribute("clip-path")){GS(t),t.createPath(r);var i=r.addClip(t);n.setAttribute("clip-path","url(#"+i+")")}}else n.removeAttribute("clip-path")}function WS(e,r){r.forEach(function(t){t.draw(e)})}function US(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),i=e.getParent(),l=i?i.getChildren():[t],c=e.get("el");if("remove"===r)if(e.get("isClipShape")){var d=c&&c.parentNode,p=d&&d.parentNode;d&&p&&p.removeChild(d)}else c&&c.parentNode&&c.parentNode.removeChild(c);else if("show"===r)c.setAttribute("visibility","visible");else if("hide"===r)c.setAttribute("visibility","hidden");else if("zIndex"===r)!function U5(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(f){return 1===f.nodeType&&"defs"!==f.nodeName.toLowerCase()}),i=n[r],l=n.indexOf(e);if(i){if(l>r)t.insertBefore(e,i);else if(l<r){var c=n[r+1];c?t.insertBefore(e,c):t.appendChild(e)}}else t.appendChild(e)}(c,l.indexOf(e));else if("sort"===r){var m=e.get("children");m&&m.length&&YS(e,function(x,_){return m.indexOf(x)-m.indexOf(_)?1:0})}else"clear"===r?c&&(c.innerHTML=""):"matrix"===r?bf(e):"clip"===r?Af(e,n):"attr"===r||"add"===r&&e.draw(n)}}var V5=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Za("g");this.set("el",t);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,t)}},r.prototype.onCanvasChange=function(t){US(this,t)},r.prototype.getShapeBase=function(){return ne},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),Af(this,t),this.createPath(t),n.length&&WS(t,n))},r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){tn[f]&&l.setAttribute(tn[f],c)}),bf(this)},r}(pp.AbstractGroup);const Nm=V5;var $5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,t)}},r.prototype.getShapeBase=function(){return ne},r.prototype.getGroupBase=function(){return Nm},r.prototype.onCanvasChange=function(t){US(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var i=(0,pp.getBBoxMethod)(this.get("type"));i&&(n=i(this))}if(n){var l=n.x,c=n.y,f=n.width,d=n.height,p=this.getHitLineWidth(),m=p/2,x=l-m,_=c-m;return{x,y:_,minX:x,minY:_,maxX:l+f+m,maxY:c+d+m,width:f+p,height:d+p}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr();return(t.fill||t.fillStyle||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr();return(t.stroke||t.strokeStyle)&&this.canStroke},r.prototype.draw=function(t,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||GS(this),Af(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var i=n||this.attr(),l=i.fill,c=i.fillStyle,f=i.stroke,d=i.strokeStyle,p=i.fillOpacity,m=i.strokeOpacity,x=i.lineWidth,_=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(t,"fill",l):"fillStyle"in i&&this._setColor(t,"fill",c):this._setColor(t,"fill",l||c),p&&_.setAttribute(tn.fillOpacity,p)),this.canStroke&&x>0&&(n?"stroke"in i?this._setColor(t,"stroke",f):"strokeStyle"in i&&this._setColor(t,"stroke",d):this._setColor(t,"stroke",f||d),m&&_.setAttribute(tn.strokeOpacity,m),x&&_.setAttribute(tn.lineWidth,x))},r.prototype._setColor=function(t,n,i){var l=this.get("el");if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(c=t.find("gradient",i))||(c=t.addGradient(i)),l.setAttribute(tn[n],"url(#"+c+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var c;(c=t.find("pattern",i))||(c=t.addPattern(i)),l.setAttribute(tn[n],"url(#"+c+")")}else l.setAttribute(tn[n],i);else l.setAttribute(tn[n],"none")},r.prototype.shadow=function(t,n){var i=this.attr(),l=n||i;(l.shadowOffsetX||l.shadowOffsetY||l.shadowBlur||l.shadowColor)&&function X5(e,r){var t=e.cfg.el,n=e.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(i.dx||i.dy||i.blur||i.color){var l=r.find("filter",i);l||(l=r.addShadow(i)),t.setAttribute("filter","url(#"+l+")")}else t.removeAttribute("filter")}(this,t)},r.prototype.transform=function(t){var n=this.attr();(t||n).matrix&&bf(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var i=this.get("el"),c=this.get("canvas").get("el").getBoundingClientRect(),p=document.elementFromPoint(t+c.left,n+c.top);return!(!p||!p.isEqualNode(i))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?n+i:0},r}(pp.AbstractShape);const qa=$5;var Z5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){"x"===f||"y"===f?l.setAttribute("c"+f,c):tn[f]&&l.setAttribute(tn[f],c)})},r}(qa);const q5=Z5;var K5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");if((0,S.S6)(n||i,function(p,m){tn[m]&&l.setAttribute(tn[m],p)}),"function"==typeof i.html){var c=i.html.call(this,i);if(c instanceof Element||c instanceof HTMLDocument){for(var f=l.childNodes,d=f.length-1;d>=0;d--)l.removeChild(f[d]);l.appendChild(c)}else l.innerHTML=c}else l.innerHTML=i.html},r}(qa);const XS=K5;var Q5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){"x"===f||"y"===f?l.setAttribute("c"+f,c):tn[f]&&l.setAttribute(tn[f],c)})},r}(qa);const J5=Q5;var j5=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var i=this,l=this.attr(),c=this.get("el");(0,S.S6)(n||l,function(f,d){"img"===d?i._setImage(l.img):tn[d]&&c.setAttribute(tn[d],f)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,"img"===t&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),i=this.get("el");if((0,S.HD)(t))i.setAttribute("href",t);else if(t instanceof window.Image)n.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,S.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var l=document.createElement("canvas");l.setAttribute("width",""+t.width),l.setAttribute("height",""+t.height),l.getContext("2d").putImageData(t,0,0),n.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",l.toDataURL())}},r}(qa);const tI=j5;var VS=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){if("startArrow"===f||"endArrow"===f)if(c){var d=(0,S.Kn)(c)?t.addArrow(i,tn[f]):t.getDefaultArrow(i,tn[f]);l.setAttribute(tn[f],"url(#"+d+")")}else l.removeAttribute(tn[f]);else tn[f]&&l.setAttribute(tn[f],c)})},r.prototype.getTotalLength=function(){var t=this.attr();return Ln.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var n=this.attr();return Ln.x1.pointAt(n.x1,n.y1,n.x2,n.y2,t)},r}(qa);const eI=VS;var gp={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,2*t,0],["a",t,t,0,1,0,2*-t,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}};const $S={get:function(e){return gp[e]},register:function(e,r){gp[e]=r},remove:function(e){delete gp[e]},getAll:function(){return gp}};var rI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,S.kJ)(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var f,t=this.attr(),n=t.x,i=t.y,l=t.r||t.radius,c=t.symbol||"circle";return(f=(0,S.mf)(c)?c:$S.get(c))?f(n,i,l):(console.warn(f+" symbol is not exist."),null)},r.symbolsFactory=$S,r}(qa);const yp=rI;var nI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this,l=this.attr(),c=this.get("el");(0,S.S6)(n||l,function(f,d){if("path"===d&&(0,S.kJ)(f))c.setAttribute("d",i._formatPath(f));else if("startArrow"===d||"endArrow"===d)if(f){var p=(0,S.Kn)(f)?t.addArrow(l,tn[d]):t.getDefaultArrow(l,tn[d]);c.setAttribute(tn[d],"url(#"+p+")")}else c.removeAttribute(tn[d]);else tn[d]&&c.setAttribute(tn[d],f)})},r.prototype._formatPath=function(t){var n=t.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),i=this.getTotalLength();if(0===i)return null;var l=n?n.getPointAtLength(t*i):null;return l?{x:l.x,y:l.y}:null},r}(qa);const iI=nI;var aI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){"points"===f&&(0,S.kJ)(c)&&c.length>=2?l.setAttribute("points",c.map(function(d){return d[0]+","+d[1]}).join(" ")):tn[f]&&l.setAttribute(tn[f],c)})},r}(qa);const oI=aI;var sI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var i=this.attr(),l=this.get("el");(0,S.S6)(n||i,function(c,f){"points"===f&&(0,S.kJ)(c)&&c.length>=2?l.setAttribute("points",c.map(function(d){return d[0]+","+d[1]}).join(" ")):tn[f]&&l.setAttribute(tn[f],c)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,S.UM)(n)?(this.set("totalLength",Ln.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var l,c,n=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,S.S6)(i,function(f,d){t>=f[0]&&t<=f[1]&&(l=(t-f[0])/(f[1]-f[0]),c=d)}),Ln.x1.pointAt(n[c][0],n[c][1],n[c+1][0],n[c+1][1],l)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var n=this.getTotalLength();if(!(n<=0)){var c,f,i=0,l=[];(0,S.S6)(t,function(d,p){t[p+1]&&((c=[])[0]=i/n,f=Ln.x1.length(d[0],d[1],t[p+1][0],t[p+1][1]),c[1]=(i+=f)/n,l.push(c))}),this.set("tCache",l)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(qa);const lI=sI;var cI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var i=this,l=this.attr(),c=this.get("el"),f=!1,d=["x","y","width","height","radius"];(0,S.S6)(n||l,function(p,m){-1===d.indexOf(m)||f?-1===d.indexOf(m)&&tn[m]&&c.setAttribute(tn[m],p):(c.setAttribute("d",i._assembleRect(l)),f=!0)})},r.prototype._assembleRect=function(t){var n=t.x,i=t.y,l=t.width,c=t.height,f=t.radius;if(!f)return"M "+n+","+i+" l "+l+",0 l 0,"+c+" l"+-l+" 0 z";var d=function uI(e){var r=0,t=0,n=0,i=0;return(0,S.kJ)(e)?1===e.length?r=t=n=i=e[0]:2===e.length?(r=n=e[0],t=i=e[1]):3===e.length?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,{r1:r,r2:t,r3:n,r4:i}}(f);return(0,S.kJ)(f)?1===f.length?d.r1=d.r2=d.r3=d.r4=f[0]:2===f.length?(d.r1=d.r3=f[0],d.r2=d.r4=f[1]):3===f.length?(d.r1=f[0],d.r2=d.r4=f[1],d.r3=f[2]):(d.r1=f[0],d.r2=f[1],d.r3=f[2],d.r4=f[3]):d.r1=d.r2=d.r3=d.r4=f,[["M "+(n+d.r1)+","+i],["l "+(l-d.r1-d.r2)+",0"],["a "+d.r2+","+d.r2+",0,0,1,"+d.r2+","+d.r2],["l 0,"+(c-d.r2-d.r3)],["a "+d.r3+","+d.r3+",0,0,1,"+-d.r3+","+d.r3],["l "+(d.r3+d.r4-l)+",0"],["a "+d.r4+","+d.r4+",0,0,1,"+-d.r4+","+-d.r4],["l 0,"+(d.r4+d.r1-c)],["a "+d.r1+","+d.r1+",0,0,1,"+d.r1+","+-d.r1],["z"]].join(" ")},r}(qa);const hI=cI;var fI={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},vI={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Pc={left:"left",start:"left",center:"middle",right:"end",end:"end"},dI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,E.ZT)(r,e),r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,E.pi)((0,E.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var i=this,l=this.attr(),c=this.get("el");this._setFont(),(0,S.S6)(n||l,function(f,d){"text"===d?i._setText(""+f):"matrix"===d&&f?bf(i):tn[d]&&c.setAttribute(tn[d],f)}),c.setAttribute("paint-order","stroke"),c.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),i=n.textBaseline,l=n.textAlign,c=(0,Jv.qY)();c&&"firefox"===c.name?t.setAttribute("dominant-baseline",vI[i]||"alphabetic"):t.setAttribute("alignment-baseline",fI[i]||"baseline"),t.setAttribute("text-anchor",Pc[l]||"left")},r.prototype._setText=function(t){var n=this.get("el"),i=this.attr(),l=i.x,c=i.textBaseline,f=void 0===c?"bottom":c;if(t)if(~t.indexOf("\n")){var d=t.split("\n"),p=d.length-1,m="";(0,S.S6)(d,function(x,_){0===_?"alphabetic"===f?m+='<tspan x="'+l+'" dy="'+-p+'em">'+x+"</tspan>":"top"===f?m+='<tspan x="'+l+'" dy="0.9em">'+x+"</tspan>":"middle"===f?m+='<tspan x="'+l+'" dy="'+-(p-1)/2+'em">'+x+"</tspan>":"bottom"===f?m+='<tspan x="'+l+'" dy="-'+(p+.3)+'em">'+x+"</tspan>":"hanging"===f&&(m+='<tspan x="'+l+'" dy="'+(-(p-1)-.3)+'em">'+x+"</tspan>"):m+='<tspan x="'+l+'" dy="1em">'+x+"</tspan>"}),n.innerHTML=m}else n.innerHTML=t;else n.innerHTML=""},r}(qa);const pI=dI;var gI=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Gm=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,yI=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Mu(e){var r=e.match(yI);if(!r)return"";var t="";return r.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),(0,S.S6)(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}var mI=function(){function e(r){this.cfg={};var t=null,n=(0,S.EL)("gradient_");return"l"===r.toLowerCase()[0]?function Ym(e,r){var l,c,t=gI.exec(e),n=(0,S.wQ)((0,S.c$)(parseFloat(t[1])),2*Math.PI),i=t[2];n>=0&&n<.5*Math.PI?(l={x:0,y:0},c={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(l={x:1,y:0},c={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(l={x:1,y:1},c={x:0,y:0}):(l={x:0,y:1},c={x:1,y:0});var f=Math.tan(n),d=f*f,p=(c.x-l.x+f*(c.y-l.y))/(d+1)+l.x,m=f*(c.x-l.x+f*(c.y-l.y))/(d+1)+l.y;r.setAttribute("x1",l.x),r.setAttribute("y1",l.y),r.setAttribute("x2",p),r.setAttribute("y2",m),r.innerHTML=Mu(i)}(r,t=Za("linearGradient")):function Uo(e,r){var t=Gm.exec(e),n=parseFloat(t[1]),i=parseFloat(t[2]),l=parseFloat(t[3]),c=t[4];r.setAttribute("cx",n),r.setAttribute("cy",i),r.setAttribute("r",l),r.innerHTML=Mu(c)}(r,t=Za("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}();const pa=mI;var xI={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},qS={x:"-40%",y:"-40%",width:"200%",height:"200%"},CI=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=Za("filter");return(0,S.S6)(qS,function(n,i){t.setAttribute(i,n)}),this.el=t,this.id=(0,S.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,i=this.cfg;return(0,S.S6)(Object.keys(i),function(l){if(i[l]!==t[l])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[xI[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){t.innerHTML='<feDropShadow\n      dx="'+(r.dx||0)+'"\n      dy="'+(r.dy||0)+'"\n      stdDeviation="'+(r.blur?r.blur/10:0)+'"\n      flood-color="'+(r.color?r.color:"#000")+'"\n      flood-opacity="'+(r.opacity?r.opacity:1)+'"\n      />'},e}();const wI=CI;var Wm=function(){function e(r,t){this.cfg={};var n=Za("marker"),i=(0,S.EL)("marker_");n.setAttribute("id",i);var l=Za("path");l.setAttribute("stroke",r.stroke||"none"),l.setAttribute("fill",r.fill||"none"),n.appendChild(l),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=l,this.id=i;var c=r["marker-start"===t?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",!0===c?this._setDefaultPath(t,l):(this.cfg=c,this._setMarker(r.lineWidth,l)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(r,t){var n=this.el,i=this.cfg.path,l=this.cfg.d;(0,S.kJ)(i)&&(i=i.map(function(c){return c.join(" ")}).join("")),t.setAttribute("d",i),n.appendChild(t),l&&n.setAttribute("refX",""+l/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}();const xp=Wm;var _I=function(){function e(r){this.type="clip",this.cfg={};var t=Za("clipPath");return this.el=t,this.id=(0,S.EL)("clip_"),t.id=this.id,t.appendChild(r.cfg.el),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}();const Um=_I;var SI=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,MI=function(){function e(r){this.cfg={};var t=Za("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Za("image");t.appendChild(n);var i=(0,S.EL)("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=r;var c=SI.exec(r)[2];n.setAttribute("href",c);var f=new Image;function d(){t.setAttribute("width",""+f.width),t.setAttribute("height",""+f.height)}return c.match(/^data:/i)||(f.crossOrigin="Anonymous"),f.src=c,f.complete?d():(f.onload=d,f.src=f.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}();const TI=MI;var bI=function(){function e(r){var t=Za("defs"),n=(0,S.EL)("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,i=null,l=0;l<n.length;l++)if(n[l].match(r,t)){i=n[l].id;break}return i},e.prototype.findById=function(r){for(var t=this.children,n=null,i=0;i<t.length;i++)if(t[i].id===r){n=t[i];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new xp(r,t);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},e.prototype.addGradient=function(r){var t=new pa(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new xp(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new wI(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new TI(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new Um(r);return this.el.appendChild(t.el),this.add(t),t.id},e}();const AI=bI;var KS=function(e){function r(t){return e.call(this,(0,E.pi)((0,E.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,E.ZT)(r,e),r.prototype.getShapeBase=function(){return ne},r.prototype.getGroupBase=function(){return Nm},r.prototype.getShape=function(t,n,i){var l=i.target||i.srcElement;if(!cl[l.tagName]){for(var c=l.parentNode;c&&!cl[c.tagName];)c=c.parentNode;l=c}return this.find(function(f){return f.get("el")===l})},r.prototype.createDom=function(){var t=Za("svg"),n=new AI(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),i=this.get("el");if("sort"===t){var l=this.get("children");l&&l.length&&YS(this,function(f,d){return l.indexOf(f)-l.indexOf(d)?1:0})}else if("clear"===t){if(i){i.innerHTML="";var c=n.el;c.innerHTML="",i.appendChild(c)}}else"matrix"===t?bf(this):"clip"===t?Af(this,n):"changeSize"===t&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();Af(this,t),n.length&&WS(t,n)},r}(pp.AbstractCanvas);const EI=KS;var LI="0.5.6",II=function(e){function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var i=t.connectNulls,c=t.showSinglePoint,f=void 0===c||c;return n.connectNulls=void 0!==i&&i,n.showSinglePoint=f,n}return(0,E.ZT)(r,e),r.prototype.updateElements=function(t,n){var i,l,c,f,d,p;void 0===n&&(n=!1);for(var m=new Map,x=new Map,_=[],T=0,b=0;b<t.length;b++){var F=this.getElementId(I=t[b]);_.push(F),m.set(F,I),x.set(F,T),T++}this.elements=new Array(T);var B=nS(this.lastElementsMap,_),Y=B.added,G=B.updated,H=B.removed;try{for(var et=(0,E.XA)(Y),wt=et.next();!wt.done;wt=et.next()){var I=m.get(F=wt.value),Ot=this.getShapeFactory(),$t=this.getShapeInfo(I);b=x.get(F),(ge=new j_({shapeFactory:Ot,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:b})).geometry=this,ge.animate=this.animateOption,ge.draw($t,n),this.elementsMap[F]=ge,this.elements[b]=ge}}catch(Rr){i={error:Rr}}finally{try{wt&&!wt.done&&(l=et.return)&&l.call(et)}finally{if(i)throw i.error}}try{for(var le=(0,E.XA)(G),Se=le.next();!Se.done;Se=le.next()){I=m.get(F=Se.value);var ge=this.lastElementsMap[F],Pe=(b=x.get(F),$t=this.getShapeInfo(I),ge.getModel());(this.isCoordinateChanged||rS(Pe,$t))&&(ge.animate=this.animateOption,ge.update($t)),this.elementsMap[F]=ge,this.elements[b]=ge}}catch(Rr){c={error:Rr}}finally{try{Se&&!Se.done&&(f=le.return)&&f.call(le)}finally{if(c)throw c.error}}try{for(var or=(0,E.XA)(H),cr=or.next();!cr.done;cr=or.next())(ge=this.lastElementsMap[F=cr.value]).animate=this.animateOption,ge.destroy()}catch(Rr){d={error:Rr}}finally{try{cr&&!cr.done&&(p=or.return)&&p.call(or)}finally{if(d)throw d.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],i=[],l=0,c=t.length;l<c;l++){var f=t[l];n.push({x:f.x,y:f.y}),i.push(f[pn])}return{points:n,data:i}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),l=i.points,c=i.data;return n.mappingData=t,n.data=c,n.isStack=!!this.getAdjust("stack"),n.points=l,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(al);const Xm=II;function QS(e,r,t,n,i){var l=[];if(e.length){for(var c=[],f=[],d=0,p=e.length;d<p;d++){var m=e[d];c.push(m[1]),f.push(m[0])}f=f.reverse(),(0,S.S6)([c,f],function(x,_){var T=[],b=n.parsePoints(x),I=b[0];1===c.length&&1===f.length?T=0===_?[["M",I.x-.5,I.y],["L",I.x+.5,I.y]]:[["L",I.x+.5,I.y],["L",I.x-.5,I.y]]:(r&&b.push({x:I.x,y:I.y}),T=t?Ac(b,!1,i):df(b,!1),_>0&&(T[0][0]="L")),l=l.concat(T)}),l.push(["Z"])}return l}function Cp(e,r,t,n,i){for(var l=Zn(e,r,!r,"lineWidth"),f=e.isInCircle,m=ap(e.points,e.connectNulls,e.showSinglePoint),x=[],_=0,T=m.length;_<T;_++)x=x.concat(QS(m[_],f,t,n,i));return l.path=x,l}function JS(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}il("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0;return((0,S.kJ)(e.y)?e.y:[t,e.y]).map(function(i){return{x:r,y:i}})}}),rn("area","area",{draw:function(e,r){var t=Cp(e,!1,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(e){return{symbol:function(t,n,i){return void 0===i&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:e.color,fillOpacity:1}}}});var jS=function(e){function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=t.startOnZero,c=t.sortable,f=void 0!==c&&c,d=t.showSinglePoint,p=void 0!==d&&d;return n.startOnZero=void 0===i||i,n.sortable=f,n.showSinglePoint=p,n}return(0,E.ZT)(r,e),r.prototype.getPointsAndData=function(t){for(var n=[],i=[],l=0,c=t.length;l<c;l++){var f=t[l];n.push(f.points),i.push(f[pn])}return{points:n,data:i}},r.prototype.getYMinValue=function(){return this.startOnZero?e.prototype.getYMinValue.call(this):this.getYScale().min},r}(Xm);const Ef=jS;il("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return Sm(e)}}),rn("edge","line",{draw:function(e,r){var t=Zn(e,!0,!1,"lineWidth"),n=df(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var OI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r}(al);const RI=OI;var FI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return(0,E.ZT)(r,e),r.prototype.updateElements=function(t,n){void 0===n&&(n=!1);for(var i=0;i<t.length;i++){var l=t[i],c=this.prepareRange(l),f=this.prepareSize(),d=(0,S.U2)(this.styleOption,["cfg","shadowBlur"]);(0,S.hj)(d)||(d=f/2),this.prepareGreyScaleBlurredCircle(f,d),this.drawWithRange(l,c,f,d)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,"function"!=typeof n?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],l=1/0,c=-1/0;return t.forEach(function(f){var d=f[pn][i];d>c&&(c=d),d<l&&(l=d)}),l===c&&(l=c-1),[l,c]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,S.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var i=this.getGrayScaleBlurredCanvas(),l=t+n,c=i.getContext("2d");i.width=i.height=2*l,c.clearRect(0,0,i.width,i.height),c.shadowOffsetX=c.shadowOffsetY=2*l,c.shadowBlur=n,c.shadowColor="black",c.beginPath(),c.arc(-l,-l,t,0,2*Math.PI,!0),c.closePath(),c.fill()},r.prototype.drawWithRange=function(t,n,i,l){var c,f,d=this.coordinate,p=d.start,m=d.end,x=this.coordinate.getWidth(),_=this.coordinate.getHeight(),b=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var I=this.getShadowCanvasCtx();n&&(t=t.filter(function(le){return le[pn][b]<=n[1]&&le[pn][b]>=n[0]}));var F=this.scales[b];try{for(var B=(0,E.XA)(t),Y=B.next();!Y.done;Y=B.next()){var G=Y.value,H=this.getDrawCfg(G),et=H.x,wt=H.y,Ot=F.scale(G[pn][b]);this.drawGrayScaleBlurredCircle(et-p.x,wt-m.y,i+l,Ot,I)}}catch(le){c={error:le}}finally{try{Y&&!Y.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}var $t=I.getImageData(0,0,x,_);this.clearShadowCanvasCtx(),this.colorize($t),I.putImageData($t,0,0);var ge=this.getImageShape();ge.attr("x",p.x),ge.attr("y",m.y),ge.attr("width",x),ge.attr("height",_),ge.attr("img",I.canvas),ge.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(4*t.scales[0].ticks.length),n.getHeight()/(4*t.scales[1].ticks.length))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,i,l,c){var f=this.getGrayScaleBlurredCanvas();c.globalAlpha=l,c.drawImage(f,t-i,n-i)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),i=t.data,l=this.paletteCache,c=3;c<i.length;c+=4){var f=i[c];if((0,S.hj)(f)){var d=l[f]?l[f]:Vs.rgb2arr(n.gradient(f/256));i[c-3]=d[0],i[c-2]=d[1],i[c-1]=d[2],i[c]=f}}},r.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=t.map(function(l){return l[pn]});return(0,E.pi)((0,E.pi)({},n),{mappingData:t,data:i})},r}(al);const DI=FI;function wp(e){var r,t,f,d,p,m,n=e.x,i=e.y,l=e.y0,c=e.size;(0,S.kJ)(i)?(f=(r=(0,E.CR)(i,2))[0],d=r[1]):(f=l,d=i),(0,S.kJ)(n)?(p=(t=(0,E.CR)(n,2))[0],m=t[1]):(p=n-c/2,m=n+c/2);var x=[{x:p,y:f},{x:p,y:d}];return x.push({x:m,y:d},{x:m,y:f}),x}function Vm(e,r){void 0===r&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var i=1,l=e.length;i<l;i++)t.push(["L",e[i].x,e[i].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function tM(e,r){var t=0,n=0,i=0,l=0;return(0,S.kJ)(e)?1===e.length?t=n=i=l=e[0]:2===e.length?(t=i=e[0],n=l=e[1]):3===e.length?(t=e[0],n=l=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],l=e[3]):t=n=i=l=e,t+n>r&&(n=r-(t=t?r/(1+n/t):0)),i+l>r&&(l=r-(i=i?r/(1+l/i):0)),[t||0,n||0,i||0,l||0]}function eM(e,r,t){var n=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},l=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},c=(0,S.U2)(e,["background","style","radius"]);if(c){var f=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,d=t.isTransposed?t.getWidth():t.getHeight(),p=(0,E.CR)(tM(c,Math.min(f,d)),4),m=p[0],x=p[1],_=p[2],T=p[3],b=t.isTransposed&&t.isReflect("y"),I=b?0:1,F=function(wt){return b?-wt:wt};n.push(["M",i.x,l.y+F(m)]),0!==m&&n.push(["A",m,m,0,0,I,i.x+m,l.y]),n.push(["L",l.x-x,l.y]),0!==x&&n.push(["A",x,x,0,0,I,l.x,l.y+F(x)]),n.push(["L",l.x,i.y-F(_)]),0!==_&&n.push(["A",_,_,0,0,I,l.x-_,i.y]),n.push(["L",i.x+T,i.y]),0!==T&&n.push(["A",T,T,0,0,I,i.x,i.y-F(T)])}else n.push(["M",i.x,i.y]),n.push(["L",l.x,i.y]),n.push(["L",l.x,l.y]),n.push(["L",i.x,l.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(t.isPolar){var B=t.getCenter(),Y=wc(e,t),G=Y.startAngle,H=Y.endAngle;if("theta"===t.type||t.isTransposed){var et=function($t){return Math.pow($t,2)};m=Math.sqrt(et(B.x-r[0].x)+et(B.y-r[0].y)),x=Math.sqrt(et(B.x-r[2].x)+et(B.y-r[2].y)),n=Js(B.x,B.y,m,t.startAngle,t.endAngle,x)}else n=Js(B.x,B.y,t.getRadius(),G,H)}return n}function rM(e,r,t){var n=[];return(0,S.UM)(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function Lf(e,r){return[r,e]}function $m(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),i=n.values,l=e.beforeMappingData,c=i.length,f=Sc(e.coordinate),d=e.intervalPadding,p=e.dodgePadding,m=e.maxColumnWidth||r.maxColumnWidth,x=e.minColumnWidth||r.minColumnWidth,_=e.columnWidthRatio||r.columnWidthRatio,T=e.multiplePieWidthRatio||r.multiplePieWidthRatio,b=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var I=function BI(e,r){var t=e.length,n=e;(0,S.HD)(n[0])&&(n=e.map(function(f){return r.translate(f)}));for(var i=n[1]-n[0],l=2;l<t;l++){var c=n[l]-n[l-1];i>c&&(i=c)}return i}(i,n);i.length>(c=(n.max-n.min)/I)&&(c=i.length)}var F=n.range,B=1/c,Y=1;if(t.isPolar?Y=t.isTransposed&&c>1?T:b:(n.isLinear&&(B*=F[1]-F[0]),Y=_),!(0,S.UM)(d)&&d>=0?B=(1-d/f*(c-1))/c:B*=Y,e.getAdjust("dodge")){var wt=function PI(e,r){if(r){var t=(0,S.xH)(e);return(0,S.I)(t,r).length}return e.length}(l,e.getAdjust("dodge").dodgeBy);!(0,S.UM)(p)&&p>=0?B=(B-p/f*(wt-1))/wt:(!(0,S.UM)(d)&&d>=0&&(B*=Y),B/=wt),B=B>=0?B:0}if(!(0,S.UM)(m)&&m>=0){var $t=m/f;B>$t&&(B=$t)}if(!(0,S.UM)(x)&&x>=0){var ge=x/f;B<ge&&(B=ge)}return B}il("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return wp(e)}}),rn("interval","rect",{draw:function(e,r){var f,t=Zn(e,!1,!0),n=r,i=e?.background;if(i){n=r.addGroup({name:"interval-group"});var l=_m(e),c=eM(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},l),{path:c}),zIndex:-1,name:vm})}f=t.radius&&this.coordinate.isRect?function nM(e,r,t){var n,i,l,c,f,d,p,m=(0,E.CR)((0,E.ev)([],(0,E.CR)(e),!1),4),x=m[0],_=m[1],T=m[2],b=m[3],I=(0,E.CR)("number"==typeof t?Array(4).fill(t):t,4),F=I[0],B=I[1],Y=I[2],G=I[3];r.isTransposed&&(_=(n=(0,E.CR)(Lf(_,b),2))[0],b=n[1]),r.isReflect("y")&&(x=(i=(0,E.CR)(Lf(x,_),2))[0],_=i[1],T=(l=(0,E.CR)(Lf(T,b),2))[0],b=l[1]),r.isReflect("x")&&(x=(c=(0,E.CR)(Lf(x,b),2))[0],b=c[1],_=(f=(0,E.CR)(Lf(_,T),2))[0],T=f[1]);var H=[],et=function(wt){return Math.abs(wt)};return F=(d=(0,E.CR)(tM([F,B,Y,G],Math.min(et(b.x-x.x),et(_.y-x.y))).map(function(wt){return et(wt)}),4))[0],B=d[1],Y=d[2],G=d[3],r.isTransposed&&(F=(p=(0,E.CR)([G,F,B,Y],4))[0],B=p[1],Y=p[2],G=p[3]),x.y<_.y?(H.push(["M",b.x,b.y+Y]),0!==Y&&H.push(["A",Y,Y,0,0,0,b.x-Y,b.y]),H.push(["L",x.x+G,x.y]),0!==G&&H.push(["A",G,G,0,0,0,x.x,x.y+G]),H.push(["L",_.x,_.y-F]),0!==F&&H.push(["A",F,F,0,0,0,_.x+F,_.y]),H.push(["L",T.x-B,T.y]),0!==B&&H.push(["A",B,B,0,0,0,T.x,T.y-B]),H.push(["L",b.x,b.y+Y]),H.push(["z"])):b.x<x.x?(H.push(["M",T.x+B,T.y]),0!==B&&H.push(["A",B,B,0,0,0,T.x,T.y+B]),H.push(["L",b.x,b.y-Y]),0!==Y&&H.push(["A",Y,Y,0,0,0,b.x+Y,b.y]),H.push(["L",x.x-G,x.y]),0!==G&&H.push(["A",G,G,0,0,0,x.x,x.y-G]),H.push(["L",_.x,_.y+F]),0!==F&&H.push(["A",F,F,0,0,0,_.x-F,_.y]),H.push(["L",T.x+B,T.y]),H.push(["z"])):(H.push(["M",_.x,_.y+F]),0!==F&&H.push(["A",F,F,0,0,1,_.x+F,_.y]),H.push(["L",T.x-B,T.y]),0!==B&&H.push(["A",B,B,0,0,1,T.x,T.y+B]),H.push(["L",b.x,b.y-Y]),0!==Y&&H.push(["A",Y,Y,0,0,1,b.x-Y,b.y]),H.push(["L",x.x+G,x.y]),0!==G&&H.push(["A",G,G,0,0,1,x.x,x.y-G]),H.push(["L",_.x,_.y+F]),H.push(["z"])),H}(this.parsePoints(e.points),this.coordinate,t.radius):this.parsePath(function hl(e,r,t){var n=t.getWidth(),i=t.getHeight(),c=[],f=(e[2].x-e[1].x)/2,d=t.isTransposed?f*i/n:f*n/i;return"round"===r?("rect"===t.type?(c.push(["M",e[0].x,e[0].y+d]),c.push(["L",e[1].x,e[1].y-d]),c.push(["A",f,f,0,0,1,e[2].x,e[2].y-d]),c.push(["L",e[3].x,e[3].y+d]),c.push(["A",f,f,0,0,1,e[0].x,e[0].y+d])):(c.push(["M",e[0].x,e[0].y]),c.push(["L",e[1].x,e[1].y]),c.push(["A",f,f,0,0,1,e[2].x,e[2].y]),c.push(["L",e[3].x,e[3].y]),c.push(["A",f,f,0,0,1,e[0].x,e[0].y])),c.push(["z"])):c=Vm(e),c}(e.points,t.lineCap,this.coordinate));var d=n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:f}),name:"interval"});return i?n:d},getMarker:function(e){var r=e.color;return e.isInPolar?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var kI=function(e){function r(t){var n=e.call(this,t)||this;return n.type="interval",n.shapeType="interval",n.generatePoints=!0,n.background=t.background,n}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var i,n=e.prototype.createShapePointsCfg.call(this,t),l=this.getAttribute("size");return l?(i=this.getAttributeValues(l,t)[0],i/=Sc(this.coordinate)):(this.defaultSize||(this.defaultSize=$m(this)),i=this.defaultSize),n.size=i,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:pL(t)});else{var n=this.scaleDefs,i=t.field,c=t.max;"time"!==t.type&&(t.min>0&&!(0,S.U2)(n,[i,"min"])&&t.change({min:0}),c<=0&&!(0,S.U2)(n,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(al);const zI=kI;var Ke=function(e){function r(t){var n=e.call(this,t)||this;n.type="line";var i=t.sortable;return n.sortable=void 0!==i&&i,n}return(0,E.ZT)(r,e),r}(Xm);const Vi=Ke;var iM=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function Zm(e,r,t,n,i){var l,c,f=Zn(r,i,!i,"r"),d=e.parsePoints(r.points),p=d[0];if(r.isStack)p=d[1];else if(d.length>1){var m=t.addGroup();try{for(var x=(0,E.XA)(d),_=x.next();!_.done;_=x.next()){var T=_.value;m.addShape({type:"marker",attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},f),{symbol:Cu[n]||n}),T)})}}catch(b){l={error:b}}finally{try{_&&!_.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}return m}return t.addShape({type:"marker",attrs:(0,E.pi)((0,E.pi)((0,E.pi)({},f),{symbol:Cu[n]||n}),p)})}il("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return Sm(e)}}),(0,S.S6)(iM,function(e){rn("point","hollow-".concat(e),{draw:function(r,t){return Zm(this,r,t,e,!0)},getMarker:function(r){return{symbol:Cu[e]||e,style:{r:4.5,stroke:r.color,fill:null}}}})});var GI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return(0,E.pi)((0,E.pi)({},n),{isStack:!!this.getAdjust("stack")})},r}(al);const YI=GI;il("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return(0,S.S6)(e.x,function(t,n){r.push({x:t,y:e.y[n]})}),r}}),rn("polygon","polygon",{draw:function(e,r){if(!(0,S.xb)(e.points)){var t=Zn(e,!0,!0),n=this.parsePath(function ga(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var i=e[t];(i.x!==e[t-1].x||i.y!==e[t-1].y)&&(n.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return(0,S.Xy)((0,S.Z$)(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"polygon"})}},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}});var WI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var c,n=e.prototype.createShapePointsCfg.call(this,t),i=n.x,l=n.y;if(!(0,S.kJ)(i)||!(0,S.kJ)(l)){var f=this.getXScale(),d=this.getYScale(),x=.5/f.values.length,_=.5/d.values.length;f.isCategory&&d.isCategory?(i=[i-x,i-x,i+x,i+x],l=[l-_,l+_,l+_,l-_]):(0,S.kJ)(i)?(i=[(c=i)[0],c[0],c[1],c[1]],l=[l-_/2,l+_/2,l+_/2,l-_/2]):(0,S.kJ)(l)&&(l=[(c=l)[0],c[1],c[1],c[0]],i=[i-x/2,i-x/2,i+x/2,i+x/2]),n.x=i,n.y=l}return n},r}(al);const UI=WI;il("schema",{defaultShapeType:""});var XI=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var i,n=e.prototype.createShapePointsCfg.call(this,t),l=this.getAttribute("size");return l?(i=this.getAttributeValues(l,t)[0],i/=Sc(this.coordinate)):(this.defaultSize||(this.defaultSize=$m(this)),i=this.defaultSize),n.size=i,n},r}(al);const VI=XI;il("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=function $I(e){if(!(0,S.kJ)(e))return[];var r=(0,S.Fp)(e);return(0,S.UI)(e,function(t){return t/r})}(e._size);return(0,S.S6)(e.y,function(i,l){var c=n[l]*r,f=0===l,d=l===e.y.length-1;t.push({isMin:f,isMax:d,x:e.x-c,y:i}),t.unshift({isMin:f,isMax:d,x:e.x+c,y:i})}),t}}),rn("violin","violin",{draw:function(e,r){var t=Zn(e,!0,!0),n=this.parsePath(uS(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"violin"})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:e.color}}}});var qm=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return(0,E.ZT)(r,e),r.prototype.createShapePointsCfg=function(t){var i,n=e.prototype.createShapePointsCfg.call(this,t),l=this.getAttribute("size");return l?(i=this.getAttributeValues(l,t)[0],i/=Sc(this.coordinate)):(this.defaultSize||(this.defaultSize=$m(this)),i=this.defaultSize),n.size=i,n._size=(0,S.U2)(t[pn],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption;this._sizeField=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size",delete t.size,e.prototype.initAttributes.call(this)},r}(al);const oM=qm;function Km(e,r){return["C",1*e.x/2+1*r.x/2,e.y,1*e.x/2+1*r.x/2,r.y,r.x,r.y]}function fo(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return(0,S.S6)(t,function(i){n.push(i.x,i.y)}),n}rn("area","line",{draw:function(e,r){var t=Cp(e,!0,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(e){return{symbol:function(t,n,i){return void 0===i&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:e.color,fill:null}}}}),rn("area","smooth",{draw:function(e,r){var n=Cp(e,!1,!0,this,JS(this.coordinate));return r.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(e){return{symbol:function(t,n,i){return void 0===i&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:e.color,fillOpacity:1}}}}),rn("area","smooth-line",{draw:function(e,r){var n=Cp(e,!0,!0,this,JS(this.coordinate));return r.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(e){return{symbol:function(t,n,i){return void 0===i&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:e.color,fill:null}}}}),rn("edge","arc",{draw:function(e,r){var l,t=Zn(e,!0,!1,"lineWidth"),n=e.points,i=n.length>2?"weight":"normal";if(e.isInCircle){var c={x:0,y:1};return"normal"===i?l=function qI(e,r,t){var n=fo(r,t),i=[["M",e.x,e.y]];return i.push(n),i}(n[0],n[1],c):(t.fill=t.stroke,l=function KI(e,r){var t=fo(e[1],r),n=fo(e[3],r),i=[["M",e[0].x,e[0].y]];return i.push(n),i.push(["L",e[3].x,e[3].y]),i.push(["L",e[2].x,e[2].y]),i.push(t),i.push(["L",e[1].x,e[1].y]),i.push(["L",e[0].x,e[0].y]),i.push(["Z"]),i}(n,c)),l=this.parsePath(l),r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:l})})}if("normal"===i)return l=Yy(((n=this.parsePoints(n))[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,2*Math.PI),r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:l})});var f=Km(n[1],n[3]),d=Km(n[2],n[0]);return l=this.parsePath(l=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],f,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],d,["Z"]]),t.fill=t.stroke,r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:l})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),rn("edge","smooth",{draw:function(e,r){var t=Zn(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(function QI(e,r){var t=Km(e,r),n=[["M",e.x,e.y]];return n.push(t),n}(n[0],n[1]));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var _p=1/3;rn("edge","vhv",{draw:function(e,r){var t=Zn(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(function JI(e,r){var t=[];t.push({x:e.x,y:e.y*(1-_p)+r.y*_p}),t.push({x:r.x,y:e.y*(1-_p)+r.y*_p}),t.push(r);var n=[["M",e.x,e.y]];return(0,S.S6)(t,function(i){n.push(["L",i.x,i.y])}),n}(n[0],n[1]));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),rn("interval","funnel",{getPoints:function(e){return e.size=2*e.size,wp(e)},draw:function(e,r){var t=Zn(e,!1,!0),n=this.parsePath(rM(e.points,e.nextPoints,!1));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),rn("interval","hollow-rect",{draw:function(e,r){var t=Zn(e,!0,!1),n=r,i=e?.background;if(i){n=r.addGroup();var l=_m(e),c=eM(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},l),{path:c}),zIndex:-1,name:vm})}var f=this.parsePath(Vm(e.points)),d=n.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:f}),name:"interval"});return i?n:d},getMarker:function(e){var r=e.color;return e.isInPolar?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}}),rn("interval","line",{getPoints:function(e){return function jI(e){var r=e.x,t=e.y,n=e.y0;return(0,S.kJ)(t)?t.map(function(i,l){return{x:(0,S.kJ)(r)?r[l]:r,y:i}}):[{x:r,y:n},{x:r,y:t}]}(e)},draw:function(e,r){var t=Zn(e,!0,!1,"lineWidth"),n=ca((0,E.pi)({},t),["fill"]),i=this.parsePath(Vm(e.points,!1));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},n),{path:i}),name:"interval"})},getMarker:function(e){return{symbol:function(t,n,i){return[["M",t,n-i],["L",t,n+i]]},style:{r:5,stroke:e.color}}}}),rn("interval","pyramid",{getPoints:function(e){return e.size=2*e.size,wp(e)},draw:function(e,r){var t=Zn(e,!1,!0),n=this.parsePath(rM(e.points,e.nextPoints,!0));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),rn("interval","tick",{getPoints:function(e){return function tO(e){var r,c,f,t=e.x,n=e.y,i=e.y0,l=e.size;(0,S.kJ)(n)?(c=(r=(0,E.CR)(n,2))[0],f=r[1]):(c=i,f=n);var d=t+l/2,p=t-l/2;return[{x:t,y:c},{x:t,y:f},{x:p,y:c},{x:d,y:c},{x:p,y:f},{x:d,y:f}]}(e)},draw:function(e,r){var t=Zn(e,!0,!1),n=this.parsePath(function eO(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n}),name:"interval"})},getMarker:function(e){return{symbol:function(t,n,i){return[["M",t-i/2,n-i],["L",t+i/2,n-i],["M",t,n-i],["L",t,n+i],["M",t-i/2,n+i],["L",t+i/2,n+i]]},style:{r:5,stroke:e.color}}}});var rO=function(e,r,t){var f,n=e.x,i=e.y,l=r.x,c=r.y;switch(t){case"hv":f=[{x:l,y:i}];break;case"vh":f=[{x:n,y:c}];break;case"hvh":var d=(l+n)/2;f=[{x:d,y:i},{x:d,y:c}];break;case"vhv":var p=(i+c)/2;f=[{x:n,y:p},{x:l,y:p}]}return f};function sM(e){var r=(0,S.kJ)(e)?e:[e],t=r[0],n=r[r.length-1],i=r.length>1?r[1]:t;return{min:t,max:n,min1:i,max1:r.length>3?r[3]:n,median:r.length>2?r[2]:i}}function lM(e,r,t){var i,n=t/2;if((0,S.kJ)(r)){var l=sM(r),x=e-n,_=e+n;i=[[x,f=l.max],[_,f],[e,f],[e,m=l.max1],[x,p=l.min1],[x,m],[_,m],[_,p],[e,p],[e,c=l.min],[x,c],[_,c],[x,d=l.median],[_,d]]}else{r=(0,S.UM)(r)?.5:r;var c,f,d,p,m,T=sM(e),b=r-n,I=r+n;i=[[c=T.min,b],[c,I],[c,r],[p=T.min1,r],[p,b],[p,I],[m=T.max1,I],[m,b],[m,r],[f=T.max,r],[f,b],[f,I],[d=T.median,b],[d,I]]}return i.map(function(F){return{x:F[0],y:F[1]}})}function uM(e,r,t){var n=function sO(e){var t=((0,S.kJ)(e)?e:[e]).sort(function(n,i){return i-n});return function sL(e,r,t){if((0,S.HD)(e))return e.padEnd(r,t);if((0,S.kJ)(e)){var n=e.length;if(n<r)for(var i=r-n,l=0;l<i;l++)e.push(t)}return e}(t,4,t[t.length-1])}(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function Qm(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),i=Math.min(t,n);return r&&(i=(0,S.uZ)(r,0,Math.min(t,n))),{x:(e[0].x+e[2].x)/2-(i/=2),y:(e[0].y+e[2].y)/2-i,width:2*i,height:2*i}}(0,S.S6)(["hv","vh","hvh","vhv"],function(e){rn("line",e,{draw:function(r,t){var n=function aO(e,r){var t=ap(e.points,e.connectNulls,e.showSinglePoint),n=[];return(0,S.S6)(t,function(i){var l=function nO(e,r){var t=[];return(0,S.S6)(e,function(n,i){var l=e[i+1];if(t.push(n),l){var c=rO(n,l,r);t=t.concat(c)}}),t}(i,r);n=n.concat(function iO(e){return e.map(function(r,t){return 0===t?["M",r.x,r.y]:["L",r.x,r.y]})}(l))}),(0,E.pi)((0,E.pi)({},Zn(e,!0,!1,"lineWidth")),{path:n})}(r,e);return t.addShape({type:"path",attrs:n,name:"line"})},getMarker:function(r){return uo(r,e)}})}),(0,S.S6)(["cross","tick","plus","hyphen","line"],function(e){rn("point",e,{draw:function(r,t){return Zm(this,r,t,e,!0)},getMarker:function(r){return{symbol:Cu[e],style:{r:4.5,stroke:r.color,fill:null}}}})}),rn("point","image",{draw:function(e,r){var t,n,i=Zn(e,!1,!1,"r").r,l=this.parsePoints(e.points),c=l[0];if(e.isStack)c=l[1];else if(l.length>1){var f=r.addGroup();try{for(var d=(0,E.XA)(l),p=d.next();!p.done;p=d.next()){var m=p.value;f.addShape("image",{attrs:{x:m.x-i/2,y:m.y-i,width:i,height:i,img:e.shape[1]}})}}catch(x){t={error:x}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return f}return r.addShape("image",{attrs:{x:c.x-i/2,y:c.y-i,width:i,height:i,img:e.shape[1]}})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),(0,S.S6)(iM,function(e){rn("point",e,{draw:function(r,t){return Zm(this,r,t,e,!1)},getMarker:function(r){return{symbol:Cu[e]||e,style:{r:4.5,fill:r.color}}}})}),rn("schema","box",{getPoints:function(e){return lM(e.x,e.y,e.size)},draw:function(e,r){var t=Zn(e,!0,!1),n=this.parsePath(function oO(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n,name:"schema"})})},getMarker:function(e){return{symbol:function(t,n,i){var c=lM(t,[n-6,n-3,n,n+3,n+6],i);return[["M",c[0].x+1,c[0].y],["L",c[1].x-1,c[1].y],["M",c[2].x,c[2].y],["L",c[3].x,c[3].y],["M",c[4].x,c[4].y],["L",c[5].x,c[5].y],["L",c[6].x,c[6].y],["L",c[7].x,c[7].y],["L",c[4].x,c[4].y],["Z"],["M",c[8].x,c[8].y],["L",c[9].x,c[9].y],["M",c[10].x+1,c[10].y],["L",c[11].x-1,c[11].y],["M",c[12].x,c[12].y],["L",c[13].x,c[13].y]]},style:{r:6,lineWidth:1,stroke:e.color}}}}),rn("schema","candle",{getPoints:function(e){return uM(e.x,e.y,e.size)},draw:function(e,r){var t=Zn(e,!0,!0),n=this.parsePath(function lO(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n,name:"schema"})})},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var c=uM(t,[n+7.5,n+3,n-3,n-7.5],i);return[["M",c[0].x,c[0].y],["L",c[1].x,c[1].y],["M",c[2].x,c[2].y],["L",c[3].x,c[3].y],["L",c[4].x,c[4].y],["L",c[5].x,c[5].y],["Z"],["M",c[6].x,c[6].y],["L",c[7].x,c[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}}),rn("polygon","square",{draw:function(e,r){if(!(0,S.xb)(e.points)){var t=Zn(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:(0,E.pi)((0,E.pi)({},t),Qm(n,e.size)),name:"polygon"})}},getMarker:function(e){return{symbol:"square",style:{r:4,fill:e.color}}}}),rn("violin","smooth",{draw:function(e,r){var t=Zn(e,!0,!0),n=this.parsePath(cS(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{stroke:null,r:4,fill:e.color}}}}),rn("violin","hollow",{draw:function(e,r){var t=Zn(e,!0,!1),n=this.parsePath(uS(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:null,stroke:e.color}}}}),rn("violin","hollow-smooth",{draw:function(e,r){var t=Zn(e,!0,!1),n=this.parsePath(cS(e.points));return r.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4,fill:null,stroke:e.color}}}});var uO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelValueDir=function(t){var i=t.points;return i[0].y<=i[2].y?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,i,l){var c,f=e.prototype.getLabelOffsetPoint.call(this,t,n,i),d=this.getCoordinate(),m=d.isTransposed?"x":"y",x=this.getLabelValueDir(t.mappingData);return f=(0,E.pi)((0,E.pi)({},f),((c={})[m]=f[m]*x,c)),d.isReflect("x")&&(f=(0,E.pi)((0,E.pi)({},f),{x:-1*f.x})),d.isReflect("y")&&(f=(0,E.pi)((0,E.pi)({},f),{y:-1*f.y})),f},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,i=this.getDefaultLabelCfg();return(0,S.b$)({},i,n.theme.labels,"middle"===t.position?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,i,l){var _,T,b,I,c=this.getCoordinate(),f=c.isTransposed,d=n.points,p=c.convert(d[0]),m=c.convert(d[2]),x=this.getLabelValueDir(n),F=(0,S.kJ)(n.shape)?n.shape[0]:n.shape;if("funnel"===F||"pyramid"===F){var B=(0,S.U2)(n,"nextPoints"),Y=(0,S.U2)(n,"points");if(B){var G=c.convert(Y[0]),H=c.convert(Y[1]),et=c.convert(B[0]),wt=c.convert(B[1]);f?(_=Math.min(et.y,G.y),b=Math.max(et.y,G.y),T=(H.x+wt.x)/2,I=(G.x+et.x)/2):(_=Math.min((H.y+wt.y)/2,(G.y+et.y)/2),b=Math.max((H.y+wt.y)/2,(G.y+et.y)/2),T=wt.x,I=G.x)}else _=Math.min(m.y,p.y),b=Math.max(m.y,p.y),T=m.x,I=p.x}else _=Math.min(m.y,p.y),b=Math.max(m.y,p.y),T=m.x,I=p.x;switch(l){case"right":t.x=T,t.y=(_+b)/2,t.textAlign=(0,S.U2)(t,"textAlign",x>0?"left":"right");break;case"left":t.x=I,t.y=(_+b)/2,t.textAlign=(0,S.U2)(t,"textAlign",x>0?"left":"right");break;case"bottom":f&&(t.x=(T+I)/2),t.y=b,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline",x>0?"bottom":"top");break;case"middle":f&&(t.x=(T+I)/2),t.y=(_+b)/2,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline","middle");break;case"top":f&&(t.x=(T+I)/2),t.y=_,t.textAlign=(0,S.U2)(t,"textAlign","center"),t.textBaseline=(0,S.U2)(t,"textBaseline",x>0?"bottom":"top")}},r}(_f);const cO=uO;var kc=Math.PI/2,hO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),i=0;if((0,S.hj)(t))i=t;else if((0,S.HD)(t)&&-1!==t.indexOf("%")){var l=n.getRadius();n.innerRadius>0&&(l*=1-n.innerRadius),i=.01*parseFloat(t)*l}return i},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return(0,S.UI)(n,function(l){if(l&&i){var c=i.scale((0,S.U2)(l.data,i.field));return(0,E.pi)((0,E.pi)({},l),{percent:c})}return l})},r.prototype.getLabelAlign=function(t){var i,n=this.getCoordinate();if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var l=n.getCenter(),c=t.offset;i=Math.abs(t.x-l.x)<1?"center":t.angle>Math.PI||t.angle<=0?c>0?"left":"right":c>0?"right":"left"}else i="center";return i},r.prototype.getLabelPoint=function(t,n,i){var c,l=1,f=t.content[i];this.isToMiddle(n)?c=this.getMiddlePoint(n.points):(1===t.content.length&&0===i?i=1:0===i&&(l=-1),c=this.getArcPoint(n,i));var d=t.offset*l,p=this.getPointAngle(c),m=t.labelEmit,x=this.getCirclePoint(p,d,c,m);return 0===x.r?x.content="":(x.content=f,x.angle=p,x.color=n.color),x.rotate=t.autoRotate?this.getLabelRotate(p,d,m):t.rotate,x.start={x:c.x,y:c.y},x},r.prototype.getArcPoint=function(t,n){return void 0===n&&(n=0),(0,S.kJ)(t.x)||(0,S.kJ)(t.y)?{x:(0,S.kJ)(t.x)?t.x[n]:t.x,y:(0,S.kJ)(t.y)?t.y[n]:t.y}:{x:t.x,y:t.y}},r.prototype.getPointAngle=function(t){return Tc(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,i,l){var c=this.getCoordinate(),f=c.getCenter(),d=Vd(c,i);if(0===d)return(0,E.pi)((0,E.pi)({},f),{r:d});var p=t;return c.isTransposed&&d>n&&!l?p=t+2*Math.asin(n/(2*d)):d+=n,{x:f.x+d*Math.cos(p),y:f.y+d*Math.sin(p),r:d}},r.prototype.getLabelRotate=function(t,n,i){var l=t+kc;return i&&(l-=kc),l&&(l>kc?l-=Math.PI:l<-kc&&(l+=Math.PI)),l},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),i=t.length,l={x:0,y:0};return(0,S.S6)(t,function(c){l.x+=c.x,l.y+=c.y}),l.x/=i,l.y/=i,l=n.convert(l)},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(_f);const cM=hO;var fO=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return(0,E.ZT)(r,e),r.prototype.getDefaultLabelCfg=function(t,n){var i=e.prototype.getDefaultLabelCfg.call(this,t,n);return(0,S.b$)({},i,(0,S.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,i){var l;return n<0&&((l=t)>Math.PI/2&&(l-=Math.PI),l<-Math.PI/2&&(l+=Math.PI)),l},r.prototype.getLabelAlign=function(t){var l,i=this.getCoordinate().getCenter();return l=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",t.offset<=0&&(l="right"===l?"left":"right"),l},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var c,n=this.getCoordinate(),i={x:(0,S.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},l={x:(0,S.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},f=Tc(n,i);if(t.points&&t.points[0].y===t.points[1].y)c=f;else{var d=Tc(n,l);f>=d&&(d+=2*Math.PI),c=f+(d-f)/2}return c},r.prototype.getCirclePoint=function(t,n){var i=this.getCoordinate(),l=i.getCenter(),c=i.getRadius()+n;return(0,E.pi)((0,E.pi)({},$n(l.x,l.y,c,t)),{angle:t,r:c})},r}(cM);const vO=fO;function Sp(e,r,t){var n=e.filter(function(b){return!b.invisible});n.sort(function(b,I){return b.y-I.y});var d,i=!0,l=t.minY,f=Math.abs(l-t.maxY),p=0,m=Number.MIN_VALUE,x=n.map(function(b){return b.y>p&&(p=b.y),b.y<m&&(m=b.y),{content:b.content,size:r,targets:[b.y-l],pos:null}});for(m-=l,p-l>f&&(f=p-l);i;)for(x.forEach(function(b){var I=(Math.min.apply(m,b.targets)+Math.max.apply(m,b.targets))/2;b.pos=Math.min(Math.max(m,I-b.size/2),f-b.size),b.pos=Math.max(0,b.pos)}),i=!1,d=x.length;d--;)if(d>0){var _=x[d-1],T=x[d];_.pos+_.size>T.pos&&(_.size+=T.size,_.targets=_.targets.concat(T.targets),_.pos+_.size>f&&(_.pos=f-_.size),x.splice(d,1),i=!0)}d=0,x.forEach(function(b){var I=l+r/2;b.targets.forEach(function(){n[d].y=b.pos+I,I+=r,d++})})}var If=function(){function e(r){void 0===r&&(r={}),this.bitmap={};var t=r.xGap,i=r.yGap,l=void 0===i?8:i;this.xGap=void 0===t?1:t,this.yGap=l}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,i=Math.round(r.minX),l=Math.round(r.maxX),c=Math.round(r.minY),f=Math.round(r.maxY),d=i;d<=l;d+=1)if(n[d]){if(d===i||d===l){for(var p=c;p<=f;p++)if(n[d][p]){t=!1;break}}else if(n[d][c]||n[d][f]){t=!1;break}}else n[d]={};return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),i=Math.round(r.maxX),l=Math.round(r.minY),c=Math.round(r.maxY),f=n;f<=i;f+=1)t[f]||(t[f]={});for(f=n;f<=i;f+=this.xGap){for(var d=l;d<=c;d+=this.yGap)t[f][d]=!0;t[f][c]=!0}if(1!==this.yGap)for(f=l;f<=c;f+=1)t[n][f]=!0,t[i][f]=!0;if(1!==this.xGap)for(f=n;f<=i;f+=1)t[f][l]=!0,t[f][c]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function _O(e,r,t,n){var i=e.getCanvasBBox(),l=i.width,c=i.height,f={x:r,y:t,textAlign:"center"};switch(n){case 0:f.y-=c+1,f.x+=1,f.textAlign="left";break;case 1:f.y-=c+1,f.x-=1,f.textAlign="right";break;case 2:f.y+=c+1,f.x-=1,f.textAlign="right";break;case 3:f.y+=c+1,f.x+=1,f.textAlign="left";break;case 5:f.y-=2*c+2;break;case 6:f.y+=2*c+2;break;case 7:f.x+=l+1,f.textAlign="left";break;case 8:f.x-=l+1,f.textAlign="right"}return e.attr(f),e.getCanvasBBox()}function vM(e){if(e.length>4)return[];var r=function(i,l){return[l.x-i.x,l.y-i.y]};return[r(e[0],e[1]),r(e[1],e[2])]}function Of(e,r,t){void 0===r&&(r=0),void 0===t&&(t={x:0,y:0});var n=e.x,i=e.y;return{x:(n-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function dM(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[Of(r[0],t,r[0]),Of(r[1],t,r[0]),Of(r[2],t,r[0]),Of(r[3],t,r[0])]:r}function pM(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(function t1(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}([n.x,n.y],r))}),{min:Math.min.apply(Math,(0,E.ev)([],(0,E.CR)(t),!1)),max:Math.max.apply(Math,(0,E.ev)([],(0,E.CR)(t),!1))}}function TO(e,r){return e.max>r.min&&e.min<r.max}function gM(e){return["x","y","width","height"].every(function(r){return function Rf(e){return"number"==typeof e&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}(e[r])})}function AO(e,r,t){if(void 0===t&&(t=0),!gM(e)||!gM(r))return!1;if(!e.rotation&&!r.rotation)return function bO(e,r,t){return void 0===t&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}(e,r,t);for(var n=dM(e),i=dM(r),l=vM(n).concat(vM(i)),c=0;c<l.length;c++){var f=l[c];if(!TO(pM(n,f),pM(i,f)))return!1}return!0}var s1,e1=function(){function e(r){var t=this;this.queue=[],this.worker=new Worker(r),this.worker.onmessage=function(n){var i;null===(i=t.queue.shift())||void 0===i||i.resolve(n)},this.worker.onmessageerror=function(n){var i;console.warn("[AntV G2] Web worker is not available"),null===(i=t.queue.shift())||void 0===i||i.reject(n)}}return e.prototype.post=function(r,t){var n=this;return new Promise(function(i,l){n.queue.push({resolve:i,reject:l});try{n.worker.postMessage(r)}catch{console.warn("[AntV G2] Web worker is not available"),(0,S.mf)(t)&&t()}})},e.prototype.destroy=function(){this.worker.terminate()},e}(),mM="\n   self.onmessage = ".concat(function(e){var t=function r(){function m(G){if(G.length>4)return[];var H=function(Ot,$t){return[$t.x-Ot.x,$t.y-Ot.y]};return[H(G[0],G[1]),H(G[1],G[2])]}function x(G,H,et){void 0===H&&(H=0),void 0===et&&(et={x:0,y:0});var wt=G.x,Ot=G.y;return{x:(wt-et.x)*Math.cos(-H)+(Ot-et.y)*Math.sin(-H)+et.x,y:(et.x-wt)*Math.sin(-H)+(Ot-et.y)*Math.cos(-H)+et.y}}function _(G){var H=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}],et=G.rotation;return et?[x(H[0],et,H[0]),x(H[1],et,H[0]),x(H[2],et,H[0]),x(H[3],et,H[0])]:H}function T(G,H){if(G.length>4)return{min:0,max:0};var et=[];return G.forEach(function(wt){et.push(function p(G,H){return(G[0]||0)*(H[0]||0)+(G[1]||0)*(H[1]||0)+(G[2]||0)*(H[2]||0)}([wt.x,wt.y],H))}),{min:Math.min.apply(null,et),max:Math.max.apply(null,et)}}function b(G,H){return G.max>H.min&&G.min<H.max}function F(G){return["x","y","width","height"].every(function(H){return function I(G){return"number"==typeof G&&!Number.isNaN(G)&&G!==1/0&&G!==-1/0}(G[H])})}return{intersect:function Y(G,H,et){if(void 0===et&&(et=0),!F(G)||!F(H))return!1;if(!G.rotation&&!H.rotation)return function B(G,H,et){return void 0===et&&(et=0),!(H.x>G.x+G.width+et||H.x+H.width<G.x-et||H.y>G.y+G.height+et||H.y+H.height<G.y-et)}(G,H,et);for(var wt=_(G),Ot=_(H),$t=m(wt).concat(m(Ot)),ge=0;ge<$t.length;ge++){var le=$t[ge];if(!b(T(wt,le),T(Ot,le)))return!1}return!0}}}().intersect,i={"hide-overlap":function n(p){for(var m=p.slice(),x=0;x<m.length;x++){var _=m[x];if(_.visible)for(var T=x+1;T<m.length;T++){var b=m[T];_!==b&&b.visible&&t(_,b)&&(b.visible=!1)}}return m}};try{var l=JSON.parse(e.data);if(!l||!l.type||!i[l.type])return;var d=i[l.type](l.items);self.postMessage(d)}catch(p){throw p}}.toString(),"\n"),r1=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var i=t+1;i<r.length;i++){var l=r[i];n!==l&&l.visible&&AO(n,l)&&(l.visible=!1)}}return r},n1=new Map,bp=function yM(e){if(!(typeof window>"u")){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch{(r=new window.BlobBuilder).append(e.toString()),r=r.getBlob()}return new e1(URL.createObjectURL(r))}}(mM),xM={"#5B8FF9":!0};function wM(e,r,t){return e.some(function(n){return t(n,r)})}function SM(e,r){return wM(e,r,function(t,n){var i=Va(t),l=Va(n);return function _M(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(i.getCanvasBBox(),l.getCanvasBBox(),2)>0})}function Ap(e,r,t){return e.some(function(n){return t(n,r)})}function TM(e,r){return Ap(e,r,function(t,n){var i=Va(t),l=Va(n);return function BO(e,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t))*Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t))}(i.getCanvasBBox(),l.getCanvasBBox(),2)>0})}var Ep=(0,S.HP)(function(e,r){void 0===r&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,l=r.fontStyle,c=r.fontVariant,f=function kO(){return s1||(s1=document.createElement("canvas").getContext("2d")),s1}();return f.font=[l,c,i,"".concat(t,"px"),n].join(" "),f.measureText((0,S.HD)(e)?e:"").width},function(e,r){return void 0===r&&(r={}),(0,E.ev)([e],(0,E.CR)((0,S.VO)(r)),!1).join("")});function l1(e,r,t,n,i){var p,m,l=t.start,c=t.end,f=t.getWidth(),d=t.getHeight();"y"===i?(p=l.x+f/2,m=n.y<l.y?n.y:l.y):"x"===i?(p=n.x>l.x?n.x:l.x,m=l.y+d/2):"xy"===i&&(t.isPolar?(p=t.getCenter().x,m=t.getCenter().y):(p=(l.x+c.x)/2,m=(l.y+c.y)/2));var x=function YO(e,r,t){var n,i=(0,E.CR)(r,2),l=i[0],c=i[1];return e.applyToMatrix([l,c,1]),"x"===t?(e.setMatrix(Zr.vs(e.getMatrix(),[["t",-l,-c],["s",.01,1],["t",l,c]])),n=Zr.vs(e.getMatrix(),[["t",-l,-c],["s",100,1],["t",l,c]])):"y"===t?(e.setMatrix(Zr.vs(e.getMatrix(),[["t",-l,-c],["s",1,.01],["t",l,c]])),n=Zr.vs(e.getMatrix(),[["t",-l,-c],["s",1,100],["t",l,c]])):"xy"===t&&(e.setMatrix(Zr.vs(e.getMatrix(),[["t",-l,-c],["s",.01,.01],["t",l,c]])),n=Zr.vs(e.getMatrix(),[["t",-l,-c],["s",100,100],["t",l,c]])),n}(e,[p,m],i);e.animate({matrix:x},r)}function AM(e,r){var t,n=up(e,r),i=n.startAngle,l=n.endAngle;return!(0,S.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,S.vQ)(l,.5*-Math.PI)&&l<.5*-Math.PI&&(l+=2*Math.PI),0===r[5]&&(i=(t=(0,E.CR)([l,i],2))[0],l=t[1]),(0,S.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,S.vQ)(l,-.5*Math.PI)&&!(0,S.vQ)(i,l)&&(l=1.5*Math.PI),{startAngle:i,endAngle:l}}function EM(e){var r;return"M"===e[0]||"L"===e[0]?r=[e[1],e[2]]:("a"===e[0]||"A"===e[0]||"C"===e[0])&&(r=[e[e.length-2],e[e.length-1]]),r}function LM(e){var r,t,n,i=e.filter(function(G){return"A"===G[0]||"a"===G[0]});if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var l=i[0],c=i.length>1?i[1]:i[0],f=e.indexOf(l),d=e.indexOf(c),p=EM(e[f-1]),m=EM(e[d-1]),x=AM(p,l),_=x.startAngle,T=x.endAngle,b=AM(m,c),I=b.startAngle,F=b.endAngle;(0,S.vQ)(_,I)&&(0,S.vQ)(T,F)?(t=_,n=T):(t=Math.min(_,I),n=Math.max(T,F));var B=l[1],Y=i[i.length-1][1];return B<Y?(B=(r=(0,E.CR)([Y,B],2))[0],Y=r[1]):B===Y&&(Y=0),{startAngle:t,endAngle:n,radius:B,innerRadius:Y}}function Df(e,r,t){if(e.isGroup())(0,S.S6)(e.getChildren(),function(f){Df(f,r,t)});else{var n=e.getBBox(),i=(n.minX+n.maxX)/2,l=(n.minY+n.maxY)/2;if(e.applyToMatrix([i,l,1]),"zoomIn"===t){var c=Zr.vs(e.getMatrix(),[["t",-i,-l],["s",.01,.01],["t",i,l]]);e.setMatrix(c),e.animate({matrix:Zr.vs(e.getMatrix(),[["t",-i,-l],["s",100,100],["t",i,l]])},r)}else e.animate({matrix:Zr.vs(e.getMatrix(),[["t",-i,-l],["s",.01,.01],["t",i,l]])},(0,E.pi)((0,E.pi)({},r),{callback:function(){e.remove(!0)}}))}}function Xo(e){return[Ge.TOP,Ge.BOTTOM].includes(e)?{offsetX:0,offsetY:e===Ge.TOP?-8:8,style:{textAlign:"center",textBaseline:e===Ge.TOP?"bottom":"top"}}:[Ge.LEFT,Ge.RIGHT].includes(e)?{offsetX:e===Ge.LEFT?-8:8,offsetY:0,style:{textAlign:e===Ge.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Lp(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var KO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var c=2*Math.PI/t,f=-1*Math.PI/2+c*n,d=.5/(1+1/Math.sin(c/2)),p=Lp({x:.5,y:.5},.5-d,f),m=5*Math.PI/4,x=1*Math.PI/4;return{start:Lp(p,d,m),end:Lp(p,d,x)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg,c=i.type,d=(0,E.CR)(i.fields,1)[0];if(!d)throw new Error("No `fields` specified!");var p=this.getFieldValues(t,d),m=p.length,x=[];return p.forEach(function(_,T){var I=(0,S.hX)(t,n.getFacetDataFilter([{field:d,value:_,values:p}])),F={type:c,data:I,region:n.getRegion(m,T),columnValue:_,columnField:d,columnIndex:T,columnValuesLength:m,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};x.push(F)}),x},r.prototype.getXAxisOption=function(t,n,i,l){return i},r.prototype.getYAxisOption=function(t,n,i,l){return i},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var i=n.columnValue,l=n.view,c=(0,S.U2)(t.cfg.title,"formatter"),f=(0,S.b$)({position:["50%","0%"],content:c?c(i):i},Xo(Ge.TOP),t.cfg.title);l.annotation().text(f)})},r}(vu);const OM=KO;var RM=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,l=this.cfg.cols,f=(0,E.CR)(this.cfg.fields,1)[0];if(!f)throw new Error("No `fields` specified!");var d=this.getFieldValues(t,f),p=d.length,m=this.getPageCount(p,l=l||p),x=[];return d.forEach(function(_,T){var b=n.getRowCol(T,l),I=b.row,F=b.col,Y=(0,S.hX)(t,n.getFacetDataFilter([{field:f,value:_,values:d}])),G={type:n.cfg.type,data:Y,region:n.getRegion(m,l,F,I),columnValue:_,rowValue:_,columnField:f,rowField:null,columnIndex:F,rowIndex:I,columnValuesLength:l,rowValuesLength:m,total:p};x.push(G)}),x},r.prototype.getXAxisOption=function(t,n,i,l){return l.rowIndex!==l.rowValuesLength-1&&l.columnValuesLength*l.rowIndex+l.columnIndex+1+l.columnValuesLength<=l.total?(0,E.pi)((0,E.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,l){return 0!==l.columnIndex?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var i=n.columnValue,l=n.view,c=(0,S.U2)(t.cfg.title,"formatter"),f=(0,S.b$)({position:["50%","0%"],content:c?c(i):i},Xo(Ge.TOP),t.cfg.title);l.annotation().text(f)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){return{row:Math.floor(t/n),col:t%n}},r}(vu);const QO=RM;var JO=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,i=n.fields,l=n.type,c=i.length,f=c,d=[],p=0;p<f;p++)for(var m=i[p],x=0;x<c;x++){var _=i[x],T={type:l,data:t,region:this.getRegion(c,f,p,x),columnValue:m,rowValue:_,columnField:m,rowField:_,columnIndex:p,rowIndex:x,columnValuesLength:f,rowValuesLength:c};d.push(T)}return d},r.prototype.getXAxisOption=function(t,n,i,l){return l.rowIndex!==l.rowValuesLength-1?(0,E.pi)((0,E.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,l){return 0!==l.columnIndex?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,i){var l=n.columnIndex,f=n.columnValuesLength,p=n.columnValue,m=n.rowValue,x=n.view;if(0===n.rowIndex){var _=(0,S.U2)(t.cfg.columnTitle,"formatter"),T=(0,S.b$)({position:["50%","0%"],content:_?_(p):p},Xo(Ge.TOP),t.cfg.columnTitle);x.annotation().text(T)}l===f-1&&(_=(0,S.U2)(t.cfg.rowTitle,"formatter"),T=(0,S.b$)({position:["100%","50%"],content:_?_(m):m},Xo(Ge.RIGHT),t.cfg.rowTitle),x.annotation().text(T))})},r}(vu);const jO=JO;var FM=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var x,_,n=this,l=(0,E.CR)(this.cfg.fields,1)[0],c=[],f=1,d=1,p=[""],m=[""];return this.cfg.transpose?(p=this.getFieldValues(t,x=l).slice(0,2),f=p.length):(m=this.getFieldValues(t,_=l).slice(0,2),d=m.length),p.forEach(function(T,b){m.forEach(function(I,F){var Y=(0,S.hX)(t,n.getFacetDataFilter([{field:x,value:T,values:p},{field:_,value:I,values:m}])),G={type:n.cfg.type,data:Y,region:n.getRegion(d,f,b,F),columnValue:T,rowValue:I,columnField:x,rowField:_,columnIndex:b,rowIndex:F,columnValuesLength:f,rowValuesLength:d};c.push(G)})}),c},r.prototype.getXAxisOption=function(t,n,i,l){return 1===l.columnIndex||1===l.rowIndex?(0,E.pi)((0,E.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,l){return i},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,i){var l=n.columnValue,c=n.rowValue,f=n.view,d=(0,S.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var p=(0,S.b$)({position:["50%","0%"],content:d?d(l):l},Xo(Ge.TOP),t.cfg.title);f.annotation().text(p)}else p=(0,S.b$)({position:["100%","50%"],content:d?d(c):c},Xo(Ge.RIGHT),t.cfg.title),f.annotation().text(p)})},r}(vu);const tR=FM;var zc=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,E.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,i=(0,E.CR)(this.cfg.fields,2),l=i[0],c=i[1],f=[],d=1,p=1,m=[""],x=[""];return l&&(m=this.getFieldValues(t,l),d=m.length),c&&(x=this.getFieldValues(t,c),p=x.length),m.forEach(function(_,T){x.forEach(function(b,I){var B=(0,S.hX)(t,n.getFacetDataFilter([{field:l,value:_,values:m},{field:c,value:b,values:x}])),Y={type:n.cfg.type,data:B,region:n.getRegion(p,d,T,I),columnValue:_,rowValue:b,columnField:l,rowField:c,columnIndex:T,rowIndex:I,columnValuesLength:d,rowValuesLength:p};f.push(Y)})}),f},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n,i){var l=n.columnIndex,f=n.columnValuesLength,d=n.columnValue,p=n.rowValue,m=n.view;if(0===n.rowIndex){var x=(0,S.U2)(t.cfg.columnTitle,"formatter"),_=(0,S.b$)({position:["50%","0%"],content:x?x(d):d},Xo(Ge.TOP),t.cfg.columnTitle);m.annotation().text(_)}l===f-1&&(x=(0,S.U2)(t.cfg.rowTitle,"formatter"),_=(0,S.b$)({position:["100%","50%"],content:x?x(p):p},Xo(Ge.RIGHT),t.cfg.rowTitle),m.annotation().text(_))})},r.prototype.getXAxisOption=function(t,n,i,l){return l.rowIndex!==l.rowValuesLength-1?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):l.columnIndex!==Math.floor((l.columnValuesLength-1)/2)?(0,E.pi)((0,E.pi)({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,n,i,l){return 0!==l.columnIndex?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):l.rowIndex!==Math.floor((l.rowValuesLength-1)/2)?(0,E.pi)((0,E.pi)({},i),{title:null}):i},r}(vu);const eR=zc;var Ip=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return(0,E.ZT)(r,e),r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(kr.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,S.b$)({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],l={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(l),l.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,n,i,l){var c=1/n,f=1/t,d={x:c*i,y:f*l};return{start:d,end:{x:d.x+c,y:d.y+2*f/3}}},r.prototype.forceColIndex=function(t){var n,i,l=this,c=[],f=0;t.forEach(function(b){l.isLeaf(b)&&(c.push(b),b.columnIndex=f,f++)}),c.forEach(function(b){b.columnValuesLength=c.length});for(var p=this.cfg.fields.length-1;p>=0;p--){var m=this.getFacetsByLevel(t,p);try{for(var x=(n=void 0,(0,E.XA)(m)),_=x.next();!_.done;_=x.next()){var T=_.value;this.isLeaf(T)||(T.originColIndex=T.columnIndex,T.columnIndex=this.getRegionIndex(T.children),T.columnValuesLength=c.length)}}catch(b){n={error:b}}finally{try{_&&!_.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var i=[];return t.forEach(function(l){l.rowIndex===n&&i.push(l)}),i},r.prototype.getRegionIndex=function(t){var n=t[0];return(t[t.length-1].columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,i){var l=this,c=this.cfg.fields;if(!(c.length<n)){var d=[],p=c[n-1],m=this.getFieldValues(t,p);return m.forEach(function(x,_){var b=t.filter(l.getFacetDataFilter([{field:p,value:x,values:m}]));if(b.length){var I={type:l.cfg.type,data:b,region:null,columnValue:x,rowValue:"",columnField:p,rowField:"",columnIndex:_,rowValuesLength:l.getRows(),columnValuesLength:1,rowIndex:n,children:l.getChildFacets(b,n+1,i)};d.push(I),i.push(I)}}),d}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,S.S6)(this.facets,function(n){var i=n.columnValue,l=n.view,c=(0,S.U2)(t.cfg.title,"formatter"),f=(0,S.b$)({position:["50%","0%"],content:c?c(i):i},Xo(Ge.TOP),t.cfg.title);l.annotation().text(f)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(i){n.isLeaf(i)||n.addFacetLines(i,i.children)})},r.prototype.addFacetLines=function(t,n){var i=this,c=t.view.coordinateBBox,f={x:c.x+c.width/2,y:c.y+c.height};n.forEach(function(d){var p=d.view.coordinateBBox,m={x:p.bl.x+(p.tr.x-p.bl.x)/2,y:p.tr.y},x={x:f.x,y:f.y+(m.y-f.y)/2};i.drawLine([f,x,{x:m.x,y:x.y},m])})},r.prototype.getPath=function(t){var n=[];return this.cfg.line.smooth?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(l,c){n.push(0===c?["M",l.x,l.y]:["L",l.x,l.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t);this.container.addShape("path",{attrs:(0,S.f0)({path:n},this.cfg.line.style)})},r.prototype.getXAxisOption=function(t,n,i,l){return l.rowIndex!==l.rowValuesLength-1?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,n,i,l){return 0!==l.originColIndex&&0!==l.columnIndex?(0,E.pi)((0,E.pi)({},i),{title:null,label:null}):i},r}(vu);const rR=Ip;function Op(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return.5;case"end":return 1;case"median":t=function DM(e){var r=(0,E.ev)([],(0,E.CR)(e),!1);r.sort(function(n,i){return n-i});var t=r.length;return 0===t?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}(r.isCategory?r.values.map(function(n,i){return i}):r.values);break;case"mean":t=r.isCategory?(r.values.length-1)/2:function nR(e){var r=(0,S.u4)(e,function(t,n){return t+(isNaN(n)||!(0,S.hj)(n)?0:n)},0);return 0===e.length?0:r/e.length}(r.values);break;case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e}return r.scale(t)}var Rp=["regionFilter","shape"],iR=function(e){function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Rn.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Rn.BG).addGroup(),n.option=[],n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;(0,S.S6)(t.option,function(l){if((0,S.q9)(Rp,l.type)){var c=t.updateOrCreate(l);c&&i.set(t.getCacheKey(l),c)}}),t.cache=t.syncCache(i)});var n=new Map;(0,S.S6)(this.option,function(i){if(!(0,S.q9)(Rp,i.type)){var l=t.updateOrCreate(i);l&&n.set(t.getCacheKey(i),l)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){void 0===t&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(i){i.animateOption&&(i.once(as.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(kr.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,i=ve[(0,S.jC)(n)];if(i){var l=this.getAnnotationTheme(n),c=this.getAnnotationCfg(n,t,l);return c?{component:new i(c),layer:this.isTop(c)?Rn.FORE:Rn.BG,direction:Ge.NONE,type:Kn.ANNOTATION,extra:t}:null}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,E.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,E.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,E.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,E.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,E.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,E.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,E.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,E.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,E.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,E.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var n,i,l=this.view.getXScale(),c=this.view.getScalesByDim("y"),f=(0,S.mf)(t)?t.call(null,l,c):t,d=0,p=0;if((0,S.kJ)(f)){var m=(0,E.CR)(f,2),x=m[0],_=m[1];if((0,S.HD)(x)&&-1!==x.indexOf("%")&&!isNaN(x.slice(0,-1)))return this.parsePercentPosition(f);d=Op(x,l),p=Op(_,Object.values(c)[0])}else if(!(0,S.UM)(f))try{for(var T=(0,E.XA)((0,S.XP)(f)),b=T.next();!b.done;b=T.next()){var I=b.value,F=f[I];I===l.field&&(d=Op(F,l)),c[I]&&(p=Op(F,c[I]))}}catch(B){n={error:B}}finally{try{b&&!b.done&&(i=T.return)&&i.call(T)}finally{if(n)throw n.error}}return isNaN(d)||isNaN(p)?null:this.view.getCoordinate().convert({x:d,y:p})},r.prototype.getRegionPoints=function(t,n){var T,i=this,l=this.view.getXScale(),c=this.view.getScalesByDim("y"),f=Object.values(c)[0],d=l.field,p=this.view.getData(),m=(0,S.kJ)(t)?t[0]:t[d],x=(0,S.kJ)(n)?n[0]:n[d],_=[];return(0,S.S6)(p,function(b,I){if(b[d]===m&&(T=I),I>=T){var F=i.parsePosition([b[d],b[f.field]]);F&&_.push(F)}if(b[d]===x)return!1}),_},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,i=parseFloat(t[1])/100,l=this.view.getCoordinate(),c=l.start,f=l.end,d_x=Math.min(c.x,f.x),d_y=Math.min(c.y,f.y);return{x:l.getWidth()*n+d_x,y:l.getHeight()*i+d_y}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,i=t.end,l=t.getWidth(),c=t.getHeight(),f={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:f.x,y:f.y,minX:f.x,minY:f.y,maxX:f.x+l,maxY:f.y+c,width:l,height:c}},r.prototype.getAnnotationCfg=function(t,n,i){var l=this,c=this.view.getCoordinate(),f=this.view.getCanvas(),d={};if((0,S.UM)(n))return null;var m=n.end,x=n.position,_=this.parsePosition(n.start),T=this.parsePosition(m),b=this.parsePosition(x);if(["arc","image","line","region","regionFilter"].includes(t)&&(!_||!T))return null;if(["text","dataMarker","html"].includes(t)&&!b)return null;if("arc"===t){var Y=(0,E._T)(n,["start","end"]),G=Tc(c,_),H=Tc(c,T);G>H&&(H=2*Math.PI+H),d=(0,E.pi)((0,E.pi)({},Y),{center:c.getCenter(),radius:Vd(c,_),startAngle:G,endAngle:H})}else if("image"===t)Y=(0,E._T)(n,["start","end"]),d=(0,E.pi)((0,E.pi)({},Y),{start:_,end:T,src:n.src});else if("line"===t)Y=(0,E._T)(n,["start","end"]),d=(0,E.pi)((0,E.pi)({},Y),{start:_,end:T,text:(0,S.U2)(n,"text",null)});else if("region"===t)Y=(0,E._T)(n,["start","end"]),d=(0,E.pi)((0,E.pi)({},Y),{start:_,end:T});else if("text"===t){var cr=this.view.getData(),We=n.content,nr=(Y=(0,E._T)(n,["position","content"]),We);(0,S.mf)(We)&&(nr=We(cr)),d=(0,E.pi)((0,E.pi)((0,E.pi)({},b),Y),{content:nr})}else if("dataMarker"===t){var ir=n.point,Pr=n.line,Gr=n.text,Ar=n.autoAdjust,xr=n.direction;Y=(0,E._T)(n,["position","point","line","text","autoAdjust","direction"]),d=(0,E.pi)((0,E.pi)((0,E.pi)({},Y),b),{coordinateBBox:this.getCoordinateBBox(),point:ir,line:Pr,text:Gr,autoAdjust:Ar,direction:xr})}else if("dataRegion"===t){var Bn=n.start,Pn=n.end,Ii=n.region,Ds=(Gr=n.text,n.lineLength);Y=(0,E._T)(n,["start","end","region","text","lineLength"]),d=(0,E.pi)((0,E.pi)({},Y),{points:this.getRegionPoints(Bn,Pn),region:Ii,text:Gr,lineLength:Ds})}else if("regionFilter"===t){var c9=n.apply,xH=n.color,h9=(Y=(0,E._T)(n,["start","end","apply","color"]),[]),DP=function(Ll){Ll&&(Ll.isGroup()?Ll.getChildren().forEach(function(u2){return DP(u2)}):h9.push(Ll))};(0,S.S6)(this.view.geometries,function(Ll){c9?(0,S.FX)(c9,Ll.type)&&(0,S.S6)(Ll.elements,function(u2){DP(u2.shape)}):(0,S.S6)(Ll.elements,function(u2){DP(u2.shape)})}),d=(0,E.pi)((0,E.pi)({},Y),{color:xH,shapes:h9,start:_,end:T})}else if("shape"===t){var wH=n.render,BP=(0,E._T)(n,["render"]);d=(0,E.pi)((0,E.pi)({},BP),{render:function(MH){if((0,S.mf)(n.render))return wH(MH,l.view,{parsePosition:l.parsePosition.bind(l)})}})}else if("html"===t){var kP=n.html;BP=(0,E._T)(n,["html","position"]),d=(0,E.pi)((0,E.pi)((0,E.pi)({},BP),b),{parent:f.get("el").parentNode,html:function(Ll){return(0,S.mf)(kP)?kP(Ll,l.view):kP}})}var vh=(0,S.b$)({},i,(0,E.pi)((0,E.pi)({},d),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return"html"!==t&&(vh.container=this.getComponentContainer(vh)),vh.animate=this.view.getOptions().animate&&vh.animate&&(0,S.U2)(n,"animate",vh.animate),vh.animateOption=(0,S.b$)({},rl,vh.animateOption,n.animateOption),vh},r.prototype.isTop=function(t){return(0,S.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,S.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var i=t.type,l=this.getAnnotationTheme(i),c=this.getAnnotationCfg(i,t,l);c&&ca(c,["container"]),n.component.update((0,E.pi)((0,E.pi)({},c||{}),{visible:!!c})),(0,S.q9)(Rp,t.type)&&n.component.render()}else(n=this.createAnnotation(t))&&(n.component.init(),(0,S.q9)(Rp,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,i=new Map(this.cache);return t.forEach(function(l,c){i.set(c,l)}),i.forEach(function(l,c){(0,S.sE)(n.option,function(f){return c===n.getCacheKey(f)})||(l.component.destroy(),i.delete(c))}),i},r.prototype.getCacheKey=function(t){return t},r}(Oc);const aR=iR;function BM(e,r){var t=(0,S.b$)({},(0,S.U2)(e,["components","axis","common"]),(0,S.U2)(e,["components","axis",r]));return(0,S.U2)(t,["grid"],{})}function Fp(e,r,t,n){var i=[],l=r.getTicks();return e.isPolar&&l.push({value:1,text:"",tickValue:""}),l.reduce(function(c,f,d){var p=f.value;if(n)i.push({points:[e.convert("y"===t?{x:0,y:p}:{x:p,y:0}),e.convert("y"===t?{x:1,y:p}:{x:p,y:1})]});else if(d){var x=(c.value+p)/2;i.push({points:[e.convert("y"===t?{x:0,y:x}:{x,y:0}),e.convert("y"===t?{x:1,y:x}:{x,y:1})]})}return f},l[0]),i}function Bf(e,r,t,n,i){var l=r.values.length,c=[],f=t.getTicks();return f.reduce(function(d,p){var x=p.value,_=((d?d.value:p.value)+x)/2;return c.push("x"===i?{points:[e.convert({x:n?x:_,y:0}),e.convert({x:n?x:_,y:1})]}:{points:(0,S.UI)(Array(l+1),function(T,b){return e.convert({x:b/l,y:n?x:_})})}),p},f[0]),c}function h1(e,r){var t=(0,S.U2)(r,"grid");if(null===t)return!1;var n=(0,S.U2)(e,"grid");return!(void 0===t&&null===n)}var fl=["container"],Dp=(0,E.pi)((0,E.pi)({},rl),{appear:null}),oR=function(e){function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Rn.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Rn.FORE).addGroup(),n.axisContainer=n.view.getLayer(Rn.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Rn.FORE).addGroup(),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();(0,S.S6)(this.getComponents(),function(i){var _,l=i.component,c=i.direction,f=i.type,d=i.extra,p=d.dim,m=d.scale,x=d.alignTick;f===Kn.AXIS?n.isPolar?"x"===p?_=n.isTransposed?fu(n,c):Xy(n):"y"===p&&(_=n.isTransposed?Xy(n):fu(n,c)):_=fu(n,c):f===Kn.GRID&&(_=n.isPolar?{items:n.isTransposed?"x"===p?Bf(n,t.view.getYScales()[0],m,x,p):Fp(n,m,p,x):"x"===p?Fp(n,m,p,x):Bf(n,t.view.getXScale(),m,x,p),center:t.view.getCoordinate().getCenter()}:{items:Fp(n,m,p,x)}),l.update(_)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(i,l){t.has(l)?n.set(l,i):i.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(n&&!n.isIdentity){var i=ha(this.option,n.field);if(!1!==i){var l=Vy(i,Ge.BOTTOM),c=Rn.BG,f="x",d=this.view.getCoordinate(),p=this.getId("axis",n.field),m=this.getId("grid",n.field);if(d.isRect)(x=this.cache.get(p))?(ca(_=this.getLineAxisCfg(n,i,l),fl),x.component.update(_),t.set(p,x)):(x=this.createLineAxis(n,i,c,l,f),this.cache.set(p,x),t.set(p,x)),(T=this.cache.get(m))?(ca(_=this.getLineGridCfg(n,i,l,f),fl),T.component.update(_),t.set(m,T)):(T=this.createLineGrid(n,i,c,l,f))&&(this.cache.set(m,T),t.set(m,T));else if(d.isPolar){var x,T;if(x=this.cache.get(p))ca(_=d.isTransposed?this.getLineAxisCfg(n,i,Ge.RADIUS):this.getCircleAxisCfg(n,i,l),fl),x.component.update(_),t.set(p,x);else{if(d.isTransposed){if((0,S.o8)(i))return;x=this.createLineAxis(n,i,c,Ge.RADIUS,f)}else x=this.createCircleAxis(n,i,c,l,f);this.cache.set(p,x),t.set(p,x)}if(T=this.cache.get(m)){var _;ca(_=d.isTransposed?this.getCircleGridCfg(n,i,Ge.RADIUS,f):this.getLineGridCfg(n,i,Ge.CIRCLE,f),fl),T.component.update(_),t.set(m,T)}else{if(d.isTransposed){if((0,S.o8)(i))return;T=this.createCircleGrid(n,i,c,Ge.RADIUS,f)}else T=this.createLineGrid(n,i,c,Ge.CIRCLE,f);T&&(this.cache.set(m,T),t.set(m,T))}}}}},r.prototype.updateYAxes=function(t){var n=this,i=this.view.getYScales();(0,S.S6)(i,function(l,c){if(l&&!l.isIdentity){var f=l.field,d=ha(n.option,f);if(!1!==d){var p=Rn.BG,m="y",x=n.getId("axis",f),_=n.getId("grid",f),T=n.view.getCoordinate();if(T.isRect){var b=Vy(d,0===c?Ge.LEFT:Ge.RIGHT);(I=n.cache.get(x))?(ca(F=n.getLineAxisCfg(l,d,b),fl),I.component.update(F),t.set(x,I)):(I=n.createLineAxis(l,d,p,b,m),n.cache.set(x,I),t.set(x,I)),(B=n.cache.get(_))?(ca(F=n.getLineGridCfg(l,d,b,m),fl),B.component.update(F),t.set(_,B)):(B=n.createLineGrid(l,d,p,b,m))&&(n.cache.set(_,B),t.set(_,B))}else if(T.isPolar){var I,B;if(I=n.cache.get(x))ca(F=T.isTransposed?n.getCircleAxisCfg(l,d,Ge.CIRCLE):n.getLineAxisCfg(l,d,Ge.RADIUS),fl),I.component.update(F),t.set(x,I);else{if(T.isTransposed){if((0,S.o8)(d))return;I=n.createCircleAxis(l,d,p,Ge.CIRCLE,m)}else I=n.createLineAxis(l,d,p,Ge.RADIUS,m);n.cache.set(x,I),t.set(x,I)}if(B=n.cache.get(_)){var F;ca(F=T.isTransposed?n.getLineGridCfg(l,d,Ge.CIRCLE,m):n.getCircleGridCfg(l,d,Ge.RADIUS,m),fl),B.component.update(F),t.set(_,B)}else{if(T.isTransposed){if((0,S.o8)(d))return;B=n.createLineGrid(l,d,p,Ge.CIRCLE,m)}else B=n.createCircleGrid(l,d,p,Ge.RADIUS,m);B&&(n.cache.set(_,B),t.set(_,B))}}}}})},r.prototype.createLineAxis=function(t,n,i,l,c){var f={component:new iL(this.getLineAxisCfg(t,n,l)),layer:i,direction:l===Ge.RADIUS?Ge.NONE:l,type:Kn.AXIS,extra:{dim:c,scale:t}};return f.component.set("field",t.field),f.component.init(),f},r.prototype.createLineGrid=function(t,n,i,l,c){var f=this.getLineGridCfg(t,n,l,c);if(f){var d={component:new u_(f),layer:i,direction:Ge.NONE,type:Kn.GRID,extra:{dim:c,scale:t,alignTick:(0,S.U2)(f,"alignTick",!0)}};return d.component.init(),d}},r.prototype.createCircleAxis=function(t,n,i,l,c){var f={component:new l_(this.getCircleAxisCfg(t,n,l)),layer:i,direction:l,type:Kn.AXIS,extra:{dim:c,scale:t}};return f.component.set("field",t.field),f.component.init(),f},r.prototype.createCircleGrid=function(t,n,i,l,c){var f=this.getCircleGridCfg(t,n,l,c);if(f){var d={component:new aL(f),layer:i,direction:Ge.NONE,type:Kn.GRID,extra:{dim:c,scale:t,alignTick:(0,S.U2)(f,"alignTick",!0)}};return d.component.init(),d}},r.prototype.getLineAxisCfg=function(t,n,i){var l=(0,S.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,c=this.view.getCoordinate(),f=fu(c,i),d=m_(t,n),p=Zd(this.view.getTheme(),i),m=(0,S.U2)(n,["title"])?(0,S.b$)({title:{style:{text:d}}},{title:y_(this.view.getTheme(),i,n.title)},n):n,x=(0,S.b$)((0,E.pi)((0,E.pi)({container:l},f),{ticks:t.getTicks().map(function(G){return{id:"".concat(G.tickValue),name:G.text,value:G.value}}),verticalFactor:c.isPolar?-1*g_(f,c.getCenter()):g_(f,c.getCenter()),theme:p}),p,m),_=this.getAnimateCfg(x),T=_.animate;x.animateOption=_.animateOption,x.animate=T;var I=p_(f),F=(0,S.U2)(x,"verticalLimitLength",I?1/3:.5);if(F<=1){var B=this.view.getCanvas().get("width"),Y=this.view.getCanvas().get("height");x.verticalLimitLength=F*(I?B:Y)}return x},r.prototype.getLineGridCfg=function(t,n,i,l){if(h1(Zd(this.view.getTheme(),i),n)){var c=BM(this.view.getTheme(),i),f=(0,S.b$)({container:(0,S.U2)(n,["top"])?this.gridForeContainer:this.gridContainer},c,(0,S.U2)(n,"grid"),this.getAnimateCfg(n));return f.items=Fp(this.view.getCoordinate(),t,l,(0,S.U2)(f,"alignTick",!0)),f}},r.prototype.getCircleAxisCfg=function(t,n,i){var l=(0,S.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,c=this.view.getCoordinate(),f=t.getTicks().map(function(I){return{id:"".concat(I.tickValue),name:I.text,value:I.value}});!t.isCategory&&Math.abs(c.endAngle-c.startAngle)===2*Math.PI&&f.length&&(f[f.length-1].name="");var d=m_(t,n),p=Zd(this.view.getTheme(),Ge.CIRCLE),m=(0,S.U2)(n,["title"])?(0,S.b$)({title:{style:{text:d}}},{title:y_(this.view.getTheme(),i,n.title)},n):n,x=(0,S.b$)((0,E.pi)((0,E.pi)({container:l},Xy(this.view.getCoordinate())),{ticks:f,verticalFactor:1,theme:p}),p,m),_=this.getAnimateCfg(x),b=_.animateOption;return x.animate=_.animate,x.animateOption=b,x},r.prototype.getCircleGridCfg=function(t,n,i,l){if(h1(Zd(this.view.getTheme(),i),n)){var c=BM(this.view.getTheme(),Ge.RADIUS),f=(0,S.b$)({container:(0,S.U2)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},c,(0,S.U2)(n,"grid"),this.getAnimateCfg(n)),d=(0,S.U2)(f,"alignTick",!0),p="x"===l?this.view.getYScales()[0]:this.view.getXScale();return f.items=Bf(this.view.getCoordinate(),p,t,d,l),f}},r.prototype.getId=function(t,n){var i=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(i.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,S.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,S.b$)({},Dp,t.animateOption):Dp}},r}(Oc);const sR=oR;function vl(e,r,t){return t===Ge.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===Ge.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===Ge.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===Ge.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===Ge.TOP_LEFT||t===Ge.LEFT_TOP?[e.tl.x,e.tl.y]:t===Ge.TOP_RIGHT||t===Ge.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===Ge.BOTTOM_LEFT||t===Ge.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===Ge.BOTTOM_RIGHT||t===Ge.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function kM(e,r){return(0,S.jn)(e)?!1!==e&&{}:(0,S.U2)(e,[r],e)}function Pf(e){return(0,S.U2)(e,"position",Ge.BOTTOM)}var v1=function(e){function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(Rn.FORE).addGroup(),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,S.S6)(this.components,function(n){var i=n.component,l=n.direction,c=np(l),f=i.get("maxWidthRatio"),d=i.get("maxHeightRatio"),p=t.getCategoryLegendSizeCfg(c,f,d),m=i.get("maxWidth"),x=i.get("maxHeight");i.update({maxWidth:Math.min(p.maxWidth,m||0),maxHeight:Math.min(p.maxHeight,x||0)});var _=i.get("padding"),T=i.getLayoutBBox(),b=new Xi(T.x,T.y,T.width,T.height).expand(_),I=(0,E.CR)(vl(t.view.viewBBox,b,l),2),F=I[0],B=I[1],Y=(0,E.CR)(vl(t.layoutBBox,b,l),2),G=Y[0],H=Y[1],et=0,wt=0;l.startsWith("top")||l.startsWith("bottom")?(et=F,wt=H):(et=G,wt=B),i.setLocation({x:et+_[3],y:wt+_[0]}),t.layoutBBox=t.layoutBBox.cut(b,l)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={};if((0,S.U2)(this.option,"custom")){var l="global-custom",c=this.getComponentById(l);if(c){var f=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ca(f,["container"]),c.component.update(f),n[l]=!0}else{var d=this.createCustomLegend(void 0,void 0,void 0,this.option);if(d){d.init();var p=Rn.FORE,m=Pf(this.option);this.components.push({id:l,component:d,layer:p,direction:m,type:Kn.LEGEND,extra:void 0}),n[l]=!0}}}else this.loopLegends(function(_,T,b){var I=t.getId(b.field),F=t.getComponentById(I);if(F){var B=void 0,Y=kM(t.option,b.field);!1!==Y&&((0,S.U2)(Y,"custom")?B=t.getCategoryCfg(_,T,b,Y,!0):b.isLinear?B=t.getContinuousCfg(_,T,b,Y):b.isCategory&&(B=t.getCategoryCfg(_,T,b,Y))),B&&(ca(B,["container"]),F.direction=Pf(Y),F.component.update(B),n[I]=!0)}else{var G=t.createFieldLegend(_,T,b);G&&(G.component.init(),t.components.push(G),n[I]=!0)}});var x=[];(0,S.S6)(this.getComponents(),function(_){n[_.id]?x.push(_):_.component.destroy()}),this.components=x},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,i=t.geometries;return(0,S.S6)(t.views,function(l){i=i.concat(n.getGeometries(l))}),i},r.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var i=this.getGeometries(this.view),l={};(0,S.S6)(i,function(c){var f=c.getGroupAttributes();(0,S.S6)(f,function(d){var p=d.getScale(d.type);!p||"identity"===p.type||l[p.field]||(t(c,d,p),l[p.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,i){var l,c=kM(this.option,i.field),f=Rn.FORE,d=Pf(c);if(!1!==c&&((0,S.U2)(c,"custom")?l=this.createCustomLegend(t,n,i,c):i.isLinear?l=this.createContinuousLegend(t,n,i,c):i.isCategory&&(l=this.createCategoryLegend(t,n,i,c))),l)return l.set("field",i.field),{id:this.getId(i.field),component:l,layer:f,direction:d,type:Kn.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,n,i,l){var c=this.getCategoryCfg(t,n,i,l,!0);return new c_(c)},r.prototype.createContinuousLegend=function(t,n,i,l){var c=this.getContinuousCfg(t,n,i,ca(l,["value"]));return new oL(c)},r.prototype.createCategoryLegend=function(t,n,i,l){var c=this.getCategoryCfg(t,n,i,l);return new c_(c)},r.prototype.getContinuousCfg=function(t,n,i,l){var c=i.getTicks(),f=(0,S.sE)(c,function(I){return 0===I.value}),d=(0,S.sE)(c,function(I){return 1===I.value}),p=c.map(function(I){var F=I.value,B=I.tickValue,Y=n.mapping(i.invert(F)).join("");return{value:B,attrValue:Y,color:Y,scaleValue:F}});f||p.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),d||p.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),p.sort(function(I,F){return I.value-F.value});var m={min:(0,S.YM)(p).value,max:(0,S.Z$)(p).value,colors:[],rail:{type:n.type},track:{}};"size"===n.type&&(m.track={style:{fill:"size"===n.type?this.view.getTheme().defaultColor:void 0}}),"color"===n.type&&(m.colors=p.map(function(I){return I.attrValue}));var x=this.container,T=np(Pf(l)),b=(0,S.U2)(l,"title");return b&&(b=(0,S.b$)({text:bc(i)},b)),m.container=x,m.layout=T,m.title=b,m.animateOption=rl,this.mergeLegendCfg(m,l,"continuous")},r.prototype.getCategoryCfg=function(t,n,i,l,c){var f=this.container,d=(0,S.U2)(l,"position",Ge.BOTTOM),p=wm(this.view.getTheme(),d),m=(0,S.U2)(p,["marker"]),x=(0,S.U2)(l,"marker"),_=np(d),T=(0,S.U2)(p,["pageNavigator"]),b=(0,S.U2)(l,"pageNavigator"),I=c?function p5(e,r,t){return t.map(function(n,i){var l=r;(0,S.mf)(l)&&(l=l(n.name,i,(0,S.b$)({},e,n)));var c=(0,S.mf)(n.marker)?n.marker(n.name,i,(0,S.b$)({},e,n)):n.marker,f=(0,S.b$)({},e,l,c);return sS(f),n.marker=f,n})}(m,x,l.items):Yr(this.view,t,n,m,x),F=(0,S.U2)(l,"title");F&&(F=(0,S.b$)({text:i?bc(i):""},F));var B=(0,S.U2)(l,"maxWidthRatio"),Y=(0,S.U2)(l,"maxHeightRatio"),G=this.getCategoryLegendSizeCfg(_,B,Y);G.container=f,G.layout=_,G.items=I,G.title=F,G.animateOption=rl,G.pageNavigator=(0,S.b$)({},T,b);var H=this.mergeLegendCfg(G,l,d);H.reversed&&H.items.reverse();var et=(0,S.U2)(H,"maxItemWidth");return et&&et<=1&&(H.maxItemWidth=this.view.viewBBox.width*et),H},r.prototype.mergeLegendCfg=function(t,n,i){var l=i.split("-")[0],c=wm(this.view.getTheme(),l);return(0,S.b$)({},c,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,S.sE)(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,i){void 0===n&&(n=.25),void 0===i&&(i=.25);var l=this.view.viewBBox,c=l.width,f=l.height;return"vertical"===t?{maxWidth:c*n,maxHeight:f}:{maxWidth:c,maxHeight:f*i}},r}(Oc);const zM=v1;var hR=function(e){function r(t){var n=e.call(this,t)||this;return n.onChangeFn=S.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var l=(0,E.CR)(i,2),c=l[0],f=l[1];n.start=c,n.end=f,n.changeViewData(c,f)},n.container=n.view.getLayer(Rn.FORE).addGroup(),n.onChangeFn=(0,S.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(kr.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(kr.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(kr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(kr.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,i=t.end;(0,S.UM)(this.start)&&(this.start=n,this.end=i);var l=this.view.getOptions().data;this.option&&!(0,S.xb)(l)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),l=(0,E.CR)(i,4),c=l[0],p=l[3],m=this.slider.component.getLayoutBBox(),x=new Xi(m.x,m.y,Math.min(m.width,n),m.height).expand(i),_=this.getMinMaxText(this.start,this.end),T=_.minText,b=_.maxText,B=(0,E.CR)(vl(this.view.viewBBox,x,Ge.BOTTOM),2)[1],G=(0,E.CR)(vl(this.view.coordinateBBox,x,Ge.BOTTOM),2)[0];this.slider.component.update((0,E.pi)((0,E.pi)({},this.getSliderCfg()),{x:G+p,y:B+c,width:this.width,start:this.start,end:this.end,minText:T,maxText:b})),this.view.viewBBox=this.view.viewBBox.cut(x,Ge.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new rL((0,E.pi)({container:this.container},t));return n.init(),{component:n,layer:Rn.FORE,direction:Ge.BOTTOM,type:Kn.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,l=n.maxText;t=(0,E.pi)((0,E.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:l})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,S.Kn)(this.option)){var n=(0,E.pi)({data:this.getData()},(0,S.U2)(this.option,"trendCfg",{}));t=(0,S.b$)({},t,this.getThemeOptions(),this.option),t=(0,E.pi)((0,E.pi)({},t),{trendCfg:n})}return t.start=(0,S.uZ)(Math.min((0,S.UM)(t.start)?0:t.start,(0,S.UM)(t.end)?1:t.end),0,1),t.end=(0,S.uZ)(Math.max((0,S.UM)(t.start)?0:t.start,(0,S.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,i=(0,E.CR)(this.view.getYScales(),1)[0],l=this.view.getGroupScales();if(l.length){var c=l[0],f=c.field,d=c.ticks;return t.reduce(function(p,m){return m[f]===d[0]&&p.push(m[i.field]),p},[])}return t.map(function(p){return p[i.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,S.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var i=this.view.getOptions().data,l=this.view.getXScale(),f=(0,S.I)(i,l.field);l.isLinear&&(f=f.sort());var d=f,p=(0,S.dp)(i);if(!l||!p)return{};var m=(0,S.dp)(d),x=Math.round(t*(m-1)),_=Math.round(n*(m-1)),T=(0,S.U2)(d,[x]),b=(0,S.U2)(d,[_]),I=this.getSliderCfg().formatter;return I&&(T=I(T,i[x],x),b=I(b,i[_],_)),{minText:T,maxText:b}},r.prototype.changeViewData=function(t,n){var i=this.view.getOptions().data,l=this.view.getXScale(),c=(0,S.dp)(i);if(l&&c){var d=(0,S.I)(i,l.field),m=this.view.getXScale().isLinear?d.sort(function(b,I){return Number(b)-Number(I)}):d,x=(0,S.dp)(m),_=Math.round(t*(x-1)),T=Math.round(n*(x-1));this.view.filter(l.field,function(b,I){var F=m.indexOf(b);return!(F>-1)||_c(F,_,T)}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(Oc);const fR=hR;var HM=function(e){function r(t){var n=e.call(this,t)||this;return n.onChangeFn=S.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var l=i.ratio,c=n.getValidScrollbarCfg().animate;n.ratio=(0,S.uZ)(l,0,1);var f=n.view.getOptions().animate;c||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(f)},n.container=n.view.getLayer(Rn.FORE).addGroup(),n.onChangeFn=(0,S.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(kr.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(kr.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(kr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(kr.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),l=this.scrollbar.component.getLayoutBBox(),c=new Xi(l.x,l.y,Math.min(l.width,n),l.height).expand(i),f=this.getScrollbarComponentCfg(),d=void 0,p=void 0;if(f.isHorizontal){var _=(0,E.CR)(vl(this.view.viewBBox,c,Ge.BOTTOM),2)[1];d=(0,E.CR)(vl(this.view.coordinateBBox,c,Ge.BOTTOM),2)[0],p=_}else{d=(_=(0,E.CR)(vl(this.view.viewBBox,c,Ge.RIGHT),2)[1],(0,E.CR)(vl(this.view.viewBBox,c,Ge.RIGHT),2))[0],p=_}d+=i[3],p+=i[0],this.scrollbar.component.update((0,E.pi)((0,E.pi)({},f),this.trackLen?{x:d,y:p,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}:{x:d,y:p})),this.view.viewBBox=this.view.viewBBox.cut(c,f.isHorizontal?Ge.BOTTOM:Ge.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,S.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=(0,S.U2)(this.view.getTheme(),["components","scrollbar"]),i=t||{},l=i.thumbHighlightColor,c=(0,E._T)(i,["thumbHighlightColor"]);return{default:(0,S.b$)({},(0,S.U2)(n,["default","style"],{}),c),hover:(0,S.b$)({},(0,S.U2)(n,["hover","style"],{}),{thumbColor:l})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),c=i.thumbLen;this.trackLen=i.trackLen,this.thumbLen=c,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,S.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},r.prototype.changeViewData=function(t,n){var i=this,l=(0,E.CR)(t,2),c=l[0],f=l[1],p="vertical"!==this.getValidScrollbarCfg().type,m=(0,S.I)(this.data,this.xScaleCfg.field),x=this.view.getXScale().isLinear?m.sort(function(T,b){return Number(T)-Number(b)}):m,_=p?x:x.reverse();this.yScalesCfg.forEach(function(T){i.view.scale(T.field,{formatter:T.formatter,type:T.type,min:T.min,max:T.max,tickMethod:T.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(T){var b=_.indexOf(T);return!(b>-1)||_c(b,c,f)}),this.view.render(!0)},r.prototype.createScrollbar=function(){var n="vertical"!==this.getValidScrollbarCfg().type,i=new s_((0,E.pi)((0,E.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:Rn.FORE,direction:n?Ge.BOTTOM:Ge.RIGHT,type:Kn.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?(0,E.pi)((0,E.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,E.pi)({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg();return Math.floor(("vertical"!==n.type?t.width:t.height)/n.categorySize)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),i=(0,S.I)(n,t.field);return(0,S.dp)(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,i=t.viewBBox,l=this.getValidScrollbarCfg(),d=l.width,p=l.height,m=l.style,x="vertical"!==l.type,_=(0,E.CR)(l.padding,4),T=_[0],b=_[1],I=_[2],F=_[3],B=x?{x:n.minX+F,y:i.maxY-p-I}:{x:i.maxX-d-b,y:n.minY+T},Y=this.getStep(),G=this.getCnt(),H=x?n.width-F-b:n.height-T-I,et=Math.max(H*(0,S.uZ)(Y/G,0,1),20);return(0,E.pi)((0,E.pi)({},this.getThemeOptions()),{x:B.x,y:B.y,size:x?p:d,isHorizontal:x,trackLen:H,thumbLen:et,thumbOffset:0,theme:this.getScrollbarTheme(m)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,S.Kn)(this.option)&&(t=(0,E.pi)((0,E.pi)({},t),this.option)),(!(0,S.Kn)(this.option)||!this.option.padding)&&(t.padding=[0,0,0,0]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===n.type&&(i=(0,E.ev)([],(0,E.CR)(i),!1).reverse()),i},r}(Oc);const pR=HM;var gR={fill:"#CCD6EC",opacity:.3};var mR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.show=function(t){var n=this.context.view,i=this.context.event,l=n.getController("tooltip").getTooltipCfg(),c=function yR(e,r,t){var n,i,l,c,f,d,p=function VL(e,r,t){var n,i,l=um(e,r,t);try{for(var c=(0,E.XA)(e.views),f=c.next();!f.done;f=c.next())l=l.concat(um(f.value,r,t))}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l}(e,r,t);if(p.length){p=(0,S.xH)(p);try{for(var m=(0,E.XA)(p),x=m.next();!x.done;x=m.next()){var _=x.value;try{for(var T=(l=void 0,(0,E.XA)(_)),b=T.next();!b.done;b=T.next()){var I=b.value,F=I.mappingData,B=F.x,Y=F.y;I.x=(0,S.kJ)(B)?B[B.length-1]:B,I.y=(0,S.kJ)(Y)?Y[Y.length-1]:Y}}catch(le){l={error:le}}finally{try{b&&!b.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}}}catch(le){n={error:le}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}if(!1===t.shared&&p.length>1){var H=p[0],et=Math.abs(r.y-H[0].y);try{for(var wt=(0,E.XA)(p),Ot=wt.next();!Ot.done;Ot=wt.next()){var $t=Ot.value,ge=Math.abs(r.y-$t[0].y);ge<=et&&(H=$t,et=ge)}}catch(le){f={error:le}}finally{try{Ot&&!Ot.done&&(d=wt.return)&&d.call(wt)}finally{if(f)throw f.error}}p=[H]}return(0,S.jj)((0,S.xH)(p))}return[]}(n,{x:i.x,y:i.y},l);if(!(0,S.Xy)(c,this.items)&&(this.items=c,c.length)){var f=n.getXScale().field,d=c[0].data[f],p=[];if((0,S.S6)(n.geometries,function(nr){if("interval"===nr.type||"schema"===nr.type){var Ve=nr.getElementsBy(function(je){return je.getData()[f]===d});p=p.concat(Ve)}}),p.length){var x=n.getCoordinate(),_=p[0].shape.getCanvasBBox(),T=p[0].shape.getCanvasBBox(),b=_;(0,S.S6)(p,function(nr){var Ve=nr.shape.getCanvasBBox();x.isTransposed?(Ve.minY<_.minY&&(_=Ve),Ve.maxY>T.maxY&&(T=Ve)):(Ve.minX<_.minX&&(_=Ve),Ve.maxX>T.maxX&&(T=Ve)),b.x=Math.min(Ve.minX,b.minX),b.y=Math.min(Ve.minY,b.minY),b.width=Math.max(Ve.maxX,b.maxX)-b.x,b.height=Math.max(Ve.maxY,b.maxY)-b.y});var I=n.backgroundGroup,F=n.coordinateBBox,B=void 0;if(x.isRect){var Y=n.getXScale(),G=t||{},H=G.appendRatio,et=G.appendWidth;(0,S.UM)(et)&&(H=(0,S.UM)(H)?Y.isLinear?0:.25:H,et=x.isTransposed?H*T.height:H*_.width);var wt=void 0,Ot=void 0,$t=void 0,ge=void 0;x.isTransposed?(wt=F.minX,Ot=Math.min(T.minY,_.minY)-et,$t=F.width,ge=b.height+2*et):(wt=Math.min(_.minX,T.minX)-et,Ot=F.minY,$t=b.width+2*et,ge=F.height),B=[["M",wt,Ot],["L",wt+$t,Ot],["L",wt+$t,Ot+ge],["L",wt,Ot+ge],["Z"]]}else{var le=(0,S.YM)(p),Se=(0,S.Z$)(p),Pe=wc(le.getModel(),x).startAngle,or=wc(Se.getModel(),x).endAngle,cr=x.getCenter(),Rr=x.getRadius();B=Js(cr.x,cr.y,Rr,Pe,or,x.innerRadius*Rr)}if(this.regionPath)this.regionPath.attr("path",B),this.regionPath.show();else{var We=(0,S.U2)(t,"style",gR);this.regionPath=I.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,E.pi)((0,E.pi)({},We),{path:B})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(wn);const d1=mR;var xR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.context,n=t.event,i=t.view;if(!i.isTooltipLocked()){var c=this.timeStamp,f=+new Date;if(f-c>(0,S.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var p=this.location,m={x:n.x,y:n.y};(!p||!(0,S.Xy)(p,m))&&this.showTooltip(i,m),this.timeStamp=f,this.location=m}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),i=this.context.event;n.isCursorEntered({x:i.clientX,y:i.clientY})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(wn);const GM=xR;var CR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.showTooltip=function(t,n){var i=Yo(t);(0,S.S6)(i,function(l){var c=am(t,l,n);l.showTooltip(c)})},r.prototype.hideTooltip=function(t){var n=Yo(t);(0,S.S6)(n,function(i){i.hideTooltip()})},r}(GM);const wR=CR;var _R=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var n=this.context.event,i=this.timeStamp,l=+new Date;if(l-i>16){var c=this.location,f={x:n.x,y:n.y};(!c||!(0,S.Xy)(c,f))&&this.showTooltip(f),this.timeStamp=l,this.location=f}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var l=this.context.event.target;if(l&&l.get("tip")){this.tooltip||this.renderTooltip();var c=l.get("tip");this.tooltip.update((0,E.pi)({title:c},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,l={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},c=n.getTheme(),f=(0,S.U2)(c,["components","tooltip","domStyles"],{}),d=new ff({parent:i.get("el").parentNode,region:l,visible:!1,crosshairs:null,domStyles:(0,E.pi)({},(0,S.b$)({},f,(t={},t[ua]={"max-width":"50%"},t[Ho]={"word-break":"break-all"},t)))});d.init(),d.setCapture(!1),this.tooltip=d},r}(wn);const SR=_R;var MR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="",t}return(0,E.ZT)(r,e),r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){this.clearViewState(this.context.view)},r.prototype.clearViewState=function(t){var n=this,i=I_(t,this.stateName);(0,S.S6)(i,function(l){n.setElementState(l,!1)})},r}(wn);const Pp=MR;function YM(e){return(0,S.U2)(e.get("delegateObject"),"item")}var Nc=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return(0,E.ZT)(r,e),r.prototype.isItemIgnore=function(t,n){return!!this.ignoreListItemStates.filter(function(c){return n.hasState(t,c)}).length},r.prototype.setStateByComponent=function(t,n,i){var l=this.context.view,c=t.get("field"),f=jn(l);this.setElementsStateByItem(f,c,n,i)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,i){var c=Ec(this.context.view,n),f=lo(t,n);return!(0,S.UM)(f)&&i.name===c.getText(f)},r.prototype.setElementsStateByItem=function(t,n,i,l){var c=this;(0,S.S6)(t,function(f){c.isMathItem(f,n,i)&&f.setState(c.stateName,l)})},r.prototype.setStateEnable=function(t){var n=ys(this.context);if(n)b_(this.context)&&this.setStateByElement(n,t);else{var i=gu(this.context);if(pf(i)){var l=i.item,c=i.component;if(l&&c&&!this.isItemIgnore(l,c)){var f=this.context.event.gEvent;if(f&&f.fromShape&&f.toShape&&YM(f.fromShape)===YM(f.toShape))return;this.setStateByComponent(c,l,t)}}}},r.prototype.toggle=function(){var t=ys(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Pp);const p1=Nc;var TR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(p1);const bR=TR;var AR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={},t}return(0,E.ZT)(r,e),r.prototype.getColorScale=function(t,n){var i=n.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},r.prototype.getLinkPath=function(t,n){var l=this.context.view.getCoordinate().isTransposed,c=t.shape.getCanvasBBox(),f=n.shape.getCanvasBBox();return l?[["M",c.minX,c.minY],["L",f.minX,f.maxY],["L",f.maxX,f.maxY],["L",c.maxX,c.minY],["Z"]]:[["M",c.maxX,c.minY],["L",f.minX,f.minY],["L",f.minX,f.maxY],["L",c.maxX,c.maxY],["Z"]]},r.prototype.addLinkShape=function(t,n,i,l){var c={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:(0,E.pi)((0,E.pi)({},(0,S.b$)({},c,(0,S.mf)(l)?l(c,n):l)),{path:this.getLinkPath(n,i)})})},r.prototype.linkByElement=function(t,n){var i=this,l=this.context.view,c=this.getColorScale(l,t);if(c){var f=lo(t,c.field);if(!this.cache[f]){var d=function em(e,r,t){return jn(e).filter(function(i){return lo(i,r)===t})}(l,c.field,f),m=this.linkGroup.addGroup();this.cache[f]=m;var x=d.length;(0,S.S6)(d,function(_,T){T<x-1&&i.addLinkShape(m,_,d[T+1],n)})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var i=lo(t,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=ys(n);i&&this.linkByElement(i,t?.style)},r.prototype.unlink=function(){var t=ys(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(wn);const ER=AR;var WM=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(gf(this.context))t=Xa(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var l={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)};t=yf(this.context.view,l)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=jn(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var i=this,l=this.context.view,c=Yo(l),f=t.map(function(m){return m.getModel().data}),d=l.getXScale().field,p=l.getYScales()[0].field;(0,S.S6)(c,function(m){var x=jn(m),_=x.filter(function(T){var b=T.getModel().data;return F_(f,b,d,p)});i.setElementsState(_,n,x)})},r.prototype.setSiblingsState=function(t){var n=this,l=Yo(this.context.view);gf(this.context)&&(0,S.S6)(l,function(c){var f=jn(c),d=E_(n.context,c,10);d&&d.length?n.setElementsState(d,t,f):n.clearViewState(c)})},r.prototype.setElementsState=function(t,n,i){var l=this;(0,S.S6)(i,function(c){t.includes(c)?l.setElementState(c,n):l.setElementState(c,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var i=Yo(n);(0,S.S6)(i,function(l){t.clearViewState(l)})}else this.clearViewState(n)},r}(Pp);const ws=WM;var LR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(ws);const IR=LR;var OR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setStateEnable=function(t){var n=ys(this.context);if(n){if(!b_(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=ys(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Pp);const g1=OR;var UM=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(g1);const RR=UM;var kf="inactive",zf="active";function y1(e){var r=jn(e);(0,S.S6)(r,function(t){t.hasState(zf)&&t.setState(zf,!1),t.hasState(kf)&&t.setState(kf,!1)})}function XM(e,r,t){(0,S.S6)(e,function(n){r(n)?(n.hasState(kf)&&n.setState(kf,!1),n.setState(zf,t)):(n.hasState(zf)&&n.setState(zf,!1),n.setState(kf,t))})}var Tu=Ws.INACTIVE,po=Ws.ACTIVE,FR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=po,t}return(0,E.ZT)(r,e),r.prototype.setElementsStateByItem=function(t,n,i,l){var c=this;this.setHighlightBy(t,function(d){return c.isMathItem(d,n,i)},l)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Tu)&&t.setState(Tu,!1),t.setState(po,!0)):t.hasState(po)||t.setState(Tu,!0)},r.prototype.setHighlightBy=function(t,n,i){var l=this;if(i)(0,S.S6)(t,function(d){l.setElementHighlight(d,n)});else{var c=I_(this.context.view,po),f=!0;(0,S.S6)(c,function(d){if(!n(d))return f=!1,!1}),f?this.clear():(0,S.S6)(t,function(d){n(d)&&(d.hasState(po)&&d.setState(po,!1),d.setState(Tu,!0))})}},r.prototype.setElementState=function(t,n){var l=jn(this.context.view);this.setHighlightBy(l,function(c){return t===c},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){y1(this.context.view)},r}(p1);const m1=FR;var VM=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setStateByElement=function(t,n){var i=this.context.view,l=t.geometry.getAttribute("color");if(l){var c=i.getScaleByField(l.getFields()[0]),f=lo(t,c.field),d=jn(i),p=d.filter(function(m){return lo(m,c.field)===f});this.setHighlightBy(d,function(m){return p.includes(m)},n)}},r}(m1);const DR=VM;var BR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Tu)&&t.setState(Tu,!1),t.setState(po,!0)):(t.setState(Tu,!0),t.hasState(po)&&t.setState(po,!1))},r.prototype.setStateByElement=function(t,n){var i=this.context.view,l=i.getXScale(),c=lo(t,l.field),f=jn(i),d=f.filter(function(p){return lo(p,l.field)===c});this.setHighlightBy(f,function(p){return d.includes(p)},n)},r.prototype.toggle=function(){var t=ys(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(m1);const kp=BR;var go=(()=>(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"}(go||(go={})),go))(),PR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.clearViewState=function(t){y1(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,c={view:n,event:t.event,highlightElements:this.getIntersectElements()};n.emit(go.BEFORE_HIGHLIGHT,en.fromData(n,go.BEFORE_HIGHLIGHT,c)),this.setState(),n.emit(go.AFTER_HIGHLIGHT,en.fromData(n,go.AFTER_HIGHLIGHT,c))},r.prototype.clear=function(){var t=this.context.view;t.emit(go.BEFORE_CLEAR,en.fromData(t,go.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(go.AFTER_CLEAR,en.fromData(t,go.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,i){XM(i,function(l){return t.indexOf(l)>=0},n)},r}(ws);const $M=PR;var Nf=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){XM(jn(this.context.view),function(c){return t===c},n)},r.prototype.clear=function(){y1(this.context.view)},r}(g1);const kR=Nf;var zR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(ws);const NR=zR;var HR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(p1);const GR=HR;var YR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(g1);const bu=YR;var WR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return(0,E.ZT)(r,e),r.prototype.getTriggerListInfo=function(){var t=gu(this.context),n=null;return pf(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,i=nm(this.context.view),l=[];return(0,S.S6)(i,function(c){c.isList()&&t.allowSetStateByElement(c)&&l.push(c)}),l},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();(0,S.S6)(n,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var c=Ec(this.context.view,n);return c&&c.isCategory},r.prototype.allowSetStateByItem=function(t,n){var i=this.ignoreItemStates;return!i.length||0===i.filter(function(c){return n.hasState(t,c)}).length},r.prototype.setStateByElement=function(t,n,i){var l=t.get("field"),f=Ec(this.context.view,l),d=lo(n,l),p=f.getText(d);this.setItemsState(t,p,i)},r.prototype.setStateEnable=function(t){var n=this,i=ys(this.context);if(i){var l=this.getAllowComponents();(0,S.S6)(l,function(p){n.setStateByElement(p,i,t)})}else{var c=gu(this.context);if(pf(c)){var f=c.item,d=c.component;this.allowSetStateByElement(d)&&this.allowSetStateByItem(f,d)&&this.setItemState(d,f,t)}}},r.prototype.setItemsState=function(t,n,i){var l=this,c=t.getItems();(0,S.S6)(c,function(f){f.name===n&&l.setItemState(t,f,i)})},r.prototype.setItemState=function(t,n,i){t.setItemState(n,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,l=this.hasState(n,i);this.setItemState(n,i,!l)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(wn);const Au=WR;var UR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="active",t}return(0,E.ZT)(r,e),r.prototype.active=function(){this.setState()},r}(Au);const XR=UR;var ZM="inactive",Hf="inactive",Eu="active",$R=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=Eu,t.ignoreItemStates=["unchecked"],t}return(0,E.ZT)(r,e),r.prototype.setItemsState=function(t,n,i){this.setHighlightBy(t,function(l){return l.name===n},i)},r.prototype.setItemState=function(t,n,i){t.getItems(),this.setHighlightBy(t,function(c){return c===n},i)},r.prototype.setHighlightBy=function(t,n,i){var l=t.getItems();if(i)(0,S.S6)(l,function(d){n(d)?(t.hasState(d,Hf)&&t.setItemState(d,Hf,!1),t.setItemState(d,Eu,!0)):t.hasState(d,Eu)||t.setItemState(d,Hf,!0)});else{var c=t.getItemsByState(Eu),f=!0;(0,S.S6)(c,function(d){if(!n(d))return f=!1,!1}),f?this.clear():(0,S.S6)(l,function(d){n(d)&&(t.hasState(d,Eu)&&t.setItemState(d,Eu,!1),t.setItemState(d,Hf,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function VR(e){var r=e.getItems();(0,S.S6)(r,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,ZM)&&e.setItemState(t,ZM,!1)})}(t.list);else{var n=this.getAllowComponents();(0,S.S6)(n,function(i){i.clearItemsState(Eu),i.clearItemsState(Hf)})}},r}(Au);const x1=$R;var C1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="selected",t}return(0,E.ZT)(r,e),r.prototype.selected=function(){this.setState()},r}(Au);const ZR=C1;var qR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return(0,E.ZT)(r,e),r.prototype.unchecked=function(){this.setState()},r}(Au);const zp=qR;var Hc="unchecked",Np="checked",KR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName=Np,t}return(0,E.ZT)(r,e),r.prototype.setItemState=function(t,n,i){this.setCheckedBy(t,function(l){return l===n},i)},r.prototype.setCheckedBy=function(t,n,i){var l=t.getItems();i&&(0,S.S6)(l,function(c){n(c)?(t.hasState(c,Hc)&&t.setItemState(c,Hc,!1),t.setItemState(c,Np,!0)):t.hasState(c,Np)||t.setItemState(c,Hc,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item;!(0,S.G)(n.getItems(),function(c){return n.hasState(c,Hc)})||n.hasState(i,Hc)?this.setItemState(n,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,S.S6)(t,function(n){n.clearItemsState(Np),n.clearItemsState(Hc)})},r}(Au);const QR=KR;var Gc="unchecked",JR=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.toggle=function(){var t,n,i,l,c,f,d,p,m=this.getTriggerListInfo();if(m?.item){var x=m.list,_=m.item,T=x.getItems(),b=T.filter(function(le){return!x.hasState(le,Gc)}),I=T.filter(function(le){return x.hasState(le,Gc)}),F=b[0];if(T.length===b.length)try{for(var B=(0,E.XA)(T),Y=B.next();!Y.done;Y=B.next())x.setItemState(G=Y.value,Gc,G.id!==_.id)}catch(le){t={error:le}}finally{try{Y&&!Y.done&&(n=B.return)&&n.call(B)}finally{if(t)throw t.error}}else if(T.length-I.length==1)if(F.id===_.id)try{for(var H=(0,E.XA)(T),et=H.next();!et.done;et=H.next())x.setItemState(G=et.value,Gc,!1)}catch(le){i={error:le}}finally{try{et&&!et.done&&(l=H.return)&&l.call(H)}finally{if(i)throw i.error}}else try{for(var wt=(0,E.XA)(T),Ot=wt.next();!Ot.done;Ot=wt.next())x.setItemState(G=Ot.value,Gc,G.id!==_.id)}catch(le){c={error:le}}finally{try{Ot&&!Ot.done&&(f=wt.return)&&f.call(wt)}finally{if(c)throw c.error}}else try{for(var $t=(0,E.XA)(T),ge=$t.next();!ge.done;ge=$t.next()){var G;x.setItemState(G=ge.value,Gc,G.id!==_.id)}}catch(le){d={error:le}}finally{try{ge&&!ge.done&&(p=$t.return)&&p.call($t)}finally{if(d)throw d.error}}}},r}(Au);const KM=JR;var QM="showRadio",w1="legend-radio-tip",jR=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,QM,!0)},r.prototype.hide=function(){var t=this.getTriggerListInfo();t?.item&&t.list.setItemState(t.item,QM,!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var n=this.context.event,i=this.timeStamp,l=+new Date;if(l-i>16&&"legend-item-radio"===this.context.event.target.get("name")){var f=this.location,d={x:n.x,y:n.y};this.timeStamp=l,this.location=d,(!f||!(0,S.Xy)(f,d))&&this.showTooltip(d)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,l=n.event.target;if(l&&l.get("tip")){this.tooltip||this.renderTooltip();var c=n.view.getCanvas().get("el").getBoundingClientRect(),f=c.x,d=c.y;this.tooltip.update((0,E.pi)((0,E.pi)({title:l.get("tip")},t),{x:t.x+f,y:t.y+d})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=((t={})[ua]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Ho]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(w1)&&document.body.removeChild(document.getElementById(w1));var i=new ff({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:w1});i.init(),i.setCapture(!1),this.tooltip=i},r}(Au);const JM=jR;var tF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),l=this.context.event;this.context.view.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:l.x,y:l.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,E.pi)({fill:"#C5D4EB",opacity:.3},n)})},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,l=t.y-n.y;(0,S.S6)(this.points,function(f){f.x+=i,f.y+=l}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=(0,S.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(wn);const _1=tF;function jM(e){var r=(0,S.Z$)(e),t=0,n=0,i=0;if(e.length){var l=e[0];t=im(l,r)/2,n=(r.x+l.x)/2,i=(r.y+l.y)/2}return{x:n,y:i,r:t}}var eF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return(0,E.ZT)(r,e),r.prototype.getMaskAttrs=function(){return jM(this.points)},r}(_1);const rF=eF;function tT(e){return{start:(0,S.YM)(e),end:(0,S.Z$)(e)}}function eT(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),width:Math.abs(r.x-e.x),height:Math.abs(r.y-e.y)}}var nF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(){return tT(this.points)},r.prototype.getMaskAttrs=function(){var t=this.getRegion();return eT(t.start,t.end)},r}(_1);const S1=nF;function rT(e){e.x=(0,S.uZ)(e.x,0,1),e.y=(0,S.uZ)(e.y,0,1)}function nT(e,r,t,n){var i=null,l=null,c=n.invert((0,S.YM)(e)),f=n.invert((0,S.Z$)(e));return t&&(rT(c),rT(f)),"x"===r?(i=n.convert({x:c.x,y:0}),l=n.convert({x:f.x,y:1})):(i=n.convert({x:0,y:c.y}),l=n.convert({x:1,y:f.y})),{start:i,end:l}}var iF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return nT(this.points,this.dim,this.inPlot,t)},r}(S1);const M1=iF;function T1(e){var r=[];return e.length&&((0,S.S6)(e,function(t,n){r.push(0===n?["M",t.x,t.y]:["L",t.x,t.y])}),r.push(["L",e[0].x,e[0].y])),r}function iT(e){return{path:T1(e)}}var aF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getMaskPath=function(){return T1(this.points)},r.prototype.getMaskAttrs=function(){return iT(this.points)},r.prototype.addPoint=function(){this.resize()},r}(_1);const aT=aF;function b1(e){return function bL(e,r){if(e.length<=2)return df(e,!1);var t=e[0],n=[];(0,S.S6)(e,function(l){n.push(l.x),n.push(l.y)});var i=Kd(n,r,null);return i.unshift(["M",t.x,t.y]),i}(e,!0)}function oT(e){return{path:b1(e)}}var sT=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getMaskPath=function(){return b1(this.points)},r.prototype.getMaskAttrs=function(){return oT(this.points)},r}(aT);const oF=sT;var lT=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return(0,E.ZT)(r,e),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),l=this.context.event,c={type:this.shapeType,name:this.maskType,get:function(f){return c.hasOwnProperty(f)?c[f]:void 0}};this.context.view.emit(n,{target:c,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:l.x,y:l.y})},r.prototype.createMask=function(t){var n=this.context.view,l=this.getMaskAttrs(this.recordPoints[t]),c=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,E.pi)({fill:"#C5D4EB",opacity:.3},l)});this.maskShapes.push(c)},r.prototype.getMaskPath=function(t){return[]},r.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},r.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1,this.createMask(this.recordPoints.length-1),this.updateShapesCapture(!1),this.updateMask(t?.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},r.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,l=t.y-n.y,c=this.getCurMaskShapeIndex();c>-1&&(this.recordPoints[c].forEach(function(f){f.x+=i,f.y+=l}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},r.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(i,l){var c=(0,S.b$)({},n.getMaskAttrs(i),t);n.maskShapes[l].attr(c)})},r.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},r.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},r.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},r.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},r.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},r.prototype.destroy=function(){this.clear(),e.prototype.destroy.call(this)},r.prototype.getRecordPoints=function(){var t;return(0,E.ev)([],(0,E.CR)(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},r.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=(0,E.ev)((0,E.ev)([],(0,E.CR)(t),!1),[[n]],!1)},r.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),i=t.splice(-1,1)[0]||[];i.push(n),this.recordPoints=(0,E.ev)((0,E.ev)([],(0,E.CR)(t),!1),[i],!1)},r.prototype.recordPointClear=function(){this.recordPoints=[]},r.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},r.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var i=n.attrs;return!(0===i.width||0===i.height||0===i.r)&&n.isHit(t.x,t.y)})},r}(wn);const A1=lT;var sF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(t){return tT(t)},r.prototype.getMaskAttrs=function(t){var n=this.getRegion(t);return eT(n.start,n.end)},r}(A1);const uT=sF;var cT=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,E.ZT)(r,e),r.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return nT(t,this.dim,this.inPlot,n)},r}(uT);const hT=cT;var lF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=jM,t}return(0,E.ZT)(r,e),r}(A1);const uF=lF;var cF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMaskPath=T1,t.getMaskAttrs=iT,t}return(0,E.ZT)(r,e),r.prototype.addPoint=function(){this.resize()},r}(A1);const fT=cF;var E1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMaskPath=b1,t.getMaskAttrs=oT,t}return(0,E.ZT)(r,e),r}(fT);const hF=E1;var fF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r.prototype.zoomIn=function(){this.setCursor("zoom-in")},r.prototype.zoomOut=function(){this.setCursor("zoom-out")},r}(wn);const vF=fF;var dF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filterView=function(t,n,i){var l=this;t.getScaleByField(n)&&t.filter(n,i),t.views&&t.views.length&&(0,S.S6)(t.views,function(c){l.filterView(c,n,i)})},r.prototype.filter=function(){var t=gu(this.context);if(t){var n=this.context.view,i=t.component,l=i.get("field");if(pf(t)){if(l){var c=i.getItemsByState("unchecked"),f=Ec(n,l),d=c.map(function(T){return T.name});this.filterView(n,l,d.length?function(T){var b=f.getText(T);return!d.includes(b)}:null),n.render(!0)}}else if(A_(t)){var p=i.getValue(),m=(0,E.CR)(p,2),x=m[0],_=m[1];this.filterView(n,l,function(T){return T>=x&&T<=_}),n.render(!0)}}},r}(wn);const pF=dF;function vT(e,r,t,n){var i=Math.min(t[r],n[r]),l=Math.max(t[r],n[r]),c=(0,E.CR)(e.range,2),f=c[0],d=c[1];if(i<f&&(i=f),l>d&&(l=d),i===d&&l===d)return null;var p=e.invert(i),m=e.invert(l);if(e.isCategory){var x=e.values.indexOf(p),_=e.values.indexOf(m),T=e.values.slice(x,_+1);return function(b){return T.includes(b)}}return function(b){return b>=p&&b<=m}}var Ti=(()=>(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"}(Ti||(Ti={})),Ti))(),gF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return(0,E.ZT)(r,e),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(gf(this.context)){var l=this.context.event.target.getCanvasBBox();t={x:l.x,y:l.y},n={x:l.maxX,y:l.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var c=this.context,f=c.view,p={view:f,event:c.event,dims:this.dims};f.emit(Ti.BEFORE_FILTER,en.fromData(f,Ti.BEFORE_FILTER,p));var m=f.getCoordinate(),x=m.invert(n),_=m.invert(t);if(this.hasDim("x")){var T=f.getXScale(),b=vT(T,"x",x,_);this.filterView(f,T.field,b)}if(this.hasDim("y")){var I=f.getYScales()[0];b=vT(I,"y",x,_),this.filterView(f,I.field,b)}this.reRender(f,{source:Ti.FILTER}),f.emit(Ti.AFTER_FILTER,en.fromData(f,Ti.AFTER_FILTER,p))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(Ti.BEFORE_RESET,en.fromData(t,Ti.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:Ti.RESET}),t.emit(Ti.AFTER_RESET,en.fromData(t,Ti.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,i){t.filter(n,i)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(wn);const Hp=gF;var dT=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filterView=function(t,n,i){var l=Yo(t);(0,S.S6)(l,function(c){c.filter(n,i)})},r.prototype.reRender=function(t){var n=Yo(t);(0,S.S6)(n,function(i){i.render(!0)})},r}(Hp);const L1=dT;var yF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.filter=function(){var t=gu(this.context),n=this.context.view,i=jn(n);if(gf(this.context)){var l=Xa(this.context,10);l&&(0,S.S6)(i,function(I){l.includes(I)?I.show():I.hide()})}else if(t){var c=t.component,f=c.get("field");if(pf(t)){if(f){var d=c.getItemsByState("unchecked"),p=Ec(n,f),m=d.map(function(I){return I.name});(0,S.S6)(i,function(I){var F=lo(I,f),B=p.getText(F);m.indexOf(B)>=0?I.hide():I.show()})}}else if(A_(t)){var x=c.getValue(),_=(0,E.CR)(x,2),T=_[0],b=_[1];(0,S.S6)(i,function(I){var F=lo(I,f);F>=T&&F<=b?I.show():I.hide()})}}},r.prototype.clear=function(){var t=jn(this.context.view);(0,S.S6)(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(wn);const I1=yF;var Gf=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return(0,E.ZT)(r,e),r.prototype.filter=function(){gf(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=Xa(this.context,10);if(n){var i=t.getXScale().field,l=t.getYScales()[0].field,c=n.map(function(d){return d.getModel().data}),f=Yo(t);(0,S.S6)(f,function(d){var p=jn(d);(0,S.S6)(p,function(m){var x=m.getModel().data;F_(c,x,i,l)?m.show():m.hide()})})}},r.prototype.filterByBBox=function(){var t=this,i=Yo(this.context.view);(0,S.S6)(i,function(l){var c=E_(t.context,l,10),f=jn(l);c&&(0,S.S6)(f,function(d){c.includes(d)?d.show():d.hide()})})},r.prototype.reset=function(){var t=Yo(this.context.view);(0,S.S6)(t,function(n){var i=jn(n);(0,S.S6)(i,function(l){l.show()})})},r}(wn);const pT=Gf;var xF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return(0,E.ZT)(r,e),r.prototype.getButtonCfg=function(){return(0,S.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),l=n.addShape({type:"text",name:"button-text",attrs:(0,E.pi)({text:t.text},t.textStyle)}).getBBox(),c=cm(t.padding),f=n.addShape({type:"rect",name:"button-rect",attrs:(0,E.pi)({x:l.x-c[3],y:l.y-c[0],width:l.width+c[1]+c[3],height:l.height+c[0]+c[2]},t.style)});f.toBack(),n.on("mouseenter",function(){f.attr(t.activeStyle)}),n.on("mouseleave",function(){f.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var i=this.context.view.getCoordinate().convert({x:1,y:1}),l=this.buttonGroup,c=l.getBBox(),f=Zr.vs(null,[["t",i.x-c.width-10,i.y+c.height+5]]);l.setMatrix(f)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(wn);const CF=xF;var R1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return(0,E.ZT)(r,e),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):im(t,this.startPoint)>4&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var n=this.context.event;this.context.view.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(wn);const wF=R1;var yT=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return(0,E.ZT)(r,e),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint();if(im(t,n)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var l=this.context.view,c=Zr.vs(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);l.backgroundGroup.setMatrix(c),l.foregroundGroup.setMatrix(c),l.middleGroup.setMatrix(c)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(wn);const SF=yT;var Yc="x",mT="y",xT=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.dims=[Yc,mT],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return(0,E.ZT)(r,e),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return"x"===t?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);n.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(Yc),this.resetDim(mT),this.context.view.render(!0)},r}(wn);const F1=xT;var D1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return(0,E.ZT)(r,e),r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,(0,S.S6)(this.dims,function(i){var l=t.getScale(i);t.startCache[i]={min:l.min,max:l.max,values:l.values}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),l=this.context.getCurrentPoint(),c=i.invert(n),f=i.invert(l),d=f.x-c.x,p=f.y-c.y,m=this.context.view;(0,S.S6)(this.dims,function(_){t.translateDim(_,{x:-1*d,y:-1*p})}),m.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,n)}},r.prototype.translateLinear=function(t,n,i){var l=this.context.view,c=this.startCache[t],f=c.min,d=c.max,m=i[t]*(d-f);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:f,max:d}),l.scale(n.field,{nice:!1,min:f+m,max:d+m})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(F1);const MF=D1;var TF=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return(0,E.ZT)(r,e),r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this;(0,S.S6)(this.dims,function(l){n.zoomDim(l,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,n)}},r.prototype.zoomLinear=function(t,n,i){var l=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var c=this.cacheScaleDefs[t],f=c.max-c.min,d=n.min,p=n.max,m=i*f,x=d-m,_=p+m,b=(_-x)/f;_>x&&b<100&&b>.01&&l.scale(n.field,{nice:!1,min:d-m,max:p+m})},r}(F1);const bF=TF;var LF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.scroll=function(t){var n=this.context,i=n.view,l=n.event;if(i.getOptions().scrollbar){var c=t?.wheelDelta||1,f=i.getController("scrollbar"),d=i.getXScale(),p=i.getOptions().data,m=(0,S.dp)((0,S.I)(p,d.field)),x=(0,S.dp)(d.values),_=f.getValue(),b=Math.floor((m-x)*_)+(function AF(e){return e.gEvent.originalEvent.deltaY>0}(l)?c:-c),F=(0,S.uZ)(b/(m-x)+c/(m-x)/1e4,0,1);f.setValue(F)}},r}(wn);const IF=LF;var RF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.show=function(){var t=this.context,i=gu(t).axis.cfg.title,l=i.description,c=i.text,f=i.descriptionTooltipStyle,d=t.event,p=d.x,m=d.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:c||"",customContent:function(){return'\n          <div class="'.concat(ua,'" style={').concat(f,'}>\n            <div class="').concat(Ho,'">\n              \u5b57\u6bb5\u8bf4\u660e\uff1a').concat(l,"\n            </div>\n          </div>\n        ")},x:p,y:m}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,i=this.context.view.canvas,l={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},c=new ff({parent:i.get("el").parentNode,region:l,visible:!1,containerId:"aixs-description-tooltip",domStyles:(0,E.pi)({},(0,S.b$)({},(t={},t[ua]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Ho]={"word-break":"break-all","margin-bottom":"3px"},t)))});c.init(),c.setCapture(!1),this.tooltip=c},r}(wn);const FF=RF;function _s(e){return e.isInPlot()}function B1(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}(function GL(e,r){sm[(0,S.vl)(e)]=Qd(r)})("dark",om(y5)),Vv("canvas",se),Vv("svg",me),Wo("Polygon",UI),Wo("Interval",zI),Wo("Schema",VI),Wo("Path",Xm),Wo("Point",YI),Wo("Line",Vi),Wo("Area",Ef),Wo("Edge",RI),Wo("Heatmap",DI),Wo("Violin",oM),xf("base",_f),xf("interval",cO),xf("pie",vO),xf("polar",cM),fa("overlap",function MO(e,r,t,n){var i=new If;(0,S.S6)(r,function(l){for(var c=l.find(function(T){return"text"===T.get("type")}),f=c.attr(),d=f.x,p=f.y,m=!1,x=0;x<=8;x++){var _=_O(c,d,p,x);if(i.hasGap(_)){i.fillGap(_),m=!0;break}}m||l.remove(!0)}),i.destroy()}),fa("distribute",function pO(e,r,t,n){if(e.length&&r.length){var i=e[0]?e[0].offset:0,l=r[0].get("coordinate"),c=l.getRadius(),f=l.getCenter();if(i>0){var m=2*(c+i)+28,x={start:l.start,end:l.end},_=[[],[]];e.forEach(function(T){T&&("right"===T.textAlign?_[0].push(T):_[1].push(T))}),_.forEach(function(T,b){var I=m/14;T.length>I&&(T.sort(function(F,B){return B["..percent"]-F["..percent"]}),T.splice(I,T.length-I)),T.sort(function(F,B){return F.y-B.y}),function dO(e,r,t,n,i,l){var c,f,T,d=!0,p=n.start,m=n.end,x=Math.min(p.y,m.y),_=Math.abs(p.y-m.y),b=0,I=Number.MIN_VALUE,F=r.map(function(Ot){return Ot.y>b&&(b=Ot.y),Ot.y<I&&(I=Ot.y),{size:t,targets:[Ot.y-x]}});for(I-=x,b-x>_&&(_=b-x);d;)for(F.forEach(function(Ot){var $t=(Math.min.apply(I,Ot.targets)+Math.max.apply(I,Ot.targets))/2;Ot.pos=Math.min(Math.max(I,$t-Ot.size/2),_-Ot.size)}),d=!1,T=F.length;T--;)if(T>0){var B=F[T-1],Y=F[T];B.pos+B.size>Y.pos&&(B.size+=Y.size,B.targets=B.targets.concat(Y.targets),B.pos+B.size>_&&(B.pos=_-B.size),F.splice(T,1),d=!0)}T=0,F.forEach(function(Ot){var $t=x+t/2;Ot.targets.forEach(function(){r[T].y=Ot.pos+$t,$t+=t,T++})});var G={};try{for(var H=(0,E.XA)(e),et=H.next();!et.done;et=H.next()){var wt=et.value;G[wt.get("id")]=wt}}catch(Ot){c={error:Ot}}finally{try{et&&!et.done&&(f=H.return)&&f.call(H)}finally{if(c)throw c.error}}r.forEach(function(Ot){var $t=Ot.r*Ot.r,ge=Math.pow(Math.abs(Ot.y-i.y),2);if($t<ge)Ot.x=i.x;else{var le=Math.sqrt($t-ge);Ot.x=l?i.x+le:i.x-le}var Se=G[Ot.id];Se.attr("x",Ot.x),Se.attr("y",Ot.y);var Pe=(0,S.sE)(Se.getChildren(),function(or){return"text"===or.get("type")});Pe&&(Pe.attr("y",Ot.y),Pe.attr("x",Ot.x))})}(r,T,14,x,f,b)})}(0,S.S6)(e,function(T){if(T&&T.labelLine){var b=T.offset,I=T.angle,F=$n(f.x,f.y,c,I),B=$n(f.x,f.y,c+b/2,I),Y=T.x+(0,S.U2)(T,"offsetX",0),G=T.y+(0,S.U2)(T,"offsetY",0),H={x:Y-4*Math.cos(I),y:G-4*Math.sin(I)};(0,S.Kn)(T.labelLine)||(T.labelLine={}),T.labelLine.path=["M ".concat(F.x),"".concat(F.y," Q").concat(B.x),"".concat(B.y," ").concat(H.x),H.y].join(",")}})}}),fa("fixed-overlap",function SO(e,r,t,n){var i=new If;(0,S.S6)(r,function(l){(function wO(e,r,t){void 0===t&&(t=100);var p,Y,i=e.attr(),l=i.x,c=i.y,f=e.getCanvasBBox(),d=Math.sqrt(f.width*f.width+f.height*f.height),m=1,x=0,_=0;if(r.hasGap(f))return r.fillGap(f),!0;for(var b=!1,I=0,F={};Math.min(Math.abs(x),Math.abs(_))<d&&I<t;)if(void 0,_=~~(p=[(Y=.1*(m+=-1))*Math.cos(Y),Y*Math.sin(Y)])[1],((x=~~p[0])||_)&&!F["".concat(x,"-").concat(_)]&&(e.attr({x:l+x,y:c+_}),x+_<0&&e.attr("textAlign","right"),I++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),b=!0,F["".concat(x,"-").concat(_)]=!0;break}return b})(l.find(function(f){return"text"===f.get("type")}),i)||l.remove(!0)}),i.destroy()}),fa("hide-overlap",function LO(e,r,t,n){return(0,E.mG)(this,void 0,void 0,function(){var i,l,c,f,d,p;return(0,E.Jh)(this,function(m){switch(m.label){case 0:return i=r.map(function(x,_){return(0,E.pi)((0,E.pi)({},iS(x,e[_],(0,S.U2)(e[_],"background.padding"))),{visible:!0})}),l=JSON.stringify(i),c=function(x){return n1.set(l,x),(0,S.S6)(x,function(_,T){var I=r[T];_.visible?I?.show():I?.hide()}),x},n1.get(l)?(c(n1.get(l)),[3,7]):[3,1];case 1:if(!bp)return[3,6];m.label=2;case 2:return m.trys.push([2,4,,5]),f=JSON.stringify({type:"hide-overlap",items:i}),[4,bp.post(f,function(){return c(r1(i))})];case 3:return d=m.sent(),c(Array.isArray(d.data)?d.data:[]),[3,5];case 4:return p=m.sent(),console.error(p),c(r1(i)),[3,5];case 5:return[3,7];case 6:c(r1(i)),m.label=7;case 7:return[2]}})})}),fa("limit-in-shape",function xO(e,r,t,n){(0,S.S6)(r,function(i,l){var c=i.getCanvasBBox(),f=t[l].getBBox();(c.minX<f.minX||c.minY<f.minY||c.maxX>f.maxX||c.maxY>f.maxY)&&i.remove(!0)})}),fa("limit-in-canvas",function mO(e,r,t,n){(0,S.S6)(r,function(i){var l=n.minX,c=n.minY,f=n.maxX,d=n.maxY,p=i.getCanvasBBox(),m=p.minX,x=p.minY,_=p.maxX,T=p.maxY,b=p.x,I=p.y,Y=b,G=I;(m<l||_<l)&&(Y=l),(x<c||T<c)&&(G=c),m>f?Y=f-p.width:_>f&&(Y-=_-f),x>d?G=d-p.height:T>d&&(G-=T-d),(Y!==b||G!==I)&&Rc(i,Y-b,G-I)})}),fa("limit-in-plot",function NO(e,r,t,n,i){if(!(r.length<=0)){var l=i?.direction||["top","right","bottom","left"],c=i?.action||"translate",f=i?.margin||0,d=r[0].get("coordinate");if(d){var p=function cL(e,r){void 0===r&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),l=e.getHeight(),c=Math.min(t.x,n.x),f=Math.min(t.y,n.y);return Xi.fromRange(c-r,f-r,c+i+r,f+l+r)}(d,f),m=p.minX,x=p.minY,_=p.maxX,T=p.maxY;(0,S.S6)(r,function(b){var I=b.getCanvasBBox(),F=I.minX,B=I.minY,Y=I.maxX,G=I.maxY,H=I.x,et=I.y,wt=I.width,Ot=I.height,$t=H,ge=et;if(l.indexOf("left")>=0&&(F<m||Y<m)&&($t=m),l.indexOf("top")>=0&&(B<x||G<x)&&(ge=x),l.indexOf("right")>=0&&(F>_?$t=_-wt:Y>_&&($t-=Y-_)),l.indexOf("bottom")>=0&&(B>T?ge=T-Ot:G>T&&(ge-=G-T)),$t!==H||ge!==et){var le=$t-H;"translate"===c?Rc(b,le,ge-et):"ellipsis"===c?b.findAll(function(Pe){return"text"===Pe.get("type")}).forEach(function(Pe){var or=(0,S.ei)(Pe.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),cr=Pe.getCanvasBBox(),Rr=function(e,r,t){var l,i=Ep("...",t);l=(0,S.HD)(e)?e:(0,S.BB)(e);var d,p,c=r,f=[];if(Ep(e,t)<=r)return e;for(;d=l.substr(0,16),!((p=Ep(d,t))+i>c&&p>c);)if(f.push(d),c-=p,!(l=l.substr(16)))return f.join("");for(;d=l.substr(0,1),!((p=Ep(d,t))+i>c);)if(f.push(d),c-=p,!(l=l.substr(1)))return f.join("");return"".concat(f.join(""),"...")}(Pe.attr("text"),cr.width-Math.abs(le),or);Pe.attr("text",Rr)}):b.hide()}})}}}),fa("pie-outer",function Mp(e,r,t,n){var i,l,c=(0,S.hX)(e,function($t){return!(0,S.UM)($t)}),f=r[0]&&r[0].get("coordinate");if(f){var d=f.getCenter(),p=f.getRadius(),m={};try{for(var x=(0,E.XA)(r),_=x.next();!_.done;_=x.next()){var T=_.value;m[T.get("id")]=T}}catch($t){i={error:$t}}finally{try{_&&!_.done&&(l=x.return)&&l.call(x)}finally{if(i)throw i.error}}var b=(0,S.U2)(c[0],"labelHeight",14),I=(0,S.U2)(c[0],"offset",0);if(!(I<=0)){var B="right",Y=(0,S.vM)(c,function($t){return $t.x<d.x?"left":B}),G=f.start,H=f.end,et=Math.min(2*(p+I+b),f.getHeight()),wt=et/2,Ot={minX:G.x,maxX:H.x,minY:d.y-wt,maxY:d.y+wt};(0,S.S6)(Y,function($t,ge){var le=Math.floor(et/b);$t.length>le&&($t.sort(function(Se,Pe){return Pe.percent-Se.percent}),(0,S.S6)($t,function(Se,Pe){Pe+1>le&&(m[Se.id].set("visible",!1),Se.invisible=!0)})),Sp($t,b,Ot)}),(0,S.S6)(Y,function($t,ge){(0,S.S6)($t,function(le){var Se=ge===B,or=m[le.id].getChildByIndex(0);if(or){var cr=p+I,Rr=le.y-d.y,Ie=Math.pow(cr,2),We=Math.pow(Rr,2),Ve=Math.sqrt(Ie-We>0?Ie-We:0),je=Math.abs(Math.cos(le.angle)*cr);le.x=Se?d.x+Math.max(Ve,je):d.x-Math.max(Ve,je)}or&&(or.attr("y",le.y),or.attr("x",le.x)),function gO(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var i=e.angle,l=e.offset,c=$n(t.x,t.y,n,i),f=e.x+(0,S.U2)(e,"offsetX",0)*(Math.cos(i)>0?1:-1),d=e.y+(0,S.U2)(e,"offsetY",0)*(Math.sin(i)>0?1:-1),p={x:f-4*Math.cos(i),y:d-4*Math.sin(i)},m=e.labelLine.smooth,x=[],_=p.x-t.x,b=Math.atan((p.y-t.y)/_);if(_<0&&(b+=Math.PI),!1===m){(0,S.Kn)(e.labelLine)||(e.labelLine={});var I=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&p.y>c.y&&(I=1),i>=0&&i<Math.PI/2&&p.y>c.y&&(I=1),i>=Math.PI/2&&i<Math.PI&&c.y>p.y&&(I=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&c.y>p.y&&(I=1);var F=l/2>4?4:Math.max(l/2-1,0),B=$n(t.x,t.y,n+F,i),Y=$n(t.x,t.y,n+l/2,b);x.push("M ".concat(c.x," ").concat(c.y)),x.push("L ".concat(B.x," ").concat(B.y)),x.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(0," ").concat(I," ").concat(Y.x," ").concat(Y.y)),x.push("L ".concat(p.x," ").concat(p.y))}else{B=$n(t.x,t.y,n+(l/2>4?4:Math.max(l/2-1,0)),i);var H=c.x<t.x?1:-1;x.push("M ".concat(p.x," ").concat(p.y)),Math.abs((c.y-t.y)/(c.x-t.x)-(p.y-t.y)/(p.x-t.x))>Math.pow(Math.E,-16)&&x.push.apply(x,["C",p.x+4*H,p.y,2*B.x-c.x,2*B.y-c.y,c.x,c.y]),x.push("L ".concat(c.x," ").concat(c.y))}e.labelLine.path=x.join(" ")}}(le,f)})})}}}),fa("adjust-color",function OO(e,r,t){if(0!==t.length){var i=t[0].get("element").geometry.theme,l=i.labels||{},c=l.fillColorLight,f=l.fillColorDark;t.forEach(function(d,p){var x=r[p].find(function(B){return"text"===B.get("type")}),_=Xi.fromObject(d.getBBox()),T=Xi.fromObject(x.getCanvasBBox()),b=!_.contains(T),F=function(e){var r=Vs.toRGB(e).toUpperCase();if(xM[r])return xM[r];var t=(0,E.CR)(Vs.rgb2arr(r),3);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(d.attr("fill"));b?x.attr(i.overflowLabels.style):F?c&&x.attr("fill",c):f&&x.attr("fill",f)})}}),fa("interval-adjust-position",function CM(e,r,t){var n;if(0!==t.length){var l=(null===(n=t[0])||void 0===n?void 0:n.get("element"))?.geometry;l&&"interval"===l.type&&function i1(e,r,t){return!!e.getAdjust("stack")||r.every(function(i,l){return function RO(e,r,t){var n=e.coordinate,i=Va(r),l=Xi.fromObject(i.getCanvasBBox()),c=Xi.fromObject(t.getBBox());return n.isTransposed?c.height>=l.height:c.width>=l.width}(e,i,t[l])})}(l,r,t)&&t.forEach(function(f,d){!function Ff(e,r,t){var n=e.coordinate,i=Xi.fromObject(t.getBBox());Va(r).attr(n.isTransposed?{x:i.minX+i.width/2,textAlign:"center"}:{y:i.minY+i.height/2,textBaseline:"middle"})}(l,r[d],f)})}}),fa("interval-hide-overlap",function FO(e,r,t){var n;if(0!==t.length){var l=(null===(n=t[0])||void 0===n?void 0:n.get("element"))?.geometry;if(l&&"interval"===l.type){var T,c=function a1(e){var t=[],n=Math.max(Math.floor(e.length/500),1);return(0,S.S6)(e,function(i,l){l%n==0?t.push(i):i.set("visible",!1)}),t}(r),d=(0,E.CR)(l.getXYFields(),1)[0],p=[],m=[],x=(0,S.vM)(c,function(F){return F.get("data")[d]}),_=(0,S.jj)((0,S.UI)(c,function(F){return F.get("data")[d]}));c.forEach(function(F){F.set("visible",!0)});var b=function(F){F&&(F.length&&m.push(F.pop()),m.push.apply(m,(0,E.ev)([],(0,E.CR)(F),!1)))};for((0,S.dp)(_)>0&&(T=_.shift(),b(x[T])),(0,S.dp)(_)>0&&(T=_.pop(),b(x[T])),(0,S.S6)(_.reverse(),function(F){b(x[F])});m.length>0;){var I=m.shift();I.get("visible")&&(gm(I,p)?I.set("visible",!1):p.push(I))}}}}),fa("point-adjust-position",function MM(e,r,t,n,i){var l,c;if(0!==t.length){var d=(null===(l=t[0])||void 0===l?void 0:l.get("element"))?.geometry;if(d&&"point"===d.type){var p=(0,E.CR)(d.getXYFields(),2),m=p[0],x=p[1],_=(0,S.vM)(r,function(I){return I.get("data")[m]}),T=[],b=i&&i.offset||(null===(c=e[0])||void 0===c?void 0:c.offset)||12;(0,S.UI)((0,S.XP)(_).reverse(),function(I){for(var F=function DO(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(l,c){return l.get("data")[t]-l.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,E.ev)([],(0,E.CR)(i),!1)),n}(d,_[I]);F.length;){var B=F.shift(),Y=Va(B);if(wM(T,B,function(et,wt){return et.get("data")[m]===wt.get("data")[m]&&et.get("data")[x]===wt.get("data")[x]}))Y.set("visible",!1);else{var H=!1;SM(T,B)&&(Y.attr("y",Y.attr("y")+2*b),H=SM(T,B)),H?Y.set("visible",!1):T.push(B)}}})}}}),fa("pie-spider",function fM(e,r,t,n){var i,l,c=r[0]&&r[0].get("coordinate");if(c){var f=c.getCenter(),d=c.getRadius(),p={};try{for(var m=(0,E.XA)(r),x=m.next();!x.done;x=m.next()){var _=x.value;p[_.get("id")]=_}}catch($t){i={error:$t}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(i)throw i.error}}var T=(0,S.U2)(e[0],"labelHeight",14),b=Math.max((0,S.U2)(e[0],"offset",0),4);(0,S.S6)(e,function($t){if($t&&(0,S.U2)(p,[$t.id])){var le=$t.x>f.x||$t.x===f.x&&$t.y>f.y,Se=(0,S.UM)($t.offsetX)?4:$t.offsetX,Pe=$n(f.x,f.y,d+4,$t.angle);$t.x=f.x+(le?1:-1)*(d+(b+Se)),$t.y=Pe.y}});var I=c.start,F=c.end,Y="right",G=(0,S.vM)(e,function($t){return $t.x<f.x?"left":Y}),H=2*(d+b)+T;(0,S.S6)(G,function($t){var ge=$t.length*T;ge>H&&(H=Math.min(ge,Math.abs(I.y-F.y)))});var et={minX:I.x,maxX:F.x,minY:f.y-H/2,maxY:f.y+H/2};(0,S.S6)(G,function($t,ge){var le=H/T;$t.length>le&&($t.sort(function(Se,Pe){return Pe.percent-Se.percent}),(0,S.S6)($t,function(Se,Pe){Pe>le&&(p[Se.id].set("visible",!1),Se.invisible=!0)})),Sp($t,T,et)});var wt=et.minY,Ot=et.maxY;(0,S.S6)(G,function($t,ge){var le=ge===Y;(0,S.S6)($t,function(Se){var Pe=(0,S.U2)(p,Se&&[Se.id]);if(Pe){if(Se.y<wt||Se.y>Ot)return void Pe.set("visible",!1);var or=Pe.getChildByIndex(0),cr=or.getCanvasBBox(),Rr={x:le?cr.x:cr.maxX,y:cr.y+cr.height/2};Rc(or,Se.x-Rr.x,Se.y-Rr.y),Se.labelLine&&function yO(e,r,t){var m,n=r.getCenter(),i=r.getRadius(),l={x:e.x-(t?4:-4),y:e.y},c=$n(n.x,n.y,i+4,e.angle),f={x:l.x,y:l.y},d={x:c.x,y:c.y},p=$n(n.x,n.y,i,e.angle);if(l.y!==c.y){var x=t?4:-4;f.y=l.y,e.angle<0&&e.angle>=-Math.PI/2&&(f.x=Math.max(c.x,l.x-x),l.y<c.y?d.y=f.y:(d.y=c.y,d.x=Math.max(d.x,f.x-x))),e.angle>0&&e.angle<Math.PI/2&&(f.x=Math.max(c.x,l.x-x),l.y>c.y?d.y=f.y:(d.y=c.y,d.x=Math.max(d.x,f.x-x))),e.angle>Math.PI/2&&(f.x=Math.min(c.x,l.x-x),l.y>c.y?d.y=f.y:(d.y=c.y,d.x=Math.min(d.x,f.x-x))),e.angle<-Math.PI/2&&(f.x=Math.min(c.x,l.x-x),l.y<c.y?d.y=f.y:(d.y=c.y,d.x=Math.min(d.x,f.x-x)))}m=["M ".concat(l.x,",").concat(l.y),"L ".concat(f.x,",").concat(f.y),"L ".concat(d.x,",").concat(d.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(p.x,",").concat(p.y)].join(" "),e.labelLine=(0,S.b$)({},e.labelLine,{path:m})}(Se,c,le)}})})}}),fa("path-adjust-position",function PO(e,r,t,n,i){var l,c;if(0!==t.length){var d=(null===(l=t[0])||void 0===l?void 0:l.get("element"))?.geometry;if(d&&!(["path","line","area"].indexOf(d.type)<0)){var p=(0,E.CR)(d.getXYFields(),2),m=p[0],x=p[1],_=(0,S.vM)(r,function(I){return I.get("data")[m]}),T=[],b=i&&i.offset||(null===(c=e[0])||void 0===c?void 0:c.offset)||12;(0,S.UI)((0,S.XP)(_).reverse(),function(I){for(var F=function o1(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(l,c){return l.get("data")[t]-l.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,E.ev)([],(0,E.CR)(i),!1)),n}(d,_[I]);F.length;){var B=F.shift(),Y=Va(B);if(Ap(T,B,function(et,wt){return et.get("data")[m]===wt.get("data")[m]&&et.get("data")[x]===wt.get("data")[x]}))Y.set("visible",!1);else{var H=!1;TM(T,B)&&(Y.attr("y",Y.attr("y")+2*b),H=TM(T,B)),H?Y.set("visible",!1):T.push(B)}}})}}}),hi("fade-in",function HO(e,r,t){var n={fillOpacity:(0,S.UM)(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:(0,S.UM)(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:(0,S.UM)(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}),hi("fade-out",function GO(e,r,t){e.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r.duration,r.easing,function(){e.remove(!0)},r.delay)}),hi("grow-in-x",function WO(e,r,t){l1(e,r,t.coordinate,t.minYPoint,"x")}),hi("grow-in-xy",function UO(e,r,t){l1(e,r,t.coordinate,t.minYPoint,"xy")}),hi("grow-in-y",function u1(e,r,t){l1(e,r,t.coordinate,t.minYPoint,"y")}),hi("scale-in-x",function VO(e,r,t){var n=e.getBBox(),l=e.get("origin").mappingData.points,c=l[0].y-l[1].y>0?n.maxX:n.minX,f=(n.minY+n.maxY)/2;e.applyToMatrix([c,f,1]);var d=Zr.vs(e.getMatrix(),[["t",-c,-f],["s",.01,1],["t",c,f]]);e.setMatrix(d),e.animate({matrix:Zr.vs(e.getMatrix(),[["t",-c,-f],["s",100,1],["t",c,f]])},r)}),hi("scale-in-y",function $O(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,l=(n.minX+n.maxX)/2,c=i.points,f=c[0].y-c[1].y<=0?n.maxY:n.minY;e.applyToMatrix([l,f,1]);var d=Zr.vs(e.getMatrix(),[["t",-l,-f],["s",1,.01],["t",l,f]]);e.setMatrix(d),e.animate({matrix:Zr.vs(e.getMatrix(),[["t",-l,-f],["s",1,100],["t",l,f]])},r)}),hi("wave-in",function c1(e,r,t){var n=Uy(t.coordinate,20),c=n.endState,f=e.setClip({type:n.type,attrs:n.startState});t.toAttrs&&e.attr(t.toAttrs),f.animate(c,(0,E.pi)((0,E.pi)({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),f.remove(!0)}}))}),hi("zoom-in",function qO(e,r,t){Df(e,r,"zoomIn")}),hi("zoom-out",function IM(e,r,t){Df(e,r,"zoomOut")}),hi("position-update",function bM(e,r,t){var n=t.toAttrs,i=n.x,l=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:i,y:l},r)}),hi("sector-path-update",function ZO(e,r,t){var n=t.toAttrs,i=t.coordinate,l=n.path||[],c=l.map(function(Y){return Y[0]});if(!(l.length<1)){var f=LM(l),d=f.startAngle,p=f.endAngle,m=f.radius,x=f.innerRadius,_=LM(e.attr("path")),T=_.startAngle,b=_.endAngle,I=i.getCenter(),F=d-T,B=p-b;if(0===F&&0===B)return void e.attr("path",l);e.animate(function(Y){var G=T+Y*F,H=b+Y*B;return(0,E.pi)((0,E.pi)({},n),{path:(0,S.Xy)(c,["M","A","A","Z"])?Yy(I.x,I.y,m,G,H):Js(I.x,I.y,m,G,H,x)})},(0,E.pi)((0,E.pi)({},r),{callback:function(){e.attr("path",l)}}))}}),hi("path-in",function XO(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(i){return{lineDashOffset:(1-i)*n}},r)}),du("rect",eR),du("mirror",tR),du("list",QO),du("matrix",jO),du("circle",OM),du("tree",rR),mu("axis",sR),mu("legend",zM),mu("tooltip",q_),mu("annotation",aR),mu("slider",fR),mu("scrollbar",pR),ur("tooltip",GM),ur("sibling-tooltip",wR),ur("ellipsis-text",SR),ur("element-active",bR),ur("element-single-active",RR),ur("element-range-active",IR),ur("element-highlight",m1),ur("element-highlight-by-x",kp),ur("element-highlight-by-color",DR),ur("element-single-highlight",kR),ur("element-range-highlight",$M),ur("element-sibling-highlight",$M,{effectSiblings:!0,effectByRecord:!0}),ur("element-selected",GR),ur("element-single-selected",bu),ur("element-range-selected",NR),ur("element-link-by-color",ER),ur("active-region",d1),ur("list-active",XR),ur("list-selected",ZR),ur("list-highlight",x1),ur("list-unchecked",zp),ur("list-checked",QR),ur("list-focus",KM),ur("list-radio",JM),ur("legend-item-highlight",x1,{componentNames:["legend"]}),ur("axis-label-highlight",x1,{componentNames:["axis"]}),ur("axis-description",FF),ur("rect-mask",S1),ur("x-rect-mask",M1,{dim:"x"}),ur("y-rect-mask",M1,{dim:"y"}),ur("circle-mask",rF),ur("path-mask",aT),ur("smooth-path-mask",oF),ur("rect-multi-mask",uT),ur("x-rect-multi-mask",hT,{dim:"x"}),ur("y-rect-multi-mask",hT,{dim:"y"}),ur("circle-multi-mask",uF),ur("path-multi-mask",fT),ur("smooth-path-multi-mask",hF),ur("cursor",vF),ur("data-filter",pF),ur("brush",Hp),ur("brush-x",Hp,{dims:["x"]}),ur("brush-y",Hp,{dims:["y"]}),ur("sibling-filter",L1),ur("sibling-x-filter",L1),ur("sibling-y-filter",L1),ur("element-filter",I1),ur("element-sibling-filter",pT),ur("element-sibling-filter-record",pT,{byRecord:!0}),ur("view-drag",wF),ur("view-move",SF),ur("scale-translate",MF),ur("scale-zoom",bF),ur("reset-button",CF,{name:"reset-button",text:"reset"}),ur("mousewheel-scroll",IF),Er("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Er("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Er("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Er("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Er("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Er("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Er("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Er("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Er("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Er("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Er("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Er("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Er("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_s,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_s,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_s,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Er("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Er("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_s,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:_s,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:_s,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Er("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:_s,action:"path-mask:start"},{trigger:"mousedown",isEnable:_s,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Er("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:_s,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(e){return!Go(e)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),Er("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Er("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Er("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Er("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Er("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),Er("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Er("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),Er("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return B1(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!B1(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Er("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Er("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var ya=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Ka=(()=>(function(e){e.ERROR="error",e.WARN="warn",e.INFO="log"}(Ka||(Ka={})),Ka))(),CT="AntV/G2Plot";function wT(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=0;return CT+": "+e.replace(/%s/g,function(){return""+r[n++]})}function Ss(e,r,t){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];r||console[e](wT.apply(void 0,(0,E.pr)([t],n)))}function Kr(e,r){var t={};return null!==e&&"object"==typeof e&&r.forEach(function(n){var i=e[n];void 0!==i&&(t[n]=i)}),t}function P1(e,r){if(!e)return{};var t=e.filter(function(l){var c=(0,S.U2)(l,[r]);return(0,S.hj)(c)&&!isNaN(c)}),n=t.every(function(l){return(0,S.U2)(l,[r])>=0}),i=t.every(function(l){return(0,S.U2)(l,[r])<=0});return n?{min:0}:i?{max:0}:{}}function _T(e,r,t,n,i){if(void 0===i&&(i=[]),!Array.isArray(e))return{nodes:[],links:[]};var l=[],c={},f=-1;return e.forEach(function(d){var p=d[r],m=d[t],x=d[n],_=Kr(d,i);c[p]||(c[p]=(0,E.pi)({id:++f,name:p},_)),c[m]||(c[m]=(0,E.pi)({id:++f,name:m},_)),l.push((0,E.pi)({source:c[p].id,target:c[m].id,value:x},_))}),{nodes:Object.values(c).sort(function(d,p){return d.id-p.id}),links:l}}function Wc(e,r){var t=(0,S.hX)(e,function(n){var i=n[r];return null===i||"number"==typeof i&&!isNaN(i)});return Ss(Ka.WARN,t.length===e.length,"illegal data existed in chart data."),t}var k1,BF={}.toString,ST=function(e,r){return BF.call(e)==="[object "+r+"]"},dl=function(e){return ST(e,"Array")},TT=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||!ST(e,"Object"))return!1;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},bT=function(e,r,t,n){for(var i in t=t||0,n=n||5,r)if(Object.prototype.hasOwnProperty.call(r,i)){var l=r[i];l?TT(l)?(TT(e[i])||(e[i]={}),t<n?bT(e[i],l,t+1,n):e[i]=r[i]):dl(l)?(e[i]=[],e[i]=e[i].concat(l)):e[i]=l:e[i]=l}},xe=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)bT(e,r[n]);return e};function Yf(e){if(!e)return{width:0,height:0};var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Cr(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return e.reduce(function(n,i){return i(n)},t)}}function vi(e,r){return e.geometries.find(function(t){return t.type===r})}function Wf(e){return(0,S.u4)(e.geometries,function(r,t){return r.concat(t.elements)},[])}function Uc(e){return(0,S.U2)(e,["views","length"],0)<=0?Wf(e):(0,S.u4)(e.views,function(r,t){return r.concat(Uc(t))},Wf(e))}function di(e){if(!(0,S.P9)(e,"Object"))return e;var r=(0,E.pi)({},e);return r.formatter&&!r.content&&(r.content=r.formatter),r}function Lu(e){return"number"==typeof e&&!isNaN(e)}function pl(e){if((0,S.hj)(e))return[e,e,e,e];if((0,S.kJ)(e)){var r=e.length;if(1===r)return[e[0],e[0],e[0],e[0]];if(2===r)return[e[0],e[1],e[0],e[1]];if(3===r)return[e[0],e[1],e[2],e[1]];if(4===r)return e}return[0,0,0,0]}function Gp(e,r,t){void 0===r&&(r="bottom"),void 0===t&&(t=25);var n=pl(e),i=[r.startsWith("top")?t:0,r.startsWith("right")?t:0,r.startsWith("bottom")?t:0,r.startsWith("left")?t:0];return[n[0]+i[0],n[1]+i[1],n[2]+i[2],n[3]+i[3]]}function z1(e){var r=e.map(function(n){return pl(n)}),t=[0,0,0,0];return r.length>0&&(t=t.map(function(n,i){return r.forEach(function(l,c){n+=r[c][i]}),n})),t}(0,S.HP)(function(e,r){void 0===r&&(r={});var t=r.fontSize,n=r.fontFamily,i=void 0===n?"sans-serif":n,l=r.fontWeight,c=r.fontStyle,f=r.fontVariant,d=function kF(){return k1||(k1=document.createElement("canvas").getContext("2d")),k1}();return d.font=[c,l,f,t+"px",i].join(" "),d.measureText((0,S.HD)(e)?e:"").width},function(e,r){return void 0===r&&(r={}),(0,E.pr)([e],(0,S.VO)(r)).join("")});var HF=function(e,r,t,n){var l,c,d,p,i=[],f=!!n;if(f){d=[1/0,1/0],p=[-1/0,-1/0];for(var m=0,x=e.length;m<x;m++)d=Tr.VV([0,0],d,_=e[m]),p=Tr.Fp([0,0],p,_);d=Tr.VV([0,0],d,n[0]),p=Tr.Fp([0,0],p,n[1])}m=0;for(var T=e.length;m<T;m++){var _=e[m];if(t)l=e[m?m-1:T-1],c=e[(m+1)%T];else{if(0===m||m===T-1){i.push(_);continue}l=e[m-1],c=e[m+1]}var b=[0,0];b=Tr.lu(b,c,l),b=Tr.bA(b,b,r);var I=Tr.TE(_,l),F=Tr.TE(_,c),B=I+F;0!==B&&(I/=B,F/=B);var Y=Tr.bA([0,0],b,-I),G=Tr.bA([0,0],b,F),H=Tr.IH([0,0],_,Y),et=Tr.IH([0,0],_,G);f&&(H=Tr.Fp([0,0],H,d),H=Tr.VV([0,0],H,p),et=Tr.Fp([0,0],et,d),et=Tr.VV([0,0],et,p)),i.push(H),i.push(et)}return t&&i.push(i.shift()),i};function AT(e){return e?e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(t){return t.toLowerCase()}).join("-"):e}function ET(e){var r={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,S.U2)(e,"fill")&&(r.color=e.fill);var n=Kr(e,t),l=n.shadowBlur,f=n.shadowOffsetX,p=n.shadowOffsetY;r["text-shadow"]=""+[n.shadowColor,(void 0===f?0:f)+"px",(void 0===p?0:p)+"px",(void 0===l?0:l)+"px"].join(" ");var x=Kr(e,t),T=x.lineWidth;return r["-webkit-text-stroke"]=""+[(void 0===T?0:T)+"px",x.stroke].join(" "),(0,S.S6)(e,function(I,F){["fontSize"].includes(F)&&(0,S.hj)(I)?r[AT(F)]=I+"px":F&&!t.includes(F)&&(r[AT(F)]=""+I)}),r}function LT(e,r){e.style["pointer-events"]="none",(0,S.S6)(r,function(t,n){n&&t&&(e.style[n]=t)})}var Yp=function(e,r,t){var n=r.statistic,i=r.plotType,l=n.title,c=n.content;[l,c].forEach(function(f,d){if(f){var p;p=0===d?c?"translate(-50%, -100%)":"translate(-50%, -50%)":l?"translate(-50%, 0)":"translate(-50%, -50%)";var m=(0,S.mf)(f.style)?f.style(t):f.style;e.annotation().html((0,E.pi)({position:["50%","50%"],html:function(x,_){var T=_.getCoordinate(),b=0;if("pie"===i||"ring-progress"===i)b=T.getRadius()*T.innerRadius*2;else if("liquid"===i){var I=(0,S.U2)(_.geometries,[0,"elements",0,"shape"]);I&&(b=I.find(function(H){return"wrap"===H.get("name")}).getCanvasBBox().width)}else b||(b=T.getWidth());LT(x,(0,E.pi)({width:b+"px",transform:p},ET(m)));var Y=_.getData();if(f.customHtml)return f.customHtml(x,_,t,Y);var G=f.content;return f.formatter&&(G=f.formatter(t,Y)),G?(0,S.HD)(G)?G:""+G:"<div></div>"},key:(0===d?"top":"bottom")+"-statistic"},Kr(f,["offsetX","offsetY","rotate","style","formatter"])))}})},YF=function(e,r,t){var n=r.statistic;[n.title,n.content].forEach(function(c){if(c){var f=(0,S.mf)(c.style)?c.style(t):c.style;e.annotation().html((0,E.pi)({position:["50%","100%"],html:function(d,p){var m=p.getCoordinate(),x=p.views[0].getCoordinate(),_=x.getCenter(),T=x.getRadius(),b=Math.max(Math.sin(x.startAngle),Math.sin(x.endAngle))*T,I=_.y+b-m.y.start-parseFloat((0,S.U2)(f,"fontSize",0)),F=m.getRadius()*m.innerRadius*2;LT(d,(0,E.pi)({width:F+"px",transform:"translate(-50%, "+I+"px)"},ET(f)));var B=p.getData();if(c.customHtml)return c.customHtml(d,p,t,B);var Y=c.content;return c.formatter&&(Y=c.formatter(t,B)),Y?(0,S.HD)(Y)?Y:""+Y:"<div></div>"}},Kr(c,["offsetX","offsetY","rotate","style","formatter"])))}})};function IT(e,r){return r?(0,S.u4)(r,function(t,n,i){return t.replace(new RegExp("{\\s*"+i+"\\s*}","g"),n)},e):e}function Br(e,r){return e.views.find(function(t){return t.id===r})}function Xc(e){var r=e.parent;return r?r.views:[]}function OT(e){return Xc(e).filter(function(r){return r!==e})}function Uf(e,r,t){void 0===t&&(t=e.geometries),e.animate("boolean"!=typeof r||r),(0,S.S6)(t,function(n){var i;i=(0,S.mf)(r)?r(n.type||n.shapeType,n)||!0:r,n.animate(i)})}function Wp(){return"object"==typeof window?window?.devicePixelRatio:2}function H1(e,r){void 0===r&&(r=e);var t=document.createElement("canvas"),n=Wp();return t.width=e*n,t.height=r*n,t.style.width=e+"px",t.style.height=r+"px",t.getContext("2d").scale(n,n),t}function fr(e,r,t,n){void 0===n&&(n=t);var i=r.backgroundColor;e.globalAlpha=r.opacity,e.fillStyle=i,e.beginPath(),e.fillRect(0,0,t,n),e.closePath()}function Tn(e,r,t){var n=e+r;return t?2*n:n}function RT(e,r){return r?[[.25*e,.25*e],[.75*e,.75*e]]:[[.5*e,.5*e]]}function Yn(e,r){var t=r*Math.PI/180;return{a:Math.cos(t)*(1/e),b:Math.sin(t)*(1/e),c:-Math.sin(t)*(1/e),d:Math.cos(t)*(1/e),e:0,f:0}}var Or={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function ta(e,r,t,n){var i=r.size,l=r.fill,c=r.lineWidth,f=r.stroke,d=r.fillOpacity;e.beginPath(),e.globalAlpha=d,e.fillStyle=l,e.strokeStyle=f,e.lineWidth=c,e.arc(t,n,i/2,0,2*Math.PI,!1),e.fill(),c&&e.stroke(),e.closePath()}var Wr={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};var Sn={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function WF(e,r,t,n){var i=r.stroke,l=r.size,c=r.fill,f=r.lineWidth;e.globalAlpha=r.fillOpacity,e.strokeStyle=i,e.lineWidth=f,e.fillStyle=c,e.strokeRect(t-l/2,n-l/2,l,l),e.fillRect(t-l/2,n-l/2,l,l)}function XF(e){var n,t=e.cfg;switch(e.type){case"dot":n=function G1(e){var r=xe({},Or,e),i=r.isStagger,l=r.rotation,c=Tn(r.size,r.padding,i),f=RT(c,i),d=H1(c,c),p=d.getContext("2d");fr(p,r,c);for(var m=0,x=f;m<x.length;m++){var _=x[m];ta(p,r,_[0],_[1])}var I=p.createPattern(d,"repeat");if(I){var B=Yn(Wp(),l);I.setTransform(B)}return I}(t);break;case"line":n=function mn(e){var r=xe({},Wr,e),t=r.spacing,n=r.rotation,i=r.lineWidth,l=t+i||1,c=t+i||1,f="\n            M 0 0 L "+l+" 0\n            M 0 "+c+" L "+l+" "+c+"\n            ",d=H1(l,c),p=d.getContext("2d");fr(p,r,l,c),function Vo(e,r,t){var n=r.stroke,i=r.lineWidth,l=r.strokeOpacity,c=new Path2D(t);e.globalAlpha=l,e.lineCap="square",e.strokeStyle=i?n:"transparent",e.lineWidth=i,e.stroke(c)}(p,r,f);var m=p.createPattern(d,"repeat");if(m){var _=Yn(Wp(),n);m.setTransform(_)}return m}(t);break;case"square":n=function UF(e){var r=xe({},Sn,e),i=r.isStagger,l=r.rotation,c=Tn(r.size,r.padding,i),f=RT(c,i),d=H1(c,c),p=d.getContext("2d");fr(p,r,c);for(var m=0,x=f;m<x.length;m++){var _=x[m];WF(p,r,_[0],_[1])}var I=p.createPattern(d,"repeat");if(I){var B=Yn(Wp(),l);I.setTransform(B)}return I}(t)}return n}function Ra(e){var r=this;return function(t){var n,i=t.options,l=t.chart,c=i.pattern;return c?xe({},t,{options:(n={},n[e]=function(d){for(var p,m,x,_=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];var b=l.getTheme().defaultColor,I=b,F=null===(m=null===(p=l.geometries)||void 0===p?void 0:p[0])||void 0===m?void 0:m.getAttribute("color");if(F){var B=F.getFields()[0],Y=(0,S.U2)(d,B);I=va.getMappingValue(F,Y,(null===(x=F.values)||void 0===x?void 0:x[0])||b)}var G=c;"function"==typeof c&&(G=c.call(r,d,I)),G instanceof CanvasPattern||(G=XF(xe({},{cfg:{backgroundColor:I}},G)));var H=i[e];return(0,E.pi)((0,E.pi)({},"function"==typeof H?H.call.apply(H,(0,E.pr)([r,d],_)):H||{}),{fill:G||I})},n)}):t}}function Iu(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,l=t.seriesField;return!1===n?r.legend(!1):(i||l)&&r.legend(i||l,n),e}function ti(e){var n=e.options.tooltip;return void 0!==n&&e.chart.tooltip(n),e}function An(e){var r=e.chart;return(0,S.S6)(e.options.interactions,function(i){!1===i.enable?r.removeInteraction(i.type):r.interaction(i.type,i.cfg||{})}),e}function hn(e){return Uf(e.chart,e.options.animation),e}function Qr(e){var n=e.options.theme;return n&&e.chart.theme(n),e}function gl(e){var n=e.options.state;return n&&(0,S.S6)(e.chart.geometries,function(i){i.state(n)}),e}function Xf(e){return e.chart.option("slider",e.options.slider),e}function Y1(e){return e.chart.option("scrollbar",e.options.scrollbar),e}function zn(e,r){return function(t){var n=t.chart,i=t.options,l={};return(0,S.S6)(e,function(c,f){l[f]=Kr(c,ya)}),l=xe({},r,i.meta,l),n.scale(l),t}}function En(e){return function(r){var n=r.options,i=r.chart.getController("annotation");return(0,S.S6)((0,E.pr)(n.annotations||[],e||[]),function(l){i.annotation(l)}),r}}function Ou(e){var r=e.chart,t=e.options,n=t.yAxis,i=t.limitInPlot,l=i;return(0,S.Kn)(n)&&(0,S.UM)(i)&&(l=!!Object.values(Kr(n,["min","max","minLimit","maxLimit"])).some(function(c){return!(0,S.UM)(c)})),r.limitInPlot=l,e}function FT(e){return void 0===e&&(e="rect"),function(r){var t=r.chart,l=Array.from(r.options.coordinate||[]).map(function(c){return"reflectX"===c.type?["reflect","x"]:"reflectY"===c.type?["reflect","y"]:"transpose"===c.type?["transpose"]:null}).filter(function(c){return!!c});return 0!==l.length&&t.coordinate({type:e,actions:l}),r}}var W1={locale:"en-US"},Up={};function U1(e,r){Up[e]=r}function Vc(e){return{get:function(r,t){return IT((0,S.U2)(Up[e],r)||(0,S.U2)(Up[W1.locale],r)||(0,S.U2)(Up["en-US"],r)||r,t)}}}function Qa(e,r){if(!1===e)return{fields:!1};var t=(0,S.U2)(e,"fields"),n=(0,S.U2)(e,"formatter");return n&&!t&&(t=r),{fields:t,formatter:n}}function Xp(e,r){var t=e.type,n=e.xField,i=e.yField,l=e.colorField,c=e.shapeField,f=e.sizeField,d=e.styleField,p=e.rawFields,m=[];if(p=((0,S.mf)(p)?p(t,r):p)||[],"color"===r)m=(0,E.pr)([l||n],p);else if("shape"===r)m=(0,E.pr)([c||n],p);else if("size"===r)m=(0,E.pr)([f||n],p);else{m=(0,E.pr)([n,i,l,c,f,d],p);var x=["x","y","color","shape","size","style"].indexOf(r),_=m[x];m.splice(x,1),m.unshift(_)}var T=(0,S.jj)(m.filter(function(I){return!!I})),b="line"===t&&[n,i].includes(T.join("*"))?"":T.join("*");return{mappingFields:T,tileMappingField:b}}function $c(e,r){if(r)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return e.forEach(function(l,c){i[l]=t[c]}),delete i.undefined,r(i)}}function ma(e){var r=e.chart,t=e.options,l=t.mapping,c=t.xField,f=t.yField,d=t.colorField,p=t.shapeField,m=t.sizeField,x=t.tooltipFields,_=t.label,T=t.state,b=t.customInfo;if(!l)return e;var I=l.color,F=l.shape,B=l.size,Y=l.style,G=l.tooltip,H=r[t.type](t.args).position(c+"*"+f);if((0,S.HD)(I))d?H.color(d,I):H.color(I);else if((0,S.mf)(I)){var et=Xp(t,"color");H.color(et.tileMappingField,$c(et.mappingFields,I))}else d&&H.color(d,I);if((0,S.HD)(F))p?H.shape(p,[F]):H.shape(F);else if((0,S.mf)(F)){var $t=Xp(t,"shape");H.shape($t.tileMappingField,$c($t.mappingFields,F))}else p&&H.shape(p,F);if((0,S.hj)(B))m?H.size(m,B):H.size(B);else if((0,S.mf)(B)){var ge=Xp(t,"size");H.size(ge.tileMappingField,$c(ge.mappingFields,B))}else m&&H.size(m,B);if((0,S.mf)(Y)){var le=Xp(t,"style");H.style(le.tileMappingField,$c(le.mappingFields,Y))}else(0,S.Kn)(Y)&&H.style(Y);if(!1===x?H.tooltip(!1):(0,S.xb)(x)||H.tooltip(x.join("*"),$c(x,G)),!1===_)H.label(!1);else if(_){var Se=_.callback,Pe=_.fields,or=(0,E._T)(_,["callback","fields"]);H.label({fields:Pe||[f],callback:Se,cfg:di(or)})}return T&&H.state(T),b&&H.customInfo(b),[c,f].filter(function(cr){return cr!==d}).forEach(function(cr){r.legend(cr,!1)}),(0,E.pi)((0,E.pi)({},e),{ext:{geometry:H}})}function Vf(e){var r=e.options,t=r.area,l=r.seriesField,c=r.smooth,d=r.useDeferredLabel,p=Qa(r.tooltip,[r.xField,r.yField,l]);return t?ma(xe({},e,{options:{type:"area",colorField:l,tooltipFields:p.fields,mapping:(0,E.pi)({shape:c?"smooth":"area",tooltip:p.formatter},t),args:{useDeferredLabel:d}}})):e}function PT(e){var r=e.options,t=r.edge,l=r.seriesField,f=r.useDeferredLabel,d=Qa(r.tooltip,[r.xField,r.yField,l]);return t?ma(xe({},e,{options:{type:"edge",colorField:l,tooltipFields:d.fields,mapping:(0,E.pi)({tooltip:d.formatter},t),args:{useDeferredLabel:f}}})):e}function pi(e){var r=e.options,i=r.interval,l=r.seriesField,f=r.minColumnWidth,d=r.maxColumnWidth,p=r.columnBackground,m=r.dodgePadding,x=r.intervalPadding,_=r.useDeferredLabel,T=Qa(r.tooltip,[r.xField,r.yField,l]),F=(i?ma(xe({},e,{options:{type:"interval",colorField:l,tooltipFields:T.fields,mapping:(0,E.pi)({tooltip:T.formatter},i),args:{dodgePadding:m,intervalPadding:x,minColumnWidth:f,maxColumnWidth:d,background:p,useDeferredLabel:_}}})):e).ext;return function $F(e){var r=e.chart,t=e.options,n=e.ext,i=t.seriesField,c=t.isStack,f=t.marginRatio,d=t.widthRatio,m=t.theme,x=[];if(i&&(t.isGroup&&x.push({type:"dodge",dodgeBy:t.groupField||i,marginRatio:f}),c&&x.push({type:"stack",marginRatio:f})),x.length&&n?.geometry){var _=n?.geometry;_.adjust(x)}return(0,S.UM)(d)||r.theme(xe({},(0,S.Kn)(m)?m:Lc(m),{columnWidthRatio:d})),e}((0,E.pi)((0,E.pi)({},e),{ext:F}))}function Zc(e){var r=e.options,t=r.line,n=r.stepType,c=r.seriesField,f=r.smooth,d=r.connectNulls,m=r.useDeferredLabel,x=Qa(r.tooltip,[r.xField,r.yField,c]);return t?ma(xe({},e,{options:{type:"line",colorField:c,tooltipFields:x.fields,mapping:(0,S.b$)({shape:n||(f?"smooth":"line"),tooltip:x.formatter},t),args:{connectNulls:d,useDeferredLabel:m}}})):e}function Fa(e){var r=e.options,t=r.point,l=r.seriesField,f=r.shapeField,p=r.useDeferredLabel,m=Qa(r.tooltip,[r.xField,r.yField,l,r.sizeField,f]);return t?ma(xe({},e,{options:{type:"point",colorField:l,shapeField:f,tooltipFields:m.fields,mapping:(0,E.pi)({tooltip:m.formatter},t),args:{useDeferredLabel:p}}})):e}function Vp(e){var r=e.options,t=r.polygon,l=r.seriesField,f=r.useDeferredLabel,d=Qa(r.tooltip,[r.xField,r.yField,l]);return t?ma(xe({},e,{options:{type:"polygon",colorField:l,tooltipFields:d.fields,mapping:(0,E.pi)({tooltip:d.formatter},t),args:{useDeferredLabel:f}}})):e}function X1(e){var r=e.options,t=r.schema,l=r.seriesField,f=r.useDeferredLabel,d=Qa(r.tooltip,[r.xField,r.yField,l]);return t?ma(xe({},e,{options:{type:"schema",colorField:l,tooltipFields:d.fields,mapping:(0,E.pi)({tooltip:d.formatter},t),args:{useDeferredLabel:f}}})):e}var qF=ct(1909),kT="data-chart-source-type",Ja=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Fr=function(e){function r(t,n){var i=e.call(this)||this;return i.container="string"==typeof t?document.getElementById(t):t,i.options=xe({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},r.prototype.createG2=function(){var t=this.options,l=t.defaultInteractions;this.chart=new e5((0,E.pi)((0,E.pi)((0,E.pi)((0,E.pi)({container:this.container,autoFit:!1},this.getChartSize(t.width,t.height)),{localRefresh:!1}),Kr(this.options,Ja)),{defaultInteractions:l})),this.container.setAttribute(kT,"G2Plot")},r.prototype.getChartSize=function(t,n){var i=Yf(this.container);return{width:t||i.width||400,height:n||i.height||400}},r.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n?.type&&t.emit(n.type,n)})},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},r.prototype.update=function(t){this.updateOption(t),this.render()},r.prototype.updateOption=function(t){this.options=xe({},this.options,t)},r.prototype.setState=function(t,n,i){void 0===i&&(i=!0);var l=Uc(this.chart);(0,S.S6)(l,function(c){n(c.getData())&&c.setState(t,i)})},r.prototype.getStates=function(){var t=Uc(this.chart),n=[];return(0,S.S6)(t,function(i){var l=i.getData(),c=i.getStates();(0,S.S6)(c,function(f){n.push({data:l,state:f,geometry:i.geometry,element:i})})}),n},r.prototype.changeData=function(t){this.update({data:t})},r.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},r.prototype.addAnnotations=function(t,n){n=n||this.chart;var i=(0,E.pr)(t),l=n.getController("annotation"),c=l.getComponents().map(function(p){return p.extra});l.clear(!0);for(var f=function(p){var m=c[p],x=i.findIndex(function(_){return _.id&&_.id===m.id});-1!==x&&(m=xe({},m,i[x]),i.splice(x,1)),l.annotation(m)},d=0;d<c.length;d++)f(d);i.forEach(function(p){return l.annotation(p)}),n.render(!0)},r.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),i=n.getComponents().map(function(f){return f.extra});n.clear(!0);for(var l=function(f){var d=i[f];t.find(function(p){return p.id&&p.id===d.id})||n.annotation(d)},c=0;c<i.length;c++)l(c);this.chart.render(!0)},r.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(kT)},r.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,l=n.appendPadding;this.chart.padding=n.padding,this.chart.appendPadding=l,t({chart:this.chart,options:this.options})},r.prototype.triggerResize=function(){this.chart.forceFit()},r.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit;(void 0===n||n)&&(this.unbind=(0,qF.ak)(this.container,function(){var l=Yf(t.container);(l.width!==t.chart.width||l.height!==t.chart.height)&&t.triggerResize()}))}},r.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},r}(Ah.Z);function zT(e,r,t,n){var i=(0,S.u4)(e,function(l,c){var f=c[t],d=l.has(f)?l.get(f):0,p=c[r];return d=Lu(p)?d+p:d,l.set(f,d),l},new Map);return(0,S.UI)(e,function(l){var c,f=l[r],d=l[t],p=Lu(f)&&0!==i.get(d)?f/i.get(d):0;return(0,E.pi)((0,E.pi)({},l),((c={})[n]=p,c))})}function qc(e,r,t,n,i){return i?zT(e,r,t,n):e}function V1(e){var t=e.options,i=t.color,l=t.lineStyle,c=t.lineShape,f=t.point,d=t.area,p=t.seriesField,m=f?.state,x=d?.state;e.chart.data(t.data);var _=xe({},e,{options:{shapeField:p,line:{color:i,style:l,shape:c},point:f&&(0,E.pi)({color:i,shape:"circle"},f),area:d&&(0,E.pi)({color:i},d),label:void 0}}),T=xe({},_,{options:{tooltip:!1,state:m}}),b=xe({},_,{options:{tooltip:!1,state:x}});return Zc(_),Fa(T),Vf(b),e}function Ru(e){var r,t,n=e.options,l=n.yAxis,c=n.xField,f=n.yField,d=n.data;return Cr(zn(((r={})[c]=n.xAxis,r[f]=l,r),((t={})[c]={type:"cat"},t[f]=P1(d,f),t)))(e)}function QF(e){var r=e.chart,n=e.options.reflect;if(n){var i=n;(0,S.kJ)(i)||(i=[i]);var l=i.map(function(c){return["reflect",c]});r.coordinate({type:"rect",actions:l})}return e}function JF(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,c=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(c,!1!==i&&i),e}function jF(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):!1===n&&r.legend(!1),e}function C7(e){var t=e.options,n=t.label,i=t.yField,l=vi(e.chart,"line");if(n){var c=n.callback,f=(0,E._T)(n,["callback"]);l.label({fields:[i],callback:c,cfg:(0,E.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},di(f))})}else l.label(!1);return e}function gi(e){return e.options.isStack&&(0,S.S6)(e.chart.geometries,function(i){i.adjust("stack")}),e}function $1(e){return Cr(V1,Ru,gi,Qr,QF,JF,jF,ti,C7,Xf,Y1,An,hn,En(),Ou)(e)}function Z1(e){var r=e.chart,t=e.options,i=t.areaStyle,l=t.color,c=t.point,f=t.line,d=t.isPercent,p=t.xField,m=t.yField,x=t.tooltip,_=t.seriesField,T=t.startOnZero,b=c?.state,I=qc(t.data,m,p,m,d);r.data(I);var F=d?(0,E.pi)({formatter:function(H){return{name:H[_]||H[p],value:(100*Number(H[m])).toFixed(2)+"%"}}},x):x,B=xe({},e,{options:{area:{color:l,style:i},point:c&&(0,E.pi)({color:l},c),tooltip:F,label:void 0,args:{startOnZero:T}}}),Y={chart:r,options:xe({line:{size:2}},(0,S.CE)(t,["state"]),{line:f&&(0,E.pi)({color:l},f),sizeField:_,state:f?.state,tooltip:!1,label:void 0,args:{startOnZero:T}})},G=xe({},B,{options:{tooltip:!1,state:b}});return Vf(B),Zc(Y),Fa(G),e}function t8(e){var t=e.options,n=t.label,i=t.yField,l=vi(e.chart,"area");if(n){var c=n.callback,f=(0,E._T)(n,["callback"]);l.label({fields:[i],callback:c,cfg:(0,E.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},di(f))})}else l.label(!1);return e}function e8(e){var t=e.options;return(t.isPercent||t.isStack)&&t.seriesField&&(0,S.S6)(e.chart.geometries,function(c){c.adjust("stack")}),e}function r8(e){return Cr(Qr,Ra("areaStyle"),FT("rect"),Z1,Ru,e8,JF,jF,ti,t8,Xf,En(),An,hn,Ou)(e)}var NT=xe({},Fr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),q1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="area",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return NT},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.isPercent,l=n.xField,c=n.yField;Ru({chart:this.chart,options:this.options}),this.chart.changeData(qc(t,c,l,c,i))},r.prototype.getSchemaAdaptor=function(){return r8},r}(Fr),a8={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},K1=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=(0,E.pi)({name:"button"},a8),t}return(0,E.ZT)(r,e),r.prototype.getButtonCfg=function(){var n=(0,S.U2)(this.context.view,["interactions","filter-action","cfg","buttonConfig"]);return xe(this.buttonCfg,n,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=this.drawText(n);this.drawBackground(n,i.getBBox()),this.buttonGroup=n},r.prototype.drawText=function(t){var n,i=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,E.pi)({text:i.text},null===(n=i.textStyle)||void 0===n?void 0:n.default)})},r.prototype.drawBackground=function(t,n){var i,l=this.getButtonCfg(),c=pl(l.padding),f=t.addShape({type:"rect",name:"button-rect",attrs:(0,E.pi)({x:n.x-c[3],y:n.y-c[0],width:n.width+c[1]+c[3],height:n.height+c[0]+c[2]},null===(i=l.buttonStyle)||void 0===i?void 0:i.default)});return f.toBack(),t.on("mouseenter",function(){var d;f.attr(null===(d=l.buttonStyle)||void 0===d?void 0:d.active)}),t.on("mouseleave",function(){var d;f.attr(null===(d=l.buttonStyle)||void 0===d?void 0:d.default)}),f},r.prototype.resetPosition=function(){var i=this.context.view.getCoordinate().convert({x:1,y:1}),l=this.buttonGroup,c=l.getBBox(),f=va.transform(null,[["t",i.x-c.width-10,i.y+c.height+5]]);l.setMatrix(f)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(wn);function yo(e){return e.isInPlot()}function Wn(e,r,t){var n=t||{},i=n.mask,l=n.isStartEnable,c=r||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:l||yo,action:["brush:start",c+"-mask:start",c+"-mask:show"],arg:[null,{maskStyle:i?.style}]}],processing:[{trigger:"mousemove",isEnable:yo,action:[c+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:yo,action:["brush:filter","brush:end",c+"-mask:end",c+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(f){return!!l&&!l(f)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:l||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:l||function(f){return!f.isInShape("mask")},action:[c+"-mask:start",c+"-mask:show"],arg:[{maskStyle:i?.style}]},{trigger:"mask:dragstart",action:[c+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[c+"-mask:resize"]},{trigger:"mask:drag",action:[c+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[c+"-mask:end"]},{trigger:"mask:dragend",action:[c+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(f){return!f.isInPlot()},action:["element-range-highlight:clear",c+"-mask:end",c+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",c+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:l||yo,action:["brush-x:start",c+"-mask:start",c+"-mask:show"],arg:[null,{maskStyle:i?.style}]}],processing:[{trigger:"mousemove",isEnable:yo,action:[c+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:yo,action:["brush-x:filter","brush-x:end",c+"-mask:end",c+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:l||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:l||function(f){return!f.isInShape("mask")},action:[c+"-mask:start",c+"-mask:show"],arg:[{maskStyle:i?.style}]},{trigger:"mask:dragstart",action:[c+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[c+"-mask:resize"]},{trigger:"mask:drag",action:[c+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[c+"-mask:end"]},{trigger:"mask:dragend",action:[c+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(f){return!f.isInPlot()},action:["element-range-highlight:clear",c+"-mask:end",c+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",c+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:l||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:l||yo,action:["brush-y:start",c+"-mask:start",c+"-mask:show"],arg:[null,{maskStyle:i?.style}]}],processing:[{trigger:"mousemove",isEnable:yo,action:[c+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:yo,action:["brush-y:filter","brush-y:end",c+"-mask:end",c+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}ur("brush-reset-button",K1,{name:"brush-reset-button"}),Er("filter-action",{}),Er("brush",Wn("brush")),Er("brush-highlight",Wn("brush-highlight")),Er("brush-x",Wn("brush-x","x-rect")),Er("brush-y",Wn("brush-y","y-rect")),Er("brush-x-highlight",Wn("brush-x-highlight","x-rect")),Er("brush-y-highlight",Wn("brush-y-highlight","y-rect"));var HT=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function GT(e){var r=e.options,t=r.brush,n=(0,S.hX)(r.interactions||[],function(i){return-1===HT.indexOf(i.type)});return t?.enabled&&(HT.forEach(function(i){var l=!1;switch(t.type){case"x-rect":l=i===("highlight"===t.action?"brush-x-highlight":"brush-x");break;case"y-rect":l=i===("highlight"===t.action?"brush-y-highlight":"brush-y");break;default:l=i===("highlight"===t.action?"brush-highlight":"brush")}var c={type:i,enable:l};t&&(c.cfg=Wn(i,t.type,t)),n.push(c)}),"highlight"!==t?.action&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),xe({},e,{options:{interactions:n}})}var Fu={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},Q1=function(e,r){return"hover"===e?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:r}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:r}]}]};function J1(e,r){return!(0,S.hj)(e)||!(0,S.hj)(r)||0===e&&0===r?"-":e===r?"100%":0===e?"\u221e":(100*r/e).toFixed(2)+"%"}function $f(e,r){return xe({size:r?32:80,spacing:r?8:12,offset:r?32:0,arrow:!1!==e.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==e.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:J1}},e)}function $p(e,r){return(0,S.UI)(r.getModel().points,function(t){return e.convertPoint(t)})}function o8(e){var r=e.options,t=r.legend;return r.seriesField?!1!==t&&(t=(0,E.pi)({position:r.isStack?"right-top":"top-left"},t)):t=!1,e.options.legend=t,e}function UT(e){var r=e.chart,t=e.options,n=t.data,i=t.columnStyle,l=t.color,c=t.columnWidthRatio,f=t.isPercent,d=t.isGroup,p=t.isStack,m=t.xField,x=t.yField,_=t.seriesField,T=t.groupField,b=t.tooltip,I=t.shape,F=f&&d&&p?function KF(e,r,t,n){var i=(0,S.u4)(e,function(l,c){var f=(0,S.u4)(t,function(m,x){return""+m+c[x]},""),d=l.has(f)?l.get(f):0,p=c[r];return d=Lu(p)?d+p:d,l.set(f,d),l},new Map);return(0,S.UI)(e,function(l){var c,f=l[r],d=(0,S.u4)(t,function(m,x){return""+m+l[x]},""),p=Lu(f)&&0!==i.get(d)?f/i.get(d):0;return(0,E.pi)((0,E.pi)({},l),((c={})[n]=p,c))})}(n,x,[m,T],x):qc(n,x,m,x,f),B=[];p&&_&&!d?F.forEach(function(H){var et=B.find(function(wt){return wt[m]===H[m]&&wt[_]===H[_]});et?et[x]+=H[x]||0:B.push((0,E.pi)({},H))}):B=F,r.data(B);var Y=f?(0,E.pi)({formatter:function(H){return{name:d&&p?H[_]+" - "+H[T]:H[_]||H[m],value:(100*Number(H[x])).toFixed(2)+"%"}}},b):b,G=xe({},e,{options:{data:B,widthRatio:c,tooltip:Y,interval:{shape:I,style:i,color:l}}});return pi(G),G}function ex(e){var r,t,n=e.options,l=n.yAxis,c=n.xField,f=n.yField,d=n.data,m=n.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Cr(zn(((r={})[c]=n.xAxis,r[f]=l,r),((t={})[c]={type:"cat"},t[f]=(0,E.pi)((0,E.pi)({},P1(d,f)),m),t)))(e)}function XT(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,c=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(c,!1!==i&&i),e}function Kc(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):!1===n&&r.legend(!1),e}function VT(e){var t=e.options,n=t.label,i=t.yField,l=t.isRange,c=vi(e.chart,"interval");if(n){var f=n.callback,d=(0,E._T)(n,["callback"]);c.label({fields:[i],callback:f,cfg:(0,E.pi)({layout:d?.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},di(l?(0,E.pi)({content:function(p){var m;return null===(m=p[i])||void 0===m?void 0:m.join("-")}},d):d))})}else c.label(!1);return e}function $T(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.isGroup,l=t.isStack,c=t.groupField,f=t.data,d=t.xField,p=t.yField,m=t.seriesField;if(!1===n)r.tooltip(!1);else{var x=n;if(i&&l){var _=x.customItems,T=x?.formatter||function(b){return{name:b[m]+" - "+b[c],value:b[p]}};x=(0,E.pi)((0,E.pi)({},x),{customItems:function(b){var I=[];return(0,S.S6)(b,function(F){(0,S.hX)(f,function(Y){return(0,S.BD)(Y,Kr(F.data,[d,m]))}).forEach(function(Y){I.push((0,E.pi)((0,E.pi)((0,E.pi)({},F),{value:Y[p],data:Y,mappingData:{_origin:Y}}),T(Y)))})}),_?_(I):I}})}r.tooltip(x)}return e}function $o(e,r){void 0===r&&(r=!1);var t=e.options,n=t.seriesField;return Cr(o8,Qr,Ra("columnStyle"),gl,FT("rect"),UT,ex,XT,Kc,$T,Xf,Y1,VT,GT,An,hn,En(),function tx(e,r,t){return void 0===r&&(r=!0),void 0===t&&(t=!1),function(n){var i=n.options,l=n.chart,c=i.conversionTag,f=i.theme;return c&&!t&&(l.theme(xe({},(0,S.Kn)(f)?f:Lc(f),{columnWidthRatio:1/3})),l.annotation().shape({render:function(d,p){var m=d.addGroup({id:l.id+"-conversion-tag-group",name:"conversion-tag-group"}),x=(0,S.sE)(l.geometries,function(b){return"interval"===b.type}),_={view:p,geometry:x,group:m,field:e,horizontal:r,options:$f(c,r)},T=x.elements;(0,S.S6)(T,function(b,I){I>0&&function j1(e,r,t){(function YT(e,r,t){var n=e.view,i=e.geometry,l=e.group,c=e.options,f=e.horizontal,d=c.offset,p=c.size,m=c.arrow,x=n.getCoordinate(),_=$p(x,r)[3],T=$p(x,t)[0],b=T.y-_.y,I=T.x-_.x;if("boolean"!=typeof m){var Y,F=m.headSize,B=c.spacing;f?(I-F)/2<B?(B=Math.max(1,(I-F)/2),Y=[[_.x+B,_.y-d],[_.x+B,_.y-d-p],[T.x-B,T.y-d-p/2]]):Y=[[_.x+B,_.y-d],[_.x+B,_.y-d-p],[T.x-B-F,T.y-d-p],[T.x-B,T.y-d-p/2],[T.x-B-F,T.y-d]]:(b-F)/2<B?(B=Math.max(1,(b-F)/2),Y=[[_.x+d,_.y+B],[_.x+d+p,_.y+B],[T.x+d+p/2,T.y-B]]):Y=[[_.x+d,_.y+B],[_.x+d+p,_.y+B],[T.x+d+p,T.y-B-F],[T.x+d+p/2,T.y-B],[T.x+d,T.y-B-F]],l.addShape("polygon",{id:n.id+"-conversion-tag-arrow-"+i.getElementId(r.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:r,nextElement:t},attrs:(0,E.pi)((0,E.pi)({},m.style||{}),{points:Y})})}})(e,r,t),function WT(e,r,t){var n,i,l,c=e.view,f=e.geometry,d=e.group,p=e.options,m=e.field,x=e.horizontal,_=p.offset,T=p.size;if("boolean"!=typeof p.text){var b=c.getCoordinate(),I=(null===(n=p.text)||void 0===n?void 0:n.formatter)&&(null===(i=p.text)||void 0===i?void 0:i.formatter(r.getData()[m],t.getData()[m])),F=$p(b,r)[x?3:0],B=$p(b,t)[x?0:3],Y=d.addShape("text",{id:c.id+"-conversion-tag-text-"+f.getElementId(r.getModel().mappingData),name:"conversion-tag-text",origin:{element:r,nextElement:t},attrs:(0,E.pi)((0,E.pi)({},(null===(l=p.text)||void 0===l?void 0:l.style)||{}),{text:I,x:x?(F.x+B.x)/2:F.x+_+T/2,y:x?F.y-_-T/2:(F.y+B.y)/2})});if(x){var G=B.x-F.x,H=Y.getBBox().width;if(H>G){var wt=Math.max(1,Math.ceil(G/(H/I.length))-1),Ot=I.slice(0,wt)+"...";Y.attr("text",Ot)}}}}(e,r,t)}(_,T[I-1],b)})}})),n}}(t.yField,!r,!!n),function bi(e){return void 0===e&&(e=!1),function(r){var t=r.chart,i=r.options.connectedArea,l=function(){t.removeInteraction(Fu.hover),t.removeInteraction(Fu.click)};if(!e&&i){var c=i.trigger||"hover";l(),t.interaction(Fu[c],{start:Q1(c,i.style)})}else l();return r}}(!t.isStack),Ou)(e)}function Du(e){var r=e.options,t=r.xField,n=r.yField,i=r.xAxis,l=r.yAxis,c={left:"bottom",right:"top",top:"left",bottom:"right"},f=!1!==l&&(0,E.pi)({position:c[l?.position||"left"]},l),d=!1!==i&&(0,E.pi)({position:c[i?.position||"bottom"]},i);return(0,E.pi)((0,E.pi)({},e),{options:(0,E.pi)((0,E.pi)({},r),{xField:n,yField:t,xAxis:f,yAxis:d})})}function Zp(e){var t=e.options.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),xe({},e,{options:{label:t}})}function Zf(e){var r=e.options,i=r.legend;return r.seriesField?!1!==i&&(i=(0,E.pi)({position:r.isStack?"top-left":"right-top"},i||{})):i=!1,xe({},e,{options:{legend:i}})}function rx(e){var t=[{type:"transpose"},{type:"reflectY"}].concat(e.options.coordinate||[]);return xe({},e,{options:{coordinate:t}})}function s8(e){var t=e.options,n=t.barStyle,i=t.barWidthRatio,l=t.minBarWidth,c=t.maxBarWidth,f=t.barBackground;return $o({chart:e.chart,options:(0,E.pi)((0,E.pi)({},t),{columnStyle:n,columnWidthRatio:i,minColumnWidth:l,maxColumnWidth:c,columnBackground:f})},!0)}function Ms(e){return Cr(Du,Zp,Zf,ti,rx,s8)(e)}Er(Fu.hover,{start:Q1(Fu.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Er(Fu.click,{start:Q1(Fu.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var ox,nx=xe({},Fr.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),ix=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bar",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return nx},r.prototype.changeData=function(t){var n,i;this.updateOption({data:t});var c=this.chart,f=this.options,d=f.isPercent,p=f.xField,m=f.yField,x=f.xAxis,_=f.yAxis;p=(n=[m,p])[0],m=n[1],x=(i=[_,x])[0],_=i[1],ex({chart:c,options:(0,E.pi)((0,E.pi)({},f),{xField:p,yField:m,yAxis:_,xAxis:x})}),c.changeData(qc(t,p,m,p,d))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Ms},r}(Fr),l8=xe({},Fr.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),ax=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="column",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return l8},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.yField,l=n.xField,c=n.isPercent;ex({chart:this.chart,options:this.options}),this.chart.changeData(qc(t,i,l,i,c))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return $o},r}(Fr),yl="$$percentage$$",ja="$$mappingValue$$",Zo="$$conversion$$",Da="$$totalPercentage$$",qf="$$x$$",Kf="$$y$$",Bu={appendPadding:[0,80],minSize:0,maxSize:1,meta:(ox={},ox[ja]={min:0,max:1,nice:!1},ox),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},Qc="CONVERSION_TAG_NAME";function sx(e,r,t){var i=t.yField,l=t.maxSize,c=t.minSize,f=(0,S.U2)((0,S.UT)(r,i),[i]),d=(0,S.hj)(l)?l:1,p=(0,S.hj)(c)?c:0;return(0,S.UI)(e,function(m,x){var _=(m[i]||0)/f;return m[yl]=_,m[ja]=(d-p)*_+p,m[Zo]=[(0,S.U2)(e,[x-1,i]),m[i]],m})}function lx(e){return function(r){var t=r.chart,n=r.options,i=n.conversionTag,c=n.filteredData||t.getOptions().data;if(i){var f=i.formatter;c.forEach(function(d,p){if(!(p<=0||Number.isNaN(d[ja]))){var m=e(d,p,c,{top:!0,name:Qc,text:{content:(0,S.mf)(f)?f(d,c):f,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:(0,E.pi)({textAlign:"start",textBaseline:"middle"},i.style)}});t.annotation().line(m)}})}return r}}function u8(e){var r=e.chart,t=e.options,n=t.data,i=void 0===n?[]:n,d=sx(i,i,{yField:t.yField,maxSize:t.maxSize,minSize:t.minSize});return r.data(d),e}function c8(e){var r=e.chart,t=e.options,n=t.xField,l=t.color,f=t.label,d=t.shape,p=void 0===d?"funnel":d,m=t.funnelStyle,x=t.state,_=Qa(t.tooltip,[n,t.yField]),T=_.fields,b=_.formatter;return ma({chart:r,options:{type:"interval",xField:n,yField:ja,colorField:n,tooltipFields:(0,S.kJ)(T)&&T.concat([yl,Zo]),mapping:{shape:p,tooltip:b,color:l,style:m},label:f,state:x}}),vi(e.chart,"interval").adjust("symmetric"),e}function Ts(e){return e.chart.coordinate({type:"rect",actions:e.options.isTransposed?[]:[["transpose"],["scale",1,-1]]}),e}function ZT(e){var t=e.chart,n=e.options.maxSize,i=(0,S.U2)(t,["geometries","0","dataArray"],[]),l=(0,S.U2)(t,["options","data","length"]),c=(0,S.UI)(i,function(d){return(0,S.U2)(d,["0","nextPoints","0","x"])*l-.5});return lx(function(d,p,m,x){var _=n-(n-d[ja])/2;return(0,E.pi)((0,E.pi)({},x),{start:[c[p-1]||p-.5,_],end:[c[p-1]||p-.5,_+.05]})})(e),e}function qT(e){return Cr(u8,c8,Ts,ZT)(e)}function h8(e){var r,t=e.chart,n=e.options,i=n.data,c=n.yField;return t.data(void 0===i?[]:i),t.scale(((r={})[c]={sync:!0},r)),e}function f8(e){var t=e.options,n=t.data,i=t.xField,l=t.yField,c=t.color,f=t.compareField,d=t.isTransposed,p=t.tooltip,m=t.maxSize,x=t.minSize,_=t.label,T=t.funnelStyle,b=t.state;return e.chart.facet("mirror",{fields:[f],transpose:!d,padding:d?0:[32,0,0,0],showTitle:t.showFacetTitle,eachView:function(F,B){var Y=d?B.rowIndex:B.columnIndex;d||F.coordinate({type:"rect",actions:[["transpose"],["scale",0===Y?-1:1,-1]]});var G=sx(B.data,n,{yField:l,maxSize:m,minSize:x});F.data(G);var H=Qa(p,[i,l,f]),et=H.fields,wt=H.formatter,Ot=d?{offset:0===Y?10:-23,position:0===Y?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===Y?"end":"start"}};ma({chart:F,options:{type:"interval",xField:i,yField:ja,colorField:i,tooltipFields:(0,S.kJ)(et)&&et.concat([yl,Zo]),mapping:{shape:"funnel",tooltip:wt,color:c,style:T},label:!1!==_&&xe({},Ot,_),state:b}})}}),e}function KT(e){var r=e.chart,t=e.index,n=e.options,i=n.conversionTag,l=n.isTransposed;((0,S.hj)(t)?[r]:r.views).forEach(function(c,f){var d=(0,S.U2)(c,["geometries","0","dataArray"],[]),p=(0,S.U2)(c,["options","data","length"]),m=(0,S.UI)(d,function(_){return(0,S.U2)(_,["0","nextPoints","0","x"])*p-.5});lx(function(_,T,b,I){return xe({},I,{start:[m[T-1]||T-.5,_[ja]],end:[m[T-1]||T-.5,_[ja]+.05],text:l?{style:{textAlign:"start"}}:{offsetX:!1!==i?(0===(t||f)?-1:1)*i.offsetX:0,style:{textAlign:0===(t||f)?"end":"start"}}})})(xe({},{chart:c,options:n}))})}function v8(e){return e.chart.once("beforepaint",function(){return KT(e)}),e}function p8(e){var r=e.chart,t=e.options,n=t.data,i=void 0===n?[]:n,l=t.yField,c=(0,S.u4)(i,function(p,m){return p+(m[l]||0)},0),f=(0,S.UT)(i,l)[l],d=(0,S.UI)(i,function(p,m){var x=[],_=[];if(p[Da]=(p[l]||0)/c,m){var T=i[m-1][qf],b=i[m-1][Kf];x[0]=T[3],_[0]=b[3],x[1]=T[2],_[1]=b[2]}else x[0]=-.5,_[0]=1,x[1]=.5,_[1]=1;return _[2]=_[1]-p[Da],x[2]=(_[2]+1)/4,_[3]=_[2],x[3]=-x[2],p[qf]=x,p[Kf]=_,p[yl]=(p[l]||0)/f,p[Zo]=[(0,S.U2)(i,[m-1,l]),p[l]],p});return r.data(d),e}function g8(e){var r=e.chart,t=e.options,n=t.xField,l=t.color,f=t.label,d=t.funnelStyle,p=t.state,m=Qa(t.tooltip,[n,t.yField]),x=m.fields,_=m.formatter;return ma({chart:r,options:{type:"polygon",xField:qf,yField:Kf,colorField:n,tooltipFields:(0,S.kJ)(x)&&x.concat([yl,Zo]),label:f,state:p,mapping:{tooltip:_,color:l,style:d}}}),e}function y8(e){return e.chart.coordinate({type:"rect",actions:e.options.isTransposed?[["transpose"],["reflect","x"]]:[]}),e}function m8(e){return lx(function(t,n,i,l){return(0,E.pi)((0,E.pi)({},l),{start:[t[qf][1],t[Kf][1]],end:[t[qf][1]+.05,t[Kf][1]]})})(e),e}function C8(e){var r,t=e.chart,n=e.options,i=n.data,c=n.yField;return t.data(void 0===i?[]:i),t.scale(((r={})[c]={sync:!0},r)),e}function w8(e){var t=e.options;return e.chart.facet("rect",{fields:[t.seriesField],padding:[t.isTransposed?0:32,10,0,10],showTitle:t.showFacetTitle,eachView:function(c,f){qT(xe({},e,{chart:c,options:{data:f.data}}))}}),e}var S8=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendering=!1,t}return(0,E.ZT)(r,e),r.prototype.change=function(t){var n=this;if(!this.rendering){var l=t.compareField,c=l?KT:ZT,f=this.context.view;(0,S.UI)(t.seriesField||l?f.views:[f],function(p,m){var x=p.getController("annotation"),_=(0,S.hX)((0,S.U2)(x,["option"],[]),function(b){return b.name!==Qc});x.clear(!0),(0,S.S6)(_,function(b){"object"==typeof b&&p.annotation()[b.type](b)});var T=(0,S.U2)(p,["filteredData"],p.getOptions().data);c({chart:p,index:m,options:(0,E.pi)((0,E.pi)({},t),{filteredData:sx(T,T,t)})}),p.filterData(T),n.rendering=!0,p.render(!0)})}this.rendering=!1},r}(wn),QT="funnel-conversion-tag",ux="funnel-afterrender",JT={trigger:"afterrender",action:QT+":change"};function M8(e){var m,r=e.options,t=r.compareField,n=r.xField,i=r.yField,c=r.funnelStyle,f=r.data,d=Vc(r.locale);return(t||c)&&(m=function(x){return xe({},t&&{lineWidth:1,stroke:"#fff"},(0,S.mf)(c)?c(x):c)}),xe({options:{label:t?{fields:[n,i,t,yl,Zo],formatter:function(x){return""+x[i]}}:{fields:[n,i,yl,Zo],offset:0,position:"middle",formatter:function(x){return x[n]+" "+x[i]}},tooltip:{title:n,formatter:function(x){return{name:x[n],value:x[i]}}},conversionTag:{formatter:function(x){return d.get(["conversionTag","label"])+": "+J1.apply(void 0,x[Zo])}}}},e,{options:{funnelStyle:m,data:(0,S.d9)(f)}})}function jT(e){var r=e.options,t=r.compareField,n=r.dynamicHeight;return r.seriesField?function _8(e){return Cr(C8,w8)(e)}(e):t?function d8(e){return Cr(h8,f8,v8)(e)}(e):n?function x8(e){return Cr(p8,g8,y8,m8)(e)}(e):qT(e)}function tb(e){var r,t=e.options,i=t.yAxis,c=t.yField;return Cr(zn(((r={})[t.xField]=t.xAxis,r[c]=i,r)))(e)}function eb(e){return e.chart.axis(!1),e}function T8(e){var n=e.options.legend;return e.chart.legend(!1!==n&&n),e}function rb(e){var r=e.chart,t=e.options,i=t.dynamicHeight;return(0,S.S6)(t.interactions,function(l){!1===l.enable?r.removeInteraction(l.type):r.interaction(l.type,l.cfg||{})}),i?r.removeInteraction(ux):r.interaction(ux,{start:[(0,E.pi)((0,E.pi)({},JT),{arg:t})]}),e}function cx(e){return Cr(M8,jT,tb,eb,ti,rb,T8,hn,Qr,En())(e)}ur(QT,S8),Er(ux,{start:[JT]});var ml,hx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="funnel",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Bu},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return cx},r.prototype.setState=function(t,n,i){void 0===i&&(i=!0);var l=Uc(this.chart);(0,S.S6)(l,function(c){n(c.getData())&&c.setState(t,i)})},r.prototype.getStates=function(){var t=Uc(this.chart),n=[];return(0,S.S6)(t,function(i){var l=i.getData(),c=i.getStates();(0,S.S6)(c,function(f){n.push({data:l,state:f,geometry:i.geometry,element:i})})}),n},r.CONVERSATION_FIELD=Zo,r.PERCENT_FIELD=yl,r.TOTAL_PERCENT_FIELD=Da,r}(Fr),Un="range",xl="type",ei="percent",b8="#f0f0f0",qp="indicator-view",Qf="range-view",fx={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(ml={},ml[Un]={sync:"v"},ml[ei]={sync:"v",tickCount:5,tickInterval:.2},ml),animation:!1};function ib(e){var r;return[(r={},r[ei]=(0,S.uZ)(e,0,1),r)]}function vx(e,r){var t=(0,S.U2)(r,["ticks"],[]),n=(0,S.dp)(t)?(0,S.jj)(t):[0,(0,S.uZ)(e,0,1),1];return n[0]||n.shift(),function nb(e,r){return e.map(function(t,n){var i;return(i={})[Un]=t-(e[n-1]||0),i[xl]=""+n,i[ei]=r,i})}(n,e)}function A8(e){var r=e.chart,t=e.options,n=t.percent,i=t.range,l=t.radius,c=t.innerRadius,f=t.startAngle,d=t.endAngle,p=t.axis,m=t.indicator,x=t.gaugeStyle,_=t.type,T=t.meter,b=i.color,I=i.width;if(m){var F=ib(n),B=r.createView({id:qp});B.data(F),B.point().position(ei+"*1").shape(m.shape||"gauge-indicator").customInfo({defaultColor:r.getTheme().defaultColor,indicator:m}),B.coordinate("polar",{startAngle:f,endAngle:d,radius:c*l}),B.axis(ei,p),B.scale(ei,Kr(p,ya))}var Y=vx(n,t.range),G=r.createView({id:Qf});G.data(Y);var H=(0,S.HD)(b)?[b,b8]:b;return pi({chart:G,options:{xField:"1",yField:Un,seriesField:xl,rawFields:[ei],isStack:!0,interval:{color:H,style:x,shape:"meter"===_?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:I,maxColumnWidth:I}}).ext.geometry.customInfo({meter:T}),G.coordinate("polar",{innerRadius:c,radius:l,startAngle:f,endAngle:d}).transpose(),e}function ab(e){var r;return Cr(zn(((r={range:{min:0,max:1,maxLimit:1,minLimit:0}})[ei]={},r)))(e)}function dx(e,r){var t=e.chart,n=e.options,i=n.statistic,l=n.percent;if(t.getController("annotation").clear(!0),i){var c=i.content,f=void 0;c&&(f=xe({},{content:(100*l).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},c)),YF(t,{statistic:(0,E.pi)((0,E.pi)({},i),{content:f})},{percent:l})}return r&&t.render(!0),e}function E8(e){var n=e.options.tooltip;return e.chart.tooltip(!!n&&xe({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(i,l){return(100*(0,S.U2)(l,[0,"data",ei],0)).toFixed(2)+"%"}},n)),e}function ob(e){return e.chart.legend(!1),e}function L8(e){return Cr(Qr,hn,A8,ab,E8,dx,An,En(),ob)(e)}rn("point","gauge-indicator",{draw:function(e,r){var t=e.customInfo,n=t.indicator,i=t.defaultColor,c=n.pointer,f=n.pin,d=r.addGroup(),p=this.parsePoint({x:0,y:0});return c&&d.addShape("line",{name:"pointer",attrs:(0,E.pi)({x1:p.x,y1:p.y,x2:e.x,y2:e.y,stroke:i},c.style)}),f&&d.addShape("circle",{name:"pin",attrs:(0,E.pi)({x:p.x,y:p.y,stroke:i},f.style)}),d}}),rn("interval","meter-gauge",{draw:function(e,r){var t=e.customInfo.meter,n=void 0===t?{}:t,i=n.steps,l=void 0===i?50:i,c=n.stepRatio,f=void 0===c?.5:c;l=l<1?1:l,f=(0,S.uZ)(f,0,1);var d=this.coordinate,p=d.startAngle,x=0;f>0&&f<1&&(x=(d.endAngle-p)/l/(f/(1-f)+1-1/l));for(var T=x/(1-f)*f,b=r.addGroup(),I=this.coordinate.getCenter(),F=this.coordinate.getRadius(),B=va.getAngle(e,this.coordinate),G=B.endAngle,H=B.startAngle;H<G;){var et=void 0,wt=(H-p)%(T+x);et=wt<T?H+(T-wt):(H+=T+x-wt)+T;var Ot=va.getSectorPath(I.x,I.y,F,H,Math.min(et,G),F*this.coordinate.innerRadius);b.addShape("path",{name:"meter-gauge",attrs:{path:Ot,fill:e.color,stroke:e.color,lineWidth:.5}}),H=et+x}return b}});var Jc=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="gauge",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return fx},r.prototype.changeData=function(t){this.chart.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this.chart,kr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(l){return l.id===qp});n&&n.data(ib(t));var i=this.chart.views.find(function(l){return l.id===Qf});i&&i.data(vx(t,this.options.range)),dx({chart:this.chart,options:this.options},!0),this.chart.emit(kr.AFTER_CHANGE_DATA,en.fromData(this.chart,kr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return L8},r}(Fr);function bs(e,r,t){if(1===t)return[0,r];var n=Math.floor(e/r);return[r*n,r*(n+1)]}function sb(e,r,t,n,i){var l=(0,S.d9)(e);(0,S.MR)(l,r);var c=(0,S.I)(l,r),f=(0,S.rx)(c),d=f.max-f.min,p=t;if(!t&&n&&(p=n>1?d/(n-1):f.max),!t&&!n){var m=function xa(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}(c);p=d/m}var x={},_=(0,S.vM)(l,i);(0,S.xb)(_)?(0,S.S6)(l,function(b){var F=bs(b[r],p,n),B=F[0]+"-"+F[1];(0,S.wH)(x,B)||(x[B]={range:F,count:0}),x[B].count+=1}):Object.keys(_).forEach(function(b){(0,S.S6)(_[b],function(I){var B=bs(I[r],p,n),G=B[0]+"-"+B[1]+"-"+b;(0,S.wH)(x,G)||(x[G]={range:B,count:0},x[G][i]=b),x[G].count+=1})});var T=[];return(0,S.S6)(x,function(b){T.push(b)}),T}var Kp="range",jc="count",Pu=xe({},Fr.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Ai(e){var r=e.chart,t=e.options,f=t.color,d=t.stackField,p=t.legend,m=t.columnStyle,x=sb(t.data,t.binField,t.binWidth,t.binNumber,d);return r.data(x),pi(xe({},e,{options:{xField:Kp,yField:jc,seriesField:d,isStack:!0,interval:{color:f,style:m}}})),p&&d?r.legend(d,p):r.legend(!1),e}function Ca(e){var r,t=e.options,i=t.yAxis;return Cr(zn(((r={})[Kp]=t.xAxis,r[jc]=i,r)))(e)}function w7(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis;return r.axis(Kp,!1!==n&&n),r.axis(jc,!1!==i&&i),e}function _7(e){var n=e.options.label,i=vi(e.chart,"interval");if(n){var l=n.callback,c=(0,E._T)(n,["callback"]);i.label({fields:[jc],callback:l,cfg:di(c)})}else i.label(!1);return e}function Qp(e){return Cr(Qr,Ra("columnStyle"),Ai,Ca,w7,gl,_7,ti,An,hn)(e)}var lb=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="histogram",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Pu},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options;this.chart.changeData(sb(t,n.binField,n.binWidth,n.binNumber,n.stackField))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Qp},r}(Fr),px=xe({},Fr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),I8=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var i=n.data.items,l=t.geometries.filter(function(c){return"point"===c.type});(0,S.S6)(l,function(c){(0,S.S6)(c.elements,function(f){var d=-1!==(0,S.cx)(i,function(p){return p.data===f.data});f.setState("active",d)})})}},r.prototype.reset=function(){var n=this.getView().geometries.filter(function(i){return"point"===i.type});(0,S.S6)(n,function(i){(0,S.S6)(i.elements,function(l){l.setState("active",!1)})})},r.prototype.getView=function(){return this.context.view},r}(wn);ur("marker-active",I8),Er("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var gx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return px},r.prototype.changeData=function(t){this.updateOption({data:t}),Ru({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return $1},r}(Fr),ub=xe({},Fr.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),O8=[1,0,0,0,1,0,0,0,1];function Jp(e,r){var t=(0,E.pr)(r||O8);return va.transform(t,e)}var R8=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getActiveElements=function(){var t=va.getDelegationObject(this.context);if(t){var n=this.context.view,l=t.item,c=t.component.get("field");if(c)return n.geometries[0].elements.filter(function(d){return d.getModel().data[c]===l.value})}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter(function(l){return n.find(function(c){return(0,S.Xy)(c.getData(),l.get("data"))})})},r.prototype.transfrom=function(t){void 0===t&&(t=7.5);var n=this.getActiveElements(),i=this.getActiveElementLabels();n.forEach(function(l,c){var f=i[c],d=l.geometry.coordinate;if(d.isPolar&&d.isTransposed){var p=va.getAngle(l.getModel(),d),_=(p.startAngle+p.endAngle)/2,T=t,b=T*Math.cos(_),I=T*Math.sin(_);l.shape.setMatrix(Jp([["t",b,I]])),f.setMatrix(Jp([["t",b,I]]))}})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r}(wn),D8=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},r.prototype.getInitialAnnotation=function(){return this.initialAnnotation},r.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var i=t.getAnnotations(n);t.initialAnnotation=i})},r.prototype.change=function(t){var n=this.context,i=n.view,l=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var c=(0,S.U2)(l,["data","data"]);if(l.type.match("legend-item")){var f=va.getDelegationObject(this.context),d=i.getGroupedFields()[0];if(f&&d){var p=f.item;c=i.getData().find(function(T){return T[d]===p.value})}}if(c){var m=(0,S.U2)(t,"annotations",[]),x=(0,S.U2)(t,"statistic",{});i.getController("annotation").clear(!0),(0,S.S6)(m,function(T){"object"==typeof T&&i.annotation()[T.type](T)}),Yp(i,{statistic:x,plotType:"pie"},c),i.render(!0)}var _=function F8(e){var t,n=e.event.target;return n&&(t=n.get("element")),t}(this.context);_&&_.shape.toFront()},r.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var i=this.getInitialAnnotation();(0,S.S6)(i,function(l){t.annotation()[l.type](l)}),t.render(!0)},r}(wn),cb="pie-statistic";function P8(e,r){var t;switch(e){case"inner":return t="-30%",(0,S.HD)(r)&&r.endsWith("%")?.01*parseFloat(r)>0?t:r:r<0?r:t;case"outer":return t=12,(0,S.HD)(r)&&r.endsWith("%")?.01*parseFloat(r)<0?t:r:r>0?r:t;default:return r}}function jp(e,r){return(0,S.yW)(Wc(e,r),function(t){return 0===t[r]})}function hb(e){var r=e.chart,t=e.options,i=t.angleField,l=t.colorField,c=t.color,f=t.pieStyle,d=t.shape,p=Wc(t.data,i);if(jp(p,i)){var m="$$percentage$$";p=p.map(function(_){var T;return(0,E.pi)((0,E.pi)({},_),((T={})[m]=1/p.length,T))}),r.data(p),pi(xe({},e,{options:{xField:"1",yField:m,seriesField:l,isStack:!0,interval:{color:c,shape:d,style:f},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else r.data(p),pi(xe({},e,{options:{xField:"1",yField:i,seriesField:l,isStack:!0,interval:{color:c,shape:d,style:f},args:{zIndexReversed:!0,sortZIndex:!0}}}));return e}function fb(e){var r,t=e.chart,n=e.options,l=n.colorField,c=xe({},n.meta);return t.scale(c,((r={})[l]={type:"cat"},r)),e}function vb(e){var t=e.options;return e.chart.coordinate({type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}),e}function t0(e){var r=e.chart,t=e.options,n=t.label,i=t.colorField,l=t.angleField,c=r.geometries[0];if(n){var f=n.callback,p=di((0,E._T)(n,["callback"]));if(p.content){var m=p.content;p.content=function(b,I,F){var B=b[i],Y=b[l],H=r.getScaleByField(l)?.scale(Y);return(0,S.mf)(m)?m((0,E.pi)((0,E.pi)({},b),{percent:H}),I,F):(0,S.HD)(m)?IT(m,{value:Y,name:B,percentage:(0,S.hj)(H)&&!(0,S.UM)(Y)?(100*H).toFixed(2)+"%":null}):m}}var _=p.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[p.type]:"pie-outer",T=p.layout?(0,S.kJ)(p.layout)?p.layout:[p.layout]:[];p.layout=(_?[{type:_}]:[]).concat(T),c.label({fields:i?[l,i]:[l],callback:f,cfg:(0,E.pi)((0,E.pi)({},p),{offset:P8(p.type,p.offset),type:"pie"})})}else c.label(!1);return e}function th(e){var r=e.innerRadius,t=e.statistic,n=e.angleField,i=e.colorField,l=e.meta,f=Vc(e.locale);if(r&&t){var d=xe({},ub.statistic,t),p=d.title,m=d.content;return!1!==p&&(p=xe({},{formatter:function(x){var _=x?x[i]:(0,S.UM)(p.content)?f.get(["statistic","total"]):p.content;return((0,S.U2)(l,[i,"formatter"])||function(b){return b})(_)}},p)),!1!==m&&(m=xe({},{formatter:function(x,_){var T=x?x[n]:function B8(e,r){var t=null;return(0,S.S6)(e,function(n){"number"==typeof n[r]&&(t+=n[r])}),t}(_,n),b=(0,S.U2)(l,[n,"formatter"])||function(I){return I};return x||(0,S.UM)(m.content)?b(T):m.content}},m)),xe({},{statistic:{title:p,content:m}},e)}return e}function db(e){var r=e.chart,n=th(e.options),i=n.innerRadius,l=n.statistic;return r.getController("annotation").clear(!0),Cr(En())(e),i&&l&&Yp(r,{statistic:l,plotType:"pie"}),e}function k8(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.colorField,l=t.angleField,c=t.data;if(!1===n)r.tooltip(n);else if(r.tooltip(xe({},n,{shared:!1})),jp(c,l)){var f=(0,S.U2)(n,"fields"),d=(0,S.U2)(n,"formatter");(0,S.xb)((0,S.U2)(n,"fields"))&&(f=[i,l],d=d||function(p){return{name:p[i],value:(0,S.BB)(p[l])}}),r.geometries[0].tooltip(f.join("*"),$c(f,d))}return e}function As(e){var r=e.chart,n=th(e.options),l=n.statistic,c=n.annotations;return(0,S.S6)(n.interactions,function(f){var d,p;if(!1===f.enable)r.removeInteraction(f.type);else if("pie-statistic-active"===f.type){var m=[];!(null===(d=f.cfg)||void 0===d)&&d.start||(m=[{trigger:"element:mouseenter",action:cb+":change",arg:{statistic:l,annotations:c}}]),(0,S.S6)(null===(p=f.cfg)||void 0===p?void 0:p.start,function(x){m.push((0,E.pi)((0,E.pi)({},x),{arg:{statistic:l,annotations:c}}))}),r.interaction(f.type,xe({},f.cfg,{start:m}))}else r.interaction(f.type,f.cfg||{})}),e}function pb(e){return Cr(Ra("pieStyle"),hb,fb,Qr,vb,Iu,k8,t0,gl,db,As,hn)(e)}ur(cb,D8),Er("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),ur("pie-legend",R8),Er("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var yx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pie",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return ub},r.prototype.changeData=function(t){this.chart.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this.chart,kr.BEFORE_CHANGE_DATA,null));var i=this.options.angleField,l=Wc(this.options.data,i),c=Wc(t,i);jp(l,i)||jp(c,i)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(c),db({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(kr.AFTER_CHANGE_DATA,en.fromData(this.chart,kr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return pb},r}(Fr),mx=["#FAAD14","#E8EDF3"],gb={percent:.2,color:mx,animation:{}};function yb(e){var r=(0,S.uZ)(Lu(e)?e:0,0,1);return[{current:""+r,type:"current",percent:r},{current:""+r,type:"target",percent:1}]}function ku(e){var r=e.chart,t=e.options,i=t.progressStyle,l=t.color,c=t.barWidthRatio;return r.data(yb(t.percent)),pi(xe({},e,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:c,interval:{style:i,color:(0,S.HD)(l)?[l,mx[1]]:l},args:{zIndexReversed:!0,sortZIndex:!0}}})),r.tooltip(!1),r.axis(!1),r.legend(!1),e}function S7(e){return e.chart.coordinate("rect").transpose(),e}function mb(e){return Cr(ku,zn({}),S7,hn,Qr,En())(e)}var z8=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="process",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return gb},r.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(yb(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return mb},r}(Fr);function N8(e){var t=e.options;return e.chart.coordinate("theta",{innerRadius:t.innerRadius,radius:t.radius}),e}function zu(e,r){var t=e.chart,n=e.options,i=n.innerRadius,l=n.statistic,c=n.percent,f=n.meta;if(t.getController("annotation").clear(!0),i&&l){var d=(0,S.U2)(f,["percent","formatter"])||function(m){return(100*m).toFixed(2)+"%"},p=l.content;p&&(p=xe({},p,{content:(0,S.UM)(p.content)?d(c):p.content})),Yp(t,{statistic:(0,E.pi)((0,E.pi)({},l),{content:p}),plotType:"ring-progress"},{percent:c})}return r&&t.render(!0),e}function xb(e){return Cr(ku,zn({}),N8,zu,hn,Qr,En())(e)}var H8={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},xx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ring-process",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return H8},r.prototype.changeData=function(t){this.chart.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this.chart,kr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(yb(t)),zu({chart:this.chart,options:this.options},!0),this.chart.emit(kr.AFTER_CHANGE_DATA,en.fromData(this.chart,kr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return xb},r}(Fr),Cl=ct(5066),e0={exp:Cl.regressionExp,linear:Cl.regressionLinear,loess:Cl.regressionLoess,log:Cl.regressionLog,poly:Cl.regressionPoly,pow:Cl.regressionPow,quad:Cl.regressionQuad},Y8=function(e){var r=e.options,t=r.xField,n=r.yField,i=r.data,l=r.regressionLine,c=l.type,f=void 0===c?"linear":c,d=l.algorithm;return function(e,r){var t=r.view,n=r.options,l=n.yField,c=t.getScaleByField(n.xField),f=t.getScaleByField(l);return function GF(e,r,t){var n=[],i=e[0],l=null;if(e.length<=2)return function NF(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var l=e[n];t.push(["L",l.x,l.y])}r&&t.push(["Z"])}return t}(e,r);for(var c=0,f=e.length;c<f;c++){var d=e[c];(!l||l.x!==d.x||l.y!==d.y)&&(n.push(d.x),n.push(d.y),l=d)}var m=function N1(e,r,t){for(var n=!!r,i=[],l=0,c=e.length;l<c;l+=2)i.push([e[l],e[l+1]]);var m,x,_,f=HF(i,.4,n,t),d=i.length,p=[];for(l=0;l<d-1;l++)p.push(["C",(m=f[2*l])[0],m[1],(x=f[2*l+1])[0],x[1],(_=i[l+1])[0],_[1]]);return n&&p.push(["C",(m=f[d])[0],m[1],(x=f[d+1])[0],x[1],(_=i[0])[0],_[1]]),p}(n,r,t||[[0,0],[1,1]]);return m.unshift(["M",i.x,i.y]),m}(e.map(function(p){return t.getCoordinate().convert({x:c.scale(p[0]),y:f.scale(p[1])})}),!1)}(d?(0,S.kJ)(d)?d:d(i):e0[f]().x(function(x){return x[t]}).y(function(x){return x[n]})(i),e)},r0=function(e){var r,t=e.meta,n=void 0===t?{}:t,i=e.xField,l=e.yField,c=e.data,f=c[0][i],d=c[0][l],p=f>0,m=d>0;function x(_,T){var b=(0,S.U2)(n,[_]);function I(B){return(0,S.U2)(b,B)}var F={};return"x"===T?((0,S.hj)(f)&&((0,S.hj)(I("min"))||(F.min=p?0:2*f),(0,S.hj)(I("max"))||(F.max=p?2*f:0)),F):((0,S.hj)(d)&&((0,S.hj)(I("min"))||(F.min=m?0:2*d),(0,S.hj)(I("max"))||(F.max=m?2*d:0)),F)}return(0,E.pi)((0,E.pi)({},n),((r={})[i]=(0,E.pi)((0,E.pi)({},n[i]),x(i,"x")),r[l]=(0,E.pi)((0,E.pi)({},n[l]),x(l,"y")),r))};function wb(e){var r=e.data,t=void 0===r?[]:r,n=e.xField,i=e.yField;if(t.length){for(var l=!0,c=!0,f=t[0],d=void 0,p=1;p<t.length&&(f[n]!==(d=t[p])[n]&&(l=!1),f[i]!==d[i]&&(c=!1),l||c);p++)f=d;var m=[];l&&m.push(n),c&&m.push(i);var x=Kr(r0(e),m);return xe({},e,{meta:x})}return e}function W8(e){var r=e.chart,t=e.options,n=t.data,i=t.type,l=t.color,c=t.shape,f=t.pointStyle,d=t.shapeField,p=t.colorField,m=t.xField,x=t.yField,_=t.sizeField,T=t.size,b=t.tooltip;_&&(T||(T=[2,8]),(0,S.hj)(T)&&(T=[T,T])),b&&!b.fields&&(b=(0,E.pi)((0,E.pi)({},b),{fields:[m,x,p,_,d]})),r.data(n),Fa(xe({},e,{options:{seriesField:p,point:{color:l,shape:c,size:T,style:f},tooltip:b}}));var I=vi(r,"point");return i&&I.adjust(i),e}function wl(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,l=t.xField,c=t.yField,f=wb(t);return Cr(zn(((r={})[l]=n,r[c]=i,r)))(xe({},e,{options:f}))}function U8(e){var r=e.chart,t=e.options,i=t.yAxis,c=t.yField;return r.axis(t.xField,t.xAxis),r.axis(c,i),e}function X8(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,l=t.shapeField,c=t.sizeField,f=t.shapeLegend,d=t.sizeLegend,p=!1!==n;return i&&r.legend(i,!!p&&n),l&&r.legend(l,f||!1!==f&&n),c&&r.legend(c,d||!1),!p&&!f&&!d&&r.legend(!1),e}function _b(e){var t=e.options,n=t.label,i=t.yField,l=vi(e.chart,"point");if(n){var c=n.callback,f=(0,E._T)(n,["callback"]);l.label({fields:[i],callback:c,cfg:di(f)})}else l.label(!1);return e}function Cx(e){var t=e.options.quadrant,n=[];if(t){var i=t.xBaseline,l=void 0===i?0:i,c=t.yBaseline,f=void 0===c?0:c,d=t.labels,p=t.regionStyle,m=t.lineStyle,x=function Cb(e,r){var t=10;return{regionStyle:[{position:{start:[e,"max"],end:["max",r]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,r]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",r],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,r],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",r],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",r],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(l,f);new Array(4).join(",").split(",").forEach(function(T,b){n.push((0,E.pi)((0,E.pi)({type:"region",top:!1},x.regionStyle[b].position),{style:xe({},x.regionStyle[b].style,p?.[b])}),(0,E.pi)({type:"text",top:!0},xe({},x.labelStyle[b],d?.[b])))}),n.push({type:"line",top:!1,start:["min",f],end:["max",f],style:xe({},x.lineStyle,m)},{type:"line",top:!1,start:[l,"min"],end:[l,"max"],style:xe({},x.lineStyle,m)})}return Cr(En(n))(e)}function Jf(e){var r=e.options,t=e.chart,n=r.regressionLine;if(n){var i=n.style,l=n.top,c=void 0!==l&&l,f={stroke:"#9ba29a",lineWidth:2,opacity:.5};t.annotation().shape({top:c,render:function(d,p){var m=d.addGroup({id:t.id+"-regression-line",name:"regression-line-group"}),x=Y8({view:p,options:r});m.addShape("path",{name:"regression-line",attrs:(0,E.pi)((0,E.pi)({path:x},f),i)})}})}return e}function Dn(e){var r=e.chart,n=e.options.tooltip;return n?r.tooltip(n):!1===n&&r.tooltip(!1),e}function Sb(e){return Cr(W8,wl,U8,X8,Dn,_b,GT,Xf,Y1,An,Cx,hn,Qr,Jf)(e)}var V8=xe({},Fr.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Er("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var n0=function(e){function r(t,n){var i=e.call(this,t,n)||this;return i.type="scatter",i.on(kr.BEFORE_RENDER,function(l){var c,f,p=i.options,m=i.chart;if((null===(c=l.data)||void 0===c?void 0:c.source)===Ti.FILTER){var x=i.chart.filterData(i.chart.getData());wl({chart:m,options:(0,E.pi)((0,E.pi)({},p),{data:x})})}(null===(f=l.data)||void 0===f?void 0:f.source)===Ti.RESET&&wl({chart:m,options:p})}),i}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return V8},r.prototype.changeData=function(t){this.updateOption(wb(xe({},this.options,{data:t}))),wl({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return Sb},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Fr),a0="$$stock-range$$",Bi="trend",jf="up",wx="down",Z8=xe({},Fr.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(e,r,t){var n;if("x"===e){var i=t[0];n=i?i.title:r}else n=r;return{position:"y"===e?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function Mb(e,r){return(0,S.UI)(e,function(t){var n=t&&(0,E.pi)({},t);if((0,S.kJ)(r)&&n){var i=r[0],l=r[1],c=r[2],f=r[3];n[Bi]=n[i]<=n[l]?jf:wx,n[a0]=[n[i],n[l],n[c],n[f]]}return n})}function Tb(e){var t=e.options,n=t.yField,l=t.risingFill,c=t.fallingFill,f=t.tooltip,d=t.stockStyle;e.chart.data(Mb(t.data,n));var p=f;return!1!==p&&(p=xe({},{fields:n},p)),X1(xe({},e,{options:{schema:{shape:"candle",color:[l,c],style:d},yField:a0,seriesField:Bi,rawFields:n,tooltip:p}})),e}function q8(e){var r,t,n=e.chart,i=e.options,l=i.meta,c=i.xAxis,f=i.yAxis,d=i.xField,p=((r={})[d]={type:"timeCat",tickCount:6},r[Bi]={values:[jf,wx]},r),m=xe(p,l,((t={})[d]=Kr(c,ya),t[a0]=Kr(f,ya),t));return n.scale(m),e}function K8(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis;return r.axis(t.xField,!1!==n&&n),r.axis(a0,!1!==i&&i),e}function bb(e){var n=e.options.tooltip;return e.chart.tooltip(!1!==n&&n),e}function Q8(e){var r=e.chart,n=e.options.legend;return n?r.legend(Bi,n):!1===n&&r.legend(!1),e}function tv(e){Cr(Qr,Tb,q8,K8,bb,Q8,An,hn,En(),Xf)(e)}var J8=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="stock",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Z8},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tv},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(Mb(t,this.options.yField))},r}(Fr);function Nu(e){return(0,S.UI)(e||[],function(r,t){return{x:""+t,y:r}})}var eh="x",ev="y",Ab={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,S.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},j8={appendPadding:2,tooltip:(0,E.pi)({},Ab),animation:{}};function tD(e){var r=e.chart,t=e.options,i=t.color,l=t.areaStyle,c=t.point,f=t.line,d=c?.state,p=Nu(t.data);r.data(p);var m=xe({},e,{options:{xField:eh,yField:ev,area:{color:i,style:l},line:f,point:c}}),x=xe({},m,{options:{tooltip:!1}}),_=xe({},m,{options:{tooltip:!1,state:d}});return Vf(m),Zc(x),Fa(_),r.axis(!1),r.legend(!1),e}function rh(e){var r,t,n=e.options,i=n.xAxis,l=n.yAxis,f=Nu(n.data);return Cr(zn(((r={})[eh]=i,r[ev]=l,r),((t={})[eh]={type:"cat"},t[ev]=P1(f,ev),t)))(e)}function Eb(e){return Cr(Ra("areaStyle"),tD,rh,ti,Qr,hn,En())(e)}var eD={appendPadding:2,tooltip:(0,E.pi)({},Ab),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},rD=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-area",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return eD},r.prototype.changeData=function(t){this.updateOption({data:t});var i=this.chart;rh({chart:i,options:this.options}),i.changeData(Nu(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Eb},r}(Fr);function nD(e){var r=e.chart,t=e.options,i=t.color,l=t.columnStyle,c=t.columnWidthRatio,f=Nu(t.data);return r.data(f),pi(xe({},e,{options:{xField:eh,yField:ev,widthRatio:c,interval:{style:l,color:i}}})),r.axis(!1),r.legend(!1),r.interaction("element-active"),e}function Lb(e){return Cr(Qr,Ra("columnStyle"),nD,rh,ti,hn,En())(e)}var Ib={appendPadding:2,tooltip:(0,E.pi)({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,S.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},iD=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-column",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Ib},r.prototype.changeData=function(t){this.updateOption({data:t});var i=this.chart;rh({chart:i,options:this.options}),i.changeData(Nu(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Lb},r}(Fr);function aD(e){var r=e.chart,t=e.options,i=t.color,l=t.lineStyle,c=t.point,f=c?.state,d=Nu(t.data);r.data(d);var p=xe({},e,{options:{xField:eh,yField:ev,line:{color:i,style:l},point:c}}),m=xe({},p,{options:{tooltip:!1,state:f}});return Zc(p),Fa(m),r.axis(!1),r.legend(!1),e}function oD(e){return Cr(aD,rh,Qr,ti,hn,En())(e)}var sD=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="tiny-line",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return j8},r.prototype.changeData=function(t){this.updateOption({data:t});var i=this.chart;rh({chart:i,options:this.options}),i.changeData(Nu(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return oD},r}(Fr),lD={line:$1,pie:pb,column:$o,bar:Ms,area:r8,gauge:L8,"tiny-line":oD,"tiny-column":Lb,"tiny-area":Eb,"ring-progress":xb,progress:mb,scatter:Sb,histogram:Qp,funnel:cx,stock:tv},uD={line:gx,pie:yx,column:ax,bar:ix,area:q1,gauge:Jc,"tiny-line":sD,"tiny-column":iD,"tiny-area":rD,"ring-progress":xx,progress:z8,scatter:n0,histogram:lb,funnel:hx,stock:J8},cD={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function _x(e,r,t){var n=uD[e];n?(0,lD[e])({chart:r,options:xe({},n.getDefaultOptions(),(0,S.U2)(cD,e,{}),t)}):console.error("could not find "+e+" plot")}function Ob(e){var r=e.chart,t=e.options,i=t.legend;return(0,S.S6)(t.views,function(l){var f=l.data,d=l.meta,p=l.axes,m=l.coordinate,x=l.interactions,_=l.annotations,T=l.tooltip,b=l.geometries,I=r.createView({region:l.region});I.data(f);var F={};p&&(0,S.S6)(p,function(B,Y){F[Y]=Kr(B,ya)}),F=xe({},d,F),I.scale(F),p?(0,S.S6)(p,function(B,Y){I.axis(Y,B)}):I.axis(!1),I.coordinate(m),(0,S.S6)(b,function(B){var Y=ma({chart:I,options:B}).ext,G=B.adjust;G&&Y.geometry.adjust(G)}),(0,S.S6)(x,function(B){!1===B.enable?I.removeInteraction(B.type):I.interaction(B.type,B.cfg)}),(0,S.S6)(_,function(B){I.annotation()[B.type]((0,E.pi)({},B))}),"boolean"==typeof l.animation?I.animate(!1):(I.animate(!0),(0,S.S6)(I.geometries,function(B){B.animate(l.animation)})),T&&(I.interaction("tooltip"),I.tooltip(T))}),i?(0,S.S6)(i,function(l,c){r.legend(c,l)}):r.legend(!1),r.tooltip(t.tooltip),e}function hD(e){var r=e.chart,t=e.options,i=t.data,l=void 0===i?[]:i;return(0,S.S6)(t.plots,function(c){var f=c.type,d=c.region,p=c.options,m=void 0===p?{}:p,_=m.tooltip;if(c.top)_x(f,r,(0,E.pi)((0,E.pi)({},m),{data:l}));else{var T=r.createView((0,E.pi)({region:d},Kr(m,Ja)));_&&T.interaction("tooltip"),_x(f,T,(0,E.pi)({data:l},m))}}),e}function fD(e){return e.chart.option("slider",e.options.slider),e}function Rb(e){return Cr(hn,Ob,hD,An,hn,Qr,ti,fD,En())(e)}var M7=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getAssociationItems=function(t,n){var i,l=this.context.event,c=n||{},f=c.linkField,d=c.dim,p=[];if(null!==(i=l.data)&&void 0!==i&&i.data){var m=l.data.data;(0,S.S6)(t,function(x){var _,T,b=f;if("x"===d?b=x.getXScale().field:"y"===d?b=null===(_=x.getYScales().find(function(F){return F.field===b}))||void 0===_?void 0:_.field:b||(b=null===(T=x.getGroupScales()[0])||void 0===T?void 0:T.field),b){var I=(0,S.UI)(Wf(x),function(F){var B=!1,Y=!1,G=(0,S.kJ)(m)?(0,S.U2)(m[0],b):(0,S.U2)(m,b);return function vD(e,r){var n=e.getModel().data;return(0,S.kJ)(n)?n[0][r]:n[r]}(F,b)===G?B=!0:Y=!0,{element:F,view:x,active:B,inactive:Y}});p.push.apply(p,I)}})}return p},r.prototype.showTooltip=function(t){var n=OT(this.context.view),i=this.getAssociationItems(n,t);(0,S.S6)(i,function(l){if(l.active){var c=l.element.shape.getCanvasBBox();l.view.showTooltip({x:c.minX+c.width/2,y:c.minY+c.height/2})}})},r.prototype.hideTooltip=function(){var t=OT(this.context.view);(0,S.S6)(t,function(n){n.hideTooltip()})},r.prototype.active=function(t){var n=Xc(this.context.view),i=this.getAssociationItems(n,t);(0,S.S6)(i,function(l){l.active&&l.element.setState("active",!0)})},r.prototype.selected=function(t){var n=Xc(this.context.view),i=this.getAssociationItems(n,t);(0,S.S6)(i,function(l){l.active&&l.element.setState("selected",!0)})},r.prototype.highlight=function(t){var n=Xc(this.context.view),i=this.getAssociationItems(n,t);(0,S.S6)(i,function(l){l.inactive&&l.element.setState("inactive",!0)})},r.prototype.reset=function(){var t=Xc(this.context.view);(0,S.S6)(t,function(n){!function dD(e){var r=Wf(e);(0,S.S6)(r,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}(n)})},r}(wn);ur("association",M7),Er("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var T7=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="mix",t}return(0,E.ZT)(r,e),r.prototype.getSchemaAdaptor=function(){return Rb},r}(Fr),Es=(()=>(function(e){e.DEV="DEV",e.BETA="BETA",e.STABLE="STABLE"}(Es||(Es={})),Es))();Object.defineProperty(function e(){},"MultiView",{get:function(){return function Fb(e,r){console.warn(e===Es.DEV?"Plot '"+r+"' is in DEV stage, just give us issues.":e===Es.BETA?"Plot '"+r+"' is in BETA stage, DO NOT use it in production env.":e===Es.STABLE?"Plot '"+r+"' is in STABLE stage, import it by \"import { "+r+" } from '@antv/g2plot'\".":"invalid Stage type.")}(Es.STABLE,"MultiView"),T7},enumerable:!1,configurable:!0});var to="first-axes-view",mo="second-axes-view",Ba="series-field-key";function nv(e,r,t,n,i){var l=[];r.forEach(function(x){n.forEach(function(_){var T,b=((T={})[e]=_[e],T[t]=x,T[x]=_[x],T);l.push(b)})});var c=Object.values((0,S.vM)(l,t)),f=c[0],d=void 0===f?[]:f,p=c[1],m=void 0===p?[]:p;return i?[d.reverse(),m.reverse()]:[d,m]}function Ls(e){return"vertical"!==e}function Sx(e,r,t){var m,n=r[0],i=r[1],l=n.autoPadding,c=i.autoPadding,f=e.__axisPosition,d=f.layout,p=f.position;Ls(d)&&"top"===p&&(n.autoPadding=t.instance(l.top,0,l.bottom,l.left),i.autoPadding=t.instance(c.top,l.left,c.bottom,0)),Ls(d)&&"bottom"===p&&(n.autoPadding=t.instance(l.top,l.right/2+5,l.bottom,l.left),i.autoPadding=t.instance(c.top,c.right,c.bottom,l.right/2+5)),Ls(d)||"bottom"!==p||(n.autoPadding=t.instance(l.top,l.right,l.bottom/2+5,m=l.left>=c.left?l.left:c.left),i.autoPadding=t.instance(l.bottom/2+5,c.right,c.bottom,m)),Ls(d)||"top"!==p||(n.autoPadding=t.instance(l.top,l.right,0,m=l.left>=c.left?l.left:c.left),i.autoPadding=t.instance(0,c.right,l.top,m))}function gD(e){var r=e.chart,t=e.options,i=t.xField,l=t.yField,c=t.color,f=t.barStyle,d=t.widthRatio,p=t.legend,m=t.layout,x=nv(i,l,Ba,t.data,Ls(m));p?r.legend(Ba,p):!1===p&&r.legend(!1);var _,T,b=x[0],I=x[1];return Ls(m)?((_=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:to})).coordinate().transpose().reflect("x"),(T=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:mo})).coordinate().transpose(),_.data(b),T.data(I)):(_=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:to}),(T=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:mo})).coordinate().reflect("y"),_.data(b),T.data(I)),pi(xe({},e,{chart:_,options:{widthRatio:d,xField:i,yField:l[0],seriesField:Ba,interval:{color:c,style:f}}})),pi(xe({},e,{chart:T,options:{xField:i,yField:l[1],seriesField:Ba,widthRatio:d,interval:{color:c,style:f}}})),e}function yD(e){var r,t,n,i=e.options,l=e.chart,c=i.xAxis,f=i.yAxis,d=i.xField,p=i.yField,m=Br(l,to),x=Br(l,mo),_={};return(0,S.XP)(i?.meta||{}).map(function(T){(0,S.U2)(i?.meta,[T,"alias"])&&(_[T]=i.meta[T].alias)}),l.scale(((r={})[Ba]={sync:!0,formatter:function(T){return(0,S.U2)(_,T,T)}},r)),zn(((t={})[d]=c,t[p[0]]=f[p[0]],t))(xe({},e,{chart:m})),zn(((n={})[d]=c,n[p[1]]=f[p[1]],n))(xe({},e,{chart:x})),e}function mD(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,l=t.xField,c=t.yField,f=t.layout,d=Br(r,to),p=Br(r,mo);return p.axis(l,"bottom"===n?.position&&(0,E.pi)((0,E.pi)({},n),{label:{formatter:function(){return""}}})),d.axis(l,!1!==n&&(0,E.pi)({position:Ls(f)?"top":"bottom"},n)),!1===i?(d.axis(c[0],!1),p.axis(c[1],!1)):(d.axis(c[0],i[c[0]]),p.axis(c[1],i[c[1]])),r.__axisPosition={position:d.getOptions().axes[l].position,layout:f},e}function xD(e){var r=e.chart;return An(xe({},e,{chart:Br(r,to)})),An(xe({},e,{chart:Br(r,mo)})),e}function _l(e){var r=e.chart,t=e.options,n=t.yField,i=t.yAxis;return Ou(xe({},e,{chart:Br(r,to),options:{yAxis:i[n[0]]}})),Ou(xe({},e,{chart:Br(r,mo),options:{yAxis:i[n[1]]}})),e}function CD(e){var r=e.chart;return Qr(xe({},e,{chart:Br(r,to)})),Qr(xe({},e,{chart:Br(r,mo)})),Qr(e),e}function wD(e){var r=e.chart;return hn(xe({},e,{chart:Br(r,to)})),hn(xe({},e,{chart:Br(r,mo)})),e}function _D(e){var t,n,r=this,i=e.chart,l=e.options,c=l.label,f=l.yField,d=l.layout,p=Br(i,to),m=Br(i,mo),x=vi(p,"interval"),_=vi(m,"interval");if(c){var T=c.callback,b=(0,E._T)(c,["callback"]);b.position||(b.position="middle"),void 0===b.offset&&(b.offset=2);var I=(0,E.pi)({},b);if(Ls(d)){var F=(null===(t=I.style)||void 0===t?void 0:t.textAlign)||("middle"===b.position?"center":"left");b.style=xe({},b.style,{textAlign:F}),I.style=xe({},I.style,{textAlign:{left:"right",right:"left",center:"center"}[F]})}else{var Y={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof b.position?b.position=Y[b.position]:"function"==typeof b.position&&(b.position=function(){for(var et=[],wt=0;wt<arguments.length;wt++)et[wt]=arguments[wt];return Y[b.position.apply(r,et)]});var G=(null===(n=I.style)||void 0===n?void 0:n.textBaseline)||"bottom";I.style=xe({},I.style,{textBaseline:G}),b.style=xe({},b.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[G]})}x.label({fields:[f[0]],callback:T,cfg:di(I)}),_.label({fields:[f[1]],callback:T,cfg:di(b)})}else x.label(!1),_.label(!1);return e}function SD(e){return Cr(gD,yD,mD,_l,CD,_D,ti,xD,wD)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return xe({},e.getDefaultOptions.call(this),{syncViewPadding:Sx})},r.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this.chart,kr.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,f=nv(n.xField,n.yField,Ba,t,Ls(n.layout)),d=f[0],p=f[1],m=Br(this.chart,to),x=Br(this.chart,mo);m.data(d),x.data(p),this.chart.render(!0),this.chart.emit(kr.AFTER_CHANGE_DATA,en.fromData(this.chart,kr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return SD},r.SERIES_FIELD_KEY=Ba}(Fr);var Mx,nh="$$range$$",MD="$$y_outliers$$",Tx="outliers_view",TD=xe({},Fr.getDefaultOptions(),{meta:(Mx={},Mx[nh]={min:0,alias:"low-q1-median-q3-high"},Mx),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Bb=function(e,r){var t=e;if(Array.isArray(r)){var n=r[0],i=r[1],l=r[2],c=r[3],f=r[4];t=(0,S.UI)(e,function(d){return d[nh]=[d[n],d[i],d[l],d[c],d[f]],d})}return t};function bD(e){var t=e.options,n=t.xField,i=t.yField,l=t.groupField,c=t.color,f=t.tooltip,d=t.boxStyle;e.chart.data(Bb(t.data,i));var p=(0,S.kJ)(i)?nh:i,m=i?(0,S.kJ)(i)?i:[i]:[],x=f;!1!==x&&(x=xe({},{fields:(0,S.kJ)(i)?i:[]},x));var _=X1(xe({},e,{options:{xField:n,yField:p,seriesField:l,tooltip:x,rawFields:m,label:!1,schema:{shape:"box",color:c,style:d}}})).ext;return l&&_.geometry.adjust("dodge"),e}function A7(e){var t=e.options,n=t.xField,i=t.data,l=t.outliersField,c=t.outliersStyle,d=t.label;if(!l)return e;var p=e.chart.createView({padding:t.padding,id:Tx}),m=i.reduce(function(x,_){return _[l].forEach(function(b){var I;return x.push((0,E.pi)((0,E.pi)({},_),((I={})[l]=b,I)))}),x},[]);return p.data(m),Fa({chart:p,options:{xField:n,yField:l,point:{shape:"circle",style:c},label:d}}),p.axis(!1),e}function AD(e){var r,t,n=e.chart,i=e.options,l=i.meta,c=i.xAxis,f=i.yAxis,d=i.xField,p=i.yField,m=i.outliersField,x=Array.isArray(p)?nh:p,_={};if(m){var T=MD;(r={})[m]={sync:T,nice:!0},r[x]={sync:T,nice:!0},_=r}var b=xe(_,l,((t={})[d]=Kr(c,ya),t[x]=Kr(f,ya),t));return n.scale(b),e}function Pb(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,l=t.xField,c=t.yField,f=Array.isArray(c)?nh:c;return r.axis(l,!1!==n&&n),!1===i?r.axis(nh,!1):r.axis(f,i),e}function ED(e){var r=e.chart,t=e.options,i=t.groupField;return i?r.legend(i,t.legend||{position:"bottom"}):r.legend(!1),e}function kb(e){return Cr(bD,A7,AD,Pb,ED,ti,En(),An,hn,Qr)(e)}function zb(e,r,t){return e.length>1?r+"_"+t:""+r}function Nb(e){var t=e.xField,n=e.measureField,i=e.rangeField,l=e.targetField,c=e.layout,f=[],d=[];e.data.forEach(function(x,_){var T=[x[i]].flat();T.sort(function(F,B){return F-B}),T.forEach(function(F,B){var Y,G=0===B?F:T[B]-T[B-1];f.push(((Y={rKey:i+"_"+B})[t]=t?x[t]:String(_),Y[i]=G,Y))});var b=[x[n]].flat();b.forEach(function(F,B){var Y;f.push(((Y={mKey:zb(b,n,B)})[t]=t?x[t]:String(_),Y[n]=F,Y))});var I=[x[l]].flat();I.forEach(function(F,B){var Y;f.push(((Y={tKey:zb(I,l,B)})[t]=t?x[t]:String(_),Y[l]=F,Y))}),d.push(x[i],x[n],x[l])});var p=Math.min.apply(Math,d.flat(1/0)),m=Math.max.apply(Math,d.flat(1/0));return p=p>0?0:p,"vertical"===c&&f.reverse(),{min:p,max:m,ds:f}}function Hb(e){var r=e.chart,t=e.options,n=t.bulletStyle,i=t.targetField,l=t.rangeField,c=t.measureField,f=t.xField,d=t.color,p=t.layout,m=t.size,x=t.label,_=Nb(t),T=_.min,b=_.max;return r.data(_.ds),pi(xe({},e,{options:{xField:f,yField:l,seriesField:"rKey",isStack:!0,label:(0,S.U2)(x,"range"),interval:{color:(0,S.U2)(d,"range"),style:(0,S.U2)(n,"range"),size:(0,S.U2)(m,"range")}}})),r.geometries[0].tooltip(!1),pi(xe({},e,{options:{xField:f,yField:c,seriesField:"mKey",isStack:!0,label:(0,S.U2)(x,"measure"),interval:{color:(0,S.U2)(d,"measure"),style:(0,S.U2)(n,"measure"),size:(0,S.U2)(m,"measure")}}})),Fa(xe({},e,{options:{xField:f,yField:i,seriesField:"tKey",label:(0,S.U2)(x,"target"),point:{color:(0,S.U2)(d,"target"),style:(0,S.U2)(n,"target"),size:(0,S.mf)((0,S.U2)(m,"target"))?function(G){return(0,S.U2)(m,"target")(G)/2}:(0,S.U2)(m,"target")/2,shape:"horizontal"===p?"line":"hyphen"}}})),"horizontal"===p&&r.coordinate().transpose(),(0,E.pi)((0,E.pi)({},e),{ext:{data:{min:T,max:b}}})}function Gb(e){var r,t,n=e.options,c=n.yAxis,f=n.targetField,d=n.rangeField,p=n.measureField,x=e.ext.data;return Cr(zn(((r={})[n.xField]=n.xAxis,r[p]=c,r),((t={})[p]={min:x?.min,max:x?.max,sync:!0},t[f]={sync:""+p},t[d]={sync:""+p},t)))(e)}function bx(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,l=t.xField,c=t.measureField,d=t.targetField;return r.axis(""+t.rangeField,!1),r.axis(""+d,!1),r.axis(""+l,!1!==n&&n),r.axis(""+c,!1!==i&&i),e}function ID(e){var r=e.chart,n=e.options.legend;return r.removeInteraction("legend-filter"),r.legend(n),r.legend("rKey",!1),r.legend("mKey",!1),r.legend("tKey",!1),e}function OD(e){var t=e.options,n=t.label,i=t.measureField,l=t.targetField,c=t.rangeField,f=e.chart.geometries,d=f[0],p=f[1],m=f[2];return(0,S.U2)(n,"range")?d.label(""+c,(0,E.pi)({layout:[{type:"limit-in-plot"}]},di(n.range))):d.label(!1),(0,S.U2)(n,"measure")?p.label(""+i,(0,E.pi)({layout:[{type:"limit-in-plot"}]},di(n.measure))):p.label(!1),(0,S.U2)(n,"target")?m.label(""+l,(0,E.pi)({layout:[{type:"limit-in-plot"}]},di(n.target))):m.label(!1),e}function RD(e){Cr(Hb,Gb,bx,ID,Qr,OD,ti,An,hn)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="box",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return TD},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,i=this.chart.views.find(function(l){return l.id===Tx});i&&i.data(t),this.chart.changeData(Bb(t,n))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return kb}}(Fr);var Ax=xe({},Fr.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),iv=(function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="bullet",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Ax},r.prototype.changeData=function(t){this.updateOption({data:t});var n=Nb(this.options),c=n.ds;Gb({options:this.options,ext:{data:{min:n.min,max:n.max}},chart:this.chart}),this.chart.changeData(c)},r.prototype.getSchemaAdaptor=function(){return RD},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}}(Fr),{y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null});var Xb="x",av="y",Hu="name",s0="source",Vb={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(e,r){return{offsetX:(e[0]+e[1])/2>.5?-4:4,content:r}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(e){return!(0,S.U2)(e,[0,"data","isNode"])},formatter:function(e){return{name:e.source+" -> "+e.target,value:e.value}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function ih(e){var r=e.options,d=r.rawFields,p=void 0===d?[]:d,x=function Ub(e,r){var t=function Wb(e){return(0,S.f0)({},iv,e)}(e),n={},i=r.nodes,l=r.links;i.forEach(function(d){var p=t.id(d);n[p]=d}),function Ex(e,r,t){(0,S.U5)(e,function(n,i){n.inEdges=r.filter(function(l){return""+t.target(l)==""+i}),n.outEdges=r.filter(function(l){return""+t.source(l)==""+i}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(l){n.value+=t.targetWeight(l)}),n.outEdges.forEach(function(l){n.value+=t.sourceWeight(l)})})}(n,l,t),function FD(e,r){var n={weight:function(i,l){return l.value-i.value},frequency:function(i,l){return l.frequency-i.frequency},id:function(i,l){return(""+r.id(i)).localeCompare(""+r.id(l))}}[r.sortBy];!n&&(0,S.mf)(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}(i,t);var c=function Lx(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=n/(2*t),l=r.nodeWidthRatio;if(l<=0||l>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var c=0;e.forEach(function(d){c+=d.value}),e.forEach(function(d){d.weight=d.value/c,d.width=d.weight*(1-n),d.height=l}),e.forEach(function(d,p){for(var m=0,x=p-1;x>=0;x--)m+=e[x].width+2*i;var _=d.minX=i+m,T=d.maxX=d.minX+d.width,b=d.minY=r.y-l/2,I=d.maxY=b+l;d.x=[_,T,T,_],d.y=[b,b,I,I]})}else{var f=1/t;e.forEach(function(d,p){d.x=(p+.5)*f,d.y=r.y})}return e}(i,t),f=function Yb(e,r,t){if(t.weight){var n={};(0,S.U5)(e,function(i,l){n[l]=i.value}),r.forEach(function(i){var l=t.source(i),c=t.target(i),f=e[l],d=e[c];if(f&&d){var p=n[l],m=t.sourceWeight(i),x=f.minX+(f.value-p)/f.value*f.width,_=x+m/f.value*f.width;n[l]-=m;var T=n[c],b=t.targetWeight(i),I=d.minX+(d.value-T)/d.value*d.width,F=I+b/d.value*d.width;n[c]-=b;var B=t.y;i.x=[x,_,I,F],i.y=[B,B,B,B],i.source=f,i.target=d}})}else r.forEach(function(i){var l=e[t.source(i)],c=e[t.target(i)];l&&c&&(i.x=[l.x,c.x],i.y=[l.y,c.y],i.source=l,i.target=c)});return r}(n,l,t);return{nodes:c,links:f}}({weight:!0,nodePaddingRatio:r.nodePaddingRatio,nodeWidthRatio:r.nodeWidthRatio},_T(r.data,r.sourceField,r.targetField,r.weightField)),T=x.links,b=x.nodes.map(function(F){return(0,E.pi)((0,E.pi)({},Kr(F,(0,E.pr)(["id","x","y","name"],p))),{isNode:!0})}),I=T.map(function(F){return(0,E.pi)((0,E.pi)({source:F.source.name,target:F.target.name,name:F.source.name||F.target.name},Kr(F,(0,E.pr)(["x","y","value"],p))),{isNode:!1})});return(0,E.pi)((0,E.pi)({},e),{ext:(0,E.pi)((0,E.pi)({},e.ext),{chordData:{nodesData:b,edgesData:I}})})}function Ix(e){var r;return e.chart.scale(((r={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[Hu]={sync:"color"},r[s0]={sync:"color"},r)),e}function $b(e){return e.chart.axis(!1),e}function Zb(e){return e.chart.legend(!1),e}function qb(e){return e.chart.tooltip(e.options.tooltip),e}function Kb(e){return e.chart.coordinate("polar").reflect("y"),e}function DD(e){var t=e.options,n=e.ext.chordData.nodesData,i=t.nodeStyle,l=t.label,c=t.tooltip,f=e.chart.createView();return f.data(n),Vp({chart:f,options:{xField:Xb,yField:av,seriesField:Hu,polygon:{style:i},label:l,tooltip:c}}),e}function BD(e){var t=e.options,n=e.ext.chordData.edgesData,i=t.edgeStyle,l=t.tooltip,c=e.chart.createView();return c.data(n),PT({chart:c,options:{xField:Xb,yField:av,seriesField:s0,edge:{style:i,shape:"arc"},tooltip:l}}),e}function PD(e){var r=e.chart;return Uf(r,e.options.animation,function PF(e){return(0,S.U2)(e,["views","length"],0)<=0?e.geometries:(0,S.u4)(e.views,function(r,t){return r.concat(t.geometries)},e.geometries)}(r)),e}function kD(e){return Cr(Qr,ih,Kb,Ix,$b,Zb,qb,BD,DD,An,gl,PD)(e)}var Qb=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="chord",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Vb},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return kD},r}(Fr),zD=["x","y","r","name","value","path","depth"],ND={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},Jb="drilldown-bread-crumb",l0={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},sv="hierarchy-data-transform-params",Sl=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=l0,t}return(0,E.ZT)(r,e),r.prototype.click=function(){var t=(0,S.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},r.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,i=n.getBBox(),l=this.getButtonCfg().position,c={x:t.start.x,y:t.end.y-(i.height+10)};t.isPolar&&(c={x:0,y:0}),"bottom-left"===l&&(c={x:t.start.x,y:t.start.y});var f=va.transform(null,[["t",c.x+0,c.y+i.height+5]]);n.setMatrix(f)}},r.prototype.back=function(){(0,S.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},r.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},r.prototype.drill=function(t){var n=this.context.view,i=(0,S.U2)(n,["interactions","drill-down","cfg","transformData"],function(p){return p}),l=i((0,E.pi)({data:t.data},t[sv]));n.changeData(l);for(var c=[],f=t;f;){var d=f.data;c.unshift({id:d.name+"_"+f.height+"_"+f.depth,name:d.name,children:i((0,E.pi)({data:d},t[sv]))}),f=f.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(c)},r.prototype.backTo=function(t){if(t&&!(t.length<=0)){var n=this.context.view,i=(0,S.Z$)(t).children;n.changeData(i),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},r.prototype.getButtonCfg=function(){var n=(0,S.U2)(this.context.view,["interactions","drill-down","cfg","drillDownConfig"]);return xe(this.breadCrumbCfg,n?.breadCrumb,this.cfg)},r.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},r.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Jb});var l=0;i.forEach(function(c,f){var d=t.breadCrumbGroup.addShape({type:"text",id:c.id,name:Jb+"_"+c.name+"_text",attrs:(0,E.pi)((0,E.pi)({text:0!==f||(0,S.UM)(n.rootText)?c.name:n.rootText},n.textStyle),{x:l,y:0})}),p=d.getBBox();if(l+=p.width+4,d.on("click",function(_){var T,b=_.target.get("id");if(b!==(null===(T=(0,S.Z$)(i))||void 0===T?void 0:T.id)){var I=i.slice(0,i.findIndex(function(F){return F.id===b})+1);t.backTo(I)}}),d.on("mouseenter",function(_){var T;_.target.get("id")!==(null===(T=(0,S.Z$)(i))||void 0===T?void 0:T.id)?d.attr(n.activeTextStyle):d.attr({cursor:"default"})}),d.on("mouseleave",function(){d.attr(n.textStyle)}),f<i.length-1){var x=t.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+c.name+"_divider",attrs:(0,E.pi)((0,E.pi)({text:n.dividerText},n.textStyle),{x:l,y:0})}).getBBox();l+=x.width+4}})},r.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},r.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),e.prototype.destroy.call(this)},r}(wn);function tA(e){for(var i,l,r=0,t=(e=function jb(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,n=[];r<t;)i=e[r],l&&eA(l,i)?++r:(l=YD(n=GD(n,i)),r=0);return l}function GD(e,r){var t,n;if(c0(r,e))return[r];for(t=0;t<e.length;++t)if(u0(r,e[t])&&c0(lv(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(u0(lv(e[t],e[n]),r)&&u0(lv(e[t],r),e[n])&&u0(lv(e[n],r),e[t])&&c0(Fx(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function u0(e,r){var t=e.r-r.r,n=r.x-e.x,i=r.y-e.y;return t<0||t*t<n*n+i*i}function eA(e,r){var t=e.r-r.r+1e-9*Math.max(e.r,r.r,1),n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function c0(e,r){for(var t=0;t<r.length;++t)if(!eA(e,r[t]))return!1;return!0}function YD(e){switch(e.length){case 1:return function WD(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return lv(e[0],e[1]);case 3:return Fx(e[0],e[1],e[2])}}function lv(e,r){var t=e.x,n=e.y,i=e.r,l=r.x,c=r.y,f=r.r,d=l-t,p=c-n,m=f-i,x=Math.sqrt(d*d+p*p);return{x:(t+l+d/x*m)/2,y:(n+c+p/x*m)/2,r:(x+i+f)/2}}function Fx(e,r,t){var n=e.x,i=e.y,l=e.r,c=r.x,f=r.y,d=r.r,p=t.x,m=t.y,x=t.r,_=n-c,T=n-p,b=i-f,I=i-m,F=d-l,B=x-l,Y=n*n+i*i-l*l,G=Y-c*c-f*f+d*d,H=Y-p*p-m*m+x*x,et=T*b-_*I,wt=(b*H-I*G)/(2*et)-n,Ot=(I*F-b*B)/et,$t=(T*G-_*H)/(2*et)-i,ge=(_*B-T*F)/et,le=Ot*Ot+ge*ge-1,Se=2*(l+wt*Ot+$t*ge),Pe=wt*wt+$t*$t-l*l,or=-(le?(Se+Math.sqrt(Se*Se-4*le*Pe))/(2*le):Pe/Se);return{x:n+wt+Ot*or,y:i+$t+ge*or,r:or}}function rA(e,r,t){var i,l,f,d,n=e.x-r.x,c=e.y-r.y,p=n*n+c*c;p?(l=r.r+t.r,d=e.r+t.r,(l*=l)>(d*=d)?(i=(p+d-l)/(2*p),f=Math.sqrt(Math.max(0,d/p-i*i)),t.x=e.x-i*n-f*c,t.y=e.y-i*c+f*n):(i=(p+l-d)/(2*p),f=Math.sqrt(Math.max(0,l/p-i*i)),t.x=r.x+i*n-f*c,t.y=r.y+i*c+f*n)):(t.x=r.x+t.r,t.y=r.y)}function nA(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function iA(e){var r=e._,t=e.next._,n=r.r+t.r,i=(r.x*t.r+t.x*r.r)/n,l=(r.y*t.r+t.y*r.r)/n;return i*i+l*l}function h0(e){this._=e,this.next=null,this.previous=null}function Dx(e){if(!(i=(e=function HD(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var r,t,n,i,l,c,f,d,p,m,x;if((r=e[0]).x=0,r.y=0,!(i>1))return r.r;if(r.x=-(t=e[1]).r,t.x=r.r,t.y=0,!(i>2))return r.r+t.r;rA(t,r,n=e[2]),r=new h0(r),t=new h0(t),n=new h0(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(f=3;f<i;++f){rA(r._,t._,n=e[f]),n=new h0(n),d=t.next,p=r.previous,m=t._.r,x=r._.r;do{if(m<=x){if(nA(d._,n._)){r.next=t=d,t.previous=r,--f;continue t}m+=d._.r,d=d.next}else{if(nA(p._,n._)){(r=p).next=t,t.previous=r,--f;continue t}x+=p._.r,p=p.previous}}while(d!==p.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,l=iA(r);(n=n.next)!==t;)(c=iA(n))<l&&(r=n,l=c);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=tA(r),f=0;f<i;++f)(r=e[f]).x-=n.x,r.y-=n.y;return n.r}function UD(e){return Dx(e),e}function uv(e){if("function"!=typeof e)throw new Error;return e}function qo(){return 0}function ah(e){return function(){return e}}function aA(e){return Math.sqrt(e.value)}function oA(){var e=null,r=1,t=1,n=qo;function i(l){return l.x=r/2,l.y=t/2,e?l.eachBefore(Bx(e)).eachAfter(Px(n,.5)).eachBefore(f0(1)):l.eachBefore(Bx(aA)).eachAfter(Px(qo,1)).eachAfter(Px(n,l.r/Math.min(r,t))).eachBefore(f0(Math.min(r,t)/(2*l.r))),l}return i.radius=function(l){return arguments.length?(e=function XD(e){return null==e?null:uv(e)}(l),i):e},i.size=function(l){return arguments.length?(r=+l[0],t=+l[1],i):[r,t]},i.padding=function(l){return arguments.length?(n="function"==typeof l?l:ah(+l),i):n},i}function Bx(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function Px(e,r){return function(t){if(n=t.children){var n,i,f,l=n.length,c=e(t)*r||0;if(c)for(i=0;i<l;++i)n[i].r+=c;if(f=Dx(n),c)for(i=0;i<l;++i)n[i].r-=c;t.r=f+c}}}function f0(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function sA(e){var r=0,t=e.children,n=t&&t.length;if(n)for(;--n>=0;)r+=t[n].value;else r=1;e.value=r}function oh(e,r){e instanceof Map?(e=[void 0,e],void 0===r&&(r=Nx)):void 0===r&&(r=jD);for(var n,l,c,f,d,t=new Pa(e),i=[t];n=i.pop();)if((c=r(n.data))&&(d=(c=Array.from(c)).length))for(n.children=c,f=d-1;f>=0;--f)i.push(l=c[f]=new Pa(c[f])),l.parent=n,l.depth=n.depth+1;return t.eachBefore(Gu)}function jD(e){return e.children}function Nx(e){return Array.isArray(e)?e[1]:null}function uA(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Gu(e){var r=0;do{e.height=r}while((e=e.parent)&&e.height<++r)}function Pa(e){this.data=e,this.depth=this.height=0,this.parent=null}Pa.prototype=oh.prototype={constructor:Pa,count:function v0(){return this.eachAfter(sA)},each:function xo(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this},eachAfter:function kx(e,r){for(var l,c,f,t=this,n=[t],i=[],d=-1;t=n.pop();)if(i.push(t),l=t.children)for(c=0,f=l.length;c<f;++c)n.push(l[c]);for(;t=i.pop();)e.call(r,t,++d,this);return this},eachBefore:function VD(e,r){for(var i,l,t=this,n=[t],c=-1;t=n.pop();)if(e.call(r,t,++c,this),i=t.children)for(l=i.length-1;l>=0;--l)n.push(i[l]);return this},find:function $D(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n},sum:function E7(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,i=n&&n.length;--i>=0;)t+=n[i].value;r.value=t})},sort:function ZD(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})},path:function qD(e){for(var r=this,t=function KD(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),i=null;for(e=t.pop(),r=n.pop();e===r;)i=e,e=t.pop(),r=n.pop();return i}(r,e),n=[r];r!==t;)n.push(r=r.parent);for(var i=n.length;e!==t;)n.splice(i,0,e),e=e.parent;return n},ancestors:function L7(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r},descendants:function zx(){return Array.from(this)},leaves:function lA(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e},links:function QD(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r},copy:function Is(){return oh(this).eachBefore(uA)},[Symbol.iterator]:function*JD(){var r,n,i,l,e=this,t=[e];do{for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(i=0,l=n.length;i<l;++i)t.push(n[i])}while(t.length)}};var d0="nodeIndex",cv="childNodeCount",sh="nodeAncestor",hv="Invalid field: it must be a string!";function p0(e,r){var t=e.field,n=e.fields;if((0,S.HD)(t))return t;if((0,S.kJ)(t))return console.warn(hv),t[0];if(console.warn(hv+" will try to get fields instead."),(0,S.HD)(n))return n;if((0,S.kJ)(n)&&n.length)return n[0];if(r)return r;throw new TypeError(hv)}function Co(e){var t,n,r=[];return e&&e.each?e.each(function(i){var l,c;i.parent!==t?(t=i.parent,n=0):n+=1;var f=(0,S.hX)(((null===(l=i.ancestors)||void 0===l?void 0:l.call(i))||[]).map(function(d){return r.find(function(p){return p.name===d.name})||d}),function(d){var p=d.depth;return p>0&&p<i.depth});i[sh]=f,i[cv]=(null===(c=i.children)||void 0===c?void 0:c.length)||0,i[d0]=n,r.push(i)}):e&&e.eachNode&&e.eachNode(function(i){r.push(i)}),r}var Ur={field:"value",as:["x","y","r"],sort:function(e,r){return r.value-e.value}};function Os(e){var t=e.hierarchyConfig,n=e.rawFields,i=void 0===n?[]:n,l=e.enableDrillDown,c=function g0(e,r){var n,t=(r=(0,S.f0)({},Ur,r)).as;if(!(0,S.kJ)(t)||3!==t.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=p0(r)}catch(p){console.warn(p)}var p,l=(p=e,oA().size(r.size).padding(r.padding)(oh(p).sum(function(m){return m[n]}).sort(r.sort))),c=t[0],f=t[1],d=t[2];return l.each(function(p){p[c]=p.x,p[f]=p.y,p[d]=p.r}),Co(l)}(e.data,(0,E.pi)((0,E.pi)({},t),{field:"value",as:["x","y","r"]})),f=[];return c.forEach(function(d){for(var p,m=d.data.name,x=(0,E.pi)({},d);x.depth>1;)m=(null===(p=x.parent.data)||void 0===p?void 0:p.name)+" / "+m,x=x.parent;if(l&&d.depth>2)return null;var _=xe({},d.data,(0,E.pi)((0,E.pi)((0,E.pi)({},Kr(d.data,i)),{path:m}),d));_.ext=t,_[sv]={hierarchyConfig:t,rawFields:i,enableDrillDown:l},f.push(_)}),f}function Hx(e,r,t){var n=z1([e,r]),i=n[0],l=n[1],c=n[2],f=n[3],m=t.width-(f+l),x=t.height-(i+c),_=Math.min(m,x),T=(m-_)/2,b=(x-_)/2;return{finalPadding:[i+b,l+T,c+b,f+T],finalSize:_<0?0:_}}function cA(e){var r=e.chart,t=Math.min(r.viewBBox.width,r.viewBBox.height);return xe({options:{size:function(n){return n.r*t}}},e)}function hA(e){var r=e.options,t=e.chart,n=t.viewBBox,i=r.padding,l=r.appendPadding,c=r.drilldown,f=l;c?.enabled&&(f=z1([Gp(t.appendPadding,(0,S.U2)(c,["breadCrumb","position"])),l]));var p=Hx(i,f,n).finalPadding;return t.padding=p,t.appendPadding=0,e}function $i(e){var r=e.chart,t=e.options,n=r.padding,i=r.appendPadding,l=t.color,c=t.colorField,f=t.pointStyle,p=t.sizeField,m=t.rawFields,x=void 0===m?[]:m,T=Os({data:t.data,hierarchyConfig:t.hierarchyConfig,enableDrillDown:t.drilldown?.enabled,rawFields:x});r.data(T);var I=Hx(n,i,r.viewBBox).finalSize,F=function(B){return B.r*I};return p&&(F=function(B){return B[p]*I}),Fa(xe({},e,{options:{xField:"x",yField:"y",seriesField:c,sizeField:p,rawFields:(0,E.pr)(zD,x),point:{color:l,style:f,shape:"circle",size:F}}})),e}function yi(e){return Cr(zn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(e)}function tB(e){var r=e.chart,n=e.options.tooltip;if(!1===n)r.tooltip(!1);else{var i=n;(0,S.U2)(n,"fields")||(i=xe({},{customItems:function(l){return l.map(function(c){var f=(0,S.U2)(r.getOptions(),"scales"),d=(0,S.U2)(f,["name","formatter"],function(m){return m}),p=(0,S.U2)(f,["value","formatter"],function(m){return m});return(0,E.pi)((0,E.pi)({},c),{name:d(c.data.name),value:p(c.data.value)})})}},i)),r.tooltip(i)}return e}function eB(e){return e.chart.axis(!1),e}function rB(e){var r=e.drilldown,t=e.interactions;return r?.enabled?xe({},e,{interactions:(0,E.pr)(void 0===t?[]:t,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Os,enableDrillDown:!0}}])}):e}function fA(e){return An({chart:e.chart,options:rB(e.options)}),e}function wo(e){return Cr(Ra("pointStyle"),cA,hA,Qr,yi,$i,eB,Iu,tB,fA,hn,En())(e)}function Dr(e){var r=(0,S.U2)(e,["event","data","data"],{});return(0,S.kJ)(r.children)&&r.children.length>0}function vA(e){var r=e.view.getCoordinate(),t=r.innerRadius;if(t){var n=e.event,i=n.x,l=n.y,c=r.center,f=c.x,d=c.y,p=r.getRadius()*t;return Math.sqrt(Math.pow(f-i,2)+Math.pow(d-l,2))<p}return!1}ur("drill-down-action",Sl),Er("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:Dr},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:vA}],start:[{trigger:"element:click",isEnable:Dr,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:vA,action:["drill-down-action:back"]}]}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle-packing",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return ND},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return wo},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Fr);var ea="left-axes-view",De="right-axes-view",Ei={nice:!0,label:{autoHide:!0,autoRotate:!1}},wa=(0,E.pi)((0,E.pi)({},Ei),{position:"left"}),fv=(0,E.pi)((0,E.pi)({},Ei),{position:"right",grid:null}),Ko=(()=>(function(e){e.Left="Left",e.Right="Right"}(Ko||(Ko={})),Ko))(),Ml=(()=>(function(e){e.Line="line",e.Column="column"}(Ml||(Ml={})),Ml))();function bn(e){return(0,S.U2)(e,"geometry")===Ml.Line}function wr(e){return(0,S.U2)(e,"geometry")===Ml.Column}function _o(e,r,t){return wr(t)?xe({},{geometry:Ml.Column,label:t.label&&t.isRange?{content:function(n){var i;return null===(i=n[r])||void 0===i?void 0:i.join("-")}}:void 0},t):(0,E.pi)({geometry:Ml.Line},t)}function vv(e,r){var t=e[0],n=e[1];return(0,S.kJ)(r)?[r[0],r[1]]:[(0,S.U2)(r,t),(0,S.U2)(r,n)]}function dv(e,r){return r===Ko.Left?!1!==e&&xe({},wa,e):r===Ko.Right?!1!==e&&xe({},fv,e):e}function Gx(e){var r=e.view,t=e.geometryOption,n=e.yField,l=(0,S.U2)(e.legend,"marker"),c=vi(r,bn(t)?"line":"interval");if(!t.seriesField){var f=(0,S.U2)(r,"options.scales."+n+".alias")||n,d=c.getAttribute("color"),p=r.getTheme().defaultColor;return d&&(p=va.getMappingValue(d,f,(0,S.U2)(d,["values",0],p))),[{value:n,name:f,marker:((0,S.mf)(l)?l:!(0,S.xb)(l)&&xe({},{style:{stroke:p,fill:p}},l))||(bn(t)?{symbol:function(_,T,b){return[["M",_-b,T],["L",_+b,T]]},style:{lineWidth:2,r:6,stroke:p}}:{symbol:"square",style:{fill:p}}),isGeometry:!0,viewId:r.id}]}var x=c.getGroupAttributes();return(0,S.u4)(x,function(_,T){var b=va.getLegendItems(r,c,T,r.getTheme(),l);return _.concat(b)},[])}var Rs=function(e,r){var t=r[0],n=r[1],i=e.getOptions().data,l=e.getXScale(),c=(0,S.dp)(i);if(l&&c){var p=(0,S.I)(i,l.field),m=(0,S.dp)(p),x=Math.floor(t*(m-1)),_=Math.floor(n*(m-1));e.filter(l.field,function(T){var b=p.indexOf(T);return!(b>-1)||function zF(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}(b,x,_)}),e.getRootView().render(!0)}};function dA(e){var r,t=e.options,n=t.geometryOptions,i=void 0===n?[]:n,l=t.xField,c=t.yField,f=(0,S.yW)(i,function(d){var p=d.geometry;return p===Ml.Line||void 0===p});return xe({},{options:{geometryOptions:[],meta:(r={},r[l]={type:"cat",sync:!0,range:f?[0,1]:void 0},r),tooltip:{showMarkers:f,showCrosshairs:f,shared:!0,crosshairs:{type:"x"}},interactions:f?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},e,{options:{yAxis:vv(c,t.yAxis),geometryOptions:[_o(0,c[0],i[0]),_o(0,c[1],i[1])],annotations:vv(c,t.annotations)}})}function pA(e){var r,t,n=e.chart,l=e.options.geometryOptions,c={line:0,column:1};return[{type:null===(r=l[0])||void 0===r?void 0:r.geometry,id:ea},{type:null===(t=l[1])||void 0===t?void 0:t.geometry,id:De}].sort(function(d,p){return-c[d.type]+c[p.type]}).forEach(function(d){return n.createView({id:d.id})}),e}function gA(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,l=t.geometryOptions,c=t.data,f=t.tooltip;return[(0,E.pi)((0,E.pi)({},l[0]),{id:ea,data:c[0],yField:i[0]}),(0,E.pi)((0,E.pi)({},l[1]),{id:De,data:c[1],yField:i[1]})].forEach(function(p){var m=p.id,x=p.data,_=p.yField,T=wr(p)&&p.isPercent,b=T?zT(x,_,n,_):x,I=Br(r,m).data(b),F=T?(0,E.pi)({formatter:function(B){return{name:B[p.seriesField]||_,value:(100*Number(B[_])).toFixed(2)+"%"}}},f):f;!function So(e){var r=e.options,t=e.chart,n=r.geometryOption,i=n.isStack,l=n.color,c=n.seriesField,f=n.groupField,d=n.isGroup,p=["xField","yField"];if(bn(n)){Zc(xe({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},Kr(r,p)),n),{line:{color:n.color,style:n.lineStyle}})})),Fa(xe({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},Kr(r,p)),n),{point:n.point&&(0,E.pi)({color:l,shape:"circle"},n.point)})}));var m=[];d&&m.push({type:"dodge",dodgeBy:f||c,customOffset:0}),i&&m.push({type:"stack"}),m.length&&(0,S.S6)(t.geometries,function(x){x.adjust(m)})}wr(n)&&$o(xe({},e,{options:(0,E.pi)((0,E.pi)((0,E.pi)({},Kr(r,p)),n),{widthRatio:n.columnWidthRatio,interval:(0,E.pi)((0,E.pi)({},Kr(n,["color"])),{style:n.columnStyle})})}))}({chart:I,options:{xField:n,yField:_,tooltip:F,geometryOption:p}})}),e}function Yx(e){var r,t=e.chart,i=e.options.geometryOptions,l=(null===(r=t.getTheme())||void 0===r?void 0:r.colors10)||[],c=0;return t.once("beforepaint",function(){(0,S.S6)(i,function(f,d){var p=Br(t,0===d?ea:De);if(!f.color){var m=p.getGroupScales(),x=(0,S.U2)(m,[0,"values","length"],1),_=l.slice(c,c+x).concat(0===d?[]:l);p.geometries.forEach(function(T){f.seriesField?T.color(f.seriesField,_):T.color(_[0])}),c+=x}}),t.render(!0)}),e}function Tl(e){var r,t,n=e.chart,i=e.options,l=i.xAxis,c=i.yAxis,f=i.xField,d=i.yField;return zn(((r={})[f]=l,r[d[0]]=c[0],r))(xe({},e,{chart:Br(n,ea)})),zn(((t={})[f]=l,t[d[1]]=c[1],t))(xe({},e,{chart:Br(n,De)})),e}function yA(e){var r=e.chart,t=e.options,n=Br(r,ea),i=Br(r,De),l=t.xField,c=t.yField,f=t.xAxis,d=t.yAxis;return r.axis(l,!1),r.axis(c[0],!1),r.axis(c[1],!1),n.axis(l,f),n.axis(c[0],dv(d[0],Ko.Left)),i.axis(l,!1),i.axis(c[1],dv(d[1],Ko.Right)),e}function Wx(e){var r=e.chart,n=e.options.tooltip,i=Br(r,ea),l=Br(r,De);return r.tooltip(n),i.tooltip({shared:!0}),l.tooltip({shared:!0}),e}function nB(e){var r=e.chart;return An(xe({},e,{chart:Br(r,ea)})),An(xe({},e,{chart:Br(r,De)})),e}function iB(e){var r=e.chart,n=e.options.annotations,i=(0,S.U2)(n,[0]),l=(0,S.U2)(n,[1]);return En(i)(xe({},e,{chart:Br(r,ea),options:{annotations:i}})),En(l)(xe({},e,{chart:Br(r,De),options:{annotations:l}})),e}function lh(e){var r=e.chart;return Qr(xe({},e,{chart:Br(r,ea)})),Qr(xe({},e,{chart:Br(r,De)})),Qr(e),e}function y0(e){var r=e.chart;return hn(xe({},e,{chart:Br(r,ea)})),hn(xe({},e,{chart:Br(r,De)})),e}function mA(e){var r=e.chart,n=e.options.yAxis;return Ou(xe({},e,{chart:Br(r,ea),options:{yAxis:n[0]}})),Ou(xe({},e,{chart:Br(r,De),options:{yAxis:n[1]}})),e}function Ux(e){var r=e.chart,t=e.options,n=t.legend,i=t.geometryOptions,l=t.yField,c=t.data,f=Br(r,ea),d=Br(r,De);if(!1===n)r.legend(!1);else if((0,S.Kn)(n)&&!0===n.custom)r.legend(n);else{var p=(0,S.U2)(i,[0,"legend"],n),m=(0,S.U2)(i,[1,"legend"],n);r.once("beforepaint",function(){var x=c[0].length?Gx({view:f,geometryOption:i[0],yField:l[0],legend:p}):[],_=c[1].length?Gx({view:d,geometryOption:i[1],yField:l[1],legend:m}):[];r.legend(xe({},n,{custom:!0,items:x.concat(_)}))}),i[0].seriesField&&f.legend(i[0].seriesField,p),i[1].seriesField&&d.legend(i[1].seriesField,m),r.on("legend-item:click",function(x){var _=(0,S.U2)(x,"gEvent.delegateObject",{});if(_&&_.item){var T=_.item,b=T.value,F=T.viewId;if(T.isGeometry){if((0,S.cx)(l,function(H){return H===b})>-1){var Y=(0,S.U2)(Br(r,F),"geometries");(0,S.S6)(Y,function(H){H.changeVisible(!_.item.unchecked)})}}else{var G=(0,S.U2)(r.getController("legend"),"option.items",[]);(0,S.S6)(r.views,function(H){var et=H.getGroupScales();(0,S.S6)(et,function(wt){wt.values&&wt.values.indexOf(b)>-1&&H.filter(wt.field,function(Ot){return!(0,S.sE)(G,function(ge){return ge.value===Ot}).unchecked})}),r.render(!0)})}}})}return e}function xA(e){var r=e.chart,n=e.options.slider,i=Br(r,ea),l=Br(r,De);return n&&(i.option("slider",n),i.on("slider:valuechanged",function(c){var f=c.event,d=f.value;(0,S.Xy)(d,f.originValue)||Rs(l,d)}),r.once("afterpaint",function(){if(!(0,S.jn)(n)){var c=n.start,f=n.end;(c||f)&&Rs(l,[c,f])}})),e}function aB(e){return Cr(dA,pA,lh,gA,Tl,yA,mA,Wx,nB,iB,y0,Yx,Ux,xA)(e)}function sB(e){var r=e.chart,t=e.options,n=t.type,i=t.data,l=t.fields,c=t.eachView,f=(0,S.CE)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return r.data(i),r.facet(n,(0,E.pi)((0,E.pi)({},f),{fields:l,eachView:function(d,p){var m=c(d,p);if(m.geometries)!function oB(e,r){var t=r.data,n=r.coordinate,i=r.interactions,l=r.annotations,c=r.animation,f=r.tooltip,d=r.axes,p=r.meta,m=r.geometries;t&&e.data(t);var x={};d&&(0,S.S6)(d,function(_,T){x[T]=Kr(_,ya)}),x=xe({},p,x),e.scale(x),n&&e.coordinate(n),!1===d?e.axis(!1):(0,S.S6)(d,function(_,T){e.axis(T,_)}),(0,S.S6)(m,function(_){var T=ma({chart:e,options:_}).ext,b=_.adjust;b&&T.geometry.adjust(b)}),(0,S.S6)(i,function(_){!1===_.enable?e.removeInteraction(_.type):e.interaction(_.type,_.cfg)}),(0,S.S6)(l,function(_){e.annotation()[_.type]((0,E.pi)({},_))}),Uf(e,c),f?(e.interaction("tooltip"),e.tooltip(f)):!1===f&&e.removeInteraction("tooltip")}(d,m);else{var x=m,_=x.options;_.tooltip&&d.interaction("tooltip"),_x(x.type,d,_)}}})),e}function lB(e){var r=e.chart,t=e.options,n=t.axes,i=t.meta,l=t.tooltip,c=t.coordinate,f=t.theme,d=t.legend,p=t.interactions,m=t.annotations,x={};return n&&(0,S.S6)(n,function(_,T){x[T]=Kr(_,ya)}),x=xe({},i,x),r.scale(x),r.coordinate(c),n?(0,S.S6)(n,function(_,T){r.axis(T,_)}):r.axis(!1),l?(r.interaction("tooltip"),r.tooltip(l)):!1===l&&r.removeInteraction("tooltip"),r.legend(d),f&&r.theme(f),(0,S.S6)(p,function(_){!1===_.enable?r.removeInteraction(_.type):r.interaction(_.type,_.cfg)}),(0,S.S6)(m,function(_){r.annotation()[_.type]((0,E.pi)({},_))}),e}function uB(e){return Cr(Qr,sB,lB)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dual-axes",t}(0,E.ZT)(r,e),r.prototype.getDefaultOptions=function(){return xe({},e.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},r.prototype.getSchemaAdaptor=function(){return aB}}(Fr);var cB={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};function hB(e){var r=e.chart,t=e.options,n=t.data,i=t.type,l=t.xField,c=t.yField,f=t.colorField,d=t.sizeField,p=t.sizeRatio,m=t.shape,x=t.color,_=t.tooltip,T=t.heatmapStyle,b=t.meta;r.data(n);var I="polygon";"density"===i&&(I="heatmap");var F=Qa(_,[l,c,f]),B=F.fields,Y=F.formatter,G=1;return(p||0===p)&&(m||d?p<0||p>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):G=p:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),ma(xe({},e,{options:{type:I,colorField:f,tooltipFields:B,shapeField:d||"",label:void 0,mapping:{tooltip:Y,shape:m&&(d?function(H){var et=n.map(function(ge){return ge[d]}),wt=b?.[d]||{},Ot=wt.min,$t=wt.max;return Ot=(0,S.hj)(Ot)?Ot:Math.min.apply(Math,et),$t=(0,S.hj)($t)?$t:Math.max.apply(Math,et),[m,((0,S.U2)(H,d)-Ot)/($t-Ot),G]}:function(){return[m,1,G]}),color:x||f&&r.getTheme().sequenceColors.join("-"),style:T}}})),e}function fB(e){var r,t=e.options,i=t.yAxis,c=t.yField;return Cr(zn(((r={})[t.xField]=t.xAxis,r[c]=i,r)))(e)}function vB(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,c=t.yField;return r.axis(t.xField,!1!==n&&n),r.axis(c,!1!==i&&i),e}function dB(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,l=t.sizeField,c=t.sizeLegend,f=!1!==n;return i&&r.legend(i,!!f&&n),l&&r.legend(l,void 0===c?n:c),!f&&!c&&r.legend(!1),e}function pB(e){var t=e.options,n=t.label,i=t.colorField,c=vi(e.chart,"density"===t.type?"heatmap":"polygon");if(n){if(i){var f=n.callback,d=(0,E._T)(n,["callback"]);c.label({fields:[i],callback:f,cfg:di(d)})}}else c.label(!1);return e}function gB(e){var r,t,n=e.chart,i=e.options,c=i.reflect,f=xe({actions:[]},i.coordinate??{type:"rect"});return c&&(null===(t=null===(r=f.actions)||void 0===r?void 0:r.push)||void 0===t||t.call(r,["reflect",c])),n.coordinate(f),e}function yB(e){return Cr(Qr,Ra("heatmapStyle"),fB,gB,hB,vB,dB,ti,pB,En(),An,hn,gl)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="area",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return cB},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return uB}}(Fr);var CA=xe({},Fr.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});rn("polygon","circle",{draw:function(e,r){var t,n,i=e.x,l=e.y,c=this.parsePoints(e.points),f=Math.abs(c[2].x-c[1].x),d=Math.abs(c[1].y-c[0].y),p=Math.min(f,d)/2,m=Number(e.shape[1]),x=Number(e.shape[2]),T=p*Math.sqrt(x)*Math.sqrt(m),b=(null===(t=e.style)||void 0===t?void 0:t.fill)||e.color||(null===(n=e.defaultStyle)||void 0===n?void 0:n.fill);return r.addShape("circle",{attrs:(0,E.pi)((0,E.pi)((0,E.pi)({x:i,y:l,r:T},e.defaultStyle),e.style),{fill:b})})}}),rn("polygon","square",{draw:function(e,r){var t,n,i=e.x,l=e.y,c=this.parsePoints(e.points),f=Math.abs(c[2].x-c[1].x),d=Math.abs(c[1].y-c[0].y),p=Math.min(f,d),m=Number(e.shape[1]),x=Number(e.shape[2]),T=p*Math.sqrt(x)*Math.sqrt(m),b=(null===(t=e.style)||void 0===t?void 0:t.fill)||e.color||(null===(n=e.defaultStyle)||void 0===n?void 0:n.fill);return r.addShape("rect",{attrs:(0,E.pi)((0,E.pi)((0,E.pi)({x:i-T/2,y:l-T/2,width:T,height:T},e.defaultStyle),e.style),{fill:b})})}}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="heatmap",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return CA},r.prototype.getSchemaAdaptor=function(){return yB},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()}}(Fr);var mB="liquid";function wA(e){return[{percent:e,type:mB}]}function xB(e){var r=e.chart,t=e.options,n=t.percent,i=t.liquidStyle,l=t.radius,c=t.outline,f=t.wave,d=t.shape,p=t.shapeStyle,m=t.animation;r.scale({percent:{min:0,max:1}}),r.data(wA(n));var x=t.color||r.getTheme().defaultColor,b=pi(xe({},e,{options:{xField:"type",yField:"percent",widthRatio:l,interval:{color:x,style:i,shape:"liquid-fill-gauge"}}})).ext.geometry,I=r.getTheme().background;return b.customInfo({percent:n,radius:l,outline:c,wave:f,shape:d,shapeStyle:p,background:I,animation:m}),r.legend(!1),r.axis(!1),r.tooltip(!1),e}function Xx(e,r){var t=e.chart,n=e.options,i=n.statistic,l=n.percent,c=n.meta;t.getController("annotation").clear(!0);var f=(0,S.U2)(c,["percent","formatter"])||function(p){return(100*p).toFixed(2)+"%"},d=i.content;return d&&(d=xe({},d,{content:(0,S.UM)(d.content)?f(l):d.content})),Yp(t,{statistic:(0,E.pi)((0,E.pi)({},i),{content:d}),plotType:"liquid"},{percent:l}),r&&t.render(!0),e}function CB(e){return Cr(Qr,Ra("liquidStyle"),xB,Xx,zn({}),hn,An)(e)}var wB={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function SA(e,r,t){return e+(r-e)*t}function MB(e,r,t,n){return 0===r?[[e+.5*t/Math.PI/2,n/2],[e+.5*t/Math.PI,n],[e+t/4,n]]:1===r?[[e+.5*t/Math.PI/2*(Math.PI-2),n],[e+.5*t/Math.PI/2*(Math.PI-1),n/2],[e+t/4,0]]:2===r?[[e+.5*t/Math.PI/2,-n/2],[e+.5*t/Math.PI,-n],[e+t/4,-n]]:[[e+.5*t/Math.PI/2*(Math.PI-2),-n],[e+.5*t/Math.PI/2*(Math.PI-1),-n/2],[e+t/4,0]]}function TB(e,r,t,n,i,l,c){for(var f=4*Math.ceil(2*e/t*4),d=[],p=n;p<2*-Math.PI;)p+=2*Math.PI;for(;p>0;)p-=2*Math.PI;var m=l-e+(p=p/Math.PI/2*t)-2*e;d.push(["M",m,r]);for(var x=0,_=0;_<f;++_){var b=MB(_*t/4,_%4,t,i);d.push(["C",b[0][0]+m,-b[0][1]+r,b[1][0]+m,-b[1][1]+r,b[2][0]+m,-b[2][1]+r]),_===f-1&&(x=b[2][0])}return d.push(["L",x+m,c+e]),d.push(["L",m,c+e]),d.push(["Z"]),d}var MA={pin:function AB(e,r,t,n){var i=2*t/3,l=Math.max(i,n),c=i/2,f=e,d=c+r-l/2,p=Math.asin(c/(.85*(l-c))),m=Math.sin(p)*c,x=Math.cos(p)*c,_=f-x,T=d+m,b=e,I=d+c/Math.sin(p);return"\n      M "+_+" "+T+"\n      A "+c+" "+c+" 0 1 1 "+(_+2*x)+" "+T+"\n      Q "+b+" "+I+" "+e+" "+(r+l/2)+"\n      Q "+b+" "+I+" "+_+" "+T+"\n      Z \n    "},circle:function EB(e,r,t,n){var i=t/2,l=n/2;return"\n      M "+e+" "+(r-l)+" \n      a "+i+" "+l+" 0 1 0 0 "+2*l+"\n      a "+i+" "+l+" 0 1 0 0 "+2*-l+"\n      Z\n    "},diamond:function LB(e,r,t,n){var i=n/2,l=t/2;return"\n      M "+e+" "+(r-i)+"\n      L "+(e+l)+" "+r+"\n      L "+e+" "+(r+i)+"\n      L "+(e-l)+" "+r+"\n      Z\n    "},triangle:function IB(e,r,t,n){var i=n/2,l=t/2;return"\n      M "+e+" "+(r-i)+"\n      L "+(e+l)+" "+(r+i)+"\n      L "+(e-l)+" "+(r+i)+"\n      Z\n    "},rect:function OB(e,r,t,n){var l=n/2,c=t/2*.618;return"\n      M "+(e-c)+" "+(r-l)+"\n      L "+(e+c)+" "+(r-l)+"\n      L "+(e+c)+" "+(r+l)+"\n      L "+(e-c)+" "+(r+l)+"\n      Z\n    "}};function RB(e){var t=e.options,i=t.lineStyle,l=t.color,c=t.point,f=t.area;e.chart.data(t.data);var d=xe({},e,{options:{line:{style:i,color:l},point:c&&(0,E.pi)({color:l},c),area:f&&(0,E.pi)({color:l},f),label:void 0}}),p=xe({},d,{options:{tooltip:!1}}),x=xe({},d,{options:{tooltip:!1,state:c?.state||t.state}});return Zc(d),Fa(x),Vf(p),e}function FB(e){var r,t=e.options,i=t.yAxis,c=t.yField;return Cr(zn(((r={})[t.xField]=t.xAxis,r[c]=i,r)))(e)}function DB(e){var t=e.options;return e.chart.coordinate("polar",{radius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle}),e}function BB(e){var r=e.chart,t=e.options,l=t.yField,c=t.yAxis;return r.axis(t.xField,t.xAxis),r.axis(l,c),e}function Mo(e){var t=e.options,n=t.label,i=t.yField,l=vi(e.chart,"line");if(n){var c=n.callback,f=(0,E._T)(n,["callback"]);l.label({fields:[i],callback:c,cfg:di(f)})}else l.label(!1);return e}function uh(e){return Cr(RB,FB,Qr,DB,BB,Iu,ti,Mo,An,hn,En())(e)}rn("interval","liquid-fill-gauge",{draw:function(e,r){var i=e.customInfo,c=i.percent,f=i.radius,d=i.shape,p=i.shapeStyle,m=i.background,x=i.animation,_=i.outline,T=i.wave,b=_.border,I=_.distance,F=T.count,B=T.length,Y=(0,S.u4)(e.points,function(cr,Rr){return Math.min(cr,Rr.x)},1/0),G=this.parsePoint({x:.5,y:.5}),H=this.parsePoint({x:Y,y:.5}),wt=Math.min(G.x-H.x,H.y*f),Ot=function _B(e){var r=(0,E.pi)({opacity:1},e.style);return e.color&&!r.fill&&(r.fill=e.color),r}(e),$t=function SB(e){var t=(0,S.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},e.style);return e.color&&!t.stroke&&(t.stroke=e.color),(0,S.hj)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity),t}((0,S.CD)({},e,_)),ge=wt-b/2,Se=("function"==typeof d?d:MA[d]||MA.circle)(G.x,G.y,2*ge,2*ge);if(p&&r.addShape("path",{name:"shape",attrs:(0,E.pi)({path:Se},p)}),c>0){var Pe=r.addGroup({name:"waves"}),or=Pe.setClip({type:"path",attrs:{path:Se}});!function bB(e,r,t,n,i,l,c,f,d,p){for(var m=i.fill,x=i.opacity,_=c.getBBox(),T=_.maxX-_.minX,b=_.maxY-_.minY,I=0;I<n;I++){var F=n<=1?1:I/(n-1),B=l.addShape("path",{name:"waterwave-path",attrs:{path:TB(f,_.minY+b*t,d,0,T/32,e,r),fill:m,opacity:SA(.2,.9,F)*x}});try{if(!1===p)return;var Y=Jp([["t",d,0]]);B.stopAnimate(),B.animate({matrix:Y},{duration:SA(2500,5e3,F),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}(G.x,G.y,1-e.points[1].y,F,Ot,Pe,or,2*wt,B,x)}return r.addShape("path",{name:"distance",attrs:{path:Se,fill:"transparent",lineWidth:b+2*I,stroke:"transparent"===m?"#fff":m}}),r.addShape("path",{name:"wrap",attrs:(0,S.CD)($t,{path:Se,fill:"transparent",lineWidth:b})}),r}}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="liquid",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return wB},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.chart.emit(kr.BEFORE_CHANGE_DATA,en.fromData(this.chart,kr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(wA(t)),Xx({chart:this.chart,options:this.options},!0),this.chart.emit(kr.AFTER_CHANGE_DATA,en.fromData(this.chart,kr.AFTER_CHANGE_DATA,null))},r.prototype.getSchemaAdaptor=function(){return CB}}(Fr);var TA=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),Object.defineProperty(r.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),i=n.shared,l=n.title,c=e.prototype.getTooltipItems.call(this,t);if(c.length>0){var f=this.view.geometries[0],p=c[0].name,m=[];return f.dataArray.forEach(function(x){x.forEach(function(_){var b=va.getTooltipItems(_,f)[0];if(!i&&b&&b.name===p){var I=(0,S.UM)(l)?p:l;m.push((0,E.pi)((0,E.pi)({},b),{name:b.title,title:I}))}else i&&b&&(I=(0,S.UM)(l)?b.name||p:l,m.push((0,E.pi)((0,E.pi)({},b),{name:b.title,title:I})))})}),m}return[]},r}(q_);mu("radar-tooltip",TA);var Vx=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.init=function(){this.context.view.removeInteraction("tooltip")},r.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},r.prototype.hide=function(){this.getTooltipController().hideTooltip()},r.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},r}(wn);ur("radar-tooltip",Vx),Er("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var bA=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radar",t}return(0,E.ZT)(r,e),r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return xe({},e.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},r.prototype.getSchemaAdaptor=function(){return uh},r}(Fr);function AA(e,r,t){var n=t.map(function(c){return c[r]}).filter(function(c){return void 0!==c}),i=n.length>0?Math.max.apply(Math,n):0,l=Math.abs(e)%360;return l?360*i/l:i}function kB(e){var r=e.chart,t=e.options,n=t.barStyle,i=t.color,l=t.tooltip,c=t.colorField,f=t.type,d=t.xField,p=t.yField,x=Wc(t.data,p);return r.data(x),pi(xe({},e,{options:{tooltip:l,seriesField:c,interval:{style:n,color:i,shape:"line"===f?"line":"intervel"},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}})),"line"===f&&Fa({chart:r,options:{xField:d,yField:p,seriesField:c,point:{shape:"circle",color:i}}}),e}function EA(e){var r,t=e.options,n=t.yField,l=t.data,p=t.maxAngle,m=t.isStack&&!t.isGroup&&t.colorField?function PB(e,r,t){var n=[];return e.forEach(function(i){var l=n.find(function(c){return c[r]===i[r]});l?l[t]+=i[t]||null:n.push((0,E.pi)({},i))}),n}(l,t.xField,n):l,x=Wc(m,n);return Cr(zn(((r={})[n]={min:0,max:AA(p,n,x)},r)))(e)}function zB(e){var t=e.options;return e.chart.coordinate({type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}).transpose(),e}function NB(e){var t=e.options;return e.chart.axis(t.xField,t.xAxis),e}function $x(e){var t=e.options,n=t.label,i=t.yField,l=vi(e.chart,"interval");if(n){var c=n.callback,f=(0,E._T)(n,["callback"]);l.label({fields:[i],callback:c,cfg:(0,E.pi)((0,E.pi)({},di(f)),{type:"polar"})})}else l.label(!1);return e}function m0(e){return Cr(Ra("barStyle"),kB,EA,NB,zB,An,hn,Qr,ti,Iu,En(),$x)(e)}var HB=xe({},Fr.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),Zx=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="radial-bar",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return HB},r.prototype.changeData=function(t){this.updateOption({data:t}),EA({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return m0},r}(Fr);function x0(e){var t=e.options,i=t.sectorStyle,l=t.color;return e.chart.data(t.data),Cr(pi)(xe({},e,{options:{marginRatio:1,interval:{style:i,color:l}}})),e}function LA(e){var t=e.options,n=t.label,i=t.xField,l=vi(e.chart,"interval");if(!1===n)l.label(!1);else if((0,S.Kn)(n)){var c=n.callback,f=n.fields,d=(0,E._T)(n,["callback","fields"]),p=d.offset,m=d.layout;(void 0===p||p>=0)&&(m=m?(0,S.kJ)(m)?m:[m]:[],d.layout=(0,S.hX)(m,function(x){return"limit-in-shape"!==x.type}),d.layout.length||delete d.layout),l.label({fields:f||[i],callback:c,cfg:di(d)})}else Ss(Ka.WARN,null===n,"the label option must be an Object."),l.label({fields:[i]});return e}function GB(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return!1===n?r.legend(!1):i&&r.legend(i,n),e}function YB(e){var t=e.options;return e.chart.coordinate({type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}),e}function WB(e){var r,t=e.options,i=t.yAxis,c=t.yField;return Cr(zn(((r={})[t.xField]=t.xAxis,r[c]=i,r)))(e)}function IA(e){var r=e.chart,t=e.options,i=t.yAxis,c=t.yField;return r.axis(t.xField,t.xAxis||!1),r.axis(c,i||!1),e}function UB(e){Cr(Ra("sectorStyle"),x0,WB,LA,YB,IA,GB,ti,An,hn,Qr,En(),gl)(e)}var XB=xe({},Fr.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),VB=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rose",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return XB},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return UB},r}(Fr),OA="x",RA="y",FA="name",ch="nodes",C0="edges";function $B(e,r,t){if(!(0,S.kJ)(e))return[];var n=[],i=function w0(e,r,t){var n=[];return e.forEach(function(i){var l=i[r],c=i[t];n.includes(l)||n.push(l),n.includes(c)||n.push(c)}),n}(e,r,t),l=function DA(e,r,t,n){var i={};return r.forEach(function(l){i[l]={},r.forEach(function(c){i[l][c]=0})}),e.forEach(function(l){i[l[t]][l[n]]=1}),i}(e,i,r,t),c={};function f(d){c[d]=1,i.forEach(function(p){if(0!=l[d][p])if(1==c[p])n.push(d+"_"+p);else{if(-1==c[p])return;f(p)}}),c[d]=-1}return i.forEach(function(d){c[d]=0}),i.forEach(function(d){-1!=c[d]&&f(d)}),0!==n.length&&console.warn("sankey data contains circle, "+n.length+" records removed.",n),e.filter(function(d){return n.findIndex(function(p){return p===d[r]+"_"+d[t]})<0})}function B7(e){return e.target.depth}function qx(e,r){return e.sourceLinks.length?e.depth:r-1}function hh(e){return function(){return e}}function Kx(e,r){for(var t=0,n=0;n<e.length;n++)t+=r(e[n]);return t}function Qx(e,r){for(var t=-1/0,n=0;n<e.length;n++)t=Math.max(r(e[n]),t);return t}function _0(e,r){return pv(e.source,r.source)||e.index-r.index}function Jx(e,r){return pv(e.target,r.target)||e.index-r.index}function pv(e,r){return e.y0-r.y0}function jx(e){return e.value}function t2(e){return e.index}function gv(e){return e.nodes}function PA(e){return e.links}function S0(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function kA(e){for(var t=0,n=e.nodes;t<n.length;t++){for(var i=n[t],l=i.y0,c=l,f=0,d=i.sourceLinks;f<d.length;f++)(p=d[f]).y0=l+p.width/2,l+=p.width;for(var m=0,x=i.targetLinks;m<x.length;m++){var p;(p=x[m]).y1=c+p.width/2,c+=p.width}}}var NA={left:function ZB(e){return e.depth},right:function qB(e,r){return r-1-e.height},center:function BA(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,S.F)(e.sourceLinks,B7)-1:0},justify:qx},KB={nodeId:function(e){return e.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function GA(e,r){var t=function HA(e){return(0,S.f0)({},KB,e)}(e),n=t.nodeId,i=t.nodeSort,l=t.nodeAlign,c=t.nodeWidth,f=t.nodePadding,d=t.nodeDepth,p=function zA(){var c,p,m,x,e=0,r=0,t=1,n=1,i=24,l=8,f=t2,d=qx,_=gv,T=PA,b=6;function I(Ie){var We={nodes:_(Ie),links:T(Ie)};return function F(Ie){var We=Ie.nodes,nr=Ie.links;We.forEach(function(xr,nn){xr.index=nn,xr.sourceLinks=[],xr.targetLinks=[]});var Ve=new Map(We.map(function(xr){return[f(xr),xr]}));if(nr.forEach(function(xr,nn){xr.index=nn;var Bn=xr.source,Pn=xr.target;"object"!=typeof Bn&&(Bn=xr.source=S0(Ve,Bn)),"object"!=typeof Pn&&(Pn=xr.target=S0(Ve,Pn)),Bn.sourceLinks.push(xr),Pn.targetLinks.push(xr)}),null!=x)for(var je=0,ir=We;je<ir.length;je++){var Pr=ir[je],Ar=Pr.targetLinks;Pr.sourceLinks.sort(x),Ar.sort(x)}}(We),function B(Ie){for(var nr=0,Ve=Ie.nodes;nr<Ve.length;nr++){var je=Ve[nr];je.value=void 0===je.fixedValue?Math.max(Kx(je.sourceLinks,jx),Kx(je.targetLinks,jx)):je.fixedValue}}(We),function Y(Ie){for(var We=Ie.nodes,nr=We.length,Ve=new Set(We),je=new Set,ir=0;Ve.size;){if(Ve.forEach(function(xr){xr.depth=ir;for(var nn=0,Bn=xr.sourceLinks;nn<Bn.length;nn++)je.add(Bn[nn].target)}),++ir>nr)throw new Error("circular link");Ve=je,je=new Set}if(p)for(var Pr=Math.max(Qx(We,function(xr){return xr.depth})+1,0),Gr=void 0,Ar=0;Ar<We.length;Ar++)(Gr=We[Ar]).depth=p.call(null,Gr,Pr)}(We),function G(Ie){for(var We=Ie.nodes,nr=We.length,Ve=new Set(We),je=new Set,ir=0;Ve.size;){if(Ve.forEach(function(Pr){Pr.height=ir;for(var Gr=0,Ar=Pr.targetLinks;Gr<Ar.length;Gr++)je.add(Ar[Gr].source)}),++ir>nr)throw new Error("circular link");Ve=je,je=new Set}}(We),function wt(Ie){var We=function H(Ie){for(var We=Ie.nodes,nr=Math.max(Qx(We,function(Pn){return Pn.depth})+1,0),Ve=(t-e-i)/(nr-1),je=new Array(nr).fill(0).map(function(){return[]}),ir=0,Pr=We;ir<Pr.length;ir++){var Gr=Pr[ir],Ar=Math.max(0,Math.min(nr-1,Math.floor(d.call(null,Gr,nr))));Gr.layer=Ar,Gr.x0=e+Ar*Ve,Gr.x1=Gr.x0+i,je[Ar]?je[Ar].push(Gr):je[Ar]=[Gr]}if(m)for(var xr=0,nn=je;xr<nn.length;xr++)nn[xr].sort(m);return je}(Ie);c=Math.min(l,(n-r)/(Qx(We,function(ir){return ir.length})-1)),function et(Ie){for(var We=function bl(e,r){for(var t=1/0,n=0;n<e.length;n++)t=Math.min(r(e[n]),t);return t}(Ie,function(Ii){return(n-r-(Ii.length-1)*c)/Kx(Ii,jx)}),nr=0,Ve=Ie;nr<Ve.length;nr++){for(var je=Ve[nr],ir=r,Pr=0,Gr=je;Pr<Gr.length;Pr++){(Ar=Gr[Pr]).y0=ir,Ar.y1=ir+Ar.value*We,ir=Ar.y1+c;for(var xr=0,nn=Ar.sourceLinks;xr<nn.length;xr++){var Bn=nn[xr];Bn.width=Bn.value*We}}ir=(n-ir+c)/(je.length+1);for(var Pn=0;Pn<je.length;++Pn){var Ar;(Ar=je[Pn]).y0+=ir*(Pn+1),Ar.y1+=ir*(Pn+1)}or(je)}}(We);for(var nr=0;nr<b;++nr){var Ve=Math.pow(.99,nr),je=Math.max(1-Ve,(nr+1)/b);$t(We,Ve,je),Ot(We,Ve,je)}}(We),kA(We),We}function Ot(Ie,We,nr){for(var Ve=1,je=Ie.length;Ve<je;++Ve){for(var ir=Ie[Ve],Pr=0,Gr=ir;Pr<Gr.length;Pr++){for(var Ar=Gr[Pr],xr=0,nn=0,Bn=0,Pn=Ar.targetLinks;Bn<Pn.length;Bn++){var Ii=Pn[Bn],Ds=Ii.source,E0=Ii.value*(Ar.layer-Ds.layer);xr+=cr(Ds,Ar)*E0,nn+=E0}if(nn>0){var L0=(xr/nn-Ar.y0)*We;Ar.y0+=L0,Ar.y1+=L0,Pe(Ar)}}void 0===m&&ir.sort(pv),ir.length&&ge(ir,nr)}}function $t(Ie,We,nr){for(var je=Ie.length-2;je>=0;--je){for(var ir=Ie[je],Pr=0,Gr=ir;Pr<Gr.length;Pr++){for(var Ar=Gr[Pr],xr=0,nn=0,Bn=0,Pn=Ar.sourceLinks;Bn<Pn.length;Bn++){var Ii=Pn[Bn],Ds=Ii.target,E0=Ii.value*(Ds.layer-Ar.layer);xr+=Rr(Ar,Ds)*E0,nn+=E0}if(nn>0){var L0=(xr/nn-Ar.y0)*We;Ar.y0+=L0,Ar.y1+=L0,Pe(Ar)}}void 0===m&&ir.sort(pv),ir.length&&ge(ir,nr)}}function ge(Ie,We){var nr=Ie.length>>1,Ve=Ie[nr];Se(Ie,Ve.y0-c,nr-1,We),le(Ie,Ve.y1+c,nr+1,We),Se(Ie,n,Ie.length-1,We),le(Ie,r,0,We)}function le(Ie,We,nr,Ve){for(;nr<Ie.length;++nr){var je=Ie[nr],ir=(We-je.y0)*Ve;ir>1e-6&&(je.y0+=ir,je.y1+=ir),We=je.y1+c}}function Se(Ie,We,nr,Ve){for(;nr>=0;--nr){var je=Ie[nr],ir=(je.y1-We)*Ve;ir>1e-6&&(je.y0-=ir,je.y1-=ir),We=je.y0-c}}function Pe(Ie){var We=Ie.sourceLinks;if(void 0===x){for(var Ve=0,je=Ie.targetLinks;Ve<je.length;Ve++)je[Ve].source.sourceLinks.sort(Jx);for(var Pr=0,Gr=We;Pr<Gr.length;Pr++)Gr[Pr].target.targetLinks.sort(_0)}}function or(Ie){if(void 0===x)for(var We=0,nr=Ie;We<nr.length;We++){var Ve=nr[We],ir=Ve.targetLinks;Ve.sourceLinks.sort(Jx),ir.sort(_0)}}function cr(Ie,We){for(var nr=Ie.y0-(Ie.sourceLinks.length-1)*c/2,Ve=0,je=Ie.sourceLinks;Ve<je.length;Ve++){var ir=je[Ve],Gr=ir.width;if(ir.target===We)break;nr+=Gr+c}for(var Ar=0,xr=We.targetLinks;Ar<xr.length;Ar++){var nn=xr[Ar];if(Gr=nn.width,nn.source===Ie)break;nr-=Gr}return nr}function Rr(Ie,We){for(var nr=We.y0-(We.targetLinks.length-1)*c/2,Ve=0,je=We.targetLinks;Ve<je.length;Ve++){var ir=je[Ve],Gr=ir.width;if(ir.source===Ie)break;nr+=Gr+c}for(var Ar=0,xr=Ie.sourceLinks;Ar<xr.length;Ar++){var nn=xr[Ar];if(Gr=nn.width,nn.target===We)break;nr-=Gr}return nr}return I.update=function(Ie){return kA(Ie),Ie},I.nodeId=function(Ie){return arguments.length?(f="function"==typeof Ie?Ie:hh(Ie),I):f},I.nodeAlign=function(Ie){return arguments.length?(d="function"==typeof Ie?Ie:hh(Ie),I):d},I.nodeDepth=function(Ie){return arguments.length?(p=Ie,I):p},I.nodeSort=function(Ie){return arguments.length?(m=Ie,I):m},I.nodeWidth=function(Ie){return arguments.length?(i=+Ie,I):i},I.nodePadding=function(Ie){return arguments.length?(l=c=+Ie,I):l},I.nodes=function(Ie){return arguments.length?(_="function"==typeof Ie?Ie:hh(Ie),I):_},I.links=function(Ie){return arguments.length?(T="function"==typeof Ie?Ie:hh(Ie),I):T},I.linkSort=function(Ie){return arguments.length?(x=Ie,I):x},I.size=function(Ie){return arguments.length?(e=r=0,t=+Ie[0],n=+Ie[1],I):[t-e,n-r]},I.extent=function(Ie){return arguments.length?(e=+Ie[0][0],t=+Ie[1][0],r=+Ie[0][1],n=+Ie[1][1],I):[[e,r],[t,n]]},I.iterations=function(Ie){return arguments.length?(b=+Ie,I):b},I}().nodeSort(i).nodeWidth(c).nodePadding(f).nodeDepth(d).nodeAlign(function QB(e){return((0,S.HD)(e)?NA[e]:(0,S.mf)(e)?e:null)||qx}(l)).extent([[0,0],[1,1]]).nodeId(n),m=p(r);return{nodes:m.nodes.map(function(T){var b=T.x0,I=T.x1,F=T.y0,B=T.y1;return T.x=[b,I,I,b],T.y=[F,F,B,B],T}).filter(function(T){return null!==T.name}),links:m.links.map(function(T){var F=T.source.x1,B=T.target.x0;T.x=[F,F,B,B];var Y=T.width/2;return T.y=[T.y0+Y,T.y0-Y,T.y1+Y,T.y1-Y],T}).filter(function(T){return null!==T.source.name&&null!==T.target.name})}}function M0(e,r,t){return Lu(e)?e/t:r}function e2(e,r,t){return Lu(e)?e/t:r}function YA(e,r,t){var B,i=e.data,l=e.sourceField,c=e.targetField,f=e.weightField,d=e.nodeAlign,p=e.nodeSort,m=e.nodePadding,x=e.nodePaddingRatio,_=e.nodeWidth,T=e.nodeWidthRatio,b=e.nodeDepth,I=e.rawFields,F=void 0===I?[]:I;B=function JB(e){return"node-link"===e}(e.dataType)?i:_T($B(i,l,c),l,c,f,F);var Y=GA({nodeAlign:d,nodePadding:e2(m,x,t),nodeWidth:M0(_,T,r),nodeSort:p,nodeDepth:b},B),H=Y.links;return{nodes:Y.nodes.map(function(et){return(0,E.pi)((0,E.pi)({},Kr(et,(0,E.pr)(["x","y","name"],F))),{isNode:!0})}),edges:H.map(function(et){return(0,E.pi)((0,E.pi)({source:et.source.name,target:et.target.name,name:et.source.name||et.target.name},Kr(et,(0,E.pr)(["x","y","value"],F))),{isNode:!1})})}}function jB(e){var t=e.options.rawFields,n=void 0===t?[]:t;return xe({},{options:{tooltip:{fields:(0,S.jj)((0,E.pr)(["name","source","target","value","isNode"],n))},label:{fields:(0,S.jj)((0,E.pr)(["x","name"],n))}}},e)}function WA(e){var r=e.chart,t=e.options,n=t.color,i=t.nodeStyle,l=t.edgeStyle,c=t.label,f=t.tooltip,d=t.nodeState,p=t.edgeState;r.legend(!1),r.tooltip(f),r.axis(!1),r.coordinate().reflect("y");var m=YA(t,r.width,r.height),x=m.nodes,_=m.edges,T=r.createView({id:C0});T.data(_),PT({chart:T,options:{xField:OA,yField:RA,seriesField:FA,edge:{color:n,style:l,shape:"arc"},tooltip:f,state:p}});var b=r.createView({id:ch});return b.data(x),Vp({chart:b,options:{xField:OA,yField:RA,seriesField:FA,polygon:{color:n,style:i},label:c,tooltip:f,state:d}}),r.interaction("element-active"),r.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),e}function tP(e){var r=e.chart;return Uf(r,e.options.animation,(0,E.pr)(r.views[0].geometries,r.views[1].geometries)),e}function UA(e){var r=e.chart,i="sankey-node-draggable";return e.options.nodeDraggable?r.interaction(i):r.removeInteraction(i),e}function XA(e){var r=e.chart,t=e.options,n=t.interactions,i=void 0===n?[]:n,l=[].concat(i,t.nodeInteractions||[]),c=[].concat(i,t.edgeInteractions||[]),f=Br(r,ch),d=Br(r,C0);return l.forEach(function(p){!1===p?.enable?f.removeInteraction(p.type):f.interaction(p.type,p.cfg||{})}),c.forEach(function(p){!1===p?.enable?d.removeInteraction(p.type):d.interaction(p.type,p.cfg||{})}),e}function eP(e){return Cr(jB,WA,XA,UA,tP,Qr)(e)}var rP=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDragging=!1,t}return(0,E.ZT)(r,e),r.prototype.isNodeElement=function(){var t=(0,S.U2)(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},r.prototype.getNodeView=function(){return Br(this.context.view,ch)},r.prototype.getEdgeView=function(){return Br(this.context.view,C0)},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,S.U2)(this.context,"event.x"),y:(0,S.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(-1===n)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},r.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:(0,S.U2)(this.context,"event.x"),y:(0,S.U2)(this.context,"event.y")},i=n.x-this.prevPoint.x,l=n.y-this.prevPoint.y,c=this.getNodeView(),f=c.geometries[0].elements[this.currentElementIdx];if(f&&f.getModel()){var d=f.getModel().data,p=c.getOptions().data,m=c.getCoordinate(),x={x:i/m.getWidth(),y:l/m.getHeight()},_=(0,E.pi)((0,E.pi)({},d),{x:d.x.map(function(B){return B+x.x}),y:d.y.map(function(B){return B+x.y})}),T=(0,E.pr)(p);T[this.currentElementIdx]=_,c.data(T);var b=d.name,I=this.getEdgeView(),F=I.getOptions().data;F.forEach(function(B){B.source===b&&(B.x[0]+=x.x,B.x[1]+=x.x,B.y[0]+=x.y,B.y[1]+=x.y),B.target===b&&(B.x[2]+=x.x,B.x[3]+=x.x,B.y[2]+=x.y,B.y[3]+=x.y)}),I.data(F),this.prevPoint=n,t.render(!0)}}},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r}(wn);ur("sankey-node-drag",rP),Er("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(e){return e.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var VA=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="sankey",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var n=1===t[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,S.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},r.prototype.changeData=function(t){this.updateOption({data:t});var n=YA(this.options,this.chart.width,this.chart.height),i=n.nodes,l=n.edges,c=Br(this.chart,ch),f=Br(this.chart,C0);c.changeData(i),f.changeData(l)},r.prototype.getSchemaAdaptor=function(){return eP},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Fr),T0="ancestor-node",$A="value",yv="path",nP=[yv,d0,sh,cv,"name","depth","height"],iP=xe({},Fr.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function b0(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function mv(e,r,t,n,i){for(var c,l=e.children,f=-1,d=l.length,p=e.value&&(n-r)/e.value;++f<d;)(c=l[f]).y0=t,c.y1=i,c.x0=r,c.x1=r+=c.value*p}function ZA(){var e=1,r=1,t=0,n=!1;function i(c){var f=c.height+1;return c.x0=c.y0=t,c.x1=e,c.y1=r/f,c.eachBefore(function l(c,f){return function(d){d.children&&mv(d,d.x0,c*(d.depth+1)/f,d.x1,c*(d.depth+2)/f);var p=d.x0,m=d.y0,x=d.x1-t,_=d.y1-t;x<p&&(p=x=(p+x)/2),_<m&&(m=_=(m+_)/2),d.x0=p,d.y0=m,d.x1=x,d.y1=_}}(r,f)),n&&c.eachBefore(b0),c}return i.round=function(c){return arguments.length?(n=!!c,i):n},i.size=function(c){return arguments.length?(e=+c[0],r=+c[1],i):[e,r]},i.padding=function(c){return arguments.length?(t=+c,i):t},i}var aP={field:"value",size:[1,1],round:!1,padding:0,sort:function(e,r){return r.value-e.value},as:["x","y"],ignoreParentValue:!0};function qA(e,r){var n,t=(r=(0,S.f0)({},aP,r)).as;if(!(0,S.kJ)(t)||2!==t.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=p0(r)}catch(d){console.warn(d)}var d,l=(d=e,ZA().size(r.size).round(r.round).padding(r.padding)(oh(d).sum(function(p){return(0,S.dp)(p.children)?r.ignoreParentValue?0:p[n]-(0,S.u4)(p.children,function(m,x){return m+x[n]},0):p[n]}).sort(r.sort))),c=t[0],f=t[1];return l.each(function(d){var p,m;d[c]=[d.x0,d.x1,d.x1,d.x0],d[f]=[d.y1,d.y1,d.y0,d.y0],d.name=d.name||(null===(p=d.data)||void 0===p?void 0:p.name)||(null===(m=d.data)||void 0===m?void 0:m.label),d.data.name=d.name,["x0","x1","y0","y1"].forEach(function(x){-1===t.indexOf(x)&&delete d[x]})}),Co(l)}function oP(e,r){return e.parent===r.parent?1:2}function sP(e,r){return e+r.x}function uP(e,r){return Math.max(e,r.y)}function fP(){var e=oP,r=1,t=1,n=!1;function i(l){var c,f=0;l.eachAfter(function(_){var T=_.children;T?(_.x=function To(e){return e.reduce(sP,0)/e.length}(T),_.y=function lP(e){return 1+e.reduce(uP,0)}(T)):(_.x=c?f+=e(_,c):0,_.y=0,c=_)});var d=function cP(e){for(var r;r=e.children;)e=r[0];return e}(l),p=function hP(e){for(var r;r=e.children;)e=r[r.length-1];return e}(l),m=d.x-e(d,p)/2,x=p.x+e(p,d)/2;return l.eachAfter(n?function(_){_.x=(_.x-l.x)*r,_.y=(l.y-_.y)*t}:function(_){_.x=(_.x-m)/(x-m)*r,_.y=(1-(l.y?_.y/l.y:1))*t})}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(n=!1,r=+l[0],t=+l[1],i):n?null:[r,t]},i.nodeSize=function(l){return arguments.length?(n=!0,r=+l[0],t=+l[1],i):n?[r,t]:null},i}var vP={depth:-1},KA={};function dP(e){return e.id}function pP(e){return e.parentId}function r2(){var e=dP,r=pP;function t(n){var c,f,d,p,m,x,_,i=Array.from(n),l=i.length,T=new Map;for(f=0;f<l;++f)m=i[f]=new Pa(c=i[f]),null!=(x=e(c,f,n))&&(x+="")&&(_=m.id=x,T.set(_,T.has(_)?KA:m)),null!=(x=r(c,f,n))&&(x+="")&&(m.parent=x);for(f=0;f<l;++f)if(x=(m=i[f]).parent){if(!(p=T.get(x)))throw new Error("missing: "+x);if(p===KA)throw new Error("ambiguous: "+x);p.children?p.children.push(m):p.children=[m],m.parent=p}else{if(d)throw new Error("multiple roots");d=m}if(!d)throw new Error("no root");if(d.parent=vP,d.eachBefore(function(b){b.depth=b.parent.depth+1,--l}).eachBefore(Gu),d.parent=null,l>0)throw new Error("cycle");return d}return t.id=function(n){return arguments.length?(e=uv(n),t):e},t.parentId=function(n){return arguments.length?(r=uv(n),t):r},t}function gP(e,r){return e.parent===r.parent?1:2}function n2(e){var r=e.children;return r?r[0]:e.t}function i2(e){var r=e.children;return r?r[r.length-1]:e.t}function yP(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function xP(e,r,t){return e.a.parent===r.parent?e.a:t}function A0(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}function JA(){var e=gP,r=1,t=1,n=null;function i(p){var m=function QA(e){for(var t,i,l,c,f,r=new A0(e,0),n=[r];t=n.pop();)if(l=t._.children)for(t.children=new Array(f=l.length),c=f-1;c>=0;--c)n.push(i=t.children[c]=new A0(l[c],c)),i.parent=t;return(r.parent=new A0(null,0)).children=[r],r}(p);if(m.eachAfter(l),m.parent.m=-m.z,m.eachBefore(c),n)p.eachBefore(d);else{var x=p,_=p,T=p;p.eachBefore(function(Y){Y.x<x.x&&(x=Y),Y.x>_.x&&(_=Y),Y.depth>T.depth&&(T=Y)});var b=x===_?1:e(x,_)/2,I=b-x.x,F=r/(_.x+b+I),B=t/(T.depth||1);p.eachBefore(function(Y){Y.x=(Y.x+I)*F,Y.y=Y.depth*B})}return p}function l(p){var m=p.children,x=p.parent.children,_=p.i?x[p.i-1]:null;if(m){!function mP(e){for(var l,r=0,t=0,n=e.children,i=n.length;--i>=0;)(l=n[i]).z+=r,l.m+=r,r+=l.s+(t+=l.c)}(p);var T=(m[0].z+m[m.length-1].z)/2;_?(p.z=_.z+e(p._,_._),p.m=p.z-T):p.z=T}else _&&(p.z=_.z+e(p._,_._));p.parent.A=function f(p,m,x){if(m){for(var H,_=p,T=p,b=m,I=_.parent.children[0],F=_.m,B=T.m,Y=b.m,G=I.m;b=i2(b),_=n2(_),b&&_;)I=n2(I),(T=i2(T)).a=p,(H=b.z+Y-_.z-F+e(b._,_._))>0&&(yP(xP(b,p,x),p,H),F+=H,B+=H),Y+=b.m,F+=_.m,G+=I.m,B+=T.m;b&&!i2(T)&&(T.t=b,T.m+=Y-B),_&&!n2(I)&&(I.t=_,I.m+=F-G,x=p)}return x}(p,_,p.parent.A||x[0])}function c(p){p._.x=p.z+p.parent.m,p.m+=p.parent.m}function d(p){p.x*=r,p.y=p.depth*t}return i.separation=function(p){return arguments.length?(e=p,i):e},i.size=function(p){return arguments.length?(n=!1,r=+p[0],t=+p[1],i):n?null:[r,t]},i.nodeSize=function(p){return arguments.length?(n=!0,r=+p[0],t=+p[1],i):n?[r,t]:null},i}function a2(e,r,t,n,i){for(var c,l=e.children,f=-1,d=l.length,p=e.value&&(i-t)/e.value;++f<d;)(c=l[f]).x0=r,c.x1=n,c.y0=t,c.y1=t+=c.value*p}A0.prototype=Object.create(Pa.prototype);var jA=(1+Math.sqrt(5))/2;function tE(e,r,t,n,i,l){for(var d,p,T,b,F,B,Y,G,H,et,wt,c=[],f=r.children,m=0,x=0,_=f.length,I=r.value;m<_;){T=i-t,b=l-n;do{F=f[x++].value}while(!F&&x<_);for(B=Y=F,wt=F*F*(et=Math.max(b/T,T/b)/(I*e)),H=Math.max(Y/wt,wt/B);x<_;++x){if(F+=p=f[x].value,p<B&&(B=p),p>Y&&(Y=p),wt=F*F*et,(G=Math.max(Y/wt,wt/B))>H){F-=p;break}H=G}c.push(d={value:F,dice:T<b,children:f.slice(m,x)}),d.dice?mv(d,t,n,i,I?n+=b*F/I:l):a2(d,t,n,I?t+=T*F/I:i,l),I-=F,m=x}return c}const o=function e(r){function t(n,i,l,c,f){tE(r,n,i,l,c,f)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(jA);function s(){var e=o,r=!1,t=1,n=1,i=[0],l=qo,c=qo,f=qo,d=qo,p=qo;function m(_){return _.x0=_.y0=0,_.x1=t,_.y1=n,_.eachBefore(x),i=[0],r&&_.eachBefore(b0),_}function x(_){var T=i[_.depth],b=_.x0+T,I=_.y0+T,F=_.x1-T,B=_.y1-T;F<b&&(b=F=(b+F)/2),B<I&&(I=B=(I+B)/2),_.x0=b,_.y0=I,_.x1=F,_.y1=B,_.children&&(T=i[_.depth+1]=l(_)/2,b+=p(_)-T,I+=c(_)-T,(F-=f(_)-T)<b&&(b=F=(b+F)/2),(B-=d(_)-T)<I&&(I=B=(I+B)/2),e(_,b,I,F,B))}return m.round=function(_){return arguments.length?(r=!!_,m):r},m.size=function(_){return arguments.length?(t=+_[0],n=+_[1],m):[t,n]},m.tile=function(_){return arguments.length?(e=uv(_),m):e},m.padding=function(_){return arguments.length?m.paddingInner(_).paddingOuter(_):m.paddingInner()},m.paddingInner=function(_){return arguments.length?(l="function"==typeof _?_:ah(+_),m):l},m.paddingOuter=function(_){return arguments.length?m.paddingTop(_).paddingRight(_).paddingBottom(_).paddingLeft(_):m.paddingTop()},m.paddingTop=function(_){return arguments.length?(c="function"==typeof _?_:ah(+_),m):c},m.paddingRight=function(_){return arguments.length?(f="function"==typeof _?_:ah(+_),m):f},m.paddingBottom=function(_){return arguments.length?(d="function"==typeof _?_:ah(+_),m):d},m.paddingLeft=function(_){return arguments.length?(p="function"==typeof _?_:ah(+_),m):p},m}function a(e,r,t,n,i){var c,d,l=e.children,f=l.length,p=new Array(f+1);for(p[0]=d=c=0;c<f;++c)p[c+1]=d+=l[c].value;!function m(x,_,T,b,I,F,B){if(x>=_-1){var Y=l[x];return Y.x0=b,Y.y0=I,Y.x1=F,void(Y.y1=B)}for(var G=p[x],H=T/2+G,et=x+1,wt=_-1;et<wt;){var Ot=et+wt>>>1;p[Ot]<H?et=Ot+1:wt=Ot}H-p[et-1]<p[et]-H&&x+1<et&&--et;var $t=p[et]-G,ge=T-$t;if(F-b>B-I){var le=T?(b*ge+F*$t)/T:F;m(x,et,$t,b,I,le,B),m(et,_,ge,le,I,F,B)}else{var Se=T?(I*ge+B*$t)/T:B;m(x,et,$t,b,I,F,Se),m(et,_,ge,b,Se,F,B)}}(0,f,e.value,r,t,n,i)}function u(e,r,t,n,i){(1&e.depth?a2:mv)(e,r,t,n,i)}const h=function e(r){function t(n,i,l,c,f){if((d=n._squarify)&&d.ratio===r)for(var d,p,m,x,T,_=-1,b=d.length,I=n.value;++_<b;){for(m=(p=d[_]).children,x=p.value=0,T=m.length;x<T;++x)p.value+=m[x].value;p.dice?mv(p,i,l,c,I?l+=(f-l)*p.value/I:f):a2(p,i,l,I?i+=(c-i)*p.value/I:c,f),I-=p.value}else n._squarify=d=tE(r,n,i,l,c,f),d.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(jA);var v={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(e,r){return r.value-e.value},ratio:.5*(1+Math.sqrt(5))};function y(e,r){var n,t=(r=(0,S.f0)({},v,r)).as;if(!(0,S.kJ)(t)||2!==t.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=p0(r)}catch(p){console.warn(p)}var p,i=function g(e,r){return"treemapSquarify"===e?Dt[e].ratio(r):Dt[e]}(r.tile,r.ratio),c=(p=e,s().tile(i).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft)(oh(p).sum(function(m){return r.ignoreParentValue&&m.children?0:m[n]}).sort(r.sort))),f=t[0],d=t[1];return c.each(function(p){p[f]=[p.x0,p.x1,p.x1,p.x0],p[d]=[p.y1,p.y1,p.y0,p.y0],["x0","x1","y0","y1"].forEach(function(m){-1===t.indexOf(m)&&delete p[m]})}),Co(c)}function w(e){var t=e.colorField,n=e.rawFields,i=e.hierarchyConfig,l=void 0===i?{}:i,c=l.activeDepth,d=e.seriesField,p=e.type||"partition",m={partition:qA,treemap:y}[p](e.data,(0,E.pi)((0,E.pi)({field:d||"value"},(0,S.CE)(l,["activeDepth"])),{type:"hierarchy."+p,as:["x","y"]})),x=[];return m.forEach(function(_){var T,b,I,F,B,Y;if(0===_.depth||c>0&&_.depth>c)return null;for(var G=_.data.name,H=(0,E.pi)({},_);H.depth>1;)G=(null===(b=H.parent.data)||void 0===b?void 0:b.name)+" / "+G,H=H.parent;var et=(0,E.pi)((0,E.pi)((0,E.pi)({},Kr(_.data,(0,E.pr)(n||[],[l.field]))),((T={})[yv]=G,T[T0]=H.data.name,T)),_);d&&(et[d]=_.data[d]||(null===(F=null===(I=_.parent)||void 0===I?void 0:I.data)||void 0===F?void 0:F[d])),t&&(et[t]=_.data[t]||(null===(Y=null===(B=_.parent)||void 0===B?void 0:B.data)||void 0===Y?void 0:Y[t])),et.ext=l,et[sv]={hierarchyConfig:l,colorField:t,rawFields:n},x.push(et)}),x}function M(e){var m,r=e.chart,t=e.options,n=t.color,i=t.colorField,l=void 0===i?T0:i,c=t.sunburstStyle,f=t.rawFields,d=void 0===f?[]:f,p=w(t);return r.data(p),c&&(m=function(x){return xe({},{fillOpacity:Math.pow(.85,x.depth)},(0,S.mf)(c)?c(x):c)}),Vp(xe({},e,{options:{xField:"x",yField:"y",seriesField:l,rawFields:(0,S.jj)((0,E.pr)(nP,d)),polygon:{color:n,style:m}}})),e}function A(e){return e.chart.axis(!1),e}function L(e){var n=e.options.label,i=vi(e.chart,"polygon");if(n){var l=n.fields,c=void 0===l?["name"]:l,f=n.callback,d=(0,E._T)(n,["fields","callback"]);i.label({fields:c,callback:f,cfg:di(d)})}else i.label(!1);return e}function O(e){var t=e.options,l=t.reflect,c=e.chart.coordinate({type:"polar",cfg:{innerRadius:t.innerRadius,radius:t.radius}});return l&&c.reflect(l),e}function D(e){var r,t=e.options;return Cr(zn({},((r={})[$A]=(0,S.U2)(t.meta,(0,S.U2)(t.hierarchyConfig,["field"],"value")),r)))(e)}function k(e){var r=e.chart,n=e.options.tooltip;if(!1===n)r.tooltip(!1);else{var i=n;(0,S.U2)(n,"fields")||(i=xe({},{customItems:function(l){return l.map(function(c){var f=(0,S.U2)(r.getOptions(),"scales"),d=(0,S.U2)(f,[yv,"formatter"],function(m){return m}),p=(0,S.U2)(f,[$A,"formatter"],function(m){return m});return(0,E.pi)((0,E.pi)({},c),{name:d(c.data[yv]),value:p(c.data.value)})})}},i)),r.tooltip(i)}return e}function X(e){var r=e.drilldown,t=e.interactions;return r?.enabled?xe({},e,{interactions:(0,E.pr)(void 0===t?[]:t,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:w}}])}):e}function tt(e){var r=e.chart,t=e.options,n=t.drilldown;return An({chart:r,options:X(t)}),n?.enabled&&(r.appendPadding=Gp(r.appendPadding,(0,S.U2)(n,["breadCrumb","position"]))),e}function ot(e){return Cr(Qr,Ra("sunburstStyle"),M,A,D,Iu,O,k,L,tt,hn,En())(e)}function ht(e,r){if((0,S.kJ)(e))return e.find(function(t){return t.type===r})}function pt(e,r){var t=ht(e,r);return t&&!1!==t.enable}function Wt(e){var r=e.interactions;return(0,S.U2)(e.drilldown,"enabled")||pt(r,"treemap-drill-down")}function pe(e){var r=e.data,t=e.colorField,n=e.enableDrillDown,i=e.hierarchyConfig,l=y(r,(0,E.pi)((0,E.pi)({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),c=[];return l.forEach(function(f){if(0===f.depth||n&&1!==f.depth||!n&&f.children)return null;var d=f.ancestors().map(function(_){return{data:_.data,height:_.height,value:_.value}}),p=n&&(0,S.kJ)(r.path)?d.concat(r.path.slice(1)):d,m=Object.assign({},f.data,(0,E.pi)({x:f.x,y:f.y,depth:f.depth,value:f.value,path:p},f));if(!f.data[t]&&f.parent){var x=f.ancestors().find(function(_){return _.data[t]});m[t]=x?.data[t]}else m[t]=f.data[t];m[sv]={hierarchyConfig:i,colorField:t,enableDrillDown:n},c.push(m)}),c}function Me(e){return xe({options:{rawFields:["value"],tooltip:{fields:["name","value",e.options.colorField,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},e)}function ze(e){var r=e.chart,t=e.options,n=t.color,i=t.colorField,l=t.rectStyle,c=t.hierarchyConfig,f=t.rawFields,d=pe({data:t.data,colorField:t.colorField,enableDrillDown:Wt(t),hierarchyConfig:c});return r.data(d),Vp(xe({},e,{options:{xField:"x",yField:"y",seriesField:i,rawFields:f,polygon:{color:n,style:l}}})),r.coordinate().reflect("y"),e}function Oe(e){return e.chart.axis(!1),e}function Ze(e){var r=e.drilldown,t=e.interactions,n=void 0===t?[]:t;return Wt(e)?xe({},e,{interactions:(0,E.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:pe}}])}):e}function tr(e){var r=e.chart,t=e.options,n=t.interactions,i=t.drilldown;An({chart:r,options:Ze(t)});var l=ht(n,"view-zoom");return l&&(!1!==l.enable?r.getCanvas().on("mousewheel",function(f){f.preventDefault()}):r.getCanvas().off("mousewheel")),Wt(t)&&(r.appendPadding=Gp(r.appendPadding,(0,S.U2)(i,["breadCrumb","position"]))),e}function vr(e){return Cr(Me,Qr,Ra("rectStyle"),ze,Oe,Iu,ti,tr,hn,En())(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="sunburst",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return iP},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ot},r.SUNBURST_ANCESTOR_FIELD=T0,r.SUNBURST_PATH_FIELD=yv,r.NODE_ANCESTORS_FIELD=sh}(Fr);var gr={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521d\u59cb",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},Je=(function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="treemap",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return gr},r.prototype.changeData=function(t){var n=this.options,i=n.colorField,l=n.interactions,c=n.hierarchyConfig;this.updateOption({data:t});var f=pe({data:t,colorField:i,enableDrillDown:pt(l,"treemap-drill-down"),hierarchyConfig:c});this.chart.changeData(f),function de(e){var r=e.interactions["drill-down"];r&&r.context.actions.find(function(n){return"drill-down-action"===n.name}).reset()}(this.chart)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return vr}}(Fr),"id"),Xr="path",$r={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(e){return{name:e.id,value:e.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function sn(e){e&&e.geometries[0].elements.forEach(function(t){t.shape.toFront()})}var qn=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){sn(this.context.view)},r.prototype.active=function(){e.prototype.active.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(vf("element-active")),Zi=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){sn(this.context.view)},r.prototype.highlight=function(){e.prototype.highlight.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.clear=function(){e.prototype.clear.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(vf("element-highlight")),qi=vf("element-selected"),dn=vf("element-single-selected"),ri=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){sn(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(qi),mi=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.syncElementsPos=function(){sn(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(dn);ur("venn-element-active",qn),ur("venn-element-highlight",Zi),ur("venn-element-selected",ri),ur("venn-element-single-selected",mi),Er("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Er("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Er("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Er("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Er("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Er("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var Ki=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,E.ZT)(r,e),r.prototype.getLabelPoint=function(t,n,i){var l=t.data,d=t.customLabelInfo;return{content:t.content[i],x:l.x+d.offsetX,y:l.y+d.offsetY}},r}(_f);xf("venn",Ki);const ra=Array.isArray;var xi="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",xv=new RegExp("([a-z])["+xi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+xi+"]*,?["+xi+"]*)+)","ig"),It=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+xi+"]*,?["+xi+"]*","ig");Math,rn("schema","venn",{draw:function(e,r){var n=function ce(e){if(!e)return null;if(ra(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(xv,function(n,i,l){var c=[],f=i.toLowerCase();if(l.replace(It,function(d,p){p&&c.push(+p)}),"m"===f&&c.length>2&&(t.push([i].concat(c.splice(0,2))),f="l",i="m"===i?"l":"L"),"o"===f&&1===c.length&&t.push([i,c[0]]),"r"===f)t.push([i].concat(c));else for(;c.length>=r[f]&&(t.push([i].concat(c.splice(0,r[f]))),r[f]););return""}),t}(e.data[Xr]),i=function C9(e){return xe({},e.defaultStyle,{fill:e.color},e.style)}(e),l=r.addGroup({name:"venn-shape"});l.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},i),{path:n}),name:"venn-path"});var c=e.customInfo,p=va.transform(null,[["t",c.offsetX,c.offsetY]]);return l.setMatrix(p),l},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{lineWidth:0,stroke:r,fill:r,r:4}}}});var H7={normal:function(e){return e},multiply:function(e,r){return e*r/255},screen:function(e,r){return 255*(1-(1-e/255)*(1-r/255))},overlay:function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},darken:function(e,r){return e>r?r:e},lighten:function(e,r){return e>r?e:r},dodge:function(e,r){return 255===e||(e=r/255*255/(1-e/255))>255?255:e},burn:function(e,r){return 255===r?255:0===e?0:255*(1-Math.min(1,(1-r/255)/(e/255)))}};function eE(e){var t,r=e.replace("/s+/g","");return"string"!=typeof r||r.startsWith("rgba")||r.startsWith("#")?(r.startsWith("rgba")&&(t=r.replace("rgba(","").replace(")","").split(",")),r.startsWith("#")&&(t=Vs.rgb2arr(r).concat([1])),t.map(function(n,i){return 3===i?Number(n):0|n})):t=Vs.rgb2arr(Vs.toRGB(r)).concat([1])}var Al=ct(6948),G7=1e-10;function wP(e,r){var c,t=function T9(e){for(var r=[],t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)for(var i=W7(e[t],e[n]),l=0;l<i.length;++l){var c=i[l];c.parentIndex=[t,n],r.push(c)}return r}(e),n=t.filter(function(Ot){return function M9(e,r){for(var t=0;t<r.length;++t)if(Fs(e,r[t])>r[t].radius+G7)return!1;return!0}(Ot,e)}),i=0,l=0,f=[];if(n.length>1){var d=U7(n);for(c=0;c<n.length;++c){var p=n[c];p.angle=Math.atan2(p.x-d.x,p.y-d.y)}n.sort(function(Ot,$t){return $t.angle-Ot.angle});var m=n[n.length-1];for(c=0;c<n.length;++c){var x=n[c];l+=(m.x+x.x)*(x.y-m.y);for(var _={x:(x.x+m.x)/2,y:(x.y+m.y)/2},T=null,b=0;b<x.parentIndex.length;++b)if(m.parentIndex.indexOf(x.parentIndex[b])>-1){var I=e[x.parentIndex[b]],F=Math.atan2(x.x-I.x,x.y-I.y),B=Math.atan2(m.x-I.x,m.y-I.y),Y=B-F;Y<0&&(Y+=2*Math.PI);var G=B-Y/2,H=Fs(_,{x:I.x+I.radius*Math.sin(G),y:I.y+I.radius*Math.cos(G)});H>2*I.radius&&(H=2*I.radius),(null===T||T.width>H)&&(T={circle:I,width:H,p1:x,p2:m})}null!==T&&(f.push(T),i+=_P(T.circle.radius,T.width),m=x)}}else{var et=e[0];for(c=1;c<e.length;++c)e[c].radius<et.radius&&(et=e[c]);var wt=!1;for(c=0;c<e.length;++c)if(Fs(e[c],et)>Math.abs(et.radius-e[c].radius)){wt=!0;break}wt?i=l=0:(i=et.radius*et.radius*Math.PI,f.push({circle:et,p1:{x:et.x,y:et.y+et.radius},p2:{x:et.x-G7,y:et.y+et.radius},width:2*et.radius}))}return l/=2,r&&(r.area=i+l,r.arcArea=i,r.polygonArea=l,r.arcs=f,r.innerPoints=n,r.intersectionPoints=t),i+l}function _P(e,r){return e*e*Math.acos(1-r/e)-(e-r)*Math.sqrt(r*(2*e-r))}function Fs(e,r){return Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y))}function Y7(e,r,t){if(t>=e+r)return 0;if(t<=Math.abs(e-r))return Math.PI*Math.min(e,r)*Math.min(e,r);var i=r-(t*t-e*e+r*r)/(2*t);return _P(e,e-(t*t-r*r+e*e)/(2*t))+_P(r,i)}function W7(e,r){var t=Fs(e,r),n=e.radius,i=r.radius;if(t>=n+i||t<=Math.abs(n-i))return[];var l=(n*n-i*i+t*t)/(2*t),c=Math.sqrt(n*n-l*l),f=e.x+l*(r.x-e.x)/t,d=e.y+l*(r.y-e.y)/t,p=c/t*-(r.y-e.y),m=c/t*-(r.x-e.x);return[{x:f+p,y:d-m},{x:f-p,y:d+m}]}function U7(e){for(var r={x:0,y:0},t=0;t<e.length;++t)r.x+=e[t].x,r.y+=e[t].y;return r.x/=e.length,r.y/=e.length,r}function SP(e,r,t){var i,l,n=r[0].radius-Fs(r[0],e);for(i=1;i<r.length;++i)(l=r[i].radius-Fs(r[i],e))<=n&&(n=l);for(i=0;i<t.length;++i)(l=Fs(t[i],e)-t[i].radius)<=n&&(n=l);return n}function X7(e,r){var n,t=[];for(n=0;n<e.length;++n){var i=e[n];t.push({x:i.x,y:i.y}),t.push({x:i.x+i.radius/2,y:i.y}),t.push({x:i.x-i.radius/2,y:i.y}),t.push({x:i.x,y:i.y+i.radius/2}),t.push({x:i.x,y:i.y-i.radius/2})}var l=t[0],c=SP(t[0],e,r);for(n=1;n<t.length;++n){var f=SP(t[n],e,r);f>=c&&(l=t[n],c=f)}var d=(0,Al.nelderMead)(function(_){return-1*SP({x:_[0],y:_[1]},e,r)},[l.x,l.y],{maxIterations:500,minErrorDelta:1e-10}).x,p={x:d[0],y:d[1]},m=!0;for(n=0;n<e.length;++n)if(Fs(p,e[n])>e[n].radius){m=!1;break}for(n=0;n<r.length;++n)if(Fs(p,r[n])<r[n].radius){m=!1;break}if(!m)if(1==e.length)p={x:e[0].x,y:e[0].y};else{var x={};wP(e,x),p=0===x.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==x.arcs.length?{x:x.arcs[0].circle.x,y:x.arcs[0].circle.y}:r.length?X7(e,[]):U7(x.arcs.map(function(_){return _.p1}))}return p}var V7=1e-10;function MP(e,r,t){return Math.min(e,r)*Math.min(e,r)*Math.PI<=t+V7?Math.abs(e-r):(0,Al.bisect)(function(n){return Y7(e,r,n)-t},0,e+r)}function D9(e,r){var t=function P9(e,r){for(var l,t=r&&r.lossFunction?r.lossFunction:TP,n={},i={},c=0;c<e.length;++c){var f=e[c];1==f.sets.length&&(n[l=f.sets[0]]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:f.size,radius:Math.sqrt(f.size/Math.PI)},i[l]=[])}for(e=e.filter(function(Ie){return 2==Ie.sets.length}),c=0;c<e.length;++c){var d=e[c],p=d.hasOwnProperty("weight")?d.weight:1,m=d.sets[0],x=d.sets[1];d.size+V7>=Math.min(n[m].size,n[x].size)&&(p=0),i[m].push({set:x,size:d.size,weight:p}),i[x].push({set:m,size:d.size,weight:p})}var _=[];for(l in i)if(i.hasOwnProperty(l)){var T=0;for(c=0;c<i[l].length;++c)T+=i[l][c].size*i[l][c].weight;_.push({set:l,size:T})}function b(Ie,We){return We.size-Ie.size}_.sort(b);var I={};function F(Ie){return Ie.set in I}function B(Ie,We){n[We].x=Ie.x,n[We].y=Ie.y,I[We]=!0}for(B({x:0,y:0},_[0].set),c=1;c<_.length;++c){var Y=_[c].set,G=i[Y].filter(F);if(l=n[Y],G.sort(b),0===G.length)throw"ERROR: missing pairwise overlap information";for(var H=[],et=0;et<G.length;++et){var wt=n[G[et].set],Ot=MP(l.radius,wt.radius,G[et].size);H.push({x:wt.x+Ot,y:wt.y}),H.push({x:wt.x-Ot,y:wt.y}),H.push({y:wt.y+Ot,x:wt.x}),H.push({y:wt.y-Ot,x:wt.x});for(var $t=et+1;$t<G.length;++$t)for(var ge=n[G[$t].set],le=MP(l.radius,ge.radius,G[$t].size),Se=W7({x:wt.x,y:wt.y,radius:Ot},{x:ge.x,y:ge.y,radius:le}),Pe=0;Pe<Se.length;++Pe)H.push(Se[Pe])}var or=1e50,cr=H[0];for(et=0;et<H.length;++et){n[Y].x=H[et].x,n[Y].y=H[et].y;var Rr=t(n,e);Rr<or&&(or=Rr,cr=H[et])}B(cr,Y)}return n}(e,r),n=r.lossFunction||TP;if(e.length>=8){var i=function B9(e,r){var l,t=(r=r||{}).restarts||10,n=[],i={};for(l=0;l<e.length;++l){var c=e[l];1==c.sets.length&&(i[c.sets[0]]=n.length,n.push(c))}var f=function R9(e,r,t){var n=(0,Al.zerosM)(r.length,r.length),i=(0,Al.zerosM)(r.length,r.length);return e.filter(function(l){return 2==l.sets.length}).map(function(l){var c=t[l.sets[0]],f=t[l.sets[1]],m=MP(Math.sqrt(r[c].size/Math.PI),Math.sqrt(r[f].size/Math.PI),l.size);n[c][f]=n[f][c]=m;var x=0;l.size+1e-10>=Math.min(r[c].size,r[f].size)?x=1:l.size<=1e-10&&(x=-1),i[c][f]=i[f][c]=x}),{distances:n,constraints:i}}(e,n,i),d=f.distances,p=f.constraints,m=(0,Al.norm2)(d.map(Al.norm2))/d.length;d=d.map(function(Y){return Y.map(function(G){return G/m})});var _,T,x=function(Y,G){return function F9(e,r,t,n){var l,i=0;for(l=0;l<r.length;++l)r[l]=0;for(l=0;l<t.length;++l)for(var c=e[2*l],f=e[2*l+1],d=l+1;d<t.length;++d){var p=e[2*d],m=e[2*d+1],x=t[l][d],_=n[l][d],T=(p-c)*(p-c)+(m-f)*(m-f),b=Math.sqrt(T),I=T-x*x;_>0&&b<=x||_<0&&b>=x||(i+=2*I*I,r[2*l]+=4*I*(c-p),r[2*l+1]+=4*I*(f-m),r[2*d]+=4*I*(p-c),r[2*d+1]+=4*I*(m-f))}return i}(Y,G,d,p)};for(l=0;l<t;++l){var b=(0,Al.zeros)(2*d.length).map(Math.random);T=(0,Al.conjugateGradient)(x,b,r),(!_||T.fx<_.fx)&&(_=T)}var I=_.x,F={};for(l=0;l<n.length;++l){var B=n[l];F[B.sets[0]]={x:I[2*l]*m,y:I[2*l+1]*m,radius:Math.sqrt(B.size/Math.PI)}}if(r.history)for(l=0;l<r.history.length;++l)(0,Al.scale)(r.history[l].x,m);return F}(e,r);n(i,e)+1e-8<n(t,e)&&(t=i)}return t}function TP(e,r){for(var t=0,i=0;i<r.length;++i){var l=r[i],c=void 0;if(1!=l.sets.length){if(2==l.sets.length){var f=e[l.sets[0]],d=e[l.sets[1]];c=Y7(f.radius,d.radius,Fs(f,d))}else c=wP(l.sets.map(function(x){return e[x]}));t+=(l.hasOwnProperty("weight")?l.weight:1)*(c-l.size)*(c-l.size)}}return t}var H9=(0,S.HP)(function(e,r,t,n){var i=new Map,l=e.length;return r.forEach(function(c,f){if(1===c[n].length)i.set(c[Je],e[(f+l)%l]);else{var d=c[n].map(function(p){return i.get(p)});i.set(c[Je],d.slice(1).reduce(function(p,m){return function S9(e,r,t){void 0===t&&(t="normal");var n=function(e){return function(r,t){var n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n}}(function(e){if(!H7[e])throw new Error("unknown blend mode "+e);return H7[e]}(t))(eE(e),eE(r)),i=eE(e),l=i[0],c=i[1],f=i[2],d=i[3],p=eE(r),m=p[0],x=p[1],_=p[2],T=p[3],b=Number((d+T*(1-d)).toFixed(2));return"rgba("+Math.round((d*(1-T)*(l/255)+d*T*(n[0]/255)+(1-d)*T*(m/255))/b*255)+", "+Math.round((d*(1-T)*(c/255)+d*T*(n[1]/255)+(1-d)*T*(x/255))/b*255)+", "+Math.round((d*(1-T)*(f/255)+d*T*(n[2]/255)+(1-d)*T*(_/255))/b*255)+", "+b+")"}(p,m,t)},d[0]))}}),i},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return JSON.stringify(e)});function G9(e,r,t,n){void 0===n&&(n=0);var i=e.data,l=e.setsField,c=e.sizeField;if(0===i.length)return Ss(Ka.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),[];var f=i.map(function(x){var _;return(0,E.pi)((0,E.pi)({},x),((_={sets:x[l]||[],size:x[c]})[Xr]="",_[Je]="",_))});f.sort(function(x,_){return x.sets.length-_.sets.length});var d=function I9(e,r){(r=r||{}).maxIterations=r.maxIterations||500;var t=r.initialLayout||D9,n=r.lossFunction||TP;e=function O9(e){e=e.slice();var n,i,l,c,r=[],t={};for(n=0;n<e.length;++n){var f=e[n];1==f.sets.length?r.push(f.sets[0]):2==f.sets.length&&(t[[l=f.sets[0],c=f.sets[1]]]=!0,t[[c,l]]=!0)}for(r.sort(function(d,p){return d>p?1:-1}),n=0;n<r.length;++n)for(l=r[n],i=n+1;i<r.length;++i)[l,c=r[i]]in t||e.push({sets:[l,c],size:0});return e}(e);var f,i=t(e,r),l=[],c=[];for(f in i)i.hasOwnProperty(f)&&(l.push(i[f].x),l.push(i[f].y),c.push(f));for(var p=(0,Al.nelderMead)(function(x){for(var _={},T=0;T<c.length;++T){var b=c[T];_[b]={x:x[2*T],y:x[2*T+1],radius:i[b].radius}}return n(_,e)},l,r).x,m=0;m<c.length;++m)i[f=c[m]].x=p[2*m],i[f].y=p[2*m+1];return i}(f),p=function N9(e,r,t,n){var i=[],l=[];for(var c in e)e.hasOwnProperty(c)&&(l.push(c),i.push(e[c]));r-=2*n,t-=2*n;var f=function bP(e){var r=function(t){return{max:Math.max.apply(null,e.map(function(l){return l[t]+l.radius})),min:Math.min.apply(null,e.map(function(l){return l[t]-l.radius}))}};return{xRange:r("x"),yRange:r("y")}}(i),d=f.xRange,p=f.yRange;if(d.max==d.min||p.max==p.min)return console.log("not scaling solution: zero size detected"),e;for(var _=Math.min(t/(p.max-p.min),r/(d.max-d.min)),T=(r-(d.max-d.min)*_)/2,b=(t-(p.max-p.min)*_)/2,I={},F=0;F<i.length;++F){var B=i[F];I[l[F]]={radius:_*B.radius,x:n+T+(B.x-d.min)*_,y:n+b+(B.y-p.min)*_}}return I}(d,r,t,n),m=function A9(e,r){for(var t={},n=function b9(e){var r={},t=[];for(var n in e)t.push(n),r[n]=[];for(var i=0;i<t.length;i++)for(var l=e[t[i]],c=i+1;c<t.length;++c){var f=e[t[c]],d=Fs(l,f);d+f.radius<=l.radius+1e-10?r[t[c]].push(t[i]):d+l.radius<=f.radius+1e-10&&r[t[i]].push(t[c])}return r}(e),i=0;i<r.length;++i){for(var l=r[i].sets,c={},f={},d=0;d<l.length;++d){c[l[d]]=!0;for(var p=n[l[d]],m=0;m<p.length;++m)f[p[m]]=!0}var x=[],_=[];for(var T in e)T in c?x.push(e[T]):T in f||_.push(e[T]);var b=X7(x,_);t[l]=b,b.disjoint&&r[i].size>0&&console.log("WARNING: area "+l+" not represented on screen")}return t}(p,f);return f.forEach(function(x){var _=x.sets,T=_.join(",");x[Je]=T;var I=function L9(e){var r={};wP(e,r);var t=r.arcs;if(0===t.length)return"M 0 0";if(1==t.length){var n=t[0].circle;return function E9(e,r,t){var n=[],i=e-t,l=r;return n.push("M",i,l),n.push("A",t,t,0,1,0,i+2*t,l),n.push("A",t,t,0,1,0,i,l),n.join(" ")}(n.x,n.y,n.radius)}for(var i=["\nM",t[0].p2.x,t[0].p2.y],l=0;l<t.length;++l){var c=t[l],f=c.circle.radius;i.push("\nA",f,f,0,c.width>f?1:0,1,c.p1.x,c.p1.y)}return i.join(" ")}(_.map(function(B){return p[B]}));/[zZ]$/.test(I)||(I+=" Z"),x[Xr]=I,(0,S.f0)(x,m[T]||{x:0,y:0})}),f}var W9=40;function $7(e,r,t){var i=e.options,l=i.blendMode,c=i.setsField,f=e.chart.getTheme(),d=f.colors10,p=f.colors20,m=t;(0,S.kJ)(m)||(m=r.filter(function(_){return 1===_[c].length}).length<=10?d:p);var x=H9(m,r,l,c);return function(_){return x.get(_)||m[0]}}function X9(e){var r=e.chart,t=e.options,n=t.legend,i=t.appendPadding,l=t.padding,c=pl(i);return!1!==n&&(c=Gp(i,(0,S.U2)(n,"position"),W9)),r.appendPadding=z1([c,l]),e}function V9(e){var t=e.options.data;t||(Ss(Ka.WARN,!1,"warn: %s","\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),t=[]);var n=t.filter(function(l){return 1===l.sets.length}).map(function(l){return l.sets[0]}),i=t.filter(function(l){return function Y9(e,r){for(var t=0;t<r.length;t++)if(!e.includes(r[t]))return!1;return!0}(n,l.sets)});return(0,S.Xy)(i,t)||Ss(Ka.WARN,!1,"warn: %s","\u4ea4\u96c6\u4e2d\u4e0d\u80fd\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u96c6\u5408, \u8bf7\u8f93\u5165\u5408\u6cd5\u6570\u636e"),(0,S.b$)({},e,{options:{data:i}})}function $9(e){var r=e.chart,t=e.options,n=t.pointStyle,i=t.setsField,l=t.sizeField,c=pl(r.appendPadding),f=c[0],p=c[2],m=c[3],x={offsetX:m,offsetY:f},_=r.viewBBox,b=_.height,I=G9(t,Math.max(_.width-(c[1]+m),0),Math.max(b-(f+p),0),0);r.data(I);var B=X1(xe({},e,{options:{xField:"x",yField:"y",sizeField:l,seriesField:Je,rawFields:[i,l],schema:{shape:"venn",style:n}}})).ext.geometry;B.customInfo(x);var Y=function U9(e,r){var n=e.options.color;if("function"!=typeof n){var l=$7(e,r,"string"==typeof n?[n]:n);return function(c){return l(c[Je])}}return n}(e,I);return"function"==typeof Y&&B.color(Je,function(G){var H=I.find(function(wt){return wt[Je]===G}),et=$7(e,I)(G);return Y(H,et)}),e}function Z9(e){var r=e.chart,n=e.options.label,i=pl(r.appendPadding),f={offsetX:i[3],offsetY:i[0]},d=vi(r,"schema");if(n){var p=n.callback,m=(0,E._T)(n,["callback"]);d.label({fields:["id"],callback:p,cfg:(0,S.b$)({},di(m),{type:"venn",customLabelInfo:f})})}else d.label(!1);return e}function q9(e){var r=e.chart,t=e.options,i=t.sizeField;return r.legend(Je,t.legend),r.legend(i,!1),e}function K9(e){return e.chart.axis(!1),e}function Q9(e){var t=e.chart,n=e.options.interactions;if(n){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};An(xe({},e,{options:{interactions:n.map(function(l){return(0,E.pi)((0,E.pi)({},l),{type:i[l.type]||l.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),e}function J9(e){return Cr(X9,Qr,V9,$9,Z9,zn({}),q9,K9,ti,Q9,hn)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="venn",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return $r},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return J9},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(Fr);var Qo="x",Cv="violinY",j9="violinSize",Z7="minMax",q7="quantile",K7="median",AP="violin_view",tz="min_max_view",ez="quantile_view",rz="median_view",nz=xe({},Fr.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),iz=ct(4319),az=ct.n(iz);function Q7(e,r){var t=e.length*r;if(0===e.length)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return 1===r?e[e.length-1]:0===r?e[0]:t%1!=0?e[Math.ceil(t)-1]:e.length%2==0?(e[t-1]+e[t])/2:e[t]}function o2(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function rE(e,r,t,n){for(t=t||0,n=n||e.length-1;n>t;){if(n-t>600){var i=n-t+1,l=r-t+1,c=Math.log(i),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(i-f)/i);l-i/2<0&&(d*=-1),rE(e,r,Math.max(t,Math.floor(r-l*f/i+d)),Math.min(n,Math.floor(r+(i-l)*f/i+d)))}var x=e[r],_=t,T=n;for(o2(e,t,r),e[n]>x&&o2(e,t,n);_<T;){for(o2(e,_,T),_++,T--;e[_]<x;)_++;for(;e[T]>x;)T--}e[t]===x?o2(e,t,T):o2(e,++T,n),T<=r&&(t=T+1),r<=T&&(n=T-1)}}function s2(e,r){var t=e.slice();if(Array.isArray(r)){!function oz(e,r){for(var t=[0],n=0;n<r.length;n++)t.push(j7(e.length,r[n]));t.push(e.length-1),t.sort(sz);for(var i=[0,t.length-1];i.length;){var l=Math.ceil(i.pop()),c=Math.floor(i.pop());if(!(l-c<=1)){var f=Math.floor((c+l)/2);J7(e,t[f],Math.floor(t[c]),Math.ceil(t[l])),i.push(c,f,f,l)}}}(t,r);for(var n=[],i=0;i<r.length;i++)n[i]=Q7(t,r[i]);return n}return J7(t,j7(t.length,r),0,t.length-1),Q7(t,r)}function J7(e,r,t,n){r%1==0?rE(e,r,t,n):(rE(e,r=Math.floor(r),t,n),rE(e,r+1,r+1,n))}function sz(e,r){return e-r}function j7(e,r){var t=e*r;return 1===r?e-1:0===r?0:t%1!=0?Math.ceil(t)-1:e%2==0?t-.5:t}var t9=function(e){return{low:(0,S.VV)(e),high:(0,S.Fp)(e),q1:s2(e,.25),q3:s2(e,.75),median:s2(e,[.5]),minMax:[(0,S.VV)(e),(0,S.Fp)(e)],quantile:[s2(e,.25),s2(e,.75)]}},e9=function(e,r){var t=az().create(e,r);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},r9=function(e){var r=e.xField,t=e.yField,n=e.seriesField,i=e.data,l=e.kde,c={min:l.min,max:l.max,size:l.sampleSize,width:l.width};if(!n){var f=(0,S.vM)(i,r);return Object.keys(f).map(function(m){var _=f[m].map(function(T){return T[t]});return(0,E.pi)((0,E.pi)({x:m},e9(_,c)),t9(_))})}var d=[],p=(0,S.vM)(i,n);return Object.keys(p).forEach(function(m){var x=(0,S.vM)(p[m],r);return Object.keys(x).forEach(function(_){var T,I=x[_].map(function(F){return F[t]});d.push((0,E.pi)((0,E.pi)(((T={x:_})[n]=m,T),e9(I,c)),t9(I)))})}),d},nE=["low","high","q1","q3","median"],iE=[{type:"dodge",marginRatio:1/32}];function lz(e){return e.chart.data(r9(e.options)),e}function uz(e){var t=e.options,n=t.seriesField,i=t.color,l=t.shape,c=void 0===l?"violin":l,f=t.violinStyle,d=t.tooltip,p=t.state,m=e.chart.createView({id:AP});return function ZF(e){var r=e.options,t=r.violin,l=r.seriesField,d=Qa(r.tooltip,[r.xField,r.yField,l,r.sizeField]);t&&ma(xe({},e,{options:{type:"violin",colorField:l,tooltipFields:d.fields,mapping:(0,E.pi)({tooltip:d.formatter},t)}}))}({chart:m,options:{xField:Qo,yField:Cv,seriesField:n||Qo,sizeField:j9,tooltip:(0,E.pi)({fields:nE},d),violin:{style:f,color:i,shape:c},state:p}}),m.geometries[0].adjust(iE),e}function cz(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.color,l=t.tooltip,c=t.box;if(!1===c)return e;var f=r.createView({id:tz});pi({chart:f,options:{xField:Qo,yField:Z7,seriesField:n||Qo,tooltip:(0,E.pi)({fields:nE},l),state:"object"==typeof c?c.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),f.geometries[0].adjust(iE);var d=r.createView({id:ez});pi({chart:d,options:{xField:Qo,yField:q7,seriesField:n||Qo,tooltip:(0,E.pi)({fields:nE},l),state:"object"==typeof c?c.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),d.geometries[0].adjust(iE);var p=r.createView({id:rz});return Fa({chart:p,options:{xField:Qo,yField:K7,seriesField:n||Qo,tooltip:(0,E.pi)({fields:nE},l),state:"object"==typeof c?c.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),p.geometries[0].adjust(iE),d.axis(!1),f.axis(!1),p.axis(!1),p.legend(!1),f.legend(!1),d.legend(!1),e}function hz(e){var r,t=e.chart,n=e.options,c=n.yAxis,d=xe({},n.meta,((r={})[Qo]=(0,E.pi)((0,E.pi)({sync:!0},Kr(n.xAxis,ya)),{type:"cat"}),r[Cv]=(0,E.pi)({sync:!0},Kr(c,ya)),r[Z7]=(0,E.pi)({sync:Cv},Kr(c,ya)),r[q7]=(0,E.pi)({sync:Cv},Kr(c,ya)),r[K7]=(0,E.pi)({sync:Cv},Kr(c,ya)),r));return t.scale(d),e}function fz(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,l=Br(r,AP);return l.axis(Qo,!1!==n&&n),l.axis(Cv,!1!==i&&i),r.axis(!1),e}function vz(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField,l=t.shape;if(!1===n)r.legend(!1);else{var c=i||Qo,f=(0,S.CE)(n,["selected"]);(!l||!l.startsWith("hollow"))&&((0,S.U2)(f,["marker","style","lineWidth"])||(0,S.t8)(f,["marker","style","lineWidth"],0)),r.legend(c,f),(0,S.U2)(n,"selected")&&(0,S.S6)(r.views,function(d){return d.legend(c,n)})}return e}function dz(e){var t=Br(e.chart,AP);return En()((0,E.pi)((0,E.pi)({},e),{chart:t})),e}function pz(e){var n=e.options.animation;return(0,S.S6)(e.chart.views,function(i){Uf(i,n)}),e}function gz(e){return Cr(Qr,lz,uz,cz,hz,ti,fz,vz,An,dz,pz)(e)}!function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="violin",t}(0,E.ZT)(r,e),r.getDefaultOptions=function(){return nz},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(r9(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return gz}}(Fr);var Jo="$$yField$$",aE="$$diffField$$",EP="$$absoluteField$$",LP="$$isTotal$$",yz={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function n9(e,r,t,n){var i=function Cz(e,r,t,n,i){var l,c=[];if((0,S.u4)(e,function(d,p){var m;Ss(Ka.WARN,(0,S.hj)(p[t]),p[t]+" is not a valid number");var x=(0,S.o8)(p[t])?null:p[t];return c.push((0,E.pi)((0,E.pi)({},p),((m={})[n]=[d,d+x],m))),d+x},0),c.length&&i){var f=(0,S.U2)(c,[[e.length-1],n,[1]]);c.push(((l={})[r]=i.label,l[t]=f,l[n]=[0,f],l))}return c}(e,r,t,Jo,n);return i.map(function(l,c){var f;return(0,S.Kn)(l)?(0,E.pi)((0,E.pi)({},l),((f={})[EP]=l[Jo][1],f[aE]=l[Jo][1]-l[Jo][0],f[LP]=c===e.length,f)):l})}function wz(e){var r=e.options,n=r.total,i=Vc(r.locale).get(["waterfall","total"]);return n&&"string"!=typeof n.label&&i&&(e.options.total.label=i),e}function _z(e){var t=e.options,i=t.xField,l=t.yField,c=t.total,f=t.leaderLine,d=t.columnWidthRatio,p=t.waterfallStyle,m=t.risingFill,x=t.fallingFill,_=t.color;return e.chart.data(n9(t.data,i,l,c)),pi(xe({},e,{options:{xField:i,yField:Jo,seriesField:i,rawFields:[l,aE,LP,Jo],widthRatio:d,interval:{style:p,shape:"waterfall",color:_||function(B){return(0,S.U2)(B,[LP])?(0,S.U2)(c,["style","fill"],""):(0,S.U2)(B,[Jo,1])-(0,S.U2)(B,[Jo,0])>0?m:x}}}})).ext.geometry.customInfo({leaderLine:f}),e}function Sz(e){var r,t,n=e.options,i=n.xAxis,l=n.yAxis,c=n.xField,f=n.yField,d=n.meta,p=xe({},{alias:f},(0,S.U2)(d,f));return Cr(zn(((r={})[c]=i,r[f]=l,r[Jo]=l,r),xe({},d,((t={})[Jo]=p,t[aE]=p,t[EP]=p,t))))(e)}function Mz(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,c=t.yField;return r.axis(t.xField,!1!==n&&n),!1===i?(r.axis(c,!1),r.axis(Jo,!1)):(r.axis(c,i),r.axis(Jo,i)),e}function Tz(e){var r=e.chart,t=e.options,n=t.legend,i=t.total,l=t.risingFill,c=t.fallingFill,d=Vc(t.locale);if(!1===n)r.legend(!1);else{var p=[{name:d.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:l}}},{name:d.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:c}}}];i&&p.push({name:i.label||"",value:"total",marker:{symbol:"square",style:xe({},{r:5},(0,S.U2)(i,"style"))}}),r.legend(xe({},{custom:!0,position:"top",items:p},n)),r.removeInteraction("legend-filter")}return e}function bz(e){var t=e.options,n=t.label,i=t.labelMode,l=t.xField,c=vi(e.chart,"interval");if(n){var f=n.callback,d=(0,E._T)(n,["callback"]);c.label({fields:"absolute"===i?[EP,l]:[aE,l],callback:f,cfg:di(d)})}else c.label(!1);return e}function Az(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.xField,l=t.yField;if(!1!==n){r.tooltip((0,E.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[l]},n));var c=r.geometries[0];n?.formatter?c.tooltip(i+"*"+l,n.formatter):c.tooltip(l)}else r.tooltip(!1);return e}function Ez(e){return Cr(wz,Qr,_z,Sz,Mz,Tz,Az,bz,gl,An,hn,En())(e)}rn("interval","waterfall",{draw:function(e,r){var t=e.customInfo,n=e.points,i=e.nextPoints,l=r.addGroup(),c=this.parsePath(function mz(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];n&&r.push([0===t?"M":"L",n.x,n.y])}var l=e[0];return r.push(["L",l.x,l.y]),r.push(["z"]),r}(n)),f=function xz(e){return xe({},e.defaultStyle,e.style,{fill:e.color})}(e);l.addShape("path",{attrs:(0,E.pi)((0,E.pi)({},f),{path:c})});var d=(0,S.U2)(t,"leaderLine");if(d&&i){var p=[["M",n[2].x,n[2].y],["L",i[0].x,i[0].y]];n[2].y===i[1].y&&(p[1]=["L",i[1].x,i[1].y]),p=this.parsePath(p),l.addShape("path",{attrs:(0,E.pi)({path:p},d.style||{})})}return l}});var Lz=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="waterfall",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return yz},r.prototype.changeData=function(t){var n=this.options,i=n.xField,l=n.yField,c=n.total;this.updateOption({data:t}),this.chart.changeData(n9(t,i,l,c))},r.prototype.getSchemaAdaptor=function(){return Ez},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Fr),IP="color",Iz=xe({},Fr.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",IP],formatter:function(e){return{name:e.text,value:e.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Oz={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function Rz(e,r){return function Fz(e,r){var t=function Vz(){var e=[256,256],r=Bz,t=Pz,n=i9,i=kz,l=zz,c=a9,f=Math.random,d=[],p=1/0,m=Dz,x=i9,_=Uz,T={};function I(F,B,Y){for(var $t,le,Se,G=B.x,H=B.y,et=Math.sqrt(e[0]*e[0]+e[1]*e[1]),wt=c(e),Ot=f()<.5?1:-1,ge=-Ot;($t=wt(ge+=Ot))&&(le=~~$t[0],Se=~~$t[1],!(Math.min(Math.abs(le),Math.abs(Se))>=et));)if(B.x=G+le,B.y=H+Se,!(B.x+B.x0<0||B.y+B.y0<0||B.x+B.x1>e[0]||B.y+B.y1>e[1])&&(!Y||!Hz(B,F,e[0]))&&(!Y||Yz(B,Y))){for(var Pe=B.sprite,or=B.width>>5,cr=e[0]>>5,Rr=B.x-(or<<4),Ie=127&Rr,We=32-Ie,nr=B.y1-B.y0,Ve=void 0,je=(B.y+B.y0)*cr+(Rr>>5),ir=0;ir<nr;ir++){Ve=0;for(var Pr=0;Pr<=or;Pr++)F[je+Pr]|=Ve<<We|(Pr<or?(Ve=Pe[ir*or+Pr])>>>Ie:0);je+=cr}return delete B.sprite,!0}return!1}return T.start=function(){var F=e[0],B=e[1],Y=function b(F){F.width=F.height=1;var B=Math.sqrt(F.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);F.width=(l2<<5)/B,F.height=oE/B;var Y=F.getContext("2d",{willReadFrequently:!0});return Y.fillStyle=Y.strokeStyle="red",Y.textAlign="center",{context:Y,ratio:B}}(_()),G=T.board?T.board:o9((e[0]>>5)*e[1]),H=d.length,et=[],wt=d.map(function(le,Se,Pe){return le.text=m.call(this,le,Se,Pe),le.font=r.call(this,le,Se,Pe),le.style=x.call(this,le,Se,Pe),le.weight=n.call(this,le,Se,Pe),le.rotate=i.call(this,le,Se,Pe),le.size=~~t.call(this,le,Se,Pe),le.padding=l.call(this,le,Se,Pe),le}).sort(function(le,Se){return Se.size-le.size}),Ot=-1,$t=T.board?[{x:0,y:0},{x:F,y:B}]:null;return function ge(){for(var le=Date.now();Date.now()-le<p&&++Ot<H;){var Se=wt[Ot];Se.x=F*(f()+.5)>>1,Se.y=B*(f()+.5)>>1,Nz(Y,Se,wt,Ot),Se.hasText&&I(G,Se,$t)&&(et.push(Se),$t?T.hasImage||Gz($t,Se):$t=[{x:Se.x+Se.x0,y:Se.y+Se.y0},{x:Se.x+Se.x1,y:Se.y+Se.y1}],Se.x-=e[0]>>1,Se.y-=e[1]>>1)}T._tags=et,T._bounds=$t}(),T},T.createMask=function(F){var B=document.createElement("canvas"),Y=e[0],G=e[1];if(Y&&G){var H=Y>>5,et=o9((Y>>5)*G);B.width=Y,B.height=G;var wt=B.getContext("2d");wt.drawImage(F,0,0,F.width,F.height,0,0,Y,G);for(var Ot=wt.getImageData(0,0,Y,G).data,$t=0;$t<G;$t++)for(var ge=0;ge<Y;ge++){var Se=$t*Y+ge<<2;et[H*$t+(ge>>5)]|=Ot[Se]>=250&&Ot[Se+1]>=250&&Ot[Se+2]>=250?1<<31-ge%32:0}T.board=et,T.hasImage=!0}},T.timeInterval=function(F){p=F??1/0},T.words=function(F){d=F},T.size=function(F){e=[+F[0],+F[1]]},T.font=function(F){r=El(F)},T.fontWeight=function(F){n=El(F)},T.rotate=function(F){i=El(F)},T.spiral=function(F){c=Xz[F]||F},T.fontSize=function(F){t=El(F)},T.padding=function(F){l=El(F)},T.random=function(F){f=El(F)},T}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(d){(0,S.UM)(r[d])||t[d](r[d])}),t.words(e),r.imageMask&&t.createMask(r.imageMask);var i=t.start()._tags;i.forEach(function(d){d.x+=r.size[0]/2,d.y+=r.size[1]/2});var l=r.size,c=l[0],f=l[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:c,y:f,opacity:0}),i}(e,r=(0,S.f0)({},Oz,r))}var OP=Math.PI/180,l2=64,oE=2048;function Dz(e){return e.text}function Bz(){return"serif"}function i9(){return"normal"}function Pz(e){return e.value}function kz(){return 90*~~(2*Math.random())}function zz(){return 1}function Nz(e,r,t,n){if(!r.sprite){var i=e.context,l=e.ratio;i.clearRect(0,0,(l2<<5)/l,oE/l);var c=0,f=0,d=0,p=t.length;for(--n;++n<p;){r=t[n],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/l)+"px "+r.font;var m=i.measureText(r.text+"m").width*l,x=r.size<<1;if(r.rotate){var _=Math.sin(r.rotate*OP),T=Math.cos(r.rotate*OP),b=m*T,I=m*_,F=x*T,B=x*_;m=Math.max(Math.abs(b+B),Math.abs(b-B))+31>>5<<5,x=~~Math.max(Math.abs(I+F),Math.abs(I-F))}else m=m+31>>5<<5;if(x>d&&(d=x),c+m>=l2<<5&&(c=0,f+=d,d=0),f+x>=oE)break;i.translate((c+(m>>1))/l,(f+(x>>1))/l),r.rotate&&i.rotate(r.rotate*OP),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=m,r.height=x,r.xoff=c,r.yoff=f,r.x1=m>>1,r.y1=x>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,c+=m}for(var Y=i.getImageData(0,0,(l2<<5)/l,oE/l).data,G=[];--n>=0;)if((r=t[n]).hasText){for(var H=(m=r.width)>>5,et=(x=r.y1-r.y0,0);et<x*H;et++)G[et]=0;if(null==(c=r.xoff))return;f=r.yoff;for(var wt=0,Ot=-1,$t=0;$t<x;$t++){for(et=0;et<m;et++){var le=Y[(f+$t)*(l2<<5)+(c+et)<<2]?1<<31-et%32:0;G[H*$t+(et>>5)]|=le,wt|=le}wt?Ot=$t:(r.y0++,x--,$t--,f++)}r.y1=r.y0+Ot,r.sprite=G.slice(0,(r.y1-r.y0)*H)}}}function Hz(e,r,t){for(var m,n=e.sprite,i=e.width>>5,l=e.x-(i<<4),c=127&l,f=32-c,d=e.y1-e.y0,p=(e.y+e.y0)*(t>>=5)+(l>>5),x=0;x<d;x++){m=0;for(var _=0;_<=i;_++)if((m<<f|(_<i?(m=n[x*i+_])>>>c:0))&r[p+_])return!0;p+=t}return!1}function Gz(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function Yz(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function a9(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function o9(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function Uz(){return document.createElement("canvas")}function El(e){return(0,S.mf)(e)?e:function(){return e}}var Xz={archimedean:a9,rectangular:function Wz(e){var t=4*e[0]/e[1],n=0,i=0;return function(l){var c=l<0?-1:1;switch(Math.sqrt(1+4*c*l)-c&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}};function s9(e){var r=e.options,t=e.chart,i=t.width,l=t.height,c=t.padding,f=t.appendPadding,d=t.ele,p=r.data,m=r.imageMask,x=r.wordField,_=r.weightField,T=r.colorField,b=r.wordStyle,I=r.timeInterval,F=r.random,B=r.spiral,Y=r.autoFit,G=void 0===Y||Y,H=r.placementStrategy;if(!p||!p.length)return[];var et=b.fontFamily,wt=b.fontWeight,Ot=b.padding,$t=b.fontSize,ge=function Qz(e,r){return e.map(function(t){return t[r]}).filter(function(t){return"number"==typeof t&&!isNaN(t)})}(p,_),le=[tN(ge),eN(ge)],Se=p.map(function(cr){return{text:cr[x],value:cr[_],color:cr[T],datum:cr}}),Pe={imageMask:m,font:et,fontSize:Kz($t,le),fontWeight:wt,size:$z({width:i,height:l,padding:c,appendPadding:f,autoFit:G,container:d}),padding:Ot,timeInterval:I,random:F,spiral:B,rotate:Jz(r)};if((0,S.mf)(H)){var or=Se.map(function(cr,Rr,Ie){return(0,E.pi)((0,E.pi)((0,E.pi)({},cr),{hasText:!!cr.text,font:El(Pe.font)(cr,Rr,Ie),weight:El(Pe.fontWeight)(cr,Rr,Ie),rotate:El(Pe.rotate)(cr,Rr,Ie),size:El(Pe.fontSize)(cr,Rr,Ie),style:"normal"}),H.call(t,cr,Rr,Ie))});return or.push({text:"",value:0,x:0,y:0,opacity:0}),or.push({text:"",value:0,x:Pe.size[0],y:Pe.size[1],opacity:0}),or}return Rz(Se,Pe)}function $z(e){var r=e.width,t=e.height,l=e.padding,c=e.appendPadding;if(e.autoFit){var f=Yf(e.container);r=f.width,t=f.height}r=r||400,t=t||400;var d=function Zz(e){var r=pl(e.padding),t=pl(e.appendPadding);return[r[0]+t[0],r[1]+t[1],r[2]+t[2],r[3]+t[3]]}({padding:l,appendPadding:c});return[r-(d[3]+d[1]),t-(d[0]+d[2])]}function Kz(e,r){if((0,S.mf)(e))return e;if((0,S.kJ)(e)){var t=e[0],n=e[1];if(!r)return function(){return(n+t)/2};var i=r[0],l=r[1];return l===i?function(){return(n+t)/2}:function(f){return(n-t)/(l-i)*(f.value-i)+t}}return function(){return e}}function Jz(e){var r=function jz(e){var r=e.wordStyle.rotationSteps;return r<1&&(Ss(Ka.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),r=1),{rotation:e.wordStyle.rotation,rotationSteps:r}}(e),t=r.rotation,n=r.rotationSteps;if(!(0,S.kJ)(t))return t;var i=t[0],l=t[1],c=1===n?0:(l-i)/(n-1);return function(){return l===i?l:Math.floor(Math.random()*n)*c}}function tN(e){return Math.min.apply(Math,e)}function eN(e){return Math.max.apply(Math,e)}function rN(e){var r=e.chart,t=e.options,n=t.colorField,i=t.color,l=s9(e);return r.data(l),Fa(xe({},e,{options:{xField:"x",yField:"y",seriesField:n&&IP,rawFields:(0,S.mf)(i)&&(0,E.pr)((0,S.U2)(t,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}})).ext.geometry.label(!1),r.coordinate().reflect("y"),r.axis(!1),e}function nN(e){return Cr(zn({x:{nice:!1},y:{nice:!1}}))(e)}function iN(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField;return!1===n?r.legend(!1):i&&r.legend(IP,n),e}function aN(e){Cr(rN,nN,ti,iN,An,hn,Qr,gl)(e)}function oN(e){return{fontSize:e.data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}}rn("point","word-cloud",{draw:function(e,r){var t=e.x,n=e.y,i=r.addShape("text",{attrs:(0,E.pi)((0,E.pi)({},oN(e)),{x:t,y:n})}),l=e.data.rotate;return"number"==typeof l&&va.rotate(i,l*Math.PI/180),i}});var sN=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="word-cloud",t}return(0,E.ZT)(r,e),r.getDefaultOptions=function(){return Iz},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(s9({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var t=this;return new Promise(function(n){var i=t.options.imageMask;if(!i)return e.prototype.render.call(t),void n();var l=function(c){t.options=(0,E.pi)((0,E.pi)({},t.options),{imageMask:c||null}),e.prototype.render.call(t),n()};(function qz(e){return new Promise(function(r,t){if(e instanceof HTMLImageElement)r(e);else{if((0,S.HD)(e)){var n=new Image;return n.crossOrigin="anonymous",n.src=e,n.onload=function(){r(n)},void(n.onerror=function(){Ss(Ka.ERROR,!1,"image %s load failed !!!",e),t()})}Ss(Ka.WARN,void 0===e,"The type of imageMask option must be String or HTMLImageElement."),t()}})})(i).then(l).catch(l)})},r.prototype.getSchemaAdaptor=function(){return aN},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){e.prototype.triggerResize.call(t)}))},r}(Fr);!function(e){function r(t,n,i,l){var c=e.call(this,t,xe({},l,n))||this;return c.type="g2-plot",c.defaultOptions=l,c.adaptor=i,c}(0,E.ZT)(r,e),r.prototype.getDefaultOptions=function(){return this.defaultOptions},r.prototype.getSchemaAdaptor=function(){return this.adaptor}}(Fr),U1("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),U1("zh-CN",{locale:"zh-CN",general:{increase:"\u589e\u52a0",decrease:"\u51cf\u5c11",root:"\u521d\u59cb"},statistic:{total:"\u603b\u8ba1"},conversionTag:{label:"\u8f6c\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603b\u8ba1"}});var lN=ct(8345),sE=ct(174),uN=ct(4913);const l9=["*"];let RP=(()=>{class e{get marginValue(){return-this.gutter/2}constructor(t){t.attach(this,"sg",{gutter:32,col:2})}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(uN.Ri))},e.\u0275cmp=C.Xpm({type:e,selectors:[["sg-container"],["","sg-container",""]],hostVars:8,hostBindings:function(t,n){2&t&&(C.Udp("margin-left",n.marginValue,"px")("margin-right",n.marginValue,"px"),C.ekj("ant-row",!0)("sg__wrap",!0))},inputs:{gutter:"gutter",colInCon:["sg-container","colInCon"],col:"col"},exportAs:["sgContainer"],ngContentSelectors:l9,decls:1,vars:0,template:function(t,n){1&t&&(C.F$t(),C.Hsn(0))},encapsulation:2,changeDetection:0}),(0,E.gn)([(0,sE.Rn)()],e.prototype,"gutter",void 0),(0,E.gn)([(0,sE.Rn)(null)],e.prototype,"colInCon",void 0),(0,E.gn)([(0,sE.Rn)(null)],e.prototype,"col",void 0),e})(),u9=(()=>{class e{get paddingValue(){return this.parent.gutter/2}constructor(t,n,i,l){if(this.ren=n,this.parent=i,this.rep=l,this.clsMap=[],this.inited=!1,this.col=null,null==i)throw new Error("[sg] must include 'sg-container' component");this.el=t.nativeElement}setClass(){const{el:t,ren:n,clsMap:i,col:l,parent:c}=this;return i.forEach(f=>n.removeClass(t,f)),i.length=0,i.push(...this.rep.genCls(l??(c.colInCon||c.col)),"sg__item"),i.forEach(f=>n.addClass(t,f)),this}ngOnChanges(){this.inited&&this.setClass()}ngAfterViewInit(){this.setClass(),this.inited=!0}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(RP,9),C.Y36(oe.kz))},e.\u0275cmp=C.Xpm({type:e,selectors:[["sg"]],hostVars:4,hostBindings:function(t,n){2&t&&C.Udp("padding-left",n.paddingValue,"px")("padding-right",n.paddingValue,"px")},inputs:{col:"col"},exportAs:["sg"],features:[C.TTD],ngContentSelectors:l9,decls:1,vars:0,template:function(t,n){1&t&&(C.F$t(),C.Hsn(0))},encapsulation:2,changeDetection:0}),(0,E.gn)([(0,sE.Rn)(null)],e.prototype,"col",void 0),e})(),hN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Ct.ez]}),e})();var fN=ct(3353);let vN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[Ct.ez]}),e})();const dN=function(e){return{$implicit:e}};function pN(e,r){if(1&e&&C.GkF(0,3),2&e){const t=C.oxw();C.Q6J("ngTemplateOutlet",t.nzValueTemplate)("ngTemplateOutletContext",C.VKq(2,dN,t.nzValue))}}function gN(e,r){if(1&e&&(C.TgZ(0,"span",6),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.displayInt)}}function yN(e,r){if(1&e&&(C.TgZ(0,"span",7),C._uU(1),C.qZA()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.displayDecimal)}}function mN(e,r){if(1&e&&(C.ynx(0),C.YNc(1,gN,2,1,"span",4),C.YNc(2,yN,2,1,"span",5),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("ngIf",t.displayInt),C.xp6(1),C.Q6J("ngIf",t.displayDecimal)}}function xN(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Oqu(t.nzTitle)}}function CN(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.nzPrefix)}}function wN(e,r){if(1&e&&(C.TgZ(0,"span",6),C.YNc(1,CN,2,1,"ng-container",1),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzPrefix)}}function _N(e,r){if(1&e&&(C.ynx(0),C._uU(1),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Oqu(t.nzSuffix)}}function SN(e,r){if(1&e&&(C.TgZ(0,"span",7),C.YNc(1,_N,2,1,"ng-container",1),C.qZA()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("nzStringTemplateOutlet",t.nzSuffix)}}let MN=(()=>{class e{constructor(t){this.locale_id=t,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const t="number"==typeof this.nzValue?".":(0,Ct.dv)(this.locale_id,Ct.wE.Decimal),n=String(this.nzValue),[i,l]=n.split(t);this.displayInt=i,this.displayDecimal=l?`${t}${l}`:""}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.soG))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[C.TTD],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(t,n){1&t&&(C.TgZ(0,"span",0),C.YNc(1,pN,1,4,"ng-container",1),C.YNc(2,mN,3,2,"ng-container",2),C.qZA()),2&t&&(C.xp6(1),C.Q6J("ngIf",n.nzValueTemplate),C.xp6(1),C.Q6J("ngIf",!n.nzValueTemplate))},dependencies:[Ct.O5,Ct.tP],encapsulation:2,changeDetection:0}),e})(),TN=(()=>{class e{constructor(t,n){this.cdr=t,this.directionality=n,this.nzValueStyle={},this.dir="ltr",this.destroy$=new Ce.x}ngOnInit(){this.directionality.change?.pipe((0,we.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.sBO),C.Y36(bt.Is,8))},e.\u0275cmp=C.Xpm({type:e,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(t,n){2&t&&C.ekj("ant-statistic-rtl","rtl"===n.dir)},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],decls:6,vars:6,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(t,n){1&t&&(C.TgZ(0,"div",0),C.YNc(1,xN,2,1,"ng-container",1),C.qZA(),C.TgZ(2,"div",2),C.YNc(3,wN,2,1,"span",3),C._UZ(4,"nz-statistic-number",4),C.YNc(5,SN,2,1,"span",5),C.qZA()),2&t&&(C.xp6(1),C.Q6J("nzStringTemplateOutlet",n.nzTitle),C.xp6(1),C.Q6J("ngStyle",n.nzValueStyle),C.xp6(1),C.Q6J("ngIf",n.nzPrefix),C.xp6(1),C.Q6J("nzValue",n.nzValue)("nzValueTemplate",n.nzValueTemplate),C.xp6(1),C.Q6J("ngIf",n.nzSuffix))},dependencies:[Ct.O5,Ct.PC,re.f,MN],encapsulation:2,changeDetection:0}),e})(),bN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[bt.vT,Ct.ez,fN.ud,re.T,vN]}),e})();var AN=ct(9805);const EN=["s2t"];let LN=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){this.s2=new AN.HZt(this.chartTable.nativeElement,{data:[],fields:{}},null),this.s2.render()}render(t){let n=[],i=[];if(t&&t.length>0)for(let c in t[0])n.push({field:c,name:c}),i.push(c);this.s2.setDataCfg({data:t,fields:{columns:i},meta:n,showDefaultHeaderActionIcon:!0}),this.onResize(),this.s2.setThemeCfg({name:"gray"}),this.s2.render(!0)}onResize(){if(this.s2){let t=this.chartTable.nativeElement;this.s2.changeSheetSize(t.offsetWidth,t.offsetHeight),this.s2.render(!1)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=C.Xpm({type:e,selectors:[["erupt-chart-table"]],viewQuery:function(t,n){if(1&t&&C.Gf(EN,5),2&t){let i;C.iGM(i=C.CRH())&&(n.chartTable=i.first)}},hostBindings:function(t,n){1&t&&C.NdJ("resize",function(l){return n.onResize(l)},!1,C.Jf7)},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["s2t",""]],template:function(t,n){1&t&&C._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]     table{width:100%}[_nghost-%COMP%]     table tr{transition:all .3s,height 0s}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{padding:8px;color:#000000a6;font-size:14px;line-height:1;border:1px solid #e8e8e8}"]}),e})();const IN=["chartTable"],FP=function(e){return{height:e}};function ON(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",5),C._UZ(2,"i",6),C.qZA(),C.BQk()),2&e){const t=C.oxw();C.xp6(1),C.Q6J("id",t.chart.code)("ngStyle",C.VKq(2,FP,t.chart.height+"px"))}}const RN=function(e){return{height:e,paddingTop:"1px"}};function FN(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"erupt-iframe",10),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Akn(C.VKq(3,RN,t.chart.height+"px")),C.Q6J("url",t.src)}}function DN(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",11),C._UZ(2,"erupt-chart-table",null,12),C.qZA(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngStyle",C.VKq(1,FP,t.chart.height+"px"))}}function BN(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"sg"),C._UZ(2,"nz-statistic",16),C.qZA(),C.BQk()),2&e){const t=r.$implicit,n=C.oxw(3);C.xp6(2),C.Q6J("nzValue",t[n.dataKeys[0]]||0)("nzTitle",t[n.dataKeys[1]])("nzValueStyle",n.chart.chartOption)}}function PN(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",13)(2,"div",14),C.YNc(3,BN,3,3,"ng-container",15),C.qZA()(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(2),C.s9C("sg-container",t.data.length),C.xp6(1),C.Q6J("ngForOf",t.data)}}function kN(e,r){if(1&e&&(C.ynx(0),C._UZ(1,"div",17),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("id",t.chart.code)("ngStyle",C.VKq(2,FP,t.chart.height+"px"))}}function zN(e,r){if(1&e&&(C.ynx(0,7),C.YNc(1,FN,2,5,"ng-container",8),C.YNc(2,DN,4,3,"ng-container",8),C.YNc(3,PN,4,2,"ng-container",8),C.YNc(4,kN,2,4,"ng-container",9),C.BQk()),2&e){const t=C.oxw();C.Q6J("ngSwitch",t.chart.type),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.tpl),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.table),C.xp6(1),C.Q6J("ngSwitchCase",t.chartType.Number)}}function NN(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"i",19),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2);return C.KtG(i.downloadChart())}),C.qZA(),C._uU(2," \xa0"),C._UZ(3,"nz-divider",20),C._uU(4,"\xa0 "),C.BQk()}}function HN(e,r){if(1&e){const t=C.EpF();C.YNc(0,NN,5,0,"ng-container",2),C.TgZ(1,"i",18),C.NdJ("click",function(){C.CHM(t);const i=C.oxw();return C.KtG(i.update(!0))}),C.qZA()}if(2&e){const t=C.oxw();C.Q6J("ngIf",t.plot)}}const GN=function(){return{padding:"0"}};let YN=(()=>{class e{constructor(t,n,i,l){this.ref=t,this.biDataService=n,this.handlerService=i,this.msg=l,this.buildDimParam=new C.vpe,this.chartType=dt,this.ready=!0,this.data=[],this.dataKeys=[]}ngOnInit(){this.chart.chartOption&&(this.chart.chartOption=JSON.parse(this.chart.chartOption)),this.init()}init(){let t=this.handlerService.buildDimParam(this.bi,!1);for(let n of this.bi.dimensions)if(n.notNull&&(!t||null===t[n.code]))return void(this.ready=!1);this.ready=!0,this.chart.type==dt.tpl?this.src=this.biDataService.getChartTpl(this.chart.id,this.bi.code,t):(this.chart.loading=!0,this.biDataService.getBiChart(this.bi.code,this.chart.id,t).subscribe(n=>{this.chart.loading=!1,this.chart.type==dt.Number?(n[0]&&(this.dataKeys=Object.keys(n[0])),this.data=n):this.chart.type==dt.table?this.chartTable.render(n):this.render(n)}))}ngOnDestroy(){this.plot&&this.plot.destroy()}update(t){this.handlerService.buildDimParam(this.bi,!0),this.plot?(t&&(this.chart.loading=!0),this.biDataService.getBiChart(this.bi.code,this.chart.id,this.handlerService.buildDimParam(this.bi)).subscribe(n=>{this.chart.loading&&(this.chart.loading=!1),this.plot.changeData(n)})):this.init()}downloadChart(){this.plot||this.init();let n=this.ref.nativeElement.querySelector("#"+this.chart.code).querySelector("canvas").toDataURL("image/png"),i=document.createElement("a");if("download"in i){i.style.visibility="hidden",i.href=n,i.download=this.chart.name,document.body.appendChild(i);let l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),i.dispatchEvent(l),document.body.removeChild(i)}else window.open(n)}render(t){this.plot&&(this.plot.destroy(),this.plot=null);let n=Object.keys(t[0]),i=n[0],l=n[1],c=n[2],f=n[3],d={data:t,xField:i,yField:l,slider:{},appendPadding:16,legend:{position:"bottom"}};switch(this.chart.chartOption&&Object.assign(d,this.chart.chartOption),this.chart.type){case dt.Line:this.plot=new gx(this.chart.code,Object.assign(d,{seriesField:c}));break;case dt.StepLine:this.plot=new gx(this.chart.code,Object.assign(d,{seriesField:c,stepType:"vh"}));break;case dt.Bar:this.plot=new ix(this.chart.code,Object.assign(d,{seriesField:c}));break;case dt.PercentStackedBar:this.plot=new ix(this.chart.code,Object.assign(d,{stackField:c,isPercent:!0,isStack:!0}));break;case dt.Waterfall:this.plot=new Lz(this.chart.code,Object.assign(d,{legend:!1,label:{style:{fontSize:10},layout:[{type:"interval-adjust-position"}]}}));break;case dt.Column:this.plot=new ax(this.chart.code,Object.assign(d,{isGroup:!0,seriesField:c}));break;case dt.StackedColumn:this.plot=new ax(this.chart.code,Object.assign(d,{isStack:!0,seriesField:c,slider:{}}));break;case dt.Area:this.plot=new q1(this.chart.code,Object.assign(d,{seriesField:c}));break;case dt.PercentageArea:this.plot=new q1(this.chart.code,Object.assign(d,{seriesField:c,isPercent:!0}));break;case dt.Pie:this.plot=new yx(this.chart.code,Object.assign(d,{angleField:l,colorField:i}));break;case dt.Ring:this.plot=new yx(this.chart.code,Object.assign(d,{angleField:l,colorField:i,innerRadius:.6,radius:1}));break;case dt.Rose:this.plot=new VB(this.chart.code,Object.assign(d,{seriesField:c,isGroup:!!c,radius:.9,label:{offset:-15},interactions:[{type:"element-active"}]}));break;case dt.Funnel:this.plot=new hx(this.chart.code,Object.assign(d,{seriesField:c,appendPadding:[12,38],shape:"pyramid"}));break;case dt.Radar:this.plot=new bA(this.chart.code,Object.assign(d,{seriesField:c,point:{size:2},xAxis:{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}},yAxis:{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}},alternateColor:"rgba(0, 0, 0, 0.04)"}},area:{}}));break;case dt.Scatter:this.plot=new n0(this.chart.code,Object.assign(d,{colorField:c,shape:"circle",brush:{enabled:!0},yAxis:{nice:!0,line:{style:{stroke:"#aaa"}}},xAxis:{line:{style:{stroke:"#aaa"}}}}));break;case dt.Bubble:this.plot=new n0(this.chart.code,Object.assign(d,{colorField:c,sizeField:f,size:[3,36],shape:"circle",brush:{enabled:!0}}));break;case dt.WordCloud:this.plot=new sN(this.chart.code,Object.assign(d,{wordField:i,weightField:l,colorField:c,wordStyle:{}}));break;case dt.Sankey:this.plot=new VA(this.chart.code,Object.assign(d,{sourceField:i,weightField:l,targetField:c,nodeDraggable:!0,nodeWidthRatio:.008,nodePaddingRatio:.03}));break;case dt.Chord:this.plot=new Qb(this.chart.code,Object.assign(d,{sourceField:i,weightField:l,targetField:c}));break;case dt.RadialBar:this.plot=new Zx(this.chart.code,Object.assign(d,{colorField:c,isStack:!0,maxAngle:270}))}this.plot&&this.plot.render()}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(C.SBq),C.Y36(Rt),C.Y36(Ht),C.Y36($.dD))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-chart"]],viewQuery:function(t,n){if(1&t&&C.Gf(IN,5),2&t){let i;C.iGM(i=C.CRH())&&(n.chartTable=i.first)}},inputs:{chart:"chart",bi:"bi"},outputs:{buildDimParam:"buildDimParam"},decls:6,vars:8,consts:[[3,"nzSpinning"],["nzSize","small",2,"margin-bottom","12px",3,"nzTitle","nzBodyStyle","nzHoverable","nzExtra"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["extraTemplate",""],[2,"width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center",3,"id","ngStyle"],["nz-icon","","nzType","pie-chart","nzTheme","twotone",2,"font-size","36px"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"url"],[2,"overflow","auto",3,"ngStyle"],["chartTable",""],[2,"padding","12px","text-align","center"],[3,"sg-container"],[4,"ngFor","ngForOf"],[2,"margin-bottom","16px",3,"nzValue","nzTitle","nzValueStyle"],[2,"width","100%",3,"id","ngStyle"],["nz-icon","","nzType","reload",3,"click"],["nz-icon","","nzType","download",3,"click"],["nzType","vertical"]],template:function(t,n){if(1&t&&(C.TgZ(0,"nz-spin",0)(1,"nz-card",1),C.YNc(2,ON,3,4,"ng-container",2),C.YNc(3,zN,5,4,"ng-container",3),C.qZA(),C.YNc(4,HN,2,1,"ng-template",null,4,C.W1O),C.qZA()),2&t){const i=C.MAs(5);C.Q6J("nzSpinning",n.chart.loading),C.xp6(1),C.Q6J("nzTitle",n.chart.name)("nzBodyStyle",C.DdM(7,GN))("nzHoverable",!0)("nzExtra",i),C.xp6(1),C.Q6J("ngIf",!n.ready),C.xp6(1),C.Q6J("ngIf",n.ready)}},dependencies:[Ct.sg,Ct.O5,Ct.PC,Ct.RF,Ct.n9,Ct.ED,mt.w,q.Ls,Jt.W,at.bd,Tt.g,lN.M,RP,u9,TN,LN],styles:["@media (min-width: 1600px){[_nghost-%COMP%]     .ant-col-xxl-2{width:16.6666666%!important}}"]}),e})();const WN=["st"],UN=["biChart"],XN=function(){return{rows:10}};function VN(e,r){1&e&&C._UZ(0,"nz-skeleton",4),2&e&&C.Q6J("nzActive",!0)("nzTitle",!0)("nzParagraph",C.DdM(3,XN))}function $N(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"button",10),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2);return C.KtG(i.exportBiData())}),C._UZ(2,"i",11),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("nzLoading",t.downloading)("disabled",!t.biTable.data||t.biTable.data.length<=0),C.xp6(2),C.hij("",C.lcZ(4,3,"table.download")," ")}}function ZN(e,r){1&e&&C._UZ(0,"nz-divider",16)}function qN(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"div",20)(1,"label",21),C.NdJ("ngModelChange",function(i){C.CHM(t);const l=C.oxw().$implicit;return C.KtG(l.show=i)})("ngModelChange",function(){C.CHM(t);const i=C.oxw(5);return C.KtG(i.st.resetColumns())}),C._uU(2),C.qZA()()}if(2&e){const t=C.oxw().$implicit;C.xp6(1),C.Q6J("ngModel",t.show),C.xp6(1),C.Oqu(t.title)}}function KN(e,r){if(1&e&&(C.ynx(0),C.YNc(1,qN,3,2,"div",19),C.BQk()),2&e){const t=r.$implicit;C.xp6(1),C.Q6J("ngIf",t.title&&t.index)}}function QN(e,r){if(1&e&&(C.TgZ(0,"div",17),C.YNc(1,KN,2,1,"ng-container",18),C.qZA()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("ngForOf",t.st.columns)}}function JN(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"button",12),C._UZ(2,"i",13),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.YNc(5,ZN,1,0,"nz-divider",14),C.YNc(6,QN,2,1,"ng-template",null,15,C.W1O),C.BQk()),2&e){const t=C.MAs(7),n=C.oxw(2);C.xp6(1),C.Q6J("nzPopoverContent",t),C.xp6(2),C.hij("",C.lcZ(4,3,"table.col.ctrl")," "),C.xp6(2),C.Q6J("ngIf",n.bi.dimensions.length>0)}}function jN(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"button",25),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(3);return C.KtG(i.clearCondition())}),C._UZ(1,"i",26),C._uU(2),C.ALo(3,"translate"),C.qZA()}if(2&e){const t=C.oxw(3);C.Q6J("disabled",t.querying),C.xp6(2),C.hij("",C.lcZ(3,2,"table.reset")," ")}}function tH(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.YNc(1,jN,4,4,"button",22),C.TgZ(2,"button",23),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2);return C.KtG(i.hideCondition=!i.hideCondition)}),C._UZ(3,"i",24),C.qZA(),C.BQk()}if(2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngIf",!t.hideCondition),C.xp6(2),C.Q6J("nzType",t.hideCondition?"caret-down":"caret-up")}}function eH(e,r){if(1&e){const t=C.EpF();C.TgZ(0,"nz-card",27)(1,"bi-dimension",28),C.NdJ("search",function(){C.CHM(t);const i=C.oxw(2);return C.KtG(i.query({pageIndex:1,pageSize:i.biTable.size},!0))}),C.qZA()()}if(2&e){const t=C.oxw(2);C.Q6J("nzHoverable",!0)("hidden",t.hideCondition),C.xp6(1),C.Q6J("bi",t.bi)}}function rH(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",30),C._UZ(2,"bi-chart",31,32),C.qZA(),C.BQk()),2&e){const t=r.$implicit,n=C.oxw(3);C.xp6(1),C.Q6J("nzMd",t.grid)("nzXs",24),C.xp6(1),C.Q6J("chart",t)("bi",n.bi)}}function nH(e,r){if(1&e&&(C.ynx(0),C.TgZ(1,"div",29),C.ynx(2),C.YNc(3,rH,4,4,"ng-container",18),C.BQk(),C.qZA(),C.BQk()),2&e){const t=C.oxw(2);C.xp6(3),C.Q6J("ngForOf",t.bi.charts)}}function iH(e,r){1&e&&C._UZ(0,"i",38)}function aH(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-card",33)(2,"nz-result",34)(3,"div",35)(4,"button",36),C.NdJ("click",function(){C.CHM(t);const i=C.oxw(2);return C.KtG(i.query({pageIndex:1,pageSize:i.biTable.size}))}),C._UZ(5,"i",7),C._uU(6),C.ALo(7,"translate"),C.qZA()()(),C.YNc(8,iH,1,0,"ng-template",null,37,C.W1O),C.qZA(),C.BQk()}if(2&e){const t=C.MAs(9),n=C.oxw(2);C.xp6(1),C.Q6J("nzHoverable",!0)("nzBordered",!0),C.xp6(1),C.Q6J("nzIcon",t)("nzTitle","\u8f93\u5165\u67e5\u8be2\u6761\u4ef6\uff0c\u5f00\u542f\u67e5\u8be2\u64cd\u4f5c"),C.xp6(2),C.Q6J("nzLoading",n.querying)("nzGhost",!0),C.xp6(2),C.hij("",C.lcZ(7,7,"table.query")," ")}}function oH(e,r){1&e&&(C.ynx(0),C.TgZ(1,"nz-card"),C._UZ(2,"nz-empty"),C.qZA(),C.BQk())}function sH(e,r){if(1&e&&C._uU(0),2&e){const t=C.oxw(6);C.hij("\u5171",t.biTable.total,"\u6761")}}function lH(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"nz-pagination",41),C.NdJ("nzPageSizeChange",function(i){C.CHM(t);const l=C.oxw(5);return C.KtG(l.pageSizeChange(i))})("nzPageIndexChange",function(i){C.CHM(t);const l=C.oxw(5);return C.KtG(l.pageIndexChange(i))}),C.qZA(),C.YNc(2,sH,1,1,"ng-template",null,42,C.W1O),C.BQk()}if(2&e){const t=C.MAs(3),n=C.oxw(5);C.xp6(1),C.Q6J("nzPageIndex",n.biTable.index)("nzPageSize",n.biTable.size)("nzTotal",n.biTable.total)("nzPageSizeOptions",n.biTable.page.pageSizes)("nzSize","small")("nzShowTotal",t)}}const uH=function(e){return{x:e}};function cH(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"st",39,40),C.NdJ("change",function(i){C.CHM(t);const l=C.oxw(4);return C.KtG(l.biTableChange(i))}),C.qZA(),C.YNc(3,lH,4,6,"ng-container",3),C.BQk()}if(2&e){const t=C.oxw(4);C.xp6(1),C.Q6J("columns",t.columns)("data",t.biTable.data)("loading",t.querying)("ps",t.biTable.size)("page",t.biTable.page)("scroll",C.VKq(10,uH,(t.clientWidth>768?150*t.columns.length:0)+"px"))("bordered",t.settingSrv.layout.bordered)("resizable",!0)("size","small"),C.xp6(2),C.Q6J("ngIf",t.biTable.pageType==t.pageType.backend)}}function hH(e,r){if(1&e&&(C.ynx(0),C.YNc(1,oH,3,0,"ng-container",3),C.YNc(2,cH,4,12,"ng-container",3),C.BQk()),2&e){const t=C.oxw(3);C.xp6(1),C.Q6J("ngIf",t.columns.length<=0),C.xp6(1),C.Q6J("ngIf",t.columns&&t.columns.length>0)}}function fH(e,r){if(1&e&&(C.ynx(0),C.YNc(1,hH,3,2,"ng-container",3),C.BQk()),2&e){const t=C.oxw(2);C.xp6(1),C.Q6J("ngIf",t.bi.table)}}function vH(e,r){if(1&e){const t=C.EpF();C.ynx(0),C.TgZ(1,"div",5),C.ynx(2),C.TgZ(3,"button",6),C.NdJ("click",function(){C.CHM(t);const i=C.oxw();return C.KtG(i.query({pageIndex:1,pageSize:i.biTable.size},!0))}),C._UZ(4,"i",7),C._uU(5),C.ALo(6,"translate"),C.qZA(),C.BQk(),C.YNc(7,$N,5,5,"ng-container",3),C.TgZ(8,"div",8),C.YNc(9,JN,8,5,"ng-container",3),C.YNc(10,tH,4,2,"ng-container",3),C.qZA()(),C.YNc(11,eH,2,3,"nz-card",9),C.YNc(12,nH,4,1,"ng-container",3),C.YNc(13,aH,10,9,"ng-container",3),C.YNc(14,fH,2,1,"ng-container",3),C.BQk()}if(2&e){const t=C.oxw();C.xp6(3),C.Q6J("nzLoading",t.querying),C.xp6(2),C.hij("",C.lcZ(6,9,"table.query")," "),C.xp6(2),C.Q6J("ngIf",t.bi.export),C.xp6(2),C.Q6J("ngIf",t.columns&&t.columns.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.dimensions.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.dimensions.length>0),C.xp6(1),C.Q6J("ngIf",t.bi.charts.length>0),C.xp6(1),C.Q6J("ngIf",t.haveNotNull&&t.bi.table),C.xp6(1),C.Q6J("ngIf",!t.haveNotNull)}}const dH=[{path:"",component:(()=>{class e{constructor(t,n,i,l,c,f,d){this.dataService=t,this.route=n,this.handlerService=i,this.settingSrv=l,this.appViewService=c,this.msg=f,this.modal=d,this.haveNotNull=!1,this.querying=!1,this.clientWidth=document.body.clientWidth,this.hideCondition=!1,this.pageType=Yt,this.sort={direction:null},this.biTable={index:1,size:10,total:0,page:{show:!1}},this.columns=[],this.downloading=!1}ngOnInit(){this.router$=this.route.params.subscribe(t=>{this.timer&&clearInterval(this.timer),this.name=t.name,this.biTable.data=null,this.dataService.getBiBuild(this.name).subscribe(n=>{this.bi=n,this.appViewService.setRouterViewDesc(this.bi.remark),this.bi.pageType==Yt.front&&(this.biTable.page={show:!0,front:!0,placement:"center",showSize:!0,showQuickJumper:!0}),this.biTable.size=this.bi.pageSize,this.biTable.page.pageSizes=this.bi.pageSizeOptions;for(let i of n.dimensions)if(i.type===Ut.NUMBER_RANGE&&(i.$value=[]),(0,yt.K0)(i.defaultValue)&&(i.$value=i.defaultValue),i.notNull&&(0,yt.Ft)(i.$value))return void(this.haveNotNull=!0);this.query({pageIndex:1,pageSize:this.biTable.size}),this.bi.refreshTime&&(this.timer=setInterval(()=>{this.query({pageIndex:this.biTable.index,pageSize:this.biTable.size},!0,!1)},1e3*this.bi.refreshTime))})})}query(t,n,i=!0){let l=this.handlerService.buildDimParam(this.bi);l&&(n&&this.biCharts.forEach(c=>c.update(i)),this.bi.table&&(this.querying=!0,this.biTable.index=t.pageIndex,this.dataService.getBiData(this.bi.code,t.pageIndex,t.pageSize,this.sort.column,this.sort.direction,l).subscribe(c=>{if(this.querying=!1,this.haveNotNull=!1,this.biTable.total=c.total,this.biTable.pageType=this.bi.pageType,c.columns){let f=[];for(let d of c.columns)if(d.display){let p={title:d.name,index:d.name,width:d.width,className:"text-center",iif:m=>m.show,show:!0};d.sortable&&(p.sort={key:d.name,default:this.sort.column==d.name?this.sort.direction:null}),d.type==Xt.STRING||(d.type==Xt.NUMBER?p.type="number":d.type==Xt.DATE?p.type="date":d.type==Xt.DRILL&&(p.type="link",p.click=m=>{this.modal.create({nzWrapClassName:"modal-lg",nzKeyboard:!0,nzMaskClosable:!1,nzStyle:{top:"30px"},nzTitle:d.name,nzContent:W,nzComponentParams:{drillCode:d.code,bi:this.bi,row:m},nzFooter:null})})),f.push(p)}this.columns=f,this.biTable.data=c.list}else this.biTable.data=[]})))}biTableChange(t){"sort"==t.type&&(this.sort={column:t.sort.column.indexKey},t.sort.value&&(this.sort.direction=t.sort.value),this.query({pageIndex:1,pageSize:this.biTable.size}))}pageIndexChange(t){this.query({pageIndex:t,pageSize:this.biTable.size})}pageSizeChange(t){this.biTable.size=t,this.query({pageIndex:1,pageSize:t})}clearCondition(){for(let t of this.bi.dimensions)t.$value=null,t.$viewValue=null;this.query({pageIndex:1,pageSize:this.biTable.size})}exportBiData(){let t=this.handlerService.buildDimParam(this.bi);t&&(this.downloading=!0,this.dataService.exportExcel(this.bi.id,this.bi.code,t,()=>{this.downloading=!1}))}ngOnDestroy(){this.router$.unsubscribe(),this.timer&&clearInterval(this.timer)}}return e.\u0275fac=function(t){return new(t||e)(C.Y36(Rt),C.Y36(ut.gz),C.Y36(Ht),C.Y36(oe.gb),C.Y36(J.O),C.Y36($.dD),C.Y36(K.Sf))},e.\u0275cmp=C.Xpm({type:e,selectors:[["bi-skeleton"]],viewQuery:function(t,n){if(1&t&&(C.Gf(WN,5),C.Gf(UN,5)),2&t){let i;C.iGM(i=C.CRH())&&(n.st=i.first),C.iGM(i=C.CRH())&&(n.biCharts=i)}},decls:4,vars:3,consts:[[2,"padding","16px"],[3,"nzActive","nzTitle","nzParagraph",4,"ngIf"],[3,"id"],[4,"ngIf"],[3,"nzActive","nzTitle","nzParagraph"],[2,"display","flex"],["nz-button","",1,"mb-sm",3,"nzLoading","click"],["nz-icon","","nzType","search","nzTheme","outline"],[2,"margin-left","auto"],["style","margin-bottom: 12px;margin-top: 4px","nzSize","small",3,"nzHoverable","hidden",4,"ngIf"],["nz-button","",1,"mb-sm",3,"nzLoading","disabled","click"],["nz-icon","","nzType","download","nzTheme","outline"],["nz-button","","nzType","default","nz-popover","","nzPopoverTrigger","click",1,"mb-sm","hidden-mobile",3,"nzPopoverContent"],["nz-icon","","nzType","table","nzTheme","outline"],["nzType","vertical",4,"ngIf"],["tableColumnCtrl",""],["nzType","vertical"],["nz-row","",2,"max-width","520px"],[4,"ngFor","ngForOf"],["nz-col","","nzSpan","6","style","min-width: 130px;",4,"ngIf"],["nz-col","","nzSpan","6",2,"min-width","130px"],["nz-checkbox","",2,"width","130px",3,"ngModel","ngModelChange"],["nz-button","","class","mb-sm",3,"disabled","click",4,"ngIf"],["nz-button","",1,"mb-sm",2,"padding","4px 8px",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["nz-button","",1,"mb-sm",3,"disabled","click"],["nz-icon","","nzType","sync","nzTheme","outline"],["nzSize","small",2,"margin-bottom","12px","margin-top","4px",3,"nzHoverable","hidden"],[3,"bi","search"],["nz-row","","nzGutter","12"],["nz-col","",3,"nzMd","nzXs"],[3,"chart","bi"],["biChart",""],[3,"nzHoverable","nzBordered"],[3,"nzIcon","nzTitle"],["nz-result-extra",""],["nz-button","","nzType","primary",1,"mb-sm",3,"nzLoading","nzGhost","click"],["icon",""],["nz-icon","","nzType","rocket","nzTheme","twotone"],[2,"margin-bottom","12px",3,"columns","data","loading","ps","page","scroll","bordered","resizable","size","change"],["st",""],["nzShowSizeChanger","","nzShowQuickJumper","",2,"text-align","center",3,"nzPageIndex","nzPageSize","nzTotal","nzPageSizeOptions","nzSize","nzShowTotal","nzPageSizeChange","nzPageIndexChange"],["totalTemplate",""]],template:function(t,n){1&t&&(C.TgZ(0,"div",0),C.YNc(1,VN,1,4,"nz-skeleton",1),C.TgZ(2,"div",2),C.YNc(3,vH,15,11,"ng-container",3),C.qZA()()),2&t&&(C.xp6(1),C.Q6J("ngIf",!n.bi),C.xp6(1),C.Q6J("id",n.name),C.xp6(1),C.Q6J("ngIf",n.bi))},dependencies:[Ct.sg,Ct.O5,U.JJ,U.On,ye.A5,vt.ix,mt.w,j.dQ,rt.t3,rt.SK,P.Ie,Z.lU,q.Ls,at.bd,Tt.g,kt.dE,Lt.ng,oi,zr,jo.p9,$u,YN,_v.C],styles:["[_nghost-%COMP%]     .ant-table{transition:.3s all;border-radius:0}[_nghost-%COMP%]     .ant-table:hover{border-color:#00000017;box-shadow:0 2px 8px #00000017}"]}),e})(),data:{desc:"BI",status:!0}}];let pH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({imports:[ut.Bz.forChild(dH),ut.Bz]}),e})();var gH=ct(635),yH=ct(9002);let mH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=C.oAB({type:e}),e.\u0275inj=C.cJS({providers:[Rt],imports:[Ct.ez,pH,gH.m,Ol,jo.Xo,hN,bN,Mh,yH.YS]}),e})()},4943:(rr,be,ct)=>{"use strict";function ae(nt,Et,te){nt.prototype=Et.prototype=te,te.constructor=nt}function Nt(nt,Et){var te=Object.create(nt.prototype);for(var he in Et)te[he]=Et[he];return te}function ve(){}ct.d(be,{ZP:()=>yt,B8:()=>At});var Qt=1/.7,zt="\\s*([+-]?\\d+)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vt=/^#([0-9a-f]{3,8})$/,se=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),ne=new RegExp("^rgb\\("+[Mt,Mt,Mt]+"\\)$"),me=new RegExp("^rgba\\("+[zt,zt,zt,Bt]+"\\)$"),Dt=new RegExp("^rgba\\("+[Mt,Mt,Mt,Bt]+"\\)$"),Ct=new RegExp("^hsl\\("+[Bt,Mt,Mt]+"\\)$"),ut=new RegExp("^hsla\\("+[Bt,Mt,Mt,Bt]+"\\)$"),dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function Xt(){return this.rgb().formatRgb()}function yt(nt){var Et,te;return nt=(nt+"").trim().toLowerCase(),(Et=Vt.exec(nt))?(te=Et[1].length,Et=parseInt(Et[1],16),6===te?$(Et):3===te?new Kt(Et>>8&15|Et>>4&240,Et>>4&15|240&Et,(15&Et)<<4|15&Et,1):8===te?C(Et>>24&255,Et>>16&255,Et>>8&255,(255&Et)/255):4===te?C(Et>>12&15|Et>>8&240,Et>>8&15|Et>>4&240,Et>>4&15|240&Et,((15&Et)<<4|15&Et)/255):null):(Et=se.exec(nt))?new Kt(Et[1],Et[2],Et[3],1):(Et=ne.exec(nt))?new Kt(255*Et[1]/100,255*Et[2]/100,255*Et[3]/100,1):(Et=me.exec(nt))?C(Et[1],Et[2],Et[3],Et[4]):(Et=Dt.exec(nt))?C(255*Et[1]/100,255*Et[2]/100,255*Et[3]/100,Et[4]):(Et=Ct.exec(nt))?ye(Et[1],Et[2]/100,Et[3]/100,1):(Et=ut.exec(nt))?ye(Et[1],Et[2]/100,Et[3]/100,Et[4]):dt.hasOwnProperty(nt)?$(dt[nt]):"transparent"===nt?new Kt(NaN,NaN,NaN,0):null}function $(nt){return new Kt(nt>>16&255,nt>>8&255,255&nt,1)}function C(nt,Et,te,he){return he<=0&&(nt=Et=te=NaN),new Kt(nt,Et,te,he)}function At(nt,Et,te,he){return 1===arguments.length?function gt(nt){return nt instanceof ve||(nt=yt(nt)),nt?new Kt((nt=nt.rgb()).r,nt.g,nt.b,nt.opacity):new Kt}(nt):new Kt(nt,Et,te,he??1)}function Kt(nt,Et,te,he){this.r=+nt,this.g=+Et,this.b=+te,this.opacity=+he}function oe(){return"#"+Ht(this.r)+Ht(this.g)+Ht(this.b)}function Rt(){var nt=this.opacity;return(1===(nt=isNaN(nt)?1:Math.max(0,Math.min(1,nt)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===nt?")":", "+nt+")")}function Ht(nt){return((nt=Math.max(0,Math.min(255,Math.round(nt)||0)))<16?"0":"")+nt.toString(16)}function ye(nt,Et,te,he){return he<=0?nt=Et=te=NaN:te<=0||te>=1?nt=Et=NaN:Et<=0&&(nt=NaN),new kt(nt,Et,te,he)}function qt(nt){if(nt instanceof kt)return new kt(nt.h,nt.s,nt.l,nt.opacity);if(nt instanceof ve||(nt=yt(nt)),!nt)return new kt;if(nt instanceof kt)return nt;var Et=(nt=nt.rgb()).r/255,te=nt.g/255,he=nt.b/255,Fe=Math.min(Et,te,he),W=Math.max(Et,te,he),K=NaN,J=W-Fe,U=(W+Fe)/2;return J?(K=Et===W?(te-he)/J+6*(te<he):te===W?(he-Et)/J+2:(Et-te)/J+4,J/=U<.5?W+Fe:2-W-Fe,K*=60):J=U>0&&U<1?0:K,new kt(K,J,U,nt.opacity)}function kt(nt,Et,te,he){this.h=+nt,this.s=+Et,this.l=+te,this.opacity=+he}function Q(nt,Et,te){return 255*(nt<60?Et+(te-Et)*nt/60:nt<180?te:nt<240?Et+(te-Et)*(240-nt)/60:Et)}ae(ve,yt,{copy:function(nt){return Object.assign(new this.constructor,this,nt)},displayable:function(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHsl:function Ut(){return qt(this).formatHsl()},formatRgb:Xt,toString:Xt}),ae(Kt,At,Nt(ve,{brighter:function(nt){return nt=null==nt?Qt:Math.pow(Qt,nt),new Kt(this.r*nt,this.g*nt,this.b*nt,this.opacity)},darker:function(nt){return nt=null==nt?.7:Math.pow(.7,nt),new Kt(this.r*nt,this.g*nt,this.b*nt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oe,formatHex:oe,formatRgb:Rt,toString:Rt})),ae(kt,function Jt(nt,Et,te,he){return 1===arguments.length?qt(nt):new kt(nt,Et,te,he??1)},Nt(ve,{brighter:function(nt){return nt=null==nt?Qt:Math.pow(Qt,nt),new kt(this.h,this.s,this.l*nt,this.opacity)},darker:function(nt){return nt=null==nt?.7:Math.pow(.7,nt),new kt(this.h,this.s,this.l*nt,this.opacity)},rgb:function(){var nt=this.h%360+360*(this.h<0),Et=isNaN(nt)||isNaN(this.s)?0:this.s,te=this.l,he=te+(te<.5?te:1-te)*Et,Fe=2*te-he;return new Kt(Q(nt>=240?nt-240:nt+120,Fe,he),Q(nt,Fe,he),Q(nt<120?nt+240:nt-120,Fe,he),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var nt=this.opacity;return(1===(nt=isNaN(nt)?1:Math.max(0,Math.min(1,nt)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===nt?")":", "+nt+")")}}))},6399:(rr,be,ct)=>{"use strict";function ae(P){return+P}function Nt(P){return P*P}function ve(P){return P*(2-P)}function Zt(P){return((P*=2)<=1?P*P:--P*(2-P)+1)/2}function Qt(P){return P*P*P}function zt(P){return--P*P*P+1}function Bt(P){return((P*=2)<=1?P*P*P:(P-=2)*P*P+2)/2}ct.r(be),ct.d(be,{easeBack:()=>K,easeBackIn:()=>Fe,easeBackInOut:()=>K,easeBackOut:()=>W,easeBounce:()=>Et,easeBounceIn:()=>nt,easeBounceInOut:()=>te,easeBounceOut:()=>Et,easeCircle:()=>gt,easeCircleIn:()=>$,easeCircleInOut:()=>gt,easeCircleOut:()=>C,easeCubic:()=>Bt,easeCubicIn:()=>Qt,easeCubicInOut:()=>Bt,easeCubicOut:()=>zt,easeElastic:()=>j,easeElasticIn:()=>mt,easeElasticInOut:()=>rt,easeElasticOut:()=>j,easeExp:()=>yt,easeExpIn:()=>Ut,easeExpInOut:()=>yt,easeExpOut:()=>Xt,easeLinear:()=>ae,easePoly:()=>ne,easePolyIn:()=>Vt,easePolyInOut:()=>ne,easePolyOut:()=>se,easeQuad:()=>Zt,easeQuadIn:()=>Nt,easeQuadInOut:()=>Zt,easeQuadOut:()=>ve,easeSin:()=>dt,easeSinIn:()=>Ct,easeSinInOut:()=>dt,easeSinOut:()=>ut});var Vt=function P(Z){function q(at){return Math.pow(at,Z)}return Z=+Z,q.exponent=P,q}(3),se=function P(Z){function q(at){return 1-Math.pow(1-at,Z)}return Z=+Z,q.exponent=P,q}(3),ne=function P(Z){function q(at){return((at*=2)<=1?Math.pow(at,Z):2-Math.pow(2-at,Z))/2}return Z=+Z,q.exponent=P,q}(3),me=Math.PI,Dt=me/2;function Ct(P){return 1==+P?1:1-Math.cos(P*Dt)}function ut(P){return Math.sin(P*Dt)}function dt(P){return(1-Math.cos(me*P))/2}function Yt(P){return 1.0009775171065494*(Math.pow(2,-10*P)-.0009765625)}function Ut(P){return Yt(1-+P)}function Xt(P){return 1-Yt(P)}function yt(P){return((P*=2)<=1?Yt(1-P):2-Yt(P-1))/2}function $(P){return 1-Math.sqrt(1-P*P)}function C(P){return Math.sqrt(1- --P*P)}function gt(P){return((P*=2)<=1?1-Math.sqrt(1-P*P):Math.sqrt(1-(P-=2)*P)+1)/2}var At=4/11,Kt=6/11,oe=8/11,Rt=3/4,Ht=9/11,ye=10/11,qt=15/16,Jt=21/22,kt=63/64,Q=1/At/At;function nt(P){return 1-Et(1-P)}function Et(P){return(P=+P)<At?Q*P*P:P<oe?Q*(P-=Kt)*P+Rt:P<ye?Q*(P-=Ht)*P+qt:Q*(P-=Jt)*P+kt}function te(P){return((P*=2)<=1?1-Et(1-P):Et(P-1)+1)/2}var he=1.70158,Fe=function P(Z){function q(at){return(at=+at)*at*(Z*(at-1)+at)}return Z=+Z,q.overshoot=P,q}(he),W=function P(Z){function q(at){return--at*at*((at+1)*Z+at)+1}return Z=+Z,q.overshoot=P,q}(he),K=function P(Z){function q(at){return((at*=2)<1?at*at*((Z+1)*at-Z):(at-=2)*at*((Z+1)*at+Z)+2)/2}return Z=+Z,q.overshoot=P,q}(he),J=2*Math.PI,mt=function P(Z,q){var at=Math.asin(1/(Z=Math.max(1,Z)))*(q/=J);function Tt(Lt){return Z*Yt(- --Lt)*Math.sin((at-Lt)/q)}return Tt.amplitude=function(Lt){return P(Lt,q*J)},Tt.period=function(Lt){return P(Z,Lt)},Tt}(1,.3),j=function P(Z,q){var at=Math.asin(1/(Z=Math.max(1,Z)))*(q/=J);function Tt(Lt){return 1-Z*Yt(Lt=+Lt)*Math.sin((Lt+at)/q)}return Tt.amplitude=function(Lt){return P(Lt,q*J)},Tt.period=function(Lt){return P(Z,Lt)},Tt}(1,.3),rt=function P(Z,q){var at=Math.asin(1/(Z=Math.max(1,Z)))*(q/=J);function Tt(Lt){return((Lt=2*Lt-1)<0?Z*Yt(-Lt)*Math.sin((at-Lt)/q):2-Z*Yt(Lt)*Math.sin((at+Lt)/q))/2}return Tt.amplitude=function(Lt){return P(Lt,q*J)},Tt.period=function(Lt){return P(Z,Lt)},Tt}(1,.3)},5066:function(rr,be){!function(ct){"use strict";function ae(Rt,Ht){return function Nt(Rt){if(Array.isArray(Rt))return Rt}(Rt)||function ve(Rt,Ht){var ye=[],qt=!0,Jt=!1,kt=void 0;try{for(var nt,Q=Rt[Symbol.iterator]();!(qt=(nt=Q.next()).done)&&(ye.push(nt.value),!Ht||ye.length!==Ht);qt=!0);}catch(Et){Jt=!0,kt=Et}finally{try{!qt&&null!=Q.return&&Q.return()}finally{if(Jt)throw kt}}return ye}(Rt,Ht)||function Zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qt(Rt,Ht,ye,qt){Rt=Rt.filter(function(J,U){var vt=Ht(J,U),mt=ye(J,U);return null!=vt&&isFinite(vt)&&null!=mt&&isFinite(mt)}),qt&&Rt.sort(function(J,U){return Ht(J)-Ht(U)});for(var te,he,Fe,Jt=Rt.length,kt=new Float64Array(Jt),Q=new Float64Array(Jt),nt=0,Et=0,W=0;W<Jt;)kt[W]=te=+Ht(Fe=Rt[W],W,Rt),Q[W]=he=+ye(Fe,W,Rt),nt+=(te-nt)/++W,Et+=(he-Et)/W;for(var K=0;K<Jt;++K)kt[K]-=nt,Q[K]-=Et;return[kt,Q,nt,Et]}function zt(Rt,Ht,ye,qt){for(var Jt=0,kt=0,Q=Rt.length;kt<Q;kt++){var nt=Rt[kt],Et=+Ht(nt,kt,Rt),te=+ye(nt,kt,Rt);null!=Et&&isFinite(Et)&&null!=te&&isFinite(te)&&qt(Et,te,Jt++)}}function Bt(Rt,Ht,ye,qt,Jt){var kt=0,Q=0;return zt(Rt,Ht,ye,function(nt,Et){var te=Et-Jt(nt),he=Et-qt;kt+=te*te,Q+=he*he}),1-kt/Q}function Mt(Rt){return 180*Math.atan2(Rt[1][1]-Rt[0][1],Rt[1][0]-Rt[0][0])/Math.PI}function Vt(Rt){return[(Rt[0][0]+Rt[1][0])/2,(Rt[0][1]+Rt[1][1])/2]}function se(Rt,Ht,ye){for(var qt=Math.log(Ht-Rt)*Math.LOG10E+1|0,Jt=1*Math.pow(10,-qt/2-1),Q=[Et(Rt),Et(Ht)],nt=0;te(Q)&&nt<1e4;);return Q;function Et(he){return[he,ye(he)]}function te(he){nt++;for(var Fe=he.length,W=!1,K=0;K<Fe-1;K++){var J=he[K],vt=Vt([J,he[K+1]]),mt=Et(vt[0]),j=Mt([J,vt]),rt=Mt([J,mt]);Math.abs(j-rt)>Jt&&(he.splice(K+1,0,mt),W=!0)}return W}}function ne(Rt,Ht,ye,qt){var Jt=qt-Rt*Rt,kt=Math.abs(Jt)<1e-24?0:(ye-Rt*Ht)/Jt;return[Ht-kt*Rt,kt]}function Dt(){var ye,Rt=function(kt){return kt[0]},Ht=function(kt){return kt[1]};function qt(Jt){var kt=0,Q=0,nt=0,Et=0,te=0,he=ye?+ye[0]:1/0,Fe=ye?+ye[1]:-1/0;zt(Jt,Rt,Ht,function(j,rt){++kt,Q+=(j-Q)/kt,nt+=(rt-nt)/kt,Et+=(j*rt-Et)/kt,te+=(j*j-te)/kt,ye||(j<he&&(he=j),j>Fe&&(Fe=j))});var K=ae(ne(Q,nt,Et,te),2),J=K[0],U=K[1],vt=function(rt){return U*rt+J},mt=[[he,vt(he)],[Fe,vt(Fe)]];return mt.a=U,mt.b=J,mt.predict=vt,mt.rSquared=Bt(Jt,Rt,Ht,nt,vt),mt}return qt.domain=function(Jt){return arguments.length?(ye=Jt,qt):ye},qt.x=function(Jt){return arguments.length?(Rt=Jt,qt):Rt},qt.y=function(Jt){return arguments.length?(Ht=Jt,qt):Ht},qt}function Ct(Rt){Rt.sort(function(ye,qt){return ye-qt});var Ht=Rt.length/2;return Ht%1==0?(Rt[Ht-1]+Rt[Ht])/2:Rt[Math.floor(Ht)]}var ut=2,dt=1e-12;function Ut(Rt){return(Rt=1-Rt*Rt*Rt)*Rt*Rt}function Xt(Rt,Ht,ye){var qt=Rt[Ht],Jt=ye[0],kt=ye[1]+1;if(!(kt>=Rt.length))for(;Ht>Jt&&Rt[kt]-qt<=qt-Rt[Jt];)ye[0]=++Jt,ye[1]=kt,++kt}function C(){var ye,Rt=function(kt){return kt[0]},Ht=function(kt){return kt[1]};function qt(Jt){var mt,j,rt,P,Q=ae(Qt(Jt,Rt,Ht),4),nt=Q[0],Et=Q[1],te=Q[2],he=Q[3],Fe=nt.length,W=0,K=0,J=0,U=0,vt=0;for(mt=0;mt<Fe;)j=nt[mt],rt=Et[mt++],W+=((P=j*j)-W)/mt,K+=(P*j-K)/mt,J+=(P*P-J)/mt,U+=(j*rt-U)/mt,vt+=(P*rt-vt)/mt;var Z=0,q=0,at=ye?+ye[0]:1/0,Tt=ye?+ye[1]:-1/0;zt(Jt,Rt,Ht,function(z,R){q++,Z+=(R-Z)/q,ye||(z<at&&(at=z),z>Tt&&(Tt=z))});var Lt=J-W*W,bt=W*Lt-K*K,re=(vt*W-U*K)/bt,Ce=(U*Lt-vt*K)/bt,we=-re*W,Re=function(R){return re*(R-=te)*R+Ce*R+we+he},it=se(at,Tt,Re);return it.a=re,it.b=Ce-2*re*te,it.c=we-Ce*te+re*te*te+he,it.predict=Re,it.rSquared=Bt(Jt,Rt,Ht,Z,Re),it}return qt.domain=function(Jt){return arguments.length?(ye=Jt,qt):ye},qt.x=function(Jt){return arguments.length?(Rt=Jt,qt):Rt},qt.y=function(Jt){return arguments.length?(Ht=Jt,qt):Ht},qt}ct.regressionExp=function me(){var ye,Rt=function(kt){return kt[0]},Ht=function(kt){return kt[1]};function qt(Jt){var kt=0,Q=0,nt=0,Et=0,te=0,he=0,Fe=ye?+ye[0]:1/0,W=ye?+ye[1]:-1/0;zt(Jt,Rt,Ht,function(rt,P){var Z=Math.log(P),q=rt*P;++kt,Q+=(P-Q)/kt,Et+=(q-Et)/kt,he+=(rt*q-he)/kt,nt+=(P*Z-nt)/kt,te+=(q*Z-te)/kt,ye||(rt<Fe&&(Fe=rt),rt>W&&(W=rt))});var J=ae(ne(Et/Q,nt/Q,te/Q,he/Q),2),U=J[0],vt=J[1];U=Math.exp(U);var mt=function(P){return U*Math.exp(vt*P)},j=se(Fe,W,mt);return j.a=U,j.b=vt,j.predict=mt,j.rSquared=Bt(Jt,Rt,Ht,Q,mt),j}return qt.domain=function(Jt){return arguments.length?(ye=Jt,qt):ye},qt.x=function(Jt){return arguments.length?(Rt=Jt,qt):Rt},qt.y=function(Jt){return arguments.length?(Ht=Jt,qt):Ht},qt},ct.regressionLinear=Dt,ct.regressionLoess=function Yt(){var Rt=function(kt){return kt[0]},Ht=function(kt){return kt[1]},ye=.3;function qt(Jt){for(var Q=ae(Qt(Jt,Rt,Ht,!0),4),nt=Q[0],Et=Q[1],te=Q[2],he=Q[3],Fe=nt.length,W=Math.max(2,~~(ye*Fe)),K=new Float64Array(Fe),J=new Float64Array(Fe),U=new Float64Array(Fe).fill(1),vt=-1;++vt<=ut;){for(var mt=[0,W-1],j=0;j<Fe;++j){for(var rt=nt[j],P=mt[0],Z=mt[1],at=0,Tt=0,Lt=0,bt=0,re=0,Ce=1/Math.abs(nt[rt-nt[P]>nt[Z]-rt?P:Z]-rt||1),we=P;we<=Z;++we){var Re=nt[we],it=Et[we],z=Ut(Math.abs(rt-Re)*Ce)*U[we],R=Re*z;at+=z,Tt+=R,Lt+=it*z,bt+=it*R,re+=Re*R}var V=ae(ne(Tt/at,Lt/at,bt/at,re/at),2);K[j]=V[0]+V[1]*rt,J[j]=Math.abs(Et[j]-K[j]),Xt(nt,j+1,mt)}if(vt===ut)break;var St=Ct(J);if(Math.abs(St)<dt)break;for(var ee,ie,Gt=0;Gt<Fe;++Gt)U[Gt]=(ee=J[Gt]/(6*St))>=1?dt:(ie=1-ee*ee)*ie}return function yt(Rt,Ht,ye,qt){for(var te,Jt=Rt.length,kt=[],Q=0,nt=0,Et=[];Q<Jt;++Q)Et[0]===(te=Rt[Q]+ye)?Et[1]+=(Ht[Q]-Et[1])/++nt:(nt=0,Et[1]+=qt,kt.push(Et=[te,Ht[Q]]));return Et[1]+=qt,kt}(nt,K,te,he)}return qt.bandwidth=function(Jt){return arguments.length?(ye=Jt,qt):ye},qt.x=function(Jt){return arguments.length?(Rt=Jt,qt):Rt},qt.y=function(Jt){return arguments.length?(Ht=Jt,qt):Ht},qt},ct.regressionLog=function $(){var qt,Rt=function(Q){return Q[0]},Ht=function(Q){return Q[1]},ye=Math.E;function Jt(kt){var Q=0,nt=0,Et=0,te=0,he=0,Fe=qt?+qt[0]:1/0,W=qt?+qt[1]:-1/0,K=Math.log(ye);zt(kt,Rt,Ht,function(P,Z){var q=Math.log(P)/K;++Q,nt+=(q-nt)/Q,Et+=(Z-Et)/Q,te+=(q*Z-te)/Q,he+=(q*q-he)/Q,qt||(P<Fe&&(Fe=P),P>W&&(W=P))});var U=ae(ne(nt,Et,te,he),2),vt=U[0],mt=U[1],j=function(Z){return mt*Math.log(Z)/K+vt},rt=se(Fe,W,j);return rt.a=mt,rt.b=vt,rt.predict=j,rt.rSquared=Bt(kt,Rt,Ht,Et,j),rt}return Jt.domain=function(kt){return arguments.length?(qt=kt,Jt):qt},Jt.x=function(kt){return arguments.length?(Rt=kt,Jt):Rt},Jt.y=function(kt){return arguments.length?(Ht=kt,Jt):Ht},Jt.base=function(kt){return arguments.length?(ye=kt,Jt):ye},Jt},ct.regressionPoly=function gt(){var qt,Rt=function(Q){return Q[0]},Ht=function(Q){return Q[1]},ye=3;function Jt(kt){if(1===ye){var Q=Dt().x(Rt).y(Ht).domain(qt)(kt);return Q.coefficients=[Q.b,Q.a],delete Q.a,delete Q.b,Q}if(2===ye){var nt=C().x(Rt).y(Ht).domain(qt)(kt);return nt.coefficients=[nt.c,nt.b,nt.a],delete nt.a,delete nt.b,delete nt.c,nt}var q,at,Tt,Lt,bt,te=ae(Qt(kt,Rt,Ht),4),he=te[0],Fe=te[1],W=te[2],K=te[3],J=he.length,U=[],vt=[],mt=ye+1,j=0,rt=0,P=qt?+qt[0]:1/0,Z=qt?+qt[1]:-1/0;for(zt(kt,Rt,Ht,function(Re,it){++rt,j+=(it-j)/rt,qt||(Re<P&&(P=Re),Re>Z&&(Z=Re))}),q=0;q<mt;++q){for(Tt=0,Lt=0;Tt<J;++Tt)Lt+=Math.pow(he[Tt],q)*Fe[Tt];for(U.push(Lt),bt=new Float64Array(mt),at=0;at<mt;++at){for(Tt=0,Lt=0;Tt<J;++Tt)Lt+=Math.pow(he[Tt],q+at);bt[at]=Lt}vt.push(bt)}vt.push(U);var re=function Kt(Rt){var qt,Jt,kt,Q,nt,Ht=Rt.length-1,ye=[];for(qt=0;qt<Ht;++qt){for(Q=qt,Jt=qt+1;Jt<Ht;++Jt)Math.abs(Rt[qt][Jt])>Math.abs(Rt[qt][Q])&&(Q=Jt);for(kt=qt;kt<Ht+1;++kt)nt=Rt[kt][qt],Rt[kt][qt]=Rt[kt][Q],Rt[kt][Q]=nt;for(Jt=qt+1;Jt<Ht;++Jt)for(kt=Ht;kt>=qt;kt--)Rt[kt][Jt]-=Rt[kt][qt]*Rt[qt][Jt]/Rt[qt][qt]}for(Jt=Ht-1;Jt>=0;--Jt){for(nt=0,kt=Jt+1;kt<Ht;++kt)nt+=Rt[kt][Jt]*ye[kt];ye[Jt]=(Rt[Ht][Jt]-nt)/Rt[Jt][Jt]}return ye}(vt),Ce=function(it){var z=K+re[0]+re[1]*(it-=W)+re[2]*it*it;for(q=3;q<mt;++q)z+=re[q]*Math.pow(it,q);return z},we=se(P,Z,Ce);return we.coefficients=function At(Rt,Ht,ye,qt){var kt,Q,nt,Et,Jt=Array(Rt);for(kt=0;kt<Rt;++kt)Jt[kt]=0;for(kt=Rt-1;kt>=0;--kt)for(Et=1,Jt[kt]+=nt=Ht[kt],Q=1;Q<=kt;++Q)Et*=(kt+1-Q)/Q,Jt[kt-Q]+=nt*Math.pow(ye,Q)*Et;return Jt[0]+=qt,Jt}(mt,re,-W,K),we.predict=Ce,we.rSquared=Bt(kt,Rt,Ht,j,Ce),we}return Jt.domain=function(kt){return arguments.length?(qt=kt,Jt):qt},Jt.x=function(kt){return arguments.length?(Rt=kt,Jt):Rt},Jt.y=function(kt){return arguments.length?(Ht=kt,Jt):Ht},Jt.order=function(kt){return arguments.length?(ye=kt,Jt):ye},Jt},ct.regressionPow=function oe(){var ye,Rt=function(kt){return kt[0]},Ht=function(kt){return kt[1]};function qt(Jt){var kt=0,Q=0,nt=0,Et=0,te=0,he=0,Fe=ye?+ye[0]:1/0,W=ye?+ye[1]:-1/0;zt(Jt,Rt,Ht,function(rt,P){var Z=Math.log(rt),q=Math.log(P);++kt,Q+=(Z-Q)/kt,nt+=(q-nt)/kt,Et+=(Z*q-Et)/kt,te+=(Z*Z-te)/kt,he+=(P-he)/kt,ye||(rt<Fe&&(Fe=rt),rt>W&&(W=rt))});var J=ae(ne(Q,nt,Et,te),2),U=J[0],vt=J[1];U=Math.exp(U);var mt=function(P){return U*Math.pow(P,vt)},j=se(Fe,W,mt);return j.a=U,j.b=vt,j.predict=mt,j.rSquared=Bt(Jt,Rt,Ht,he,mt),j}return qt.domain=function(Jt){return arguments.length?(ye=Jt,qt):ye},qt.x=function(Jt){return arguments.length?(Rt=Jt,qt):Rt},qt.y=function(Jt){return arguments.length?(Ht=Jt,qt):Ht},qt},ct.regressionQuad=C,Object.defineProperty(ct,"__esModule",{value:!0})}(be)},9194:(rr,be,ct)=>{"use strict";ct.d(be,{HT:()=>ut});var Qt,zt,ae=0,Nt=0,ve=0,Zt=1e3,Bt=0,Mt=0,Vt=0,se="object"==typeof performance&&performance.now?performance:Date,ne="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function($){setTimeout($,17)};function me(){return Mt||(ne(Dt),Mt=se.now()+Vt)}function Dt(){Mt=0}function Ct(){this._call=this._time=this._next=null}function ut($,C,gt){var At=new Ct;return At.restart($,C,gt),At}function Yt(){Mt=(Bt=se.now())+Vt,ae=Nt=0;try{!function dt(){me(),++ae;for(var C,$=Qt;$;)(C=Mt-$._time)>=0&&$._call.call(null,C),$=$._next;--ae}()}finally{ae=0,function Xt(){for(var $,gt,C=Qt,At=1/0;C;)C._call?(At>C._time&&(At=C._time),$=C,C=C._next):(gt=C._next,C._next=null,C=$?$._next=gt:Qt=gt);zt=$,yt(At)}(),Mt=0}}function Ut(){var $=se.now(),C=$-Bt;C>Zt&&(Vt-=C,Bt=$)}function yt($){ae||(Nt&&(Nt=clearTimeout(Nt)),$-Mt>24?($<1/0&&(Nt=setTimeout(Yt,$-se.now()-Vt)),ve&&(ve=clearInterval(ve))):(ve||(Bt=se.now(),ve=setInterval(Ut,Zt)),ae=1,ne(Yt)))}Ct.prototype=ut.prototype={constructor:Ct,restart:function($,C,gt){if("function"!=typeof $)throw new TypeError("callback is not a function");gt=(null==gt?me():+gt)+(null==C?0:+C),!this._next&&zt!==this&&(zt?zt._next=this:Qt=this,zt=this),this._call=$,this._time=gt,yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,yt())}}},2260:(rr,be,ct)=>{"use strict";ct.d(be,{qY:()=>me});var ae=function(Xt,yt,$){if($||2===arguments.length)for(var At,C=0,gt=yt.length;C<gt;C++)(At||!(C in yt))&&(At||(At=Array.prototype.slice.call(yt,0,C)),At[C]=yt[C]);return Xt.concat(At||Array.prototype.slice.call(yt))},Nt=function Xt(yt,$,C){this.name=yt,this.version=$,this.os=C,this.type="browser"},ve=function Xt(yt){this.version=yt,this.type="node",this.name="node",this.os=process.platform},Zt=function Xt(yt,$,C,gt){this.name=yt,this.version=$,this.os=C,this.bot=gt,this.type="bot-device"},Qt=function Xt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},zt=function Xt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Mt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Vt=3,se=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ne=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function me(Xt){return Xt?ut(Xt):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new zt:typeof navigator<"u"?ut(navigator.userAgent):function Yt(){return typeof process<"u"&&process.version?new ve(process.version.slice(1)):null}()}function ut(Xt){var yt=function Dt(Xt){return""!==Xt&&se.reduce(function(yt,$){var C=$[0];if(yt)return yt;var At=$[1].exec(Xt);return!!At&&[C,At]},!1)}(Xt);if(!yt)return null;var $=yt[0],C=yt[1];if("searchbot"===$)return new Qt;var gt=C[1]&&C[1].split(".").join("_").split("_").slice(0,3);gt?gt.length<Vt&&(gt=ae(ae([],gt,!0),function Ut(Xt){for(var yt=[],$=0;$<Xt;$++)yt.push("0");return yt}(Vt-gt.length),!0)):gt=[];var At=gt.join("."),Kt=function dt(Xt){for(var yt=0,$=ne.length;yt<$;yt++){var C=ne[yt],gt=C[0];if(C[1].exec(Xt))return gt}return null}(Xt),oe=Mt.exec(Xt);return oe&&oe[1]?new Zt($,At,Kt,oe[1]):new Nt($,At,Kt)}},6948:function(rr,be){!function(ct){"use strict";function Nt(Dt){for(var Ct=new Array(Dt),ut=0;ut<Dt;++ut)Ct[ut]=0;return Ct}function Zt(Dt,Ct){for(var ut=0,dt=0;dt<Dt.length;++dt)ut+=Dt[dt]*Ct[dt];return ut}function Qt(Dt){return Math.sqrt(Zt(Dt,Dt))}function zt(Dt,Ct,ut){for(var dt=0;dt<Ct.length;++dt)Dt[dt]=Ct[dt]*ut}function Bt(Dt,Ct,ut,dt,Yt){for(var Ut=0;Ut<Dt.length;++Ut)Dt[Ut]=Ct*ut[Ut]+dt*Yt[Ut]}function Vt(Dt,Ct,ut,dt,Yt,Ut,Xt){var yt=ut.fx,$=Zt(ut.fxprime,Ct),C=yt,gt=yt,At=$,Kt=0;function oe(Ht,ye,qt){for(var Jt=0;Jt<16;++Jt)if(Bt(dt.x,1,ut.x,Yt=(Ht+ye)/2,Ct),C=dt.fx=Dt(dt.x,dt.fxprime),At=Zt(dt.fxprime,Ct),C>yt+Ut*Yt*$||C>=qt)ye=Yt;else{if(Math.abs(At)<=-Xt*$)return Yt;At*(ye-Ht)>=0&&(ye=Ht),Ht=Yt,qt=C}return 0}Yt=Yt||1,Ut=Ut||1e-6,Xt=Xt||.1;for(var Rt=0;Rt<10;++Rt){if(Bt(dt.x,1,ut.x,Yt,Ct),C=dt.fx=Dt(dt.x,dt.fxprime),At=Zt(dt.fxprime,Ct),C>yt+Ut*Yt*$||Rt&&C>=gt)return oe(Kt,Yt,gt);if(Math.abs(At)<=-Xt*$)return Yt;if(At>=0)return oe(Yt,Kt,C);gt=C,Kt=Yt,Yt*=2}return Yt}ct.bisect=function ae(Dt,Ct,ut,dt){var Yt=(dt=dt||{}).maxIterations||100,Ut=dt.tolerance||1e-10,Xt=Dt(Ct),yt=Dt(ut),$=ut-Ct;if(Xt*yt>0)throw"Initial bisect points must have opposite signs";if(0===Xt)return Ct;if(0===yt)return ut;for(var C=0;C<Yt;++C){var gt=Ct+($/=2),At=Dt(gt);if(At*Xt>=0&&(Ct=gt),Math.abs($)<Ut||0===At)return gt}return Ct+$},ct.nelderMead=function Mt(Dt,Ct,ut){var Kt,dt=(ut=ut||{}).maxIterations||200*Ct.length,Yt=ut.nonZeroDelta||1.05,Ut=ut.zeroDelta||.001,Xt=ut.minErrorDelta||1e-6,yt=ut.minErrorDelta||1e-5,$=void 0!==ut.rho?ut.rho:1,C=void 0!==ut.chi?ut.chi:2,gt=void 0!==ut.psi?ut.psi:-.5,At=void 0!==ut.sigma?ut.sigma:.5,oe=Ct.length,Rt=new Array(oe+1);Rt[0]=Ct,Rt[0].fx=Dt(Ct),Rt[0].id=0;for(var Ht=0;Ht<oe;++Ht){var ye=Ct.slice();ye[Ht]=ye[Ht]?ye[Ht]*Yt:Ut,Rt[Ht+1]=ye,Rt[Ht+1].fx=Dt(ye),Rt[Ht+1].id=Ht+1}function qt(J){for(var U=0;U<J.length;U++)Rt[oe][U]=J[U];Rt[oe].fx=J.fx}for(var Jt=function(J,U){return J.fx-U.fx},kt=Ct.slice(),Q=Ct.slice(),nt=Ct.slice(),Et=Ct.slice(),te=0;te<dt;++te){if(Rt.sort(Jt),ut.history){var he=Rt.map(function(J){var U=J.slice();return U.fx=J.fx,U.id=J.id,U});he.sort(function(J,U){return J.id-U.id}),ut.history.push({x:Rt[0].slice(),fx:Rt[0].fx,simplex:he})}for(Kt=0,Ht=0;Ht<oe;++Ht)Kt=Math.max(Kt,Math.abs(Rt[0][Ht]-Rt[1][Ht]));if(Math.abs(Rt[0].fx-Rt[oe].fx)<Xt&&Kt<yt)break;for(Ht=0;Ht<oe;++Ht){kt[Ht]=0;for(var Fe=0;Fe<oe;++Fe)kt[Ht]+=Rt[Fe][Ht];kt[Ht]/=oe}var W=Rt[oe];if(Bt(Q,1+$,kt,-$,W),Q.fx=Dt(Q),Q.fx<Rt[0].fx)Bt(Et,1+C,kt,-C,W),Et.fx=Dt(Et),qt(Et.fx<Q.fx?Et:Q);else if(Q.fx>=Rt[oe-1].fx){var K=!1;if(Q.fx>W.fx?(Bt(nt,1+gt,kt,-gt,W),nt.fx=Dt(nt),nt.fx<W.fx?qt(nt):K=!0):(Bt(nt,1-gt*$,kt,gt*$,W),nt.fx=Dt(nt),nt.fx<Q.fx?qt(nt):K=!0),K){if(At>=1)break;for(Ht=1;Ht<Rt.length;++Ht)Bt(Rt[Ht],1-At,Rt[0],At,Rt[Ht]),Rt[Ht].fx=Dt(Rt[Ht])}}else qt(Q)}return Rt.sort(Jt),{fx:Rt[0].fx,x:Rt[0]}},ct.conjugateGradient=function se(Dt,Ct,ut){var Xt,yt,C,dt={x:Ct.slice(),fx:0,fxprime:Ct.slice()},Yt={x:Ct.slice(),fx:0,fxprime:Ct.slice()},Ut=Ct.slice(),$=1;C=(ut=ut||{}).maxIterations||20*Ct.length,dt.fx=Dt(dt.x,dt.fxprime),zt(Xt=dt.fxprime.slice(),dt.fxprime,-1);for(var gt=0;gt<C;++gt){if($=Vt(Dt,Xt,dt,Yt,$),ut.history&&ut.history.push({x:dt.x.slice(),fx:dt.fx,fxprime:dt.fxprime.slice(),alpha:$}),$){Bt(Ut,1,Yt.fxprime,-1,dt.fxprime);var At=Zt(dt.fxprime,dt.fxprime);Bt(Xt,Math.max(0,Zt(Ut,Yt.fxprime)/At),Xt,-1,Yt.fxprime),yt=dt,dt=Yt,Yt=yt}else zt(Xt,dt.fxprime,-1);if(Qt(dt.fxprime)<=1e-5)break}return ut.history&&ut.history.push({x:dt.x.slice(),fx:dt.fx,fxprime:dt.fxprime.slice(),alpha:$}),dt},ct.gradientDescent=function ne(Dt,Ct,ut){for(var dt=(ut=ut||{}).maxIterations||100*Ct.length,Yt=ut.learnRate||.001,Ut={x:Ct.slice(),fx:0,fxprime:Ct.slice()},Xt=0;Xt<dt&&(Ut.fx=Dt(Ut.x,Ut.fxprime),ut.history&&ut.history.push({x:Ut.x.slice(),fx:Ut.fx,fxprime:Ut.fxprime.slice()}),Bt(Ut.x,1,Ut.x,-Yt,Ut.fxprime),!(Qt(Ut.fxprime)<=1e-5));++Xt);return Ut},ct.gradientDescentLineSearch=function me(Dt,Ct,ut){ut=ut||{};var gt,dt={x:Ct.slice(),fx:0,fxprime:Ct.slice()},Yt={x:Ct.slice(),fx:0,fxprime:Ct.slice()},Ut=ut.maxIterations||100*Ct.length,Xt=ut.learnRate||1,yt=Ct.slice(),$=ut.c1||.001,C=ut.c2||.1,At=[];if(ut.history){var Kt=Dt;Dt=function(Rt,Ht){return At.push(Rt.slice()),Kt(Rt,Ht)}}dt.fx=Dt(dt.x,dt.fxprime);for(var oe=0;oe<Ut&&(zt(yt,dt.fxprime,-1),Xt=Vt(Dt,yt,dt,Yt,Xt,$,C),ut.history&&(ut.history.push({x:dt.x.slice(),fx:dt.fx,fxprime:dt.fxprime.slice(),functionCalls:At,learnRate:Xt,alpha:Xt}),At=[]),gt=dt,dt=Yt,Yt=gt,!(0===Xt||Qt(dt.fxprime)<1e-5));++oe);return dt},ct.zeros=Nt,ct.zerosM=function ve(Dt,Ct){return Nt(Dt).map(function(){return Nt(Ct)})},ct.norm2=Qt,ct.weightedSum=Bt,ct.scale=zt}(be)},5278:(rr,be,ct)=>{"use strict";ct.d(be,{WT:()=>Nt});var Nt=typeof Float32Array<"u"?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var Mt=0,Vt=arguments.length;Vt--;)Mt+=arguments[Vt]*arguments[Vt];return Math.sqrt(Mt)})},7543:(rr,be,ct)=>{"use strict";function Vt(Q,nt){var Et=nt[0],te=nt[1],he=nt[2],Fe=nt[3],W=nt[4],K=nt[5],J=nt[6],U=nt[7],vt=nt[8],mt=vt*W-K*U,j=-vt*Fe+K*J,rt=U*Fe-W*J,P=Et*mt+te*j+he*rt;return P?(Q[0]=mt*(P=1/P),Q[1]=(-vt*te+he*U)*P,Q[2]=(K*te-he*W)*P,Q[3]=j*P,Q[4]=(vt*Et-he*J)*P,Q[5]=(-K*Et+he*Fe)*P,Q[6]=rt*P,Q[7]=(-U*Et+te*J)*P,Q[8]=(W*Et-te*Fe)*P,Q):null}function me(Q,nt,Et){var te=nt[0],he=nt[1],Fe=nt[2],W=nt[3],K=nt[4],J=nt[5],U=nt[6],vt=nt[7],mt=nt[8],j=Et[0],rt=Et[1],P=Et[2],Z=Et[3],q=Et[4],at=Et[5],Tt=Et[6],Lt=Et[7],bt=Et[8];return Q[0]=j*te+rt*W+P*U,Q[1]=j*he+rt*K+P*vt,Q[2]=j*Fe+rt*J+P*mt,Q[3]=Z*te+q*W+at*U,Q[4]=Z*he+q*K+at*vt,Q[5]=Z*Fe+q*J+at*mt,Q[6]=Tt*te+Lt*W+bt*U,Q[7]=Tt*he+Lt*K+bt*vt,Q[8]=Tt*Fe+Lt*J+bt*mt,Q}function dt(Q,nt){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=1,Q[5]=0,Q[6]=nt[0],Q[7]=nt[1],Q[8]=1,Q}function Yt(Q,nt){var Et=Math.sin(nt),te=Math.cos(nt);return Q[0]=te,Q[1]=Et,Q[2]=0,Q[3]=-Et,Q[4]=te,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}function Ut(Q,nt){return Q[0]=nt[0],Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=nt[1],Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1,Q}ct.d(be,{Jp:()=>me,U_:()=>Vt,Us:()=>Yt,vc:()=>dt,xJ:()=>Ut})},8235:(rr,be,ct)=>{"use strict";ct.d(be,{$X:()=>Mt,AK:()=>Kt,EU:()=>nt,Fp:()=>Ct,Fv:()=>At,I6:()=>he,IH:()=>Bt,TE:()=>Ut,VV:()=>Dt,bA:()=>dt,kE:()=>yt,kK:()=>Jt,lu:()=>K});var ae=ct(5278);function Bt(P,Z,q){return P[0]=Z[0]+q[0],P[1]=Z[1]+q[1],P}function Mt(P,Z,q){return P[0]=Z[0]-q[0],P[1]=Z[1]-q[1],P}function Dt(P,Z,q){return P[0]=Math.min(Z[0],q[0]),P[1]=Math.min(Z[1],q[1]),P}function Ct(P,Z,q){return P[0]=Math.max(Z[0],q[0]),P[1]=Math.max(Z[1],q[1]),P}function dt(P,Z,q){return P[0]=Z[0]*q,P[1]=Z[1]*q,P}function Ut(P,Z){return Math.hypot(Z[0]-P[0],Z[1]-P[1])}function yt(P){return Math.hypot(P[0],P[1])}function At(P,Z){var q=Z[0],at=Z[1],Tt=q*q+at*at;return Tt>0&&(Tt=1/Math.sqrt(Tt)),P[0]=Z[0]*Tt,P[1]=Z[1]*Tt,P}function Kt(P,Z){return P[0]*Z[0]+P[1]*Z[1]}function Jt(P,Z,q){var at=Z[0],Tt=Z[1];return P[0]=q[0]*at+q[3]*Tt+q[6],P[1]=q[1]*at+q[4]*Tt+q[7],P}function nt(P,Z){var q=P[0],at=P[1],Tt=Z[0],Lt=Z[1],bt=Math.sqrt(q*q+at*at)*Math.sqrt(Tt*Tt+Lt*Lt);return Math.acos(Math.min(Math.max(bt&&(q*Tt+at*Lt)/bt,-1),1))}function he(P,Z){return P[0]===Z[0]&&P[1]===Z[1]}var K=Mt;(function Nt(){var P=new ae.WT(2);ae.WT!=Float32Array&&(P[0]=0,P[1]=0)})()},6224:rr=>{"use strict";var be=rr.exports;rr.exports.isNumber=function(ct){return"number"==typeof ct},rr.exports.findMin=function(ct){if(0===ct.length)return 1/0;for(var ae=ct[0],Nt=1;Nt<ct.length;Nt++)ae=Math.min(ae,ct[Nt]);return ae},rr.exports.findMax=function(ct){if(0===ct.length)return-1/0;for(var ae=ct[0],Nt=1;Nt<ct.length;Nt++)ae=Math.max(ae,ct[Nt]);return ae},rr.exports.findMinMulti=function(ct){for(var ae=be.findMin(ct[0]),Nt=1;Nt<ct.length;Nt++)ae=Math.min(ae,be.findMin(ct[Nt]));return ae},rr.exports.findMaxMulti=function(ct){for(var ae=be.findMax(ct[0]),Nt=1;Nt<ct.length;Nt++)ae=Math.max(ae,be.findMax(ct[Nt]));return ae},rr.exports.inside=function(ct,ae,Nt){return ct<=Nt&&Nt<=ae}},4319:(rr,be,ct)=>{"use strict";var ve=Math.log(2),Zt=rr.exports,Qt=ct(6224);function zt(Mt){return 1-Math.abs(Mt)}rr.exports.getUnifiedMinMax=function(Mt,Vt){return Zt.getUnifiedMinMaxMulti([Mt],Vt)},rr.exports.getUnifiedMinMaxMulti=function(Mt,Vt){var se=!1,ne=!1,me=Qt.isNumber((Vt=Vt||{}).width)?Vt.width:2,Dt=Qt.isNumber(Vt.size)?Vt.size:50,Ct=Qt.isNumber(Vt.min)?Vt.min:(se=!0,Qt.findMinMulti(Mt)),ut=Qt.isNumber(Vt.max)?Vt.max:(ne=!0,Qt.findMaxMulti(Mt)),Yt=(ut-Ct)/(Dt-1);return se&&(Ct-=2*me*Yt),ne&&(ut+=2*me*Yt),{min:Ct,max:ut}},rr.exports.create=function(Mt,Vt){if(!Mt||0===Mt.length)return[];var se=Qt.isNumber((Vt=Vt||{}).size)?Vt.size:50,ne=Qt.isNumber(Vt.width)?Vt.width:2,me=Zt.getUnifiedMinMax(Mt,{size:se,width:ne,min:Vt.min,max:Vt.max}),Dt=me.min,ut=me.max-Dt,dt=ut/(se-1);if(0===ut)return[{x:Dt,y:1}];for(var Yt=[],Ut=0;Ut<se;Ut++)Yt.push({x:Dt+Ut*dt,y:0});var yt=function Bt(Mt,Vt){for(var se={},ne=0,me=-Vt;me<=Vt;me++)ne+=Mt(me/Vt),se[me]=ne;return se}(zt,ne),$=yt[ne],C=yt[ne-1]-yt[ne-2],gt=0;Mt.forEach(function(Rt){var Ht=function(Rt){return Math.floor((Rt-Dt)/dt)}(Rt);if(!(Ht+ne<0||Ht-ne>=Yt.length)){var ye=Math.max(Ht-ne,0),qt=Ht,Jt=Math.min(Ht+ne,Yt.length-1),kt=ye-(Ht-ne),te=$/($-(yt[-ne-1+kt]||0)-(yt[-ne-1+(Ht+ne-Jt)]||0));kt>0&&(gt+=te*(kt-1)*C);var he=Math.max(0,Ht-ne+1);Qt.inside(0,Yt.length-1,he)&&(Yt[he].y+=1*te*C),Qt.inside(0,Yt.length-1,qt+1)&&(Yt[qt+1].y-=2*te*C),Qt.inside(0,Yt.length-1,Jt+1)&&(Yt[Jt+1].y+=1*te*C)}});var At=gt,Kt=0,oe=0;return Yt.forEach(function(Rt){Rt.y=At+=Kt+=Rt.y,oe+=At}),oe>0&&Yt.forEach(function(Rt){Rt.y/=oe}),Yt},rr.exports.getExpectedValueFromPdf=function(Mt){if(Mt&&0!==Mt.length){var Vt=0;return Mt.forEach(function(se){Vt+=se.x*se.y}),Vt}},rr.exports.getXWithLeftTailArea=function(Mt,Vt){if(Mt&&0!==Mt.length){for(var se=0,ne=0,me=0;me<Mt.length&&(ne=me,!((se+=Mt[me].y)>=Vt));me++);return Mt[ne].x}},rr.exports.getPerplexity=function(Mt){if(Mt&&0!==Mt.length){var Vt=0;return Mt.forEach(function(se){var ne=Math.log(se.y);isFinite(ne)&&(Vt+=se.y*ne)}),Vt=-Vt/ve,Math.pow(2,Vt)}}},8836:(rr,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.SensorTabIndex=be.SensorClassName=be.SizeSensorId=void 0,be.SizeSensorId="size-sensor-id",be.SensorClassName="size-sensor-object",be.SensorTabIndex="-1"},1920:(rr,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0,be.default=function(Nt){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,Zt=null;return function(){for(var Qt=this,zt=arguments.length,Bt=new Array(zt),Mt=0;Mt<zt;Mt++)Bt[Mt]=arguments[Mt];clearTimeout(Zt),Zt=setTimeout(function(){Nt.apply(Qt,Bt)},ve)}}},595:(rr,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var ct=1;be.default=function(){return"".concat(ct++)}},1909:(rr,be,ct)=>{"use strict";be.ak=void 0;var Nt=ct(53);be.ak=function(Bt,Mt){var Vt=(0,Nt.getSensor)(Bt);return Vt.bind(Mt),function(){Vt.unbind(Mt)}}},53:(rr,be,ct)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.removeSensor=be.getSensor=void 0;var ae=function Zt(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}}(ct(595)),Nt=ct(627),ve=ct(8836),Qt={};be.getSensor=function(Vt){var se=Vt.getAttribute(ve.SizeSensorId);if(se&&Qt[se])return Qt[se];var ne=(0,ae.default)();Vt.setAttribute(ve.SizeSensorId,ne);var me=(0,Nt.createSensor)(Vt);return Qt[ne]=me,me},be.removeSensor=function(Vt){var se=Vt.element.getAttribute(ve.SizeSensorId);Vt.element.removeAttribute(ve.SizeSensorId),Vt.destroy(),se&&Qt[se]&&delete Qt[se]}},627:(rr,be,ct)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.createSensor=void 0;var ae=ct(1463),Nt=ct(4534),ve=typeof ResizeObserver<"u"?Nt.createSensor:ae.createSensor;be.createSensor=ve},1463:(rr,be,ct)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.createSensor=void 0;var ae=function ve(Qt){return Qt&&Qt.__esModule?Qt:{default:Qt}}(ct(1920)),Nt=ct(8836);be.createSensor=function(zt){var Bt=void 0,Mt=[],se=(0,ae.default)(function(){Mt.forEach(function(Ct){Ct(zt)})}),me=function(){Bt&&Bt.parentNode&&(Bt.contentDocument&&Bt.contentDocument.defaultView.removeEventListener("resize",se),Bt.parentNode.removeChild(Bt),Bt=void 0,Mt=[])};return{element:zt,bind:function(ut){Bt||(Bt=function(){"static"===getComputedStyle(zt).position&&(zt.style.position="relative");var ut=document.createElement("object");return ut.onload=function(){ut.contentDocument.defaultView.addEventListener("resize",se),se()},ut.style.display="block",ut.style.position="absolute",ut.style.top="0",ut.style.left="0",ut.style.height="100%",ut.style.width="100%",ut.style.overflow="hidden",ut.style.pointerEvents="none",ut.style.zIndex="-1",ut.style.opacity="0",ut.setAttribute("class",Nt.SensorClassName),ut.setAttribute("tabindex",Nt.SensorTabIndex),ut.type="text/html",zt.appendChild(ut),ut.data="about:blank",ut}()),-1===Mt.indexOf(ut)&&Mt.push(ut)},destroy:me,unbind:function(ut){var dt=Mt.indexOf(ut);-1!==dt&&Mt.splice(dt,1),0===Mt.length&&Bt&&me()}}}},4534:(rr,be,ct)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0}),be.createSensor=void 0;var ae=function Nt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}(ct(1920));be.createSensor=function(Qt){var zt=void 0,Bt=[],Mt=(0,ae.default)(function(){Bt.forEach(function(Dt){Dt(Qt)})}),ne=function(){zt.disconnect(),Bt=[],zt=void 0};return{element:Qt,bind:function(Ct){zt||(zt=function(){var Ct=new ResizeObserver(Mt);return Ct.observe(Qt),Mt(),Ct}()),-1===Bt.indexOf(Ct)&&Bt.push(Ct)},destroy:ne,unbind:function(Ct){var ut=Bt.indexOf(Ct);-1!==ut&&Bt.splice(ut,1),0===Bt.length&&zt&&ne()}}}}}]);