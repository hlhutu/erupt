(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bcd2b64"],{"018b":function(e,t,n){"use strict";var r=n("f258"),i=n.n(r);i.a},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?l(e):i(r(e))}},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"7ca0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["DESIGN"===e.mode?n("div",[n("draggable",{staticClass:"l-drag-from",attrs:{list:e._columns,group:"form",options:{animation:300,chosenClass:"choose",sort:!0}},on:{start:function(t){e.drag=!0,e.selectFormItem=null},end:function(t){e.drag=!1}}},e._l(e._columns,(function(t,r){return n("div",{key:r,staticClass:"l-form-item",style:e.getSelectedClass(t),on:{click:function(n){return n.stopPropagation(),e.selectItem(t)}}},[n("div",{staticClass:"l-form-header"},[n("p",[t.props.required?n("span",[e._v("*")]):e._e(),e._v(e._s(t.title))]),n("div",{staticClass:"l-option"},[n("i",{staticClass:"el-icon-close",on:{click:function(t){return e.delItem(r)}}})]),n("form-design-render",{attrs:{config:t}})],1)])})),0),n("div",{staticStyle:{color:"#c0bebe","text-align":"center",width:"90%",padding:"5px"}},[e._v("☝ 拖拽控件到表格内部")])],1):n("div",[e.rowLayout?n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{size:"medium","header-cell-style":{background:"#f5f7fa",padding:"3px 0"},border:e.showBorder,data:e._value}},[n("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"50"}}),e._l(e._columns,(function(t,r){return n("el-table-column",{attrs:{"min-width":e.getMinWidth(t),prop:t.id,label:t.title},scopedSlots:e._u([{key:"default",fn:function(r){return[n("form-design-render",{class:{"valid-error":e.showError(t,e._value[r.$index][t.id])},attrs:{mode:e.mode,config:t},model:{value:e._value[r.$index][t.id],callback:function(n){e.$set(e._value[r.$index],t.id,n)},expression:"_value[scope.$index][column.id]"}})]}}],null,!0)})})),n("el-table-column",{attrs:{fixed:"right","min-width":"90",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return e.copyData(t.$index,t.row)}}},[e._v("复制")]),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return e.delRow(t.$index,t.row)}}},[e._v("删除")])]}}],null,!1,3573095417)})],2),n("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:e.addRow}},[e._v(e._s(e.placeholder))])],1):n("div",[e._l(e._value,(function(t,r){return n("el-form",{key:r,ref:"table-form-"+r,refInFor:!0,staticClass:"table-column",attrs:{rules:e.rules,model:t}},[n("div",{staticClass:"table-column-action"},[n("span",[e._v("第 "+e._s(r+1)+" 项")]),n("i",{staticClass:"el-icon-close",on:{click:function(n){return e.delRow(r,t)}}})]),e._l(e._columns,(function(r,i){return n("el-form-item",{key:"column_"+i,attrs:{prop:r.id,label:r.title}},[n("form-design-render",{attrs:{mode:e.mode,config:r},model:{value:t[r.id],callback:function(n){e.$set(t,r.id,n)},expression:"row[column.id]"}})],1)}))],2)})),n("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:e.addRow}},[e._v(e._s(e.placeholder))])],2)])])},i=[],o=(n("4160"),n("a434"),n("b0c0"),n("a9e3"),n("159b"),n("310e")),a=n.n(o),l=n("8032"),u=n("d16b"),c=n("8f73"),s={mixins:[c["a"]],name:"TableList",components:{draggable:a.a,FormDesignRender:u["a"]},props:{value:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"添加数据"},columns:{type:Array,default:function(){return[]}},showBorder:{type:Boolean,default:!0},maxSize:{type:Number,default:0},rowLayout:{type:Boolean,default:!0}},created:function(){Array.isArray(this.value)||(this._value=[])},computed:{rules:function(){var e={};return this.columns.forEach((function(t){t.props.required&&(e[t.id]=[{type:"Array"===t.valueType?"array":void 0,required:!0,message:"请填写".concat(t.title),trigger:"blur"}])})),e},_columns:{get:function(){return this.columns},set:function(e){this.columns=e}},selectFormItem:{get:function(){return this.$store.state.selectFormItem},set:function(e){this.$store.state.selectFormItem=e}}},data:function(){return{select:null,drag:!1,ValueType:l["a"]}},methods:{getMinWidth:function(e){switch(e.name){case"DateTime":return"250px";case"DateTimeRange":return"280px";case"MultipleSelect":return"200px";default:return"150px"}},showError:function(e,t){if(e.props.required)switch(e.valueType){case l["a"].dept:case l["a"].user:case l["a"].dateRange:case l["a"].array:return!(Array.isArray(t)&&t.length>0);default:return!this.$isNotEmpty(t)}return!1},copyData:function(e,t){this._value.push(this.$deepCopy(t))},delRow:function(e,t){this._value.splice(e,1)},addRow:function(){var e=this;if(this.maxSize>0&&this._value.length>=this.maxSize)this.$message.warning("最多只能添加".concat(this.maxSize,"行"));else{var t={};this.columns.forEach((function(n){return e.$set(t,n.id,void 0)})),this._value.push(t),this.$set(this,"_value",this._value)}},delItem:function(e){this._columns.splice(e,1)},selectItem:function(e){this.selectFormItem=e},getSelectedClass:function(e){return this.selectFormItem&&this.selectFormItem.id===e.id?"border-left: 4px solid #f56c6c":""},validate:function(e){var t=this;if(this.rowLayout){for(var n=!0,r=0;r<this.columns.length;r++)if(this.columns[r].props.required)for(var i=0;i<this._value.length;i++)if(n=!this.showError(this.columns[r],this._value[i][this.columns[r].id]),!n)return void e(!1);e(n)}else{var o=0;this._value.forEach((function(e,n){var r=t.$refs["table-form-".concat(n)];r&&Array.isArray(r)&&r.length>0&&r[0].validate((function(e){e&&o++}))})),o===this._value.length?e(!0):e(!1)}}}},f=s,d=(n("018b"),n("2877")),p=Object(d["a"])(f,r,i,!1,null,"4ac03114",null);t["default"]=p.exports},8032:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={string:"String",object:"Object",array:"Array",number:"Number",date:"Date",user:"User",dept:"Dept",role:"Role",dateRange:"DateRange"},i=[{name:"布局",components:[{title:"分栏布局",name:"SpanLayout",icon:"el-icon-c-scale-to-original",value:[],valueType:r.array,props:{items:[]}}]},{name:"基础组件",components:[{title:"单行文本输入",name:"TextInput",icon:"el-icon-edit",value:"",valueType:r.string,props:{required:!1,enablePrint:!0}},{title:"多行文本输入",name:"TextareaInput",icon:"el-icon-more-outline",value:"",valueType:r.string,props:{required:!1,enablePrint:!0}},{title:"数字输入框",name:"NumberInput",icon:"el-icon-edit-outline",value:"",valueType:r.number,props:{required:!1,enablePrint:!0}},{title:"金额输入框",name:"AmountInput",icon:"iconfont icon-zhufangbutiezhanghu",value:"",valueType:r.number,props:{required:!1,enablePrint:!0,showChinese:!0,precision:2}},{title:"单选框",name:"SelectInput",icon:"el-icon-circle-check",value:"",valueType:r.string,props:{required:!1,enablePrint:!0,expanding:!1,options:["选项1","选项2"]}},{title:"多选框",name:"MultipleSelect",icon:"iconfont icon-duoxuankuang",value:[],valueType:r.array,props:{required:!1,enablePrint:!0,expanding:!1,options:["选项1","选项2"]}},{title:"日期时间点",name:"DateTime",icon:"el-icon-date",value:"",valueType:r.date,props:{required:!1,enablePrint:!0,format:"yyyy-MM-dd HH:mm"}},{title:"日期时间区间",name:"DateTimeRange",icon:"iconfont icon-kaoqin",valueType:r.dateRange,props:{required:!1,enablePrint:!0,placeholder:["开始时间","结束时间"],format:"yyyy-MM-dd HH:mm",showLength:!1}},{title:"上传图片",name:"ImageUpload",icon:"el-icon-picture-outline",value:[],valueType:r.array,props:{required:!1,enablePrint:!0,maxSize:5,maxNumber:10,enableZip:!0}},{title:"上传附件",name:"FileUpload",icon:"el-icon-folder-opened",value:[],valueType:r.array,props:{required:!1,enablePrint:!0,onlyRead:!1,maxSize:100,maxNumber:10,fileTypes:[]}},{title:"人员选择",name:"UserPicker",icon:"el-icon-user",value:[],valueType:r.user,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"部门选择",name:"DeptPicker",icon:"iconfont icon-map-site",value:[],valueType:r.dept,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"角色选择",name:"RolePicker",icon:"el-icon-s-custom",value:[],valueType:r.role,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"说明文字",name:"Description",icon:"el-icon-warning-outline",value:"",valueType:r.string,props:{required:!1,enablePrint:!0}}]},{name:"扩展组件",components:[{title:"明细表",name:"TableList",icon:"el-icon-tickets",value:[],valueType:r.array,props:{required:!1,enablePrint:!0,showBorder:!0,rowLayout:!0,showSummary:!1,summaryColumns:[],maxSize:0,columns:[]}}]}]},"8f73":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t["a"]={props:{mode:{type:String,default:"DESIGN"},editable:{type:Boolean,default:!0},required:{type:Boolean,default:!1}},data:function(){return{}},watch:{_value:function(e,t){this.$emit("change",e)}},computed:{_value:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{_opValue:function(e){return"object"===r(e)?e.value:e},_opLabel:function(e){return"object"===r(e)?e.label:e}}}},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),l=n("83ab"),u=n("4930"),c=n("fdbf"),s=n("d039"),f=n("5135"),d=n("e8b5"),p=n("861d"),m=n("825a"),y=n("7b0b"),v=n("fc6a"),b=n("c04e"),h=n("5c6c"),g=n("7c73"),w=n("df75"),S=n("241c"),_=n("057f"),x=n("7418"),T=n("06cf"),P=n("9bf2"),k=n("d1e7"),q=n("9112"),I=n("6eeb"),O=n("5692"),$=n("f772"),j=n("d012"),R=n("90e3"),C=n("b622"),D=n("e538"),z=n("746f"),E=n("d44e"),N=n("69f3"),F=n("b727").forEach,A=$("hidden"),L="Symbol",M="prototype",B=C("toPrimitive"),H=N.set,J=N.getterFor(L),U=Object[M],W=i.Symbol,G=o("JSON","stringify"),V=T.f,Q=P.f,Z=_.f,K=k.f,X=O("symbols"),Y=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),re=i.QObject,ie=!re||!re[M]||!re[M].findChild,oe=l&&s((function(){return 7!=g(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=V(U,t);r&&delete U[t],Q(e,t,n),r&&e!==U&&Q(U,t,r)}:Q,ae=function(e,t){var n=X[e]=g(W[M]);return H(n,{type:L,tag:e,description:t}),l||(n.description=t),n},le=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ue=function(e,t,n){e===U&&ue(Y,t,n),m(e);var r=b(t,!0);return m(n),f(X,r)?(n.enumerable?(f(e,A)&&e[A][r]&&(e[A][r]=!1),n=g(n,{enumerable:h(0,!1)})):(f(e,A)||Q(e,A,h(1,{})),e[A][r]=!0),oe(e,r,n)):Q(e,r,n)},ce=function(e,t){m(e);var n=v(t),r=w(n).concat(me(n));return F(r,(function(t){l&&!fe.call(n,t)||ue(e,t,n[t])})),e},se=function(e,t){return void 0===t?g(e):ce(g(e),t)},fe=function(e){var t=b(e,!0),n=K.call(this,t);return!(this===U&&f(X,t)&&!f(Y,t))&&(!(n||!f(this,t)||!f(X,t)||f(this,A)&&this[A][t])||n)},de=function(e,t){var n=v(e),r=b(t,!0);if(n!==U||!f(X,r)||f(Y,r)){var i=V(n,r);return!i||!f(X,r)||f(n,A)&&n[A][r]||(i.enumerable=!0),i}},pe=function(e){var t=Z(v(e)),n=[];return F(t,(function(e){f(X,e)||f(j,e)||n.push(e)})),n},me=function(e){var t=e===U,n=Z(t?Y:v(e)),r=[];return F(n,(function(e){!f(X,e)||t&&!f(U,e)||r.push(X[e])})),r};if(u||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===U&&n.call(Y,e),f(this,A)&&f(this[A],t)&&(this[A][t]=!1),oe(this,t,h(1,e))};return l&&ie&&oe(U,t,{configurable:!0,set:n}),ae(t,e)},I(W[M],"toString",(function(){return J(this).tag})),I(W,"withoutSetter",(function(e){return ae(R(e),e)})),k.f=fe,P.f=ue,T.f=de,S.f=_.f=pe,x.f=me,D.f=function(e){return ae(C(e),e)},l&&(Q(W[M],"description",{configurable:!0,get:function(){return J(this).description}}),a||I(U,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),F(w(ne),(function(e){z(e)})),r({target:L,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!le(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:se,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),r({target:"Object",stat:!0,forced:s((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(y(e))}}),G){var ye=!u||s((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));r({target:"JSON",stat:!0,forced:ye},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(p(t)||void 0!==e)&&!le(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!le(t))return t}),i[1]=t,G.apply(null,i)}})}W[M][B]||q(W[M],B,W[M].valueOf),E(W,L),j[A]=!0},d28b:function(e,t,n){var r=n("746f");r("iterator")},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),a=n("5135"),l=n("861d"),u=n("9bf2").f,c=n("e893"),s=o.Symbol;if(i&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new s(e):void 0===e?s():s(e);return""===e&&(f[t]=!0),t};c(d,s);var p=d.prototype=s.prototype;p.constructor=d;var m=p.toString,y="Symbol(test)"==String(s("test")),v=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=m.call(e);if(a(f,e))return"";var n=y?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(e,t,n){var r=n("b622");t.f=r},f258:function(e,t,n){}}]);
//# sourceMappingURL=chunk-3bcd2b64.c6ae94ec.js.map